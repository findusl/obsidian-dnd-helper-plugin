(()=>{
    var e = {
        932: e=>{
            "use strict";
            e.exports = function(e, t) {
                var n, i = String(e), r = 0;
                if ("string" != typeof t || 1 !== t.length)
                    throw new Error("Expected character");
                n = i.indexOf(t);
                for (; -1 !== n; )
                    r++,
                    n = i.indexOf(t, n + 1);
                return r
            }
        }
        ,
        5848: e=>{
            "use strict";
            e.exports = JSON.parse('{"nbsp":" ","iexcl":"¡","cent":"¢","pound":"£","curren":"¤","yen":"¥","brvbar":"¦","sect":"§","uml":"¨","copy":"©","ordf":"ª","laquo":"«","not":"¬","shy":"­","reg":"®","macr":"¯","deg":"°","plusmn":"±","sup2":"²","sup3":"³","acute":"´","micro":"µ","para":"¶","middot":"·","cedil":"¸","sup1":"¹","ordm":"º","raquo":"»","frac14":"¼","frac12":"½","frac34":"¾","iquest":"¿","Agrave":"À","Aacute":"Á","Acirc":"Â","Atilde":"Ã","Auml":"Ä","Aring":"Å","AElig":"Æ","Ccedil":"Ç","Egrave":"È","Eacute":"É","Ecirc":"Ê","Euml":"Ë","Igrave":"Ì","Iacute":"Í","Icirc":"Î","Iuml":"Ï","ETH":"Ð","Ntilde":"Ñ","Ograve":"Ò","Oacute":"Ó","Ocirc":"Ô","Otilde":"Õ","Ouml":"Ö","times":"×","Oslash":"Ø","Ugrave":"Ù","Uacute":"Ú","Ucirc":"Û","Uuml":"Ü","Yacute":"Ý","THORN":"Þ","szlig":"ß","agrave":"à","aacute":"á","acirc":"â","atilde":"ã","auml":"ä","aring":"å","aelig":"æ","ccedil":"ç","egrave":"è","eacute":"é","ecirc":"ê","euml":"ë","igrave":"ì","iacute":"í","icirc":"î","iuml":"ï","eth":"ð","ntilde":"ñ","ograve":"ò","oacute":"ó","ocirc":"ô","otilde":"õ","ouml":"ö","divide":"÷","oslash":"ø","ugrave":"ù","uacute":"ú","ucirc":"û","uuml":"ü","yacute":"ý","thorn":"þ","yuml":"ÿ","fnof":"ƒ","Alpha":"Α","Beta":"Β","Gamma":"Γ","Delta":"Δ","Epsilon":"Ε","Zeta":"Ζ","Eta":"Η","Theta":"Θ","Iota":"Ι","Kappa":"Κ","Lambda":"Λ","Mu":"Μ","Nu":"Ν","Xi":"Ξ","Omicron":"Ο","Pi":"Π","Rho":"Ρ","Sigma":"Σ","Tau":"Τ","Upsilon":"Υ","Phi":"Φ","Chi":"Χ","Psi":"Ψ","Omega":"Ω","alpha":"α","beta":"β","gamma":"γ","delta":"δ","epsilon":"ε","zeta":"ζ","eta":"η","theta":"θ","iota":"ι","kappa":"κ","lambda":"λ","mu":"μ","nu":"ν","xi":"ξ","omicron":"ο","pi":"π","rho":"ρ","sigmaf":"ς","sigma":"σ","tau":"τ","upsilon":"υ","phi":"φ","chi":"χ","psi":"ψ","omega":"ω","thetasym":"ϑ","upsih":"ϒ","piv":"ϖ","bull":"•","hellip":"…","prime":"′","Prime":"″","oline":"‾","frasl":"⁄","weierp":"℘","image":"ℑ","real":"ℜ","trade":"™","alefsym":"ℵ","larr":"←","uarr":"↑","rarr":"→","darr":"↓","harr":"↔","crarr":"↵","lArr":"⇐","uArr":"⇑","rArr":"⇒","dArr":"⇓","hArr":"⇔","forall":"∀","part":"∂","exist":"∃","empty":"∅","nabla":"∇","isin":"∈","notin":"∉","ni":"∋","prod":"∏","sum":"∑","minus":"−","lowast":"∗","radic":"√","prop":"∝","infin":"∞","ang":"∠","and":"∧","or":"∨","cap":"∩","cup":"∪","int":"∫","there4":"∴","sim":"∼","cong":"≅","asymp":"≈","ne":"≠","equiv":"≡","le":"≤","ge":"≥","sub":"⊂","sup":"⊃","nsub":"⊄","sube":"⊆","supe":"⊇","oplus":"⊕","otimes":"⊗","perp":"⊥","sdot":"⋅","lceil":"⌈","rceil":"⌉","lfloor":"⌊","rfloor":"⌋","lang":"〈","rang":"〉","loz":"◊","spades":"♠","clubs":"♣","hearts":"♥","diams":"♦","quot":"\\"","amp":"&","lt":"<","gt":">","OElig":"Œ","oelig":"œ","Scaron":"Š","scaron":"š","Yuml":"Ÿ","circ":"ˆ","tilde":"˜","ensp":" ","emsp":" ","thinsp":" ","zwnj":"‌","zwj":"‍","lrm":"‎","rlm":"‏","ndash":"–","mdash":"—","lsquo":"‘","rsquo":"’","sbquo":"‚","ldquo":"“","rdquo":"”","bdquo":"„","dagger":"†","Dagger":"‡","permil":"‰","lsaquo":"‹","rsaquo":"›","euro":"€"}')
        }
        ,
        6588: e=>{
            "use strict";
            e.exports = JSON.parse('{"AElig":"Æ","AMP":"&","Aacute":"Á","Acirc":"Â","Agrave":"À","Aring":"Å","Atilde":"Ã","Auml":"Ä","COPY":"©","Ccedil":"Ç","ETH":"Ð","Eacute":"É","Ecirc":"Ê","Egrave":"È","Euml":"Ë","GT":">","Iacute":"Í","Icirc":"Î","Igrave":"Ì","Iuml":"Ï","LT":"<","Ntilde":"Ñ","Oacute":"Ó","Ocirc":"Ô","Ograve":"Ò","Oslash":"Ø","Otilde":"Õ","Ouml":"Ö","QUOT":"\\"","REG":"®","THORN":"Þ","Uacute":"Ú","Ucirc":"Û","Ugrave":"Ù","Uuml":"Ü","Yacute":"Ý","aacute":"á","acirc":"â","acute":"´","aelig":"æ","agrave":"à","amp":"&","aring":"å","atilde":"ã","auml":"ä","brvbar":"¦","ccedil":"ç","cedil":"¸","cent":"¢","copy":"©","curren":"¤","deg":"°","divide":"÷","eacute":"é","ecirc":"ê","egrave":"è","eth":"ð","euml":"ë","frac12":"½","frac14":"¼","frac34":"¾","gt":">","iacute":"í","icirc":"î","iexcl":"¡","igrave":"ì","iquest":"¿","iuml":"ï","laquo":"«","lt":"<","macr":"¯","micro":"µ","middot":"·","nbsp":" ","not":"¬","ntilde":"ñ","oacute":"ó","ocirc":"ô","ograve":"ò","ordf":"ª","ordm":"º","oslash":"ø","otilde":"õ","ouml":"ö","para":"¶","plusmn":"±","pound":"£","quot":"\\"","raquo":"»","reg":"®","sect":"§","shy":"­","sup1":"¹","sup2":"²","sup3":"³","szlig":"ß","thorn":"þ","times":"×","uacute":"ú","ucirc":"û","ugrave":"ù","uml":"¨","uuml":"ü","yacute":"ý","yen":"¥","yuml":"ÿ"}')
        }
        ,
        3407: e=>{
            "use strict";
            e.exports = JSON.parse('{"AEli":"Æ","AElig":"Æ","AM":"&","AMP":"&","Aacut":"Á","Aacute":"Á","Abreve":"Ă","Acir":"Â","Acirc":"Â","Acy":"А","Afr":"𝔄","Agrav":"À","Agrave":"À","Alpha":"Α","Amacr":"Ā","And":"⩓","Aogon":"Ą","Aopf":"𝔸","ApplyFunction":"⁡","Arin":"Å","Aring":"Å","Ascr":"𝒜","Assign":"≔","Atild":"Ã","Atilde":"Ã","Aum":"Ä","Auml":"Ä","Backslash":"∖","Barv":"⫧","Barwed":"⌆","Bcy":"Б","Because":"∵","Bernoullis":"ℬ","Beta":"Β","Bfr":"𝔅","Bopf":"𝔹","Breve":"˘","Bscr":"ℬ","Bumpeq":"≎","CHcy":"Ч","COP":"©","COPY":"©","Cacute":"Ć","Cap":"⋒","CapitalDifferentialD":"ⅅ","Cayleys":"ℭ","Ccaron":"Č","Ccedi":"Ç","Ccedil":"Ç","Ccirc":"Ĉ","Cconint":"∰","Cdot":"Ċ","Cedilla":"¸","CenterDot":"·","Cfr":"ℭ","Chi":"Χ","CircleDot":"⊙","CircleMinus":"⊖","CirclePlus":"⊕","CircleTimes":"⊗","ClockwiseContourIntegral":"∲","CloseCurlyDoubleQuote":"”","CloseCurlyQuote":"’","Colon":"∷","Colone":"⩴","Congruent":"≡","Conint":"∯","ContourIntegral":"∮","Copf":"ℂ","Coproduct":"∐","CounterClockwiseContourIntegral":"∳","Cross":"⨯","Cscr":"𝒞","Cup":"⋓","CupCap":"≍","DD":"ⅅ","DDotrahd":"⤑","DJcy":"Ђ","DScy":"Ѕ","DZcy":"Џ","Dagger":"‡","Darr":"↡","Dashv":"⫤","Dcaron":"Ď","Dcy":"Д","Del":"∇","Delta":"Δ","Dfr":"𝔇","DiacriticalAcute":"´","DiacriticalDot":"˙","DiacriticalDoubleAcute":"˝","DiacriticalGrave":"`","DiacriticalTilde":"˜","Diamond":"⋄","DifferentialD":"ⅆ","Dopf":"𝔻","Dot":"¨","DotDot":"⃜","DotEqual":"≐","DoubleContourIntegral":"∯","DoubleDot":"¨","DoubleDownArrow":"⇓","DoubleLeftArrow":"⇐","DoubleLeftRightArrow":"⇔","DoubleLeftTee":"⫤","DoubleLongLeftArrow":"⟸","DoubleLongLeftRightArrow":"⟺","DoubleLongRightArrow":"⟹","DoubleRightArrow":"⇒","DoubleRightTee":"⊨","DoubleUpArrow":"⇑","DoubleUpDownArrow":"⇕","DoubleVerticalBar":"∥","DownArrow":"↓","DownArrowBar":"⤓","DownArrowUpArrow":"⇵","DownBreve":"̑","DownLeftRightVector":"⥐","DownLeftTeeVector":"⥞","DownLeftVector":"↽","DownLeftVectorBar":"⥖","DownRightTeeVector":"⥟","DownRightVector":"⇁","DownRightVectorBar":"⥗","DownTee":"⊤","DownTeeArrow":"↧","Downarrow":"⇓","Dscr":"𝒟","Dstrok":"Đ","ENG":"Ŋ","ET":"Ð","ETH":"Ð","Eacut":"É","Eacute":"É","Ecaron":"Ě","Ecir":"Ê","Ecirc":"Ê","Ecy":"Э","Edot":"Ė","Efr":"𝔈","Egrav":"È","Egrave":"È","Element":"∈","Emacr":"Ē","EmptySmallSquare":"◻","EmptyVerySmallSquare":"▫","Eogon":"Ę","Eopf":"𝔼","Epsilon":"Ε","Equal":"⩵","EqualTilde":"≂","Equilibrium":"⇌","Escr":"ℰ","Esim":"⩳","Eta":"Η","Eum":"Ë","Euml":"Ë","Exists":"∃","ExponentialE":"ⅇ","Fcy":"Ф","Ffr":"𝔉","FilledSmallSquare":"◼","FilledVerySmallSquare":"▪","Fopf":"𝔽","ForAll":"∀","Fouriertrf":"ℱ","Fscr":"ℱ","GJcy":"Ѓ","G":">","GT":">","Gamma":"Γ","Gammad":"Ϝ","Gbreve":"Ğ","Gcedil":"Ģ","Gcirc":"Ĝ","Gcy":"Г","Gdot":"Ġ","Gfr":"𝔊","Gg":"⋙","Gopf":"𝔾","GreaterEqual":"≥","GreaterEqualLess":"⋛","GreaterFullEqual":"≧","GreaterGreater":"⪢","GreaterLess":"≷","GreaterSlantEqual":"⩾","GreaterTilde":"≳","Gscr":"𝒢","Gt":"≫","HARDcy":"Ъ","Hacek":"ˇ","Hat":"^","Hcirc":"Ĥ","Hfr":"ℌ","HilbertSpace":"ℋ","Hopf":"ℍ","HorizontalLine":"─","Hscr":"ℋ","Hstrok":"Ħ","HumpDownHump":"≎","HumpEqual":"≏","IEcy":"Е","IJlig":"Ĳ","IOcy":"Ё","Iacut":"Í","Iacute":"Í","Icir":"Î","Icirc":"Î","Icy":"И","Idot":"İ","Ifr":"ℑ","Igrav":"Ì","Igrave":"Ì","Im":"ℑ","Imacr":"Ī","ImaginaryI":"ⅈ","Implies":"⇒","Int":"∬","Integral":"∫","Intersection":"⋂","InvisibleComma":"⁣","InvisibleTimes":"⁢","Iogon":"Į","Iopf":"𝕀","Iota":"Ι","Iscr":"ℐ","Itilde":"Ĩ","Iukcy":"І","Ium":"Ï","Iuml":"Ï","Jcirc":"Ĵ","Jcy":"Й","Jfr":"𝔍","Jopf":"𝕁","Jscr":"𝒥","Jsercy":"Ј","Jukcy":"Є","KHcy":"Х","KJcy":"Ќ","Kappa":"Κ","Kcedil":"Ķ","Kcy":"К","Kfr":"𝔎","Kopf":"𝕂","Kscr":"𝒦","LJcy":"Љ","L":"<","LT":"<","Lacute":"Ĺ","Lambda":"Λ","Lang":"⟪","Laplacetrf":"ℒ","Larr":"↞","Lcaron":"Ľ","Lcedil":"Ļ","Lcy":"Л","LeftAngleBracket":"⟨","LeftArrow":"←","LeftArrowBar":"⇤","LeftArrowRightArrow":"⇆","LeftCeiling":"⌈","LeftDoubleBracket":"⟦","LeftDownTeeVector":"⥡","LeftDownVector":"⇃","LeftDownVectorBar":"⥙","LeftFloor":"⌊","LeftRightArrow":"↔","LeftRightVector":"⥎","LeftTee":"⊣","LeftTeeArrow":"↤","LeftTeeVector":"⥚","LeftTriangle":"⊲","LeftTriangleBar":"⧏","LeftTriangleEqual":"⊴","LeftUpDownVector":"⥑","LeftUpTeeVector":"⥠","LeftUpVector":"↿","LeftUpVectorBar":"⥘","LeftVector":"↼","LeftVectorBar":"⥒","Leftarrow":"⇐","Leftrightarrow":"⇔","LessEqualGreater":"⋚","LessFullEqual":"≦","LessGreater":"≶","LessLess":"⪡","LessSlantEqual":"⩽","LessTilde":"≲","Lfr":"𝔏","Ll":"⋘","Lleftarrow":"⇚","Lmidot":"Ŀ","LongLeftArrow":"⟵","LongLeftRightArrow":"⟷","LongRightArrow":"⟶","Longleftarrow":"⟸","Longleftrightarrow":"⟺","Longrightarrow":"⟹","Lopf":"𝕃","LowerLeftArrow":"↙","LowerRightArrow":"↘","Lscr":"ℒ","Lsh":"↰","Lstrok":"Ł","Lt":"≪","Map":"⤅","Mcy":"М","MediumSpace":" ","Mellintrf":"ℳ","Mfr":"𝔐","MinusPlus":"∓","Mopf":"𝕄","Mscr":"ℳ","Mu":"Μ","NJcy":"Њ","Nacute":"Ń","Ncaron":"Ň","Ncedil":"Ņ","Ncy":"Н","NegativeMediumSpace":"​","NegativeThickSpace":"​","NegativeThinSpace":"​","NegativeVeryThinSpace":"​","NestedGreaterGreater":"≫","NestedLessLess":"≪","NewLine":"\\n","Nfr":"𝔑","NoBreak":"⁠","NonBreakingSpace":" ","Nopf":"ℕ","Not":"⫬","NotCongruent":"≢","NotCupCap":"≭","NotDoubleVerticalBar":"∦","NotElement":"∉","NotEqual":"≠","NotEqualTilde":"≂̸","NotExists":"∄","NotGreater":"≯","NotGreaterEqual":"≱","NotGreaterFullEqual":"≧̸","NotGreaterGreater":"≫̸","NotGreaterLess":"≹","NotGreaterSlantEqual":"⩾̸","NotGreaterTilde":"≵","NotHumpDownHump":"≎̸","NotHumpEqual":"≏̸","NotLeftTriangle":"⋪","NotLeftTriangleBar":"⧏̸","NotLeftTriangleEqual":"⋬","NotLess":"≮","NotLessEqual":"≰","NotLessGreater":"≸","NotLessLess":"≪̸","NotLessSlantEqual":"⩽̸","NotLessTilde":"≴","NotNestedGreaterGreater":"⪢̸","NotNestedLessLess":"⪡̸","NotPrecedes":"⊀","NotPrecedesEqual":"⪯̸","NotPrecedesSlantEqual":"⋠","NotReverseElement":"∌","NotRightTriangle":"⋫","NotRightTriangleBar":"⧐̸","NotRightTriangleEqual":"⋭","NotSquareSubset":"⊏̸","NotSquareSubsetEqual":"⋢","NotSquareSuperset":"⊐̸","NotSquareSupersetEqual":"⋣","NotSubset":"⊂⃒","NotSubsetEqual":"⊈","NotSucceeds":"⊁","NotSucceedsEqual":"⪰̸","NotSucceedsSlantEqual":"⋡","NotSucceedsTilde":"≿̸","NotSuperset":"⊃⃒","NotSupersetEqual":"⊉","NotTilde":"≁","NotTildeEqual":"≄","NotTildeFullEqual":"≇","NotTildeTilde":"≉","NotVerticalBar":"∤","Nscr":"𝒩","Ntild":"Ñ","Ntilde":"Ñ","Nu":"Ν","OElig":"Œ","Oacut":"Ó","Oacute":"Ó","Ocir":"Ô","Ocirc":"Ô","Ocy":"О","Odblac":"Ő","Ofr":"𝔒","Ograv":"Ò","Ograve":"Ò","Omacr":"Ō","Omega":"Ω","Omicron":"Ο","Oopf":"𝕆","OpenCurlyDoubleQuote":"“","OpenCurlyQuote":"‘","Or":"⩔","Oscr":"𝒪","Oslas":"Ø","Oslash":"Ø","Otild":"Õ","Otilde":"Õ","Otimes":"⨷","Oum":"Ö","Ouml":"Ö","OverBar":"‾","OverBrace":"⏞","OverBracket":"⎴","OverParenthesis":"⏜","PartialD":"∂","Pcy":"П","Pfr":"𝔓","Phi":"Φ","Pi":"Π","PlusMinus":"±","Poincareplane":"ℌ","Popf":"ℙ","Pr":"⪻","Precedes":"≺","PrecedesEqual":"⪯","PrecedesSlantEqual":"≼","PrecedesTilde":"≾","Prime":"″","Product":"∏","Proportion":"∷","Proportional":"∝","Pscr":"𝒫","Psi":"Ψ","QUO":"\\"","QUOT":"\\"","Qfr":"𝔔","Qopf":"ℚ","Qscr":"𝒬","RBarr":"⤐","RE":"®","REG":"®","Racute":"Ŕ","Rang":"⟫","Rarr":"↠","Rarrtl":"⤖","Rcaron":"Ř","Rcedil":"Ŗ","Rcy":"Р","Re":"ℜ","ReverseElement":"∋","ReverseEquilibrium":"⇋","ReverseUpEquilibrium":"⥯","Rfr":"ℜ","Rho":"Ρ","RightAngleBracket":"⟩","RightArrow":"→","RightArrowBar":"⇥","RightArrowLeftArrow":"⇄","RightCeiling":"⌉","RightDoubleBracket":"⟧","RightDownTeeVector":"⥝","RightDownVector":"⇂","RightDownVectorBar":"⥕","RightFloor":"⌋","RightTee":"⊢","RightTeeArrow":"↦","RightTeeVector":"⥛","RightTriangle":"⊳","RightTriangleBar":"⧐","RightTriangleEqual":"⊵","RightUpDownVector":"⥏","RightUpTeeVector":"⥜","RightUpVector":"↾","RightUpVectorBar":"⥔","RightVector":"⇀","RightVectorBar":"⥓","Rightarrow":"⇒","Ropf":"ℝ","RoundImplies":"⥰","Rrightarrow":"⇛","Rscr":"ℛ","Rsh":"↱","RuleDelayed":"⧴","SHCHcy":"Щ","SHcy":"Ш","SOFTcy":"Ь","Sacute":"Ś","Sc":"⪼","Scaron":"Š","Scedil":"Ş","Scirc":"Ŝ","Scy":"С","Sfr":"𝔖","ShortDownArrow":"↓","ShortLeftArrow":"←","ShortRightArrow":"→","ShortUpArrow":"↑","Sigma":"Σ","SmallCircle":"∘","Sopf":"𝕊","Sqrt":"√","Square":"□","SquareIntersection":"⊓","SquareSubset":"⊏","SquareSubsetEqual":"⊑","SquareSuperset":"⊐","SquareSupersetEqual":"⊒","SquareUnion":"⊔","Sscr":"𝒮","Star":"⋆","Sub":"⋐","Subset":"⋐","SubsetEqual":"⊆","Succeeds":"≻","SucceedsEqual":"⪰","SucceedsSlantEqual":"≽","SucceedsTilde":"≿","SuchThat":"∋","Sum":"∑","Sup":"⋑","Superset":"⊃","SupersetEqual":"⊇","Supset":"⋑","THOR":"Þ","THORN":"Þ","TRADE":"™","TSHcy":"Ћ","TScy":"Ц","Tab":"\\t","Tau":"Τ","Tcaron":"Ť","Tcedil":"Ţ","Tcy":"Т","Tfr":"𝔗","Therefore":"∴","Theta":"Θ","ThickSpace":"  ","ThinSpace":" ","Tilde":"∼","TildeEqual":"≃","TildeFullEqual":"≅","TildeTilde":"≈","Topf":"𝕋","TripleDot":"⃛","Tscr":"𝒯","Tstrok":"Ŧ","Uacut":"Ú","Uacute":"Ú","Uarr":"↟","Uarrocir":"⥉","Ubrcy":"Ў","Ubreve":"Ŭ","Ucir":"Û","Ucirc":"Û","Ucy":"У","Udblac":"Ű","Ufr":"𝔘","Ugrav":"Ù","Ugrave":"Ù","Umacr":"Ū","UnderBar":"_","UnderBrace":"⏟","UnderBracket":"⎵","UnderParenthesis":"⏝","Union":"⋃","UnionPlus":"⊎","Uogon":"Ų","Uopf":"𝕌","UpArrow":"↑","UpArrowBar":"⤒","UpArrowDownArrow":"⇅","UpDownArrow":"↕","UpEquilibrium":"⥮","UpTee":"⊥","UpTeeArrow":"↥","Uparrow":"⇑","Updownarrow":"⇕","UpperLeftArrow":"↖","UpperRightArrow":"↗","Upsi":"ϒ","Upsilon":"Υ","Uring":"Ů","Uscr":"𝒰","Utilde":"Ũ","Uum":"Ü","Uuml":"Ü","VDash":"⊫","Vbar":"⫫","Vcy":"В","Vdash":"⊩","Vdashl":"⫦","Vee":"⋁","Verbar":"‖","Vert":"‖","VerticalBar":"∣","VerticalLine":"|","VerticalSeparator":"❘","VerticalTilde":"≀","VeryThinSpace":" ","Vfr":"𝔙","Vopf":"𝕍","Vscr":"𝒱","Vvdash":"⊪","Wcirc":"Ŵ","Wedge":"⋀","Wfr":"𝔚","Wopf":"𝕎","Wscr":"𝒲","Xfr":"𝔛","Xi":"Ξ","Xopf":"𝕏","Xscr":"𝒳","YAcy":"Я","YIcy":"Ї","YUcy":"Ю","Yacut":"Ý","Yacute":"Ý","Ycirc":"Ŷ","Ycy":"Ы","Yfr":"𝔜","Yopf":"𝕐","Yscr":"𝒴","Yuml":"Ÿ","ZHcy":"Ж","Zacute":"Ź","Zcaron":"Ž","Zcy":"З","Zdot":"Ż","ZeroWidthSpace":"​","Zeta":"Ζ","Zfr":"ℨ","Zopf":"ℤ","Zscr":"𝒵","aacut":"á","aacute":"á","abreve":"ă","ac":"∾","acE":"∾̳","acd":"∿","acir":"â","acirc":"â","acut":"´","acute":"´","acy":"а","aeli":"æ","aelig":"æ","af":"⁡","afr":"𝔞","agrav":"à","agrave":"à","alefsym":"ℵ","aleph":"ℵ","alpha":"α","amacr":"ā","amalg":"⨿","am":"&","amp":"&","and":"∧","andand":"⩕","andd":"⩜","andslope":"⩘","andv":"⩚","ang":"∠","ange":"⦤","angle":"∠","angmsd":"∡","angmsdaa":"⦨","angmsdab":"⦩","angmsdac":"⦪","angmsdad":"⦫","angmsdae":"⦬","angmsdaf":"⦭","angmsdag":"⦮","angmsdah":"⦯","angrt":"∟","angrtvb":"⊾","angrtvbd":"⦝","angsph":"∢","angst":"Å","angzarr":"⍼","aogon":"ą","aopf":"𝕒","ap":"≈","apE":"⩰","apacir":"⩯","ape":"≊","apid":"≋","apos":"\'","approx":"≈","approxeq":"≊","arin":"å","aring":"å","ascr":"𝒶","ast":"*","asymp":"≈","asympeq":"≍","atild":"ã","atilde":"ã","aum":"ä","auml":"ä","awconint":"∳","awint":"⨑","bNot":"⫭","backcong":"≌","backepsilon":"϶","backprime":"‵","backsim":"∽","backsimeq":"⋍","barvee":"⊽","barwed":"⌅","barwedge":"⌅","bbrk":"⎵","bbrktbrk":"⎶","bcong":"≌","bcy":"б","bdquo":"„","becaus":"∵","because":"∵","bemptyv":"⦰","bepsi":"϶","bernou":"ℬ","beta":"β","beth":"ℶ","between":"≬","bfr":"𝔟","bigcap":"⋂","bigcirc":"◯","bigcup":"⋃","bigodot":"⨀","bigoplus":"⨁","bigotimes":"⨂","bigsqcup":"⨆","bigstar":"★","bigtriangledown":"▽","bigtriangleup":"△","biguplus":"⨄","bigvee":"⋁","bigwedge":"⋀","bkarow":"⤍","blacklozenge":"⧫","blacksquare":"▪","blacktriangle":"▴","blacktriangledown":"▾","blacktriangleleft":"◂","blacktriangleright":"▸","blank":"␣","blk12":"▒","blk14":"░","blk34":"▓","block":"█","bne":"=⃥","bnequiv":"≡⃥","bnot":"⌐","bopf":"𝕓","bot":"⊥","bottom":"⊥","bowtie":"⋈","boxDL":"╗","boxDR":"╔","boxDl":"╖","boxDr":"╓","boxH":"═","boxHD":"╦","boxHU":"╩","boxHd":"╤","boxHu":"╧","boxUL":"╝","boxUR":"╚","boxUl":"╜","boxUr":"╙","boxV":"║","boxVH":"╬","boxVL":"╣","boxVR":"╠","boxVh":"╫","boxVl":"╢","boxVr":"╟","boxbox":"⧉","boxdL":"╕","boxdR":"╒","boxdl":"┐","boxdr":"┌","boxh":"─","boxhD":"╥","boxhU":"╨","boxhd":"┬","boxhu":"┴","boxminus":"⊟","boxplus":"⊞","boxtimes":"⊠","boxuL":"╛","boxuR":"╘","boxul":"┘","boxur":"└","boxv":"│","boxvH":"╪","boxvL":"╡","boxvR":"╞","boxvh":"┼","boxvl":"┤","boxvr":"├","bprime":"‵","breve":"˘","brvba":"¦","brvbar":"¦","bscr":"𝒷","bsemi":"⁏","bsim":"∽","bsime":"⋍","bsol":"\\\\","bsolb":"⧅","bsolhsub":"⟈","bull":"•","bullet":"•","bump":"≎","bumpE":"⪮","bumpe":"≏","bumpeq":"≏","cacute":"ć","cap":"∩","capand":"⩄","capbrcup":"⩉","capcap":"⩋","capcup":"⩇","capdot":"⩀","caps":"∩︀","caret":"⁁","caron":"ˇ","ccaps":"⩍","ccaron":"č","ccedi":"ç","ccedil":"ç","ccirc":"ĉ","ccups":"⩌","ccupssm":"⩐","cdot":"ċ","cedi":"¸","cedil":"¸","cemptyv":"⦲","cen":"¢","cent":"¢","centerdot":"·","cfr":"𝔠","chcy":"ч","check":"✓","checkmark":"✓","chi":"χ","cir":"○","cirE":"⧃","circ":"ˆ","circeq":"≗","circlearrowleft":"↺","circlearrowright":"↻","circledR":"®","circledS":"Ⓢ","circledast":"⊛","circledcirc":"⊚","circleddash":"⊝","cire":"≗","cirfnint":"⨐","cirmid":"⫯","cirscir":"⧂","clubs":"♣","clubsuit":"♣","colon":":","colone":"≔","coloneq":"≔","comma":",","commat":"@","comp":"∁","compfn":"∘","complement":"∁","complexes":"ℂ","cong":"≅","congdot":"⩭","conint":"∮","copf":"𝕔","coprod":"∐","cop":"©","copy":"©","copysr":"℗","crarr":"↵","cross":"✗","cscr":"𝒸","csub":"⫏","csube":"⫑","csup":"⫐","csupe":"⫒","ctdot":"⋯","cudarrl":"⤸","cudarrr":"⤵","cuepr":"⋞","cuesc":"⋟","cularr":"↶","cularrp":"⤽","cup":"∪","cupbrcap":"⩈","cupcap":"⩆","cupcup":"⩊","cupdot":"⊍","cupor":"⩅","cups":"∪︀","curarr":"↷","curarrm":"⤼","curlyeqprec":"⋞","curlyeqsucc":"⋟","curlyvee":"⋎","curlywedge":"⋏","curre":"¤","curren":"¤","curvearrowleft":"↶","curvearrowright":"↷","cuvee":"⋎","cuwed":"⋏","cwconint":"∲","cwint":"∱","cylcty":"⌭","dArr":"⇓","dHar":"⥥","dagger":"†","daleth":"ℸ","darr":"↓","dash":"‐","dashv":"⊣","dbkarow":"⤏","dblac":"˝","dcaron":"ď","dcy":"д","dd":"ⅆ","ddagger":"‡","ddarr":"⇊","ddotseq":"⩷","de":"°","deg":"°","delta":"δ","demptyv":"⦱","dfisht":"⥿","dfr":"𝔡","dharl":"⇃","dharr":"⇂","diam":"⋄","diamond":"⋄","diamondsuit":"♦","diams":"♦","die":"¨","digamma":"ϝ","disin":"⋲","div":"÷","divid":"÷","divide":"÷","divideontimes":"⋇","divonx":"⋇","djcy":"ђ","dlcorn":"⌞","dlcrop":"⌍","dollar":"$","dopf":"𝕕","dot":"˙","doteq":"≐","doteqdot":"≑","dotminus":"∸","dotplus":"∔","dotsquare":"⊡","doublebarwedge":"⌆","downarrow":"↓","downdownarrows":"⇊","downharpoonleft":"⇃","downharpoonright":"⇂","drbkarow":"⤐","drcorn":"⌟","drcrop":"⌌","dscr":"𝒹","dscy":"ѕ","dsol":"⧶","dstrok":"đ","dtdot":"⋱","dtri":"▿","dtrif":"▾","duarr":"⇵","duhar":"⥯","dwangle":"⦦","dzcy":"џ","dzigrarr":"⟿","eDDot":"⩷","eDot":"≑","eacut":"é","eacute":"é","easter":"⩮","ecaron":"ě","ecir":"ê","ecirc":"ê","ecolon":"≕","ecy":"э","edot":"ė","ee":"ⅇ","efDot":"≒","efr":"𝔢","eg":"⪚","egrav":"è","egrave":"è","egs":"⪖","egsdot":"⪘","el":"⪙","elinters":"⏧","ell":"ℓ","els":"⪕","elsdot":"⪗","emacr":"ē","empty":"∅","emptyset":"∅","emptyv":"∅","emsp13":" ","emsp14":" ","emsp":" ","eng":"ŋ","ensp":" ","eogon":"ę","eopf":"𝕖","epar":"⋕","eparsl":"⧣","eplus":"⩱","epsi":"ε","epsilon":"ε","epsiv":"ϵ","eqcirc":"≖","eqcolon":"≕","eqsim":"≂","eqslantgtr":"⪖","eqslantless":"⪕","equals":"=","equest":"≟","equiv":"≡","equivDD":"⩸","eqvparsl":"⧥","erDot":"≓","erarr":"⥱","escr":"ℯ","esdot":"≐","esim":"≂","eta":"η","et":"ð","eth":"ð","eum":"ë","euml":"ë","euro":"€","excl":"!","exist":"∃","expectation":"ℰ","exponentiale":"ⅇ","fallingdotseq":"≒","fcy":"ф","female":"♀","ffilig":"ﬃ","fflig":"ﬀ","ffllig":"ﬄ","ffr":"𝔣","filig":"ﬁ","fjlig":"fj","flat":"♭","fllig":"ﬂ","fltns":"▱","fnof":"ƒ","fopf":"𝕗","forall":"∀","fork":"⋔","forkv":"⫙","fpartint":"⨍","frac1":"¼","frac12":"½","frac13":"⅓","frac14":"¼","frac15":"⅕","frac16":"⅙","frac18":"⅛","frac23":"⅔","frac25":"⅖","frac3":"¾","frac34":"¾","frac35":"⅗","frac38":"⅜","frac45":"⅘","frac56":"⅚","frac58":"⅝","frac78":"⅞","frasl":"⁄","frown":"⌢","fscr":"𝒻","gE":"≧","gEl":"⪌","gacute":"ǵ","gamma":"γ","gammad":"ϝ","gap":"⪆","gbreve":"ğ","gcirc":"ĝ","gcy":"г","gdot":"ġ","ge":"≥","gel":"⋛","geq":"≥","geqq":"≧","geqslant":"⩾","ges":"⩾","gescc":"⪩","gesdot":"⪀","gesdoto":"⪂","gesdotol":"⪄","gesl":"⋛︀","gesles":"⪔","gfr":"𝔤","gg":"≫","ggg":"⋙","gimel":"ℷ","gjcy":"ѓ","gl":"≷","glE":"⪒","gla":"⪥","glj":"⪤","gnE":"≩","gnap":"⪊","gnapprox":"⪊","gne":"⪈","gneq":"⪈","gneqq":"≩","gnsim":"⋧","gopf":"𝕘","grave":"`","gscr":"ℊ","gsim":"≳","gsime":"⪎","gsiml":"⪐","g":">","gt":">","gtcc":"⪧","gtcir":"⩺","gtdot":"⋗","gtlPar":"⦕","gtquest":"⩼","gtrapprox":"⪆","gtrarr":"⥸","gtrdot":"⋗","gtreqless":"⋛","gtreqqless":"⪌","gtrless":"≷","gtrsim":"≳","gvertneqq":"≩︀","gvnE":"≩︀","hArr":"⇔","hairsp":" ","half":"½","hamilt":"ℋ","hardcy":"ъ","harr":"↔","harrcir":"⥈","harrw":"↭","hbar":"ℏ","hcirc":"ĥ","hearts":"♥","heartsuit":"♥","hellip":"…","hercon":"⊹","hfr":"𝔥","hksearow":"⤥","hkswarow":"⤦","hoarr":"⇿","homtht":"∻","hookleftarrow":"↩","hookrightarrow":"↪","hopf":"𝕙","horbar":"―","hscr":"𝒽","hslash":"ℏ","hstrok":"ħ","hybull":"⁃","hyphen":"‐","iacut":"í","iacute":"í","ic":"⁣","icir":"î","icirc":"î","icy":"и","iecy":"е","iexc":"¡","iexcl":"¡","iff":"⇔","ifr":"𝔦","igrav":"ì","igrave":"ì","ii":"ⅈ","iiiint":"⨌","iiint":"∭","iinfin":"⧜","iiota":"℩","ijlig":"ĳ","imacr":"ī","image":"ℑ","imagline":"ℐ","imagpart":"ℑ","imath":"ı","imof":"⊷","imped":"Ƶ","in":"∈","incare":"℅","infin":"∞","infintie":"⧝","inodot":"ı","int":"∫","intcal":"⊺","integers":"ℤ","intercal":"⊺","intlarhk":"⨗","intprod":"⨼","iocy":"ё","iogon":"į","iopf":"𝕚","iota":"ι","iprod":"⨼","iques":"¿","iquest":"¿","iscr":"𝒾","isin":"∈","isinE":"⋹","isindot":"⋵","isins":"⋴","isinsv":"⋳","isinv":"∈","it":"⁢","itilde":"ĩ","iukcy":"і","ium":"ï","iuml":"ï","jcirc":"ĵ","jcy":"й","jfr":"𝔧","jmath":"ȷ","jopf":"𝕛","jscr":"𝒿","jsercy":"ј","jukcy":"є","kappa":"κ","kappav":"ϰ","kcedil":"ķ","kcy":"к","kfr":"𝔨","kgreen":"ĸ","khcy":"х","kjcy":"ќ","kopf":"𝕜","kscr":"𝓀","lAarr":"⇚","lArr":"⇐","lAtail":"⤛","lBarr":"⤎","lE":"≦","lEg":"⪋","lHar":"⥢","lacute":"ĺ","laemptyv":"⦴","lagran":"ℒ","lambda":"λ","lang":"⟨","langd":"⦑","langle":"⟨","lap":"⪅","laqu":"«","laquo":"«","larr":"←","larrb":"⇤","larrbfs":"⤟","larrfs":"⤝","larrhk":"↩","larrlp":"↫","larrpl":"⤹","larrsim":"⥳","larrtl":"↢","lat":"⪫","latail":"⤙","late":"⪭","lates":"⪭︀","lbarr":"⤌","lbbrk":"❲","lbrace":"{","lbrack":"[","lbrke":"⦋","lbrksld":"⦏","lbrkslu":"⦍","lcaron":"ľ","lcedil":"ļ","lceil":"⌈","lcub":"{","lcy":"л","ldca":"⤶","ldquo":"“","ldquor":"„","ldrdhar":"⥧","ldrushar":"⥋","ldsh":"↲","le":"≤","leftarrow":"←","leftarrowtail":"↢","leftharpoondown":"↽","leftharpoonup":"↼","leftleftarrows":"⇇","leftrightarrow":"↔","leftrightarrows":"⇆","leftrightharpoons":"⇋","leftrightsquigarrow":"↭","leftthreetimes":"⋋","leg":"⋚","leq":"≤","leqq":"≦","leqslant":"⩽","les":"⩽","lescc":"⪨","lesdot":"⩿","lesdoto":"⪁","lesdotor":"⪃","lesg":"⋚︀","lesges":"⪓","lessapprox":"⪅","lessdot":"⋖","lesseqgtr":"⋚","lesseqqgtr":"⪋","lessgtr":"≶","lesssim":"≲","lfisht":"⥼","lfloor":"⌊","lfr":"𝔩","lg":"≶","lgE":"⪑","lhard":"↽","lharu":"↼","lharul":"⥪","lhblk":"▄","ljcy":"љ","ll":"≪","llarr":"⇇","llcorner":"⌞","llhard":"⥫","lltri":"◺","lmidot":"ŀ","lmoust":"⎰","lmoustache":"⎰","lnE":"≨","lnap":"⪉","lnapprox":"⪉","lne":"⪇","lneq":"⪇","lneqq":"≨","lnsim":"⋦","loang":"⟬","loarr":"⇽","lobrk":"⟦","longleftarrow":"⟵","longleftrightarrow":"⟷","longmapsto":"⟼","longrightarrow":"⟶","looparrowleft":"↫","looparrowright":"↬","lopar":"⦅","lopf":"𝕝","loplus":"⨭","lotimes":"⨴","lowast":"∗","lowbar":"_","loz":"◊","lozenge":"◊","lozf":"⧫","lpar":"(","lparlt":"⦓","lrarr":"⇆","lrcorner":"⌟","lrhar":"⇋","lrhard":"⥭","lrm":"‎","lrtri":"⊿","lsaquo":"‹","lscr":"𝓁","lsh":"↰","lsim":"≲","lsime":"⪍","lsimg":"⪏","lsqb":"[","lsquo":"‘","lsquor":"‚","lstrok":"ł","l":"<","lt":"<","ltcc":"⪦","ltcir":"⩹","ltdot":"⋖","lthree":"⋋","ltimes":"⋉","ltlarr":"⥶","ltquest":"⩻","ltrPar":"⦖","ltri":"◃","ltrie":"⊴","ltrif":"◂","lurdshar":"⥊","luruhar":"⥦","lvertneqq":"≨︀","lvnE":"≨︀","mDDot":"∺","mac":"¯","macr":"¯","male":"♂","malt":"✠","maltese":"✠","map":"↦","mapsto":"↦","mapstodown":"↧","mapstoleft":"↤","mapstoup":"↥","marker":"▮","mcomma":"⨩","mcy":"м","mdash":"—","measuredangle":"∡","mfr":"𝔪","mho":"℧","micr":"µ","micro":"µ","mid":"∣","midast":"*","midcir":"⫰","middo":"·","middot":"·","minus":"−","minusb":"⊟","minusd":"∸","minusdu":"⨪","mlcp":"⫛","mldr":"…","mnplus":"∓","models":"⊧","mopf":"𝕞","mp":"∓","mscr":"𝓂","mstpos":"∾","mu":"μ","multimap":"⊸","mumap":"⊸","nGg":"⋙̸","nGt":"≫⃒","nGtv":"≫̸","nLeftarrow":"⇍","nLeftrightarrow":"⇎","nLl":"⋘̸","nLt":"≪⃒","nLtv":"≪̸","nRightarrow":"⇏","nVDash":"⊯","nVdash":"⊮","nabla":"∇","nacute":"ń","nang":"∠⃒","nap":"≉","napE":"⩰̸","napid":"≋̸","napos":"ŉ","napprox":"≉","natur":"♮","natural":"♮","naturals":"ℕ","nbs":" ","nbsp":" ","nbump":"≎̸","nbumpe":"≏̸","ncap":"⩃","ncaron":"ň","ncedil":"ņ","ncong":"≇","ncongdot":"⩭̸","ncup":"⩂","ncy":"н","ndash":"–","ne":"≠","neArr":"⇗","nearhk":"⤤","nearr":"↗","nearrow":"↗","nedot":"≐̸","nequiv":"≢","nesear":"⤨","nesim":"≂̸","nexist":"∄","nexists":"∄","nfr":"𝔫","ngE":"≧̸","nge":"≱","ngeq":"≱","ngeqq":"≧̸","ngeqslant":"⩾̸","nges":"⩾̸","ngsim":"≵","ngt":"≯","ngtr":"≯","nhArr":"⇎","nharr":"↮","nhpar":"⫲","ni":"∋","nis":"⋼","nisd":"⋺","niv":"∋","njcy":"њ","nlArr":"⇍","nlE":"≦̸","nlarr":"↚","nldr":"‥","nle":"≰","nleftarrow":"↚","nleftrightarrow":"↮","nleq":"≰","nleqq":"≦̸","nleqslant":"⩽̸","nles":"⩽̸","nless":"≮","nlsim":"≴","nlt":"≮","nltri":"⋪","nltrie":"⋬","nmid":"∤","nopf":"𝕟","no":"¬","not":"¬","notin":"∉","notinE":"⋹̸","notindot":"⋵̸","notinva":"∉","notinvb":"⋷","notinvc":"⋶","notni":"∌","notniva":"∌","notnivb":"⋾","notnivc":"⋽","npar":"∦","nparallel":"∦","nparsl":"⫽⃥","npart":"∂̸","npolint":"⨔","npr":"⊀","nprcue":"⋠","npre":"⪯̸","nprec":"⊀","npreceq":"⪯̸","nrArr":"⇏","nrarr":"↛","nrarrc":"⤳̸","nrarrw":"↝̸","nrightarrow":"↛","nrtri":"⋫","nrtrie":"⋭","nsc":"⊁","nsccue":"⋡","nsce":"⪰̸","nscr":"𝓃","nshortmid":"∤","nshortparallel":"∦","nsim":"≁","nsime":"≄","nsimeq":"≄","nsmid":"∤","nspar":"∦","nsqsube":"⋢","nsqsupe":"⋣","nsub":"⊄","nsubE":"⫅̸","nsube":"⊈","nsubset":"⊂⃒","nsubseteq":"⊈","nsubseteqq":"⫅̸","nsucc":"⊁","nsucceq":"⪰̸","nsup":"⊅","nsupE":"⫆̸","nsupe":"⊉","nsupset":"⊃⃒","nsupseteq":"⊉","nsupseteqq":"⫆̸","ntgl":"≹","ntild":"ñ","ntilde":"ñ","ntlg":"≸","ntriangleleft":"⋪","ntrianglelefteq":"⋬","ntriangleright":"⋫","ntrianglerighteq":"⋭","nu":"ν","num":"#","numero":"№","numsp":" ","nvDash":"⊭","nvHarr":"⤄","nvap":"≍⃒","nvdash":"⊬","nvge":"≥⃒","nvgt":">⃒","nvinfin":"⧞","nvlArr":"⤂","nvle":"≤⃒","nvlt":"<⃒","nvltrie":"⊴⃒","nvrArr":"⤃","nvrtrie":"⊵⃒","nvsim":"∼⃒","nwArr":"⇖","nwarhk":"⤣","nwarr":"↖","nwarrow":"↖","nwnear":"⤧","oS":"Ⓢ","oacut":"ó","oacute":"ó","oast":"⊛","ocir":"ô","ocirc":"ô","ocy":"о","odash":"⊝","odblac":"ő","odiv":"⨸","odot":"⊙","odsold":"⦼","oelig":"œ","ofcir":"⦿","ofr":"𝔬","ogon":"˛","ograv":"ò","ograve":"ò","ogt":"⧁","ohbar":"⦵","ohm":"Ω","oint":"∮","olarr":"↺","olcir":"⦾","olcross":"⦻","oline":"‾","olt":"⧀","omacr":"ō","omega":"ω","omicron":"ο","omid":"⦶","ominus":"⊖","oopf":"𝕠","opar":"⦷","operp":"⦹","oplus":"⊕","or":"∨","orarr":"↻","ord":"º","order":"ℴ","orderof":"ℴ","ordf":"ª","ordm":"º","origof":"⊶","oror":"⩖","orslope":"⩗","orv":"⩛","oscr":"ℴ","oslas":"ø","oslash":"ø","osol":"⊘","otild":"õ","otilde":"õ","otimes":"⊗","otimesas":"⨶","oum":"ö","ouml":"ö","ovbar":"⌽","par":"¶","para":"¶","parallel":"∥","parsim":"⫳","parsl":"⫽","part":"∂","pcy":"п","percnt":"%","period":".","permil":"‰","perp":"⊥","pertenk":"‱","pfr":"𝔭","phi":"φ","phiv":"ϕ","phmmat":"ℳ","phone":"☎","pi":"π","pitchfork":"⋔","piv":"ϖ","planck":"ℏ","planckh":"ℎ","plankv":"ℏ","plus":"+","plusacir":"⨣","plusb":"⊞","pluscir":"⨢","plusdo":"∔","plusdu":"⨥","pluse":"⩲","plusm":"±","plusmn":"±","plussim":"⨦","plustwo":"⨧","pm":"±","pointint":"⨕","popf":"𝕡","poun":"£","pound":"£","pr":"≺","prE":"⪳","prap":"⪷","prcue":"≼","pre":"⪯","prec":"≺","precapprox":"⪷","preccurlyeq":"≼","preceq":"⪯","precnapprox":"⪹","precneqq":"⪵","precnsim":"⋨","precsim":"≾","prime":"′","primes":"ℙ","prnE":"⪵","prnap":"⪹","prnsim":"⋨","prod":"∏","profalar":"⌮","profline":"⌒","profsurf":"⌓","prop":"∝","propto":"∝","prsim":"≾","prurel":"⊰","pscr":"𝓅","psi":"ψ","puncsp":" ","qfr":"𝔮","qint":"⨌","qopf":"𝕢","qprime":"⁗","qscr":"𝓆","quaternions":"ℍ","quatint":"⨖","quest":"?","questeq":"≟","quo":"\\"","quot":"\\"","rAarr":"⇛","rArr":"⇒","rAtail":"⤜","rBarr":"⤏","rHar":"⥤","race":"∽̱","racute":"ŕ","radic":"√","raemptyv":"⦳","rang":"⟩","rangd":"⦒","range":"⦥","rangle":"⟩","raqu":"»","raquo":"»","rarr":"→","rarrap":"⥵","rarrb":"⇥","rarrbfs":"⤠","rarrc":"⤳","rarrfs":"⤞","rarrhk":"↪","rarrlp":"↬","rarrpl":"⥅","rarrsim":"⥴","rarrtl":"↣","rarrw":"↝","ratail":"⤚","ratio":"∶","rationals":"ℚ","rbarr":"⤍","rbbrk":"❳","rbrace":"}","rbrack":"]","rbrke":"⦌","rbrksld":"⦎","rbrkslu":"⦐","rcaron":"ř","rcedil":"ŗ","rceil":"⌉","rcub":"}","rcy":"р","rdca":"⤷","rdldhar":"⥩","rdquo":"”","rdquor":"”","rdsh":"↳","real":"ℜ","realine":"ℛ","realpart":"ℜ","reals":"ℝ","rect":"▭","re":"®","reg":"®","rfisht":"⥽","rfloor":"⌋","rfr":"𝔯","rhard":"⇁","rharu":"⇀","rharul":"⥬","rho":"ρ","rhov":"ϱ","rightarrow":"→","rightarrowtail":"↣","rightharpoondown":"⇁","rightharpoonup":"⇀","rightleftarrows":"⇄","rightleftharpoons":"⇌","rightrightarrows":"⇉","rightsquigarrow":"↝","rightthreetimes":"⋌","ring":"˚","risingdotseq":"≓","rlarr":"⇄","rlhar":"⇌","rlm":"‏","rmoust":"⎱","rmoustache":"⎱","rnmid":"⫮","roang":"⟭","roarr":"⇾","robrk":"⟧","ropar":"⦆","ropf":"𝕣","roplus":"⨮","rotimes":"⨵","rpar":")","rpargt":"⦔","rppolint":"⨒","rrarr":"⇉","rsaquo":"›","rscr":"𝓇","rsh":"↱","rsqb":"]","rsquo":"’","rsquor":"’","rthree":"⋌","rtimes":"⋊","rtri":"▹","rtrie":"⊵","rtrif":"▸","rtriltri":"⧎","ruluhar":"⥨","rx":"℞","sacute":"ś","sbquo":"‚","sc":"≻","scE":"⪴","scap":"⪸","scaron":"š","sccue":"≽","sce":"⪰","scedil":"ş","scirc":"ŝ","scnE":"⪶","scnap":"⪺","scnsim":"⋩","scpolint":"⨓","scsim":"≿","scy":"с","sdot":"⋅","sdotb":"⊡","sdote":"⩦","seArr":"⇘","searhk":"⤥","searr":"↘","searrow":"↘","sec":"§","sect":"§","semi":";","seswar":"⤩","setminus":"∖","setmn":"∖","sext":"✶","sfr":"𝔰","sfrown":"⌢","sharp":"♯","shchcy":"щ","shcy":"ш","shortmid":"∣","shortparallel":"∥","sh":"­","shy":"­","sigma":"σ","sigmaf":"ς","sigmav":"ς","sim":"∼","simdot":"⩪","sime":"≃","simeq":"≃","simg":"⪞","simgE":"⪠","siml":"⪝","simlE":"⪟","simne":"≆","simplus":"⨤","simrarr":"⥲","slarr":"←","smallsetminus":"∖","smashp":"⨳","smeparsl":"⧤","smid":"∣","smile":"⌣","smt":"⪪","smte":"⪬","smtes":"⪬︀","softcy":"ь","sol":"/","solb":"⧄","solbar":"⌿","sopf":"𝕤","spades":"♠","spadesuit":"♠","spar":"∥","sqcap":"⊓","sqcaps":"⊓︀","sqcup":"⊔","sqcups":"⊔︀","sqsub":"⊏","sqsube":"⊑","sqsubset":"⊏","sqsubseteq":"⊑","sqsup":"⊐","sqsupe":"⊒","sqsupset":"⊐","sqsupseteq":"⊒","squ":"□","square":"□","squarf":"▪","squf":"▪","srarr":"→","sscr":"𝓈","ssetmn":"∖","ssmile":"⌣","sstarf":"⋆","star":"☆","starf":"★","straightepsilon":"ϵ","straightphi":"ϕ","strns":"¯","sub":"⊂","subE":"⫅","subdot":"⪽","sube":"⊆","subedot":"⫃","submult":"⫁","subnE":"⫋","subne":"⊊","subplus":"⪿","subrarr":"⥹","subset":"⊂","subseteq":"⊆","subseteqq":"⫅","subsetneq":"⊊","subsetneqq":"⫋","subsim":"⫇","subsub":"⫕","subsup":"⫓","succ":"≻","succapprox":"⪸","succcurlyeq":"≽","succeq":"⪰","succnapprox":"⪺","succneqq":"⪶","succnsim":"⋩","succsim":"≿","sum":"∑","sung":"♪","sup":"⊃","sup1":"¹","sup2":"²","sup3":"³","supE":"⫆","supdot":"⪾","supdsub":"⫘","supe":"⊇","supedot":"⫄","suphsol":"⟉","suphsub":"⫗","suplarr":"⥻","supmult":"⫂","supnE":"⫌","supne":"⊋","supplus":"⫀","supset":"⊃","supseteq":"⊇","supseteqq":"⫆","supsetneq":"⊋","supsetneqq":"⫌","supsim":"⫈","supsub":"⫔","supsup":"⫖","swArr":"⇙","swarhk":"⤦","swarr":"↙","swarrow":"↙","swnwar":"⤪","szli":"ß","szlig":"ß","target":"⌖","tau":"τ","tbrk":"⎴","tcaron":"ť","tcedil":"ţ","tcy":"т","tdot":"⃛","telrec":"⌕","tfr":"𝔱","there4":"∴","therefore":"∴","theta":"θ","thetasym":"ϑ","thetav":"ϑ","thickapprox":"≈","thicksim":"∼","thinsp":" ","thkap":"≈","thksim":"∼","thor":"þ","thorn":"þ","tilde":"˜","time":"×","times":"×","timesb":"⊠","timesbar":"⨱","timesd":"⨰","tint":"∭","toea":"⤨","top":"⊤","topbot":"⌶","topcir":"⫱","topf":"𝕥","topfork":"⫚","tosa":"⤩","tprime":"‴","trade":"™","triangle":"▵","triangledown":"▿","triangleleft":"◃","trianglelefteq":"⊴","triangleq":"≜","triangleright":"▹","trianglerighteq":"⊵","tridot":"◬","trie":"≜","triminus":"⨺","triplus":"⨹","trisb":"⧍","tritime":"⨻","trpezium":"⏢","tscr":"𝓉","tscy":"ц","tshcy":"ћ","tstrok":"ŧ","twixt":"≬","twoheadleftarrow":"↞","twoheadrightarrow":"↠","uArr":"⇑","uHar":"⥣","uacut":"ú","uacute":"ú","uarr":"↑","ubrcy":"ў","ubreve":"ŭ","ucir":"û","ucirc":"û","ucy":"у","udarr":"⇅","udblac":"ű","udhar":"⥮","ufisht":"⥾","ufr":"𝔲","ugrav":"ù","ugrave":"ù","uharl":"↿","uharr":"↾","uhblk":"▀","ulcorn":"⌜","ulcorner":"⌜","ulcrop":"⌏","ultri":"◸","umacr":"ū","um":"¨","uml":"¨","uogon":"ų","uopf":"𝕦","uparrow":"↑","updownarrow":"↕","upharpoonleft":"↿","upharpoonright":"↾","uplus":"⊎","upsi":"υ","upsih":"ϒ","upsilon":"υ","upuparrows":"⇈","urcorn":"⌝","urcorner":"⌝","urcrop":"⌎","uring":"ů","urtri":"◹","uscr":"𝓊","utdot":"⋰","utilde":"ũ","utri":"▵","utrif":"▴","uuarr":"⇈","uum":"ü","uuml":"ü","uwangle":"⦧","vArr":"⇕","vBar":"⫨","vBarv":"⫩","vDash":"⊨","vangrt":"⦜","varepsilon":"ϵ","varkappa":"ϰ","varnothing":"∅","varphi":"ϕ","varpi":"ϖ","varpropto":"∝","varr":"↕","varrho":"ϱ","varsigma":"ς","varsubsetneq":"⊊︀","varsubsetneqq":"⫋︀","varsupsetneq":"⊋︀","varsupsetneqq":"⫌︀","vartheta":"ϑ","vartriangleleft":"⊲","vartriangleright":"⊳","vcy":"в","vdash":"⊢","vee":"∨","veebar":"⊻","veeeq":"≚","vellip":"⋮","verbar":"|","vert":"|","vfr":"𝔳","vltri":"⊲","vnsub":"⊂⃒","vnsup":"⊃⃒","vopf":"𝕧","vprop":"∝","vrtri":"⊳","vscr":"𝓋","vsubnE":"⫋︀","vsubne":"⊊︀","vsupnE":"⫌︀","vsupne":"⊋︀","vzigzag":"⦚","wcirc":"ŵ","wedbar":"⩟","wedge":"∧","wedgeq":"≙","weierp":"℘","wfr":"𝔴","wopf":"𝕨","wp":"℘","wr":"≀","wreath":"≀","wscr":"𝓌","xcap":"⋂","xcirc":"◯","xcup":"⋃","xdtri":"▽","xfr":"𝔵","xhArr":"⟺","xharr":"⟷","xi":"ξ","xlArr":"⟸","xlarr":"⟵","xmap":"⟼","xnis":"⋻","xodot":"⨀","xopf":"𝕩","xoplus":"⨁","xotime":"⨂","xrArr":"⟹","xrarr":"⟶","xscr":"𝓍","xsqcup":"⨆","xuplus":"⨄","xutri":"△","xvee":"⋁","xwedge":"⋀","yacut":"ý","yacute":"ý","yacy":"я","ycirc":"ŷ","ycy":"ы","ye":"¥","yen":"¥","yfr":"𝔶","yicy":"ї","yopf":"𝕪","yscr":"𝓎","yucy":"ю","yum":"ÿ","yuml":"ÿ","zacute":"ź","zcaron":"ž","zcy":"з","zdot":"ż","zeetrf":"ℨ","zeta":"ζ","zfr":"𝔷","zhcy":"ж","zigrarr":"⇝","zopf":"𝕫","zscr":"𝓏","zwj":"‍","zwnj":"‌"}')
        }
        ,
        6852: e=>{
            "use strict";
            e.exports = JSON.parse('{"0":"�","128":"€","130":"‚","131":"ƒ","132":"„","133":"…","134":"†","135":"‡","136":"ˆ","137":"‰","138":"Š","139":"‹","140":"Œ","142":"Ž","145":"‘","146":"’","147":"“","148":"”","149":"•","150":"–","151":"—","152":"˜","153":"™","154":"š","155":"›","156":"œ","158":"ž","159":"Ÿ"}')
        }
        ,
        9357: e=>{
            "use strict";
            e.exports = function(e) {
                return String(e).replace(/\s+/g, " ")
            }
        }
        ,
        6851: (e,t)=>{
            "use strict";
            t.P = function(e, t) {
                var n = t || {}
                  , i = !1 === n.padLeft ? "" : " "
                  , r = n.padRight ? " " : "";
                "" === e[e.length - 1] && (e = e.concat(""));
                return e.join(r + "," + i).trim()
            }
        }
        ,
        3128: (e,t,n)=>{
            "use strict";
            e.exports = function(e, t) {
                var n, r, o = "string" == typeof e, s = o && e.length, a = 0, l = -1, c = -1, u = t || 4, h = [];
                if (!o)
                    throw new Error("detab expected string");
                for (; ++l < s; )
                    9 === (n = e.charCodeAt(l)) ? (c += r = u - (c + 1) % u,
                    h.push(e.slice(a, l) + i(" ", r)),
                    a = l + 1) : 10 === n || 13 === n ? c = -1 : c++;
                return h.push(e.slice(a)),
                h.join("")
            }
            ;
            var i = n(6464)
        }
        ,
        8909: e=>{
            "use strict";
            e.exports = function(e, t) {
                var n;
                if (null != t && "string" != typeof t && ("object" != typeof t || 0 === t.length))
                    throw new Error("Expected `string` or `Array.<string>` for `tagNames`, not `" + t + "`");
                if (!e || "object" != typeof e || "element" !== e.type || "string" != typeof e.tagName)
                    return !1;
                if (null == t)
                    return !0;
                if (n = e.tagName,
                "string" == typeof t)
                    return n === t;
                return -1 !== t.indexOf(n)
            }
        }
        ,
        773: (e,t,n)=>{
            "use strict";
            e.exports = n(5204)
        }
        ,
        5802: (e,t,n)=>{
            "use strict";
            var i = n(1878);
            e.exports = function(e, t) {
                var n = t && t.children
                  , r = n && n.length
                  , o = -1
                  , s = [];
                for (; ++o < r; )
                    s[o] = i(e, n[o], o, t);
                return s.join("")
            }
        }
        ,
        1928: (e,t,n)=>{
            "use strict";
            var i = n(7529)
              , r = n(4860);
            e.exports = function(e, t) {
                var n = t.value;
                if (e.bogusComments)
                    return "<?" + r(n, i(e.entities, {
                        subset: a
                    })) + ">";
                return "\x3c!--" + n.replace(o, (function(t) {
                    return r(t, i(e.entities, {
                        subset: s
                    }))
                }
                )) + "--\x3e"
            }
            ;
            var o = /^>|^->|<!--|-->|--!>|<!-$/g
              , s = ["<", ">"]
              , a = [">"]
        }
        ,
        5966: e=>{
            "use strict";
            var t = "\0"
              , n = "&"
              , i = "`"
              , r = '"'
              , o = "'"
              , s = [" ", "\t", "\n", "\r", "\f"]
              , a = s.concat(n, "/", ">", "=")
              , l = s.concat(n, ">")
              , c = l.concat(t, r, o, "<", "=", i)
              , u = [n, o]
              , h = [n, r];
            e.exports = {
                name: [[a, a.concat(r, o, i)], [a.concat(t, r, o, "<"), a.concat(t, r, o, "<", i)]],
                unquoted: [[l, c], [c, c]],
                single: [[u, u.concat(r, i)], [u.concat(t), u.concat(t, r, i)]],
                double: [[h, h.concat(o, i)], [h.concat(t), h.concat(t, o, i)]]
            }
        }
        ,
        5842: (e,t,n)=>{
            "use strict";
            var i = n(7529)
              , r = n(932)
              , o = n(4860);
            e.exports = function(e, t) {
                var n = e.upperDoctype ? a : s
                  , i = e.tightDoctype ? "" : " "
                  , r = t.name
                  , o = t.public
                  , c = t.system
                  , u = ["<!" + n];
                r && (u.push(i, r),
                null != o ? u.push(" public", i, l(e, o)) : null != c && u.push(" system"),
                null != c && u.push(i, l(e, c)));
                return u.join("") + ">"
            }
            ;
            var s = "doctype"
              , a = s.toUpperCase();
            function l(e, t) {
                var n = e.quote
                  , s = e.alternative
                  , a = String(t)
                  , l = r(a, n) > r(a, s) ? s : n;
                return l + o(a, i(e.entities, {
                    subset: ["<", "&", l]
                })) + l
            }
        }
        ,
        4307: (e,t,n)=>{
            "use strict";
            var i = n(7529)
              , r = n(1218)
              , o = n(9560)
              , s = n(6582).P
              , a = n(6851).P
              , l = n(4860)
              , c = n(932)
              , u = n(5802)
              , h = n(5966);
            e.exports = function(e, t, n, i) {
                var o, s, a, l, c, h, p = e.schema, f = t.tagName, g = "", m = t;
                "html" === p.space && "svg" === f && (e.schema = r);
                c = function(e, t) {
                    var n, i, r, o, s, a, l = [];
                    for (n in t)
                        null != (i = t[n]) && (r = d(e, n, i)) && l.push(r);
                    o = l.length,
                    s = -1;
                    for (; ++s < o; )
                        r = l[s],
                        a = null,
                        e.tight && (a = r.charAt(r.length - 1)),
                        s !== o - 1 && '"' !== a && "'" !== a && (l[s] = r + " ");
                    return l.join("")
                }(e, t.properties),
                "svg" === e.schema.space ? (a = !1,
                s = !0,
                o = e.closeEmpty) : (a = e.omit,
                s = e.close,
                o = -1 !== e.voids.indexOf(f.toLowerCase()),
                "template" === f && (m = t.content));
                l = u(e, m),
                o = !l && o,
                !c && a && a.opening(t, n, i) || (g = "<" + f + (c ? " " + c : ""),
                o && s && (h = c.charAt(c.length - 1),
                (!e.tightClose || "/" === h || "svg" === e.schema.space && h && '"' !== h && "'" !== h) && (g += " "),
                g += "/"),
                g += ">");
                g += l,
                o || a && a.closing(t, n, i) || (g += "</" + f + ">");
                return e.schema = p,
                g
            }
            ;
            var p = "'";
            function d(e, t, n) {
                var r = e.schema
                  , u = o(r, t)
                  , d = u.attribute;
                return !u.overloadedBoolean || n !== d && "" !== n ? (u.boolean || u.overloadedBoolean && "string" != typeof n) && (n = Boolean(n)) : n = !0,
                null == n || !1 === n || "number" == typeof n && isNaN(n) ? "" : (d = function(e, t) {
                    var n = "html" === e.schema.space ? e.valid : 1
                      , r = h.name[n][e.safe];
                    return l(t, i(e.entities, {
                        subset: r
                    }))
                }(e, d),
                !0 === n ? d : d + function(e, t, n, r) {
                    var o, u, d = e.entities, f = e.quote, g = e.alternative, m = e.smart;
                    "object" == typeof n && "length"in n && (n = (r.commaSeparated ? a : s)(n, {
                        padLeft: !e.tightLists
                    }));
                    !(n = String(n)) && e.collapseEmpty || (o = n,
                    e.unquoted && (u = h.unquoted[e.valid][e.safe],
                    o = l(n, i(d, {
                        subset: u,
                        attribute: !0
                    }))),
                    e.unquoted && o === n || (m && c(n, f) > c(n, g) && (f = g),
                    u = (u = f === p ? h.single : h.double)["html" === e.schema.space ? e.valid : 1][e.safe],
                    n = f + (n = l(n, i(d, {
                        subset: u,
                        attribute: !0
                    }))) + f),
                    n = n ? "=" + n : n);
                    return n
                }(e, 0, n, u))
            }
        }
        ,
        5204: (e,t,n)=>{
            "use strict";
            var i = n(7247)
              , r = n(1218)
              , o = n(4318)
              , s = n(1600)
              , a = n(1878);
            e.exports = function(e, t) {
                var n = t || {}
                  , u = n.quote || l
                  , h = u === l ? "'" : l
                  , p = n.quoteSmart
                  , d = e && "object" == typeof e && "length"in e ? {
                    type: "root",
                    children: e
                } : e;
                if (u !== l && "'" !== u)
                    throw new Error("Invalid quote `" + u + "`, expected `'` or `" + '"`');
                void 0 !== n.allowDangerousHTML && (c || (c = !0,
                console.warn("Deprecation warning: `allowDangerousHTML` is a nonstandard option, use `allowDangerousHtml` instead")));
                return a({
                    valid: n.allowParseErrors ? 0 : 1,
                    safe: n.allowDangerousCharacters ? 0 : 1,
                    schema: "svg" === n.space ? r : i,
                    omit: n.omitOptionalTags && s,
                    quote: u,
                    alternative: h,
                    smart: p,
                    unquoted: Boolean(n.preferUnquoted),
                    tight: n.tightAttributes,
                    upperDoctype: Boolean(n.upperDoctype),
                    tightDoctype: Boolean(n.tightDoctype),
                    bogusComments: Boolean(n.bogusComments),
                    tightLists: n.tightCommaSeparatedLists,
                    tightClose: n.tightSelfClosing,
                    collapseEmpty: n.collapseEmptyAttributes,
                    dangerous: n.allowDangerousHtml || n.allowDangerousHTML,
                    voids: n.voids || o.concat(),
                    entities: n.entities || {},
                    close: n.closeSelfClosing,
                    closeEmpty: n.closeEmptyElements
                }, d)
            }
            ;
            var l = '"'
              , c = !1
        }
        ,
        8639: (e,t,n)=>{
            "use strict";
            var i = n(8145)
              , r = n(8909)
              , o = n(8115)
              , s = n(3370).e
              , a = n(5254)
              , l = i("comment")
              , c = "optgroup"
              , u = ["option"].concat(c)
              , h = ["dt", "dd"]
              , p = ["menuitem", "hr", "menu"]
              , d = ["rp", "rt"]
              , f = ["tbody", "tfoot"]
              , g = ["td", "th"]
              , m = ["a", "audio", "del", "ins", "map", "noscript", "video"]
              , v = ["address", "article", "aside", "blockquote", "details", "div", "dl", "fieldset", "figcaption", "figure", "footer", "form", "h1", "h2", "h3", "h4", "h5", "h6", "header", "hgroup", "hr", "main", "menu", "nav", "ol", "p", "pre", "section", "table", "ul"];
            function y(e, t, n) {
                var i = s(n, t, !0);
                return !i || !l(i) && !o(i)
            }
            function b(e, t, n) {
                var i = s(n, t);
                return !i || r(i, d)
            }
            function w(e, t, n) {
                var i = s(n, t);
                return !i || r(i, g)
            }
            e.exports = a({
                html: function(e, t, n) {
                    var i = s(n, t);
                    return !i || !l(i)
                },
                head: y,
                body: function(e, t, n) {
                    var i = s(n, t);
                    return !i || !l(i)
                },
                p: function(e, t, n) {
                    var i = s(n, t);
                    return i ? r(i, v) : !n || !r(n, m)
                },
                li: function(e, t, n) {
                    var i = s(n, t);
                    return !i || r(i, "li")
                },
                dt: function(e, t, n) {
                    var i = s(n, t);
                    return i && r(i, h)
                },
                dd: function(e, t, n) {
                    var i = s(n, t);
                    return !i || r(i, h)
                },
                rt: b,
                rp: b,
                optgroup: function(e, t, n) {
                    var i = s(n, t);
                    return !i || r(i, c)
                },
                option: function(e, t, n) {
                    var i = s(n, t);
                    return !i || r(i, u)
                },
                menuitem: function(e, t, n) {
                    var i = s(n, t);
                    return !i || r(i, p)
                },
                colgroup: y,
                caption: y,
                thead: function(e, t, n) {
                    var i = s(n, t);
                    return i && r(i, f)
                },
                tbody: function(e, t, n) {
                    var i = s(n, t);
                    return !i || r(i, f)
                },
                tfoot: function(e, t, n) {
                    return !s(n, t)
                },
                tr: function(e, t, n) {
                    var i = s(n, t);
                    return !i || r(i, "tr")
                },
                td: w,
                th: w
            })
        }
        ,
        1600: (e,t,n)=>{
            "use strict";
            t.opening = n(6014),
            t.closing = n(8639)
        }
        ,
        5254: e=>{
            "use strict";
            e.exports = function(e) {
                return function(n, i, r) {
                    var o = n.tagName;
                    return !!t.call(e, o) && e[o](n, i, r)
                }
            }
            ;
            var t = {}.hasOwnProperty
        }
        ,
        6014: (e,t,n)=>{
            "use strict";
            var i = n(8145)
              , r = n(8909)
              , o = n(3370).b
              , s = n(4414)
              , a = n(4997)
              , l = n(8115)
              , c = n(8639)
              , u = n(5254)
              , h = i("comment")
              , p = ["title", "base"]
              , d = ["meta", "link", "script", "style", "template"]
              , f = ["thead", "tbody"];
            e.exports = u({
                html: function(e) {
                    var t = s(e);
                    return !t || !h(t)
                },
                head: function(e) {
                    var t, n, i = e.children, o = i.length, s = [], a = -1;
                    for (; ++a < o; )
                        if (t = i[a],
                        n = t.tagName,
                        r(t, p)) {
                            if (-1 !== s.indexOf(n))
                                return !1;
                            s.push(n)
                        }
                    return 0 !== o
                },
                body: function(e) {
                    var t = s(e, !0);
                    return !t || !h(t) && !l(t) && !r(t, d)
                },
                colgroup: function(e, t, n) {
                    var i = o(n, t)
                      , l = s(e, !0);
                    if (r(i, "colgroup") && c(i, a(n, i), n))
                        return !1;
                    return l && r(l, "col")
                },
                tbody: function(e, t, n) {
                    var i = o(n, t)
                      , l = s(e);
                    if (r(i, f) && c(i, a(n, i), n))
                        return !1;
                    return l && r(l, "tr")
                }
            })
        }
        ,
        4414: (e,t,n)=>{
            "use strict";
            var i = n(3370).e;
            e.exports = function(e, t) {
                return i(e, -1, t)
            }
        }
        ,
        4997: e=>{
            "use strict";
            e.exports = function(e, t) {
                return e && e.children && e.children.indexOf(t)
            }
        }
        ,
        3370: (e,t,n)=>{
            "use strict";
            var i = n(3560);
            function r(e) {
                return function(t, n, r) {
                    var o = t && t.children
                      , s = n + e
                      , a = o && o[s];
                    if (!r)
                        for (; a && i(a); )
                            a = o[s += e];
                    return a
                }
            }
            t.b = r(-1),
            t.e = r(1)
        }
        ,
        8115: (e,t,n)=>{
            "use strict";
            var i = n(8145)
              , r = n(3560);
            e.exports = function(e) {
                return o(e) && r(e.value.charAt(0))
            }
            ;
            var o = i("text")
        }
        ,
        1878: (e,t,n)=>{
            "use strict";
            e.exports = function(e, t, n, o) {
                var s = t && t.type;
                if (!s)
                    throw new Error("Expected node, not `" + t + "`");
                if (!i.call(r, s))
                    throw new Error("Cannot compile unknown node `" + s + "`");
                return r[s](e, t, n, o)
            }
            ;
            var i = {}.hasOwnProperty
              , r = {};
            r.root = n(5802),
            r.text = n(9514),
            r.element = n(4307),
            r.doctype = n(5842),
            r.comment = n(1928),
            r.raw = n(9044)
        }
        ,
        9044: (e,t,n)=>{
            "use strict";
            var i = n(9514);
            e.exports = function(e, t) {
                return e.dangerous ? t.value : i(e, t)
            }
        }
        ,
        9514: (e,t,n)=>{
            "use strict";
            var i = n(7529)
              , r = n(4860);
            e.exports = function(e, t, n, o) {
                var s = t.value;
                return function(e) {
                    return e && ("script" === e.tagName || "style" === e.tagName)
                }(o) ? s : r(s, i(e.entities, {
                    subset: ["<", "&"]
                }))
            }
        }
        ,
        3560: e=>{
            "use strict";
            e.exports = function(e) {
                var n;
                if (e && "object" == typeof e && "text" === e.type)
                    n = e.value || "";
                else {
                    if ("string" != typeof e)
                        return !1;
                    n = e
                }
                return "" === n.replace(t, "")
            }
            ;
            var t = /[ \t\n\f\r]/g
        }
        ,
        4318: e=>{
            "use strict";
            e.exports = JSON.parse('["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","isindex","keygen","link","menuitem","meta","nextid","param","source","track","wbr"]')
        }
        ,
        5717: e=>{
            "function" == typeof Object.create ? e.exports = function(e, t) {
                t && (e.super_ = t,
                e.prototype = Object.create(t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }))
            }
            : e.exports = function(e, t) {
                if (t) {
                    e.super_ = t;
                    var n = function() {};
                    n.prototype = t.prototype,
                    e.prototype = new n,
                    e.prototype.constructor = e
                }
            }
        }
        ,
        6260: e=>{
            "use strict";
            e.exports = function(e) {
                var t = "string" == typeof e ? e.charCodeAt(0) : e;
                return t >= 97 && t <= 122 || t >= 65 && t <= 90
            }
        }
        ,
        7961: (e,t,n)=>{
            "use strict";
            var i = n(6260)
              , r = n(6195);
            e.exports = function(e) {
                return i(e) || r(e)
            }
        }
        ,
        8738: e=>{
            e.exports = function(e) {
                return null != e && null != e.constructor && "function" == typeof e.constructor.isBuffer && e.constructor.isBuffer(e)
            }
        }
        ,
        6195: e=>{
            "use strict";
            e.exports = function(e) {
                var t = "string" == typeof e ? e.charCodeAt(0) : e;
                return t >= 48 && t <= 57
            }
        }
        ,
        9480: e=>{
            "use strict";
            e.exports = function(e) {
                var t = "string" == typeof e ? e.charCodeAt(0) : e;
                return t >= 97 && t <= 102 || t >= 65 && t <= 70 || t >= 48 && t <= 57
            }
        }
        ,
        2139: e=>{
            "use strict";
            e.exports = function(e) {
                return n.test("number" == typeof e ? t(e) : e.charAt(0))
            }
            ;
            var t = String.fromCharCode
              , n = /\s/
        }
        ,
        3017: e=>{
            "use strict";
            e.exports = function(e) {
                return n.test("number" == typeof e ? t(e) : e.charAt(0))
            }
            ;
            var t = String.fromCharCode
              , n = /\w/
        }
        ,
        2123: e=>{
            "use strict";
            e.exports = r;
            var t = ["\\", "`", "*", "{", "}", "[", "]", "(", ")", "#", "+", "-", ".", "!", "_", ">"]
              , n = t.concat(["~", "|"])
              , i = n.concat(["\n", '"', "$", "%", "&", "'", ",", "/", ":", ";", "<", "=", "?", "@", "^"]);
            function r(e) {
                var r = e || {};
                return r.commonmark ? i : r.gfm ? n : t
            }
            r.default = t,
            r.gfm = n,
            r.commonmark = i
        }
        ,
        6630: (e,t,n)=>{
            "use strict";
            var i = n(2854);
            e.exports = function(e, t) {
                return function(e) {
                    return t;
                    function t(t) {
                        var n = t && o(t);
                        return n && r.call(e, n) ? e[n] : null
                    }
                }(function(e, t) {
                    var n = {};
                    if (!e || !e.type)
                        throw new Error("mdast-util-definitions expected node");
                    return i(e, "definition", t && t.commonmark ? s : a),
                    n;
                    function s(e) {
                        var t = o(e.identifier);
                        r.call(n, t) || (n[t] = e)
                    }
                    function a(e) {
                        n[o(e.identifier)] = e
                    }
                }(e, t))
            }
            ;
            var r = {}.hasOwnProperty;
            function o(e) {
                return e.toUpperCase()
            }
        }
        ,
        5426: (e,t,n)=>{
            "use strict";
            e.exports = function(e, t) {
                var n, r, o = t.children || [], s = o.length, a = [], l = -1;
                for (; ++l < s; )
                    (n = i(e, o[l], t)) && (l && "break" === o[l - 1].type && (n.value && (n.value = n.value.replace(/^\s+/, "")),
                    (r = n.children && n.children[0]) && r.value && (r.value = r.value.replace(/^\s+/, ""))),
                    a = a.concat(n));
                return a
            }
            ;
            var i = n(719)
        }
        ,
        1696: (e,t,n)=>{
            "use strict";
            e.exports = function(e) {
                var t, n, s, a, l = e.footnoteById, c = e.footnoteOrder, u = c.length, h = -1, p = [];
                for (; ++h < u; )
                    (t = l[c[h].toUpperCase()]) && (s = t.children.concat(),
                    a = s[s.length - 1],
                    n = {
                        type: "link",
                        url: "#fnref-" + t.identifier,
                        data: {
                            hProperties: {
                                className: ["footnote-backref"]
                            }
                        },
                        children: [{
                            type: "text",
                            value: "↩"
                        }]
                    },
                    a && "paragraph" === a.type || (a = {
                        type: "paragraph",
                        children: []
                    },
                    s.push(a)),
                    a.children.push(n),
                    p.push({
                        type: "listItem",
                        data: {
                            hProperties: {
                                id: "fn-" + t.identifier
                            }
                        },
                        children: s,
                        position: t.position
                    }));
                if (0 === p.length)
                    return null;
                return e(null, "div", {
                    className: ["footnotes"]
                }, o([i(e), r(e, {
                    type: "list",
                    ordered: !0,
                    children: p
                })], !0))
            }
            ;
            var i = n(7552)
              , r = n(7888)
              , o = n(6115)
        }
        ,
        4590: (e,t,n)=>{
            "use strict";
            e.exports = function(e, t) {
                return e(t, "blockquote", i(r(e, t), !0))
            }
            ;
            var i = n(6115)
              , r = n(5426)
        }
        ,
        3562: (e,t,n)=>{
            "use strict";
            e.exports = function(e, t) {
                return [e(t, "br"), i("text", "\n")]
            }
            ;
            var i = n(914)
        }
        ,
        7891: (e,t,n)=>{
            "use strict";
            e.exports = function(e, t) {
                var n = t.value ? i(t.value + "\n") : ""
                  , o = t.lang && t.lang.match(/^[^ \t]+(?=[ \t]|$)/)
                  , s = {};
                o && (s.className = ["language-" + o]);
                return e(t.position, "pre", [e(t, "code", s, [r("text", n)])])
            }
            ;
            var i = n(3128)
              , r = n(914)
        }
        ,
        9381: (e,t,n)=>{
            "use strict";
            e.exports = function(e, t) {
                return e(t, "del", i(e, t))
            }
            ;
            var i = n(5426)
        }
        ,
        790: (e,t,n)=>{
            "use strict";
            e.exports = function(e, t) {
                return e(t, "em", i(e, t))
            }
            ;
            var i = n(5426)
        }
        ,
        8235: (e,t,n)=>{
            "use strict";
            e.exports = function(e, t) {
                var n = e.footnoteOrder
                  , r = String(t.identifier);
                -1 === n.indexOf(r) && n.push(r);
                return e(t.position, "sup", {
                    id: "fnref-" + r
                }, [e(t, "a", {
                    href: "#fn-" + r,
                    className: ["footnote-ref"]
                }, [i("text", t.label || r)])])
            }
            ;
            var i = n(914)
        }
        ,
        5758: (e,t,n)=>{
            "use strict";
            e.exports = function(e, t) {
                var n = e.footnoteById
                  , r = e.footnoteOrder
                  , o = 1;
                for (; o in n; )
                    o++;
                return o = String(o),
                r.push(o),
                n[o] = {
                    type: "footnoteDefinition",
                    identifier: o,
                    children: [{
                        type: "paragraph",
                        children: t.children
                    }],
                    position: t.position
                },
                i(e, {
                    type: "footnoteReference",
                    identifier: o,
                    position: t.position
                })
            }
            ;
            var i = n(8235)
        }
        ,
        4890: (e,t,n)=>{
            "use strict";
            e.exports = function(e, t) {
                return e(t, "h" + t.depth, i(e, t))
            }
            ;
            var i = n(5426)
        }
        ,
        2202: (e,t,n)=>{
            "use strict";
            e.exports = function(e, t) {
                return e.dangerous ? e.augment(t, i("raw", t.value)) : null
            }
            ;
            var i = n(914)
        }
        ,
        1454: (e,t,n)=>{
            "use strict";
            e.exports = function(e, t) {
                var n, o = e.definition(t.identifier);
                if (!o)
                    return r(e, t);
                n = {
                    src: i(o.url || ""),
                    alt: t.alt
                },
                null !== o.title && void 0 !== o.title && (n.title = o.title);
                return e(t, "img", n)
            }
            ;
            var i = n(729)
              , r = n(713)
        }
        ,
        5037: (e,t,n)=>{
            "use strict";
            var i = n(729);
            e.exports = function(e, t) {
                var n = {
                    src: i(t.url),
                    alt: t.alt
                };
                null !== t.title && void 0 !== t.title && (n.title = t.title);
                return e(t, "img", n)
            }
        }
        ,
        4617: (e,t,n)=>{
            "use strict";
            function i() {
                return null
            }
            e.exports = {
                blockquote: n(4590),
                break: n(3562),
                code: n(7891),
                delete: n(9381),
                emphasis: n(790),
                footnoteReference: n(8235),
                footnote: n(5758),
                heading: n(4890),
                html: n(2202),
                imageReference: n(1454),
                image: n(5037),
                inlineCode: n(8409),
                linkReference: n(9266),
                link: n(404),
                listItem: n(4463),
                list: n(7888),
                paragraph: n(8346),
                root: n(8100),
                strong: n(4970),
                table: n(2605),
                text: n(989),
                thematicBreak: n(7552),
                toml: i,
                yaml: i,
                definition: i,
                footnoteDefinition: i
            }
        }
        ,
        8409: (e,t,n)=>{
            "use strict";
            e.exports = function(e, t) {
                return e(t, "code", [r("text", i(t.value))])
            }
            ;
            var i = n(9357)
              , r = n(914)
        }
        ,
        9266: (e,t,n)=>{
            "use strict";
            e.exports = function(e, t) {
                var n, s = e.definition(t.identifier);
                if (!s)
                    return r(e, t);
                n = {
                    href: i(s.url || "")
                },
                null !== s.title && void 0 !== s.title && (n.title = s.title);
                return e(t, "a", n, o(e, t))
            }
            ;
            var i = n(729)
              , r = n(713)
              , o = n(5426)
        }
        ,
        404: (e,t,n)=>{
            "use strict";
            var i = n(729)
              , r = n(5426);
            e.exports = function(e, t) {
                var n = {
                    href: i(t.url)
                };
                null !== t.title && void 0 !== t.title && (n.title = t.title);
                return e(t, "a", n, r(e, t))
            }
        }
        ,
        4463: (e,t,n)=>{
            "use strict";
            e.exports = function(e, t, n) {
                var a, l, c, u, h, p = t.children[0], d = o(e, t), f = n ? function(e) {
                    var t = e.spread
                      , n = e.children
                      , i = n.length
                      , r = -1;
                    for (; !t && ++r < i; )
                        t = s(n[r]);
                    return t
                }(n) : s(t), g = {};
                if (f)
                    a = d;
                else
                    for (a = [],
                    u = d.length,
                    c = -1; ++c < u; )
                        "p" === (h = d[c]).tagName ? a = a.concat(h.children) : a.push(h);
                "boolean" == typeof t.checked && (!f || p && "paragraph" === p.type || a.unshift(e(null, "p", [])),
                0 !== (l = f ? a[0].children : a).length && l.unshift(i("text", " ")),
                l.unshift(e(null, "input", {
                    type: "checkbox",
                    checked: t.checked,
                    disabled: !0
                })),
                g.className = ["task-list-item"]);
                f && 0 !== a.length && (a = r(a, !0));
                return e(t, "li", g, a)
            }
            ;
            var i = n(914)
              , r = n(6115)
              , o = n(5426);
            function s(e) {
                var t = e.spread;
                return null == t ? e.children.length > 1 : t
            }
        }
        ,
        7888: (e,t,n)=>{
            "use strict";
            e.exports = function(e, t) {
                var n, o, s = {}, a = t.ordered ? "ol" : "ul", l = -1;
                "number" == typeof t.start && 1 !== t.start && (s.start = t.start);
                n = r(e, t),
                o = n.length;
                for (; ++l < o; )
                    if (n[l].properties.className && -1 !== n[l].properties.className.indexOf("task-list-item")) {
                        s.className = ["contains-task-list"];
                        break
                    }
                return e(t, a, s, i(n, !0))
            }
            ;
            var i = n(6115)
              , r = n(5426)
        }
        ,
        8346: (e,t,n)=>{
            "use strict";
            e.exports = function(e, t) {
                return e(t, "p", i(e, t))
            }
            ;
            var i = n(5426)
        }
        ,
        8100: (e,t,n)=>{
            "use strict";
            e.exports = function(e, t) {
                return e.augment(t, i("root", r(o(e, t))))
            }
            ;
            var i = n(914)
              , r = n(6115)
              , o = n(5426)
        }
        ,
        4970: (e,t,n)=>{
            "use strict";
            e.exports = function(e, t) {
                return e(t, "strong", i(e, t))
            }
            ;
            var i = n(5426)
        }
        ,
        2605: (e,t,n)=>{
            "use strict";
            e.exports = function(e, t) {
                var n, s, a, l, c, u = t.children, h = u.length, p = t.align, d = p.length, f = [];
                for (; h--; ) {
                    for (s = u[h].children,
                    l = 0 === h ? "th" : "td",
                    n = d,
                    a = []; n--; )
                        c = s[n],
                        a[n] = e(c, l, {
                            align: p[n]
                        }, c ? o(e, c) : []);
                    f[h] = e(u[h], "tr", r(a, !0))
                }
                return e(t, "table", r([e(f[0].position, "thead", r([f[0]], !0)), e({
                    start: i.start(f[1]),
                    end: i.end(f[f.length - 1])
                }, "tbody", r(f.slice(1), !0))], !0))
            }
            ;
            var i = n(7361)
              , r = n(6115)
              , o = n(5426)
        }
        ,
        989: (e,t,n)=>{
            "use strict";
            e.exports = function(e, t) {
                return e.augment(t, i("text", r(t.value)))
            }
            ;
            var i = n(914)
              , r = n(6221)
        }
        ,
        7552: e=>{
            "use strict";
            e.exports = function(e, t) {
                return e(t, "hr")
            }
        }
        ,
        719: (e,t,n)=>{
            "use strict";
            e.exports = function(e, t, n) {
                var i = t && t.type
                  , r = o.call(e.handlers, i) ? e.handlers[i] : e.unknownHandler;
                if (!i)
                    throw new Error("Expected node, got `" + t + "`");
                return ("function" == typeof r ? r : s)(e, t, n)
            }
            ;
            var i = n(914)
              , r = n(5426)
              , o = {}.hasOwnProperty;
            function s(e, t) {
                return function(e) {
                    var t = e.data || {};
                    if (o.call(t, "hName") || o.call(t, "hProperties") || o.call(t, "hChildren"))
                        return !1;
                    return "value"in e
                }(t) ? e.augment(t, i("text", t.value)) : e(t, "div", r(e, t))
            }
        }
        ,
        713: (e,t,n)=>{
            "use strict";
            e.exports = function(e, t) {
                var n, o, s, a = t.referenceType, l = "]";
                "collapsed" === a ? l += "[]" : "full" === a && (l += "[" + (t.label || t.identifier) + "]");
                if ("imageReference" === t.type)
                    return i("text", "![" + t.alt + l);
                n = r(e, t),
                (o = n[0]) && "text" === o.type ? o.value = "[" + o.value : n.unshift(i("text", "["));
                (s = n[n.length - 1]) && "text" === s.type ? s.value += l : n.push(i("text", l));
                return n
            }
            ;
            var i = n(914)
              , r = n(5426)
        }
        ,
        6115: (e,t,n)=>{
            "use strict";
            e.exports = function(e, t) {
                var n = []
                  , r = -1
                  , o = e.length;
                t && n.push(i("text", "\n"));
                for (; ++r < o; )
                    r && n.push(i("text", "\n")),
                    n.push(e[r]);
                t && 0 !== e.length && n.push(i("text", "\n"));
                return n
            }
            ;
            var i = n(914)
        }
        ,
        729: e=>{
            "use strict";
            var t = {};
            function n(e, i, r) {
                var o, s, a, l, c, u = "";
                for ("string" != typeof i && (r = i,
                i = n.defaultChars),
                void 0 === r && (r = !0),
                c = function(e) {
                    var n, i, r = t[e];
                    if (r)
                        return r;
                    for (r = t[e] = [],
                    n = 0; n < 128; n++)
                        i = String.fromCharCode(n),
                        /^[0-9a-z]$/i.test(i) ? r.push(i) : r.push("%" + ("0" + n.toString(16).toUpperCase()).slice(-2));
                    for (n = 0; n < e.length; n++)
                        r[e.charCodeAt(n)] = e[n];
                    return r
                }(i),
                o = 0,
                s = e.length; o < s; o++)
                    if (a = e.charCodeAt(o),
                    r && 37 === a && o + 2 < s && /^[0-9a-f]{2}$/i.test(e.slice(o + 1, o + 3)))
                        u += e.slice(o, o + 3),
                        o += 2;
                    else if (a < 128)
                        u += c[a];
                    else if (a >= 55296 && a <= 57343) {
                        if (a >= 55296 && a <= 56319 && o + 1 < s && (l = e.charCodeAt(o + 1)) >= 56320 && l <= 57343) {
                            u += encodeURIComponent(e[o] + e[o + 1]),
                            o++;
                            continue
                        }
                        u += "%EF%BF%BD"
                    } else
                        u += encodeURIComponent(e[o]);
                return u
            }
            n.defaultChars = ";/?:@&=+$,-_.!~*'()#",
            n.componentChars = "-_.!~*'()",
            e.exports = n
        }
        ,
        7621: (e,t,n)=>{
            "use strict";
            var i = n(3407);
            e.exports = function(e) {
                return !!r.call(i, e) && i[e]
            }
            ;
            var r = {}.hasOwnProperty
        }
        ,
        7574: (e,t,n)=>{
            "use strict";
            var i = n(6588)
              , r = n(6852)
              , o = n(6195)
              , s = n(9480)
              , a = n(7961)
              , l = n(7621);
            e.exports = function(e, t) {
                var n, o, s = {};
                t || (t = {});
                for (o in p)
                    n = t[o],
                    s[o] = null == n ? p[o] : n;
                (s.position.indent || s.position.start) && (s.indent = s.position.indent || [],
                s.position = s.position.start);
                return function(e, t) {
                    var n, o, s, p, k, C, x, E, S, L, D, M, A, T, F, P, O, I, N, R = t.additional, B = t.nonTerminated, z = t.text, H = t.reference, V = t.warning, q = t.textContext, U = t.referenceContext, _ = t.warningContext, j = t.position, W = t.indent || [], $ = e.length, G = 0, Y = -1, K = j.column || 1, Q = j.line || 1, J = "", X = [];
                    "string" == typeof R && (R = R.charCodeAt(0));
                    P = Z(),
                    E = V ? ee : h,
                    G--,
                    $++;
                    for (; ++G < $; )
                        if (10 === k && (K = W[Y] || 1),
                        38 === (k = e.charCodeAt(G))) {
                            if (9 === (x = e.charCodeAt(G + 1)) || 10 === x || 12 === x || 32 === x || 38 === x || 60 === x || x != x || R && x === R) {
                                J += u(k),
                                K++;
                                continue
                            }
                            for (M = A = G + 1,
                            N = A,
                            35 === x ? (N = ++M,
                            88 === (x = e.charCodeAt(N)) || 120 === x ? (T = f,
                            N = ++M) : T = g) : T = d,
                            n = "",
                            D = "",
                            p = "",
                            F = v[T],
                            N--; ++N < $ && F(x = e.charCodeAt(N)); )
                                p += u(x),
                                T === d && c.call(i, p) && (n = p,
                                D = i[p]);
                            (s = 59 === e.charCodeAt(N)) && (N++,
                            (o = T === d && l(p)) && (n = p,
                            D = o)),
                            I = 1 + N - A,
                            (s || B) && (p ? T === d ? (s && !D ? E(5, 1) : (n !== p && (I = 1 + (N = M + n.length) - M,
                            s = !1),
                            s || (S = n ? 1 : 3,
                            t.attribute ? 61 === (x = e.charCodeAt(N)) ? (E(S, I),
                            D = null) : a(x) ? D = null : E(S, I) : E(S, I))),
                            C = D) : (s || E(2, I),
                            b(C = parseInt(p, m[T])) ? (E(7, I),
                            C = u(65533)) : C in r ? (E(6, I),
                            C = r[C]) : (L = "",
                            w(C) && E(6, I),
                            C > 65535 && (L += u((C -= 65536) >>> 10 | 55296),
                            C = 56320 | 1023 & C),
                            C = L + u(C))) : T !== d && E(4, I)),
                            C ? (te(),
                            P = Z(),
                            G = N - 1,
                            K += N - A + 1,
                            X.push(C),
                            (O = Z()).offset++,
                            H && H.call(U, C, {
                                start: P,
                                end: O
                            }, e.slice(A - 1, N)),
                            P = O) : (p = e.slice(A - 1, N),
                            J += p,
                            K += p.length,
                            G = N - 1)
                        } else
                            10 === k && (Q++,
                            Y++,
                            K = 0),
                            k == k ? (J += u(k),
                            K++) : te();
                    return X.join("");
                    function Z() {
                        return {
                            line: Q,
                            column: K,
                            offset: G + (j.offset || 0)
                        }
                    }
                    function ee(e, t) {
                        var n = Z();
                        n.column += t,
                        n.offset += t,
                        V.call(_, y[e], n, e)
                    }
                    function te() {
                        J && (X.push(J),
                        z && z.call(q, J, {
                            start: P,
                            end: Z()
                        }),
                        J = "")
                    }
                }(e, s)
            }
            ;
            var c = {}.hasOwnProperty
              , u = String.fromCharCode
              , h = Function.prototype
              , p = {
                warning: null,
                reference: null,
                text: null,
                warningContext: null,
                referenceContext: null,
                textContext: null,
                position: {},
                additional: null,
                attribute: !1,
                nonTerminated: !0
            }
              , d = "named"
              , f = "hexadecimal"
              , g = "decimal"
              , m = {
                hexadecimal: 16,
                decimal: 10
            }
              , v = {};
            v.named = a,
            v[g] = o,
            v[f] = s;
            var y = {};
            function b(e) {
                return e >= 55296 && e <= 57343 || e > 1114111
            }
            function w(e) {
                return e >= 1 && e <= 8 || 11 === e || e >= 13 && e <= 31 || e >= 127 && e <= 159 || e >= 64976 && e <= 65007 || 65535 == (65535 & e) || 65534 == (65535 & e)
            }
            y[1] = "Named character references must be terminated by a semicolon",
            y[2] = "Numeric character references must be terminated by a semicolon",
            y[3] = "Named character references cannot be empty",
            y[4] = "Numeric character references cannot be empty",
            y[5] = "Named character references must be known",
            y[6] = "Numeric character references cannot be disallowed",
            y[7] = "Numeric character references cannot be outside the permissible Unicode range"
        }
        ,
        9560: (e,t,n)=>{
            "use strict";
            var i = n(6632)
              , r = n(8805)
              , o = n(7643)
              , s = "data";
            e.exports = function(e, t) {
                var n = i(t)
                  , p = t
                  , d = o;
                if (n in e.normal)
                    return e.property[e.normal[n]];
                n.length > 4 && n.slice(0, 4) === s && a.test(t) && ("-" === t.charAt(4) ? p = function(e) {
                    var t = e.slice(5).replace(l, h);
                    return s + t.charAt(0).toUpperCase() + t.slice(1)
                }(t) : t = function(e) {
                    var t = e.slice(4);
                    if (l.test(t))
                        return e;
                    "-" !== (t = t.replace(c, u)).charAt(0) && (t = "-" + t);
                    return s + t
                }(t),
                d = r);
                return new d(p,t)
            }
            ;
            var a = /^data[-\w.:]+$/i
              , l = /-[a-z]/g
              , c = /[A-Z]/g;
            function u(e) {
                return "-" + e.toLowerCase()
            }
            function h(e) {
                return e.charAt(1).toUpperCase()
            }
        }
        ,
        7247: (e,t,n)=>{
            "use strict";
            var i = n(9940)
              , r = n(8289)
              , o = n(5812)
              , s = n(4397)
              , a = n(7716)
              , l = n(1805);
            e.exports = i([o, r, s, a, l])
        }
        ,
        7716: (e,t,n)=>{
            "use strict";
            var i = n(7e3)
              , r = n(7596)
              , o = i.booleanish
              , s = i.number
              , a = i.spaceSeparated;
            e.exports = r({
                transform: function(e, t) {
                    return "role" === t ? t : "aria-" + t.slice(4).toLowerCase()
                },
                properties: {
                    ariaActiveDescendant: null,
                    ariaAtomic: o,
                    ariaAutoComplete: null,
                    ariaBusy: o,
                    ariaChecked: o,
                    ariaColCount: s,
                    ariaColIndex: s,
                    ariaColSpan: s,
                    ariaControls: a,
                    ariaCurrent: null,
                    ariaDescribedBy: a,
                    ariaDetails: null,
                    ariaDisabled: o,
                    ariaDropEffect: a,
                    ariaErrorMessage: null,
                    ariaExpanded: o,
                    ariaFlowTo: a,
                    ariaGrabbed: o,
                    ariaHasPopup: null,
                    ariaHidden: o,
                    ariaInvalid: null,
                    ariaKeyShortcuts: null,
                    ariaLabel: null,
                    ariaLabelledBy: a,
                    ariaLevel: s,
                    ariaLive: null,
                    ariaModal: o,
                    ariaMultiLine: o,
                    ariaMultiSelectable: o,
                    ariaOrientation: null,
                    ariaOwns: a,
                    ariaPlaceholder: null,
                    ariaPosInSet: s,
                    ariaPressed: o,
                    ariaReadOnly: o,
                    ariaRelevant: null,
                    ariaRequired: o,
                    ariaRoleDescription: a,
                    ariaRowCount: s,
                    ariaRowIndex: s,
                    ariaRowSpan: s,
                    ariaSelected: o,
                    ariaSetSize: s,
                    ariaSort: null,
                    ariaValueMax: s,
                    ariaValueMin: s,
                    ariaValueNow: s,
                    ariaValueText: null,
                    role: null
                }
            })
        }
        ,
        1805: (e,t,n)=>{
            "use strict";
            var i = n(7e3)
              , r = n(7596)
              , o = n(855)
              , s = i.boolean
              , a = i.overloadedBoolean
              , l = i.booleanish
              , c = i.number
              , u = i.spaceSeparated
              , h = i.commaSeparated;
            e.exports = r({
                space: "html",
                attributes: {
                    acceptcharset: "accept-charset",
                    classname: "class",
                    htmlfor: "for",
                    httpequiv: "http-equiv"
                },
                transform: o,
                mustUseProperty: ["checked", "multiple", "muted", "selected"],
                properties: {
                    abbr: null,
                    accept: h,
                    acceptCharset: u,
                    accessKey: u,
                    action: null,
                    allow: null,
                    allowFullScreen: s,
                    allowPaymentRequest: s,
                    allowUserMedia: s,
                    alt: null,
                    as: null,
                    async: s,
                    autoCapitalize: null,
                    autoComplete: u,
                    autoFocus: s,
                    autoPlay: s,
                    capture: s,
                    charSet: null,
                    checked: s,
                    cite: null,
                    className: u,
                    cols: c,
                    colSpan: null,
                    content: null,
                    contentEditable: l,
                    controls: s,
                    controlsList: u,
                    coords: c | h,
                    crossOrigin: null,
                    data: null,
                    dateTime: null,
                    decoding: null,
                    default: s,
                    defer: s,
                    dir: null,
                    dirName: null,
                    disabled: s,
                    download: a,
                    draggable: l,
                    encType: null,
                    enterKeyHint: null,
                    form: null,
                    formAction: null,
                    formEncType: null,
                    formMethod: null,
                    formNoValidate: s,
                    formTarget: null,
                    headers: u,
                    height: c,
                    hidden: s,
                    high: c,
                    href: null,
                    hrefLang: null,
                    htmlFor: u,
                    httpEquiv: u,
                    id: null,
                    imageSizes: null,
                    imageSrcSet: h,
                    inputMode: null,
                    integrity: null,
                    is: null,
                    isMap: s,
                    itemId: null,
                    itemProp: u,
                    itemRef: u,
                    itemScope: s,
                    itemType: u,
                    kind: null,
                    label: null,
                    lang: null,
                    language: null,
                    list: null,
                    loop: s,
                    low: c,
                    manifest: null,
                    max: null,
                    maxLength: c,
                    media: null,
                    method: null,
                    min: null,
                    minLength: c,
                    multiple: s,
                    muted: s,
                    name: null,
                    nonce: null,
                    noModule: s,
                    noValidate: s,
                    onAbort: null,
                    onAfterPrint: null,
                    onAuxClick: null,
                    onBeforePrint: null,
                    onBeforeUnload: null,
                    onBlur: null,
                    onCancel: null,
                    onCanPlay: null,
                    onCanPlayThrough: null,
                    onChange: null,
                    onClick: null,
                    onClose: null,
                    onContextMenu: null,
                    onCopy: null,
                    onCueChange: null,
                    onCut: null,
                    onDblClick: null,
                    onDrag: null,
                    onDragEnd: null,
                    onDragEnter: null,
                    onDragExit: null,
                    onDragLeave: null,
                    onDragOver: null,
                    onDragStart: null,
                    onDrop: null,
                    onDurationChange: null,
                    onEmptied: null,
                    onEnded: null,
                    onError: null,
                    onFocus: null,
                    onFormData: null,
                    onHashChange: null,
                    onInput: null,
                    onInvalid: null,
                    onKeyDown: null,
                    onKeyPress: null,
                    onKeyUp: null,
                    onLanguageChange: null,
                    onLoad: null,
                    onLoadedData: null,
                    onLoadedMetadata: null,
                    onLoadEnd: null,
                    onLoadStart: null,
                    onMessage: null,
                    onMessageError: null,
                    onMouseDown: null,
                    onMouseEnter: null,
                    onMouseLeave: null,
                    onMouseMove: null,
                    onMouseOut: null,
                    onMouseOver: null,
                    onMouseUp: null,
                    onOffline: null,
                    onOnline: null,
                    onPageHide: null,
                    onPageShow: null,
                    onPaste: null,
                    onPause: null,
                    onPlay: null,
                    onPlaying: null,
                    onPopState: null,
                    onProgress: null,
                    onRateChange: null,
                    onRejectionHandled: null,
                    onReset: null,
                    onResize: null,
                    onScroll: null,
                    onSecurityPolicyViolation: null,
                    onSeeked: null,
                    onSeeking: null,
                    onSelect: null,
                    onSlotChange: null,
                    onStalled: null,
                    onStorage: null,
                    onSubmit: null,
                    onSuspend: null,
                    onTimeUpdate: null,
                    onToggle: null,
                    onUnhandledRejection: null,
                    onUnload: null,
                    onVolumeChange: null,
                    onWaiting: null,
                    onWheel: null,
                    open: s,
                    optimum: c,
                    pattern: null,
                    ping: u,
                    placeholder: null,
                    playsInline: s,
                    poster: null,
                    preload: null,
                    readOnly: s,
                    referrerPolicy: null,
                    rel: u,
                    required: s,
                    reversed: s,
                    rows: c,
                    rowSpan: c,
                    sandbox: u,
                    scope: null,
                    scoped: s,
                    seamless: s,
                    selected: s,
                    shape: null,
                    size: c,
                    sizes: null,
                    slot: null,
                    span: c,
                    spellCheck: l,
                    src: null,
                    srcDoc: null,
                    srcLang: null,
                    srcSet: h,
                    start: c,
                    step: null,
                    style: null,
                    tabIndex: c,
                    target: null,
                    title: null,
                    translate: null,
                    type: null,
                    typeMustMatch: s,
                    useMap: null,
                    value: l,
                    width: c,
                    wrap: null,
                    align: null,
                    aLink: null,
                    archive: u,
                    axis: null,
                    background: null,
                    bgColor: null,
                    border: c,
                    borderColor: null,
                    bottomMargin: c,
                    cellPadding: null,
                    cellSpacing: null,
                    char: null,
                    charOff: null,
                    classId: null,
                    clear: null,
                    code: null,
                    codeBase: null,
                    codeType: null,
                    color: null,
                    compact: s,
                    declare: s,
                    event: null,
                    face: null,
                    frame: null,
                    frameBorder: null,
                    hSpace: c,
                    leftMargin: c,
                    link: null,
                    longDesc: null,
                    lowSrc: null,
                    marginHeight: c,
                    marginWidth: c,
                    noResize: s,
                    noHref: s,
                    noShade: s,
                    noWrap: s,
                    object: null,
                    profile: null,
                    prompt: null,
                    rev: null,
                    rightMargin: c,
                    rules: null,
                    scheme: null,
                    scrolling: l,
                    standby: null,
                    summary: null,
                    text: null,
                    topMargin: c,
                    valueType: null,
                    version: null,
                    vAlign: null,
                    vLink: null,
                    vSpace: c,
                    allowTransparency: null,
                    autoCorrect: null,
                    autoSave: null,
                    disablePictureInPicture: s,
                    disableRemotePlayback: s,
                    prefix: null,
                    property: null,
                    results: c,
                    security: null,
                    unselectable: null
                }
            })
        }
        ,
        5789: (e,t,n)=>{
            "use strict";
            var i = n(7e3)
              , r = n(7596)
              , o = n(8740)
              , s = i.boolean
              , a = i.number
              , l = i.spaceSeparated
              , c = i.commaSeparated
              , u = i.commaOrSpaceSeparated;
            e.exports = r({
                space: "svg",
                attributes: {
                    accentHeight: "accent-height",
                    alignmentBaseline: "alignment-baseline",
                    arabicForm: "arabic-form",
                    baselineShift: "baseline-shift",
                    capHeight: "cap-height",
                    className: "class",
                    clipPath: "clip-path",
                    clipRule: "clip-rule",
                    colorInterpolation: "color-interpolation",
                    colorInterpolationFilters: "color-interpolation-filters",
                    colorProfile: "color-profile",
                    colorRendering: "color-rendering",
                    crossOrigin: "crossorigin",
                    dataType: "datatype",
                    dominantBaseline: "dominant-baseline",
                    enableBackground: "enable-background",
                    fillOpacity: "fill-opacity",
                    fillRule: "fill-rule",
                    floodColor: "flood-color",
                    floodOpacity: "flood-opacity",
                    fontFamily: "font-family",
                    fontSize: "font-size",
                    fontSizeAdjust: "font-size-adjust",
                    fontStretch: "font-stretch",
                    fontStyle: "font-style",
                    fontVariant: "font-variant",
                    fontWeight: "font-weight",
                    glyphName: "glyph-name",
                    glyphOrientationHorizontal: "glyph-orientation-horizontal",
                    glyphOrientationVertical: "glyph-orientation-vertical",
                    hrefLang: "hreflang",
                    horizAdvX: "horiz-adv-x",
                    horizOriginX: "horiz-origin-x",
                    horizOriginY: "horiz-origin-y",
                    imageRendering: "image-rendering",
                    letterSpacing: "letter-spacing",
                    lightingColor: "lighting-color",
                    markerEnd: "marker-end",
                    markerMid: "marker-mid",
                    markerStart: "marker-start",
                    navDown: "nav-down",
                    navDownLeft: "nav-down-left",
                    navDownRight: "nav-down-right",
                    navLeft: "nav-left",
                    navNext: "nav-next",
                    navPrev: "nav-prev",
                    navRight: "nav-right",
                    navUp: "nav-up",
                    navUpLeft: "nav-up-left",
                    navUpRight: "nav-up-right",
                    onAbort: "onabort",
                    onActivate: "onactivate",
                    onAfterPrint: "onafterprint",
                    onBeforePrint: "onbeforeprint",
                    onBegin: "onbegin",
                    onCancel: "oncancel",
                    onCanPlay: "oncanplay",
                    onCanPlayThrough: "oncanplaythrough",
                    onChange: "onchange",
                    onClick: "onclick",
                    onClose: "onclose",
                    onCopy: "oncopy",
                    onCueChange: "oncuechange",
                    onCut: "oncut",
                    onDblClick: "ondblclick",
                    onDrag: "ondrag",
                    onDragEnd: "ondragend",
                    onDragEnter: "ondragenter",
                    onDragExit: "ondragexit",
                    onDragLeave: "ondragleave",
                    onDragOver: "ondragover",
                    onDragStart: "ondragstart",
                    onDrop: "ondrop",
                    onDurationChange: "ondurationchange",
                    onEmptied: "onemptied",
                    onEnd: "onend",
                    onEnded: "onended",
                    onError: "onerror",
                    onFocus: "onfocus",
                    onFocusIn: "onfocusin",
                    onFocusOut: "onfocusout",
                    onHashChange: "onhashchange",
                    onInput: "oninput",
                    onInvalid: "oninvalid",
                    onKeyDown: "onkeydown",
                    onKeyPress: "onkeypress",
                    onKeyUp: "onkeyup",
                    onLoad: "onload",
                    onLoadedData: "onloadeddata",
                    onLoadedMetadata: "onloadedmetadata",
                    onLoadStart: "onloadstart",
                    onMessage: "onmessage",
                    onMouseDown: "onmousedown",
                    onMouseEnter: "onmouseenter",
                    onMouseLeave: "onmouseleave",
                    onMouseMove: "onmousemove",
                    onMouseOut: "onmouseout",
                    onMouseOver: "onmouseover",
                    onMouseUp: "onmouseup",
                    onMouseWheel: "onmousewheel",
                    onOffline: "onoffline",
                    onOnline: "ononline",
                    onPageHide: "onpagehide",
                    onPageShow: "onpageshow",
                    onPaste: "onpaste",
                    onPause: "onpause",
                    onPlay: "onplay",
                    onPlaying: "onplaying",
                    onPopState: "onpopstate",
                    onProgress: "onprogress",
                    onRateChange: "onratechange",
                    onRepeat: "onrepeat",
                    onReset: "onreset",
                    onResize: "onresize",
                    onScroll: "onscroll",
                    onSeeked: "onseeked",
                    onSeeking: "onseeking",
                    onSelect: "onselect",
                    onShow: "onshow",
                    onStalled: "onstalled",
                    onStorage: "onstorage",
                    onSubmit: "onsubmit",
                    onSuspend: "onsuspend",
                    onTimeUpdate: "ontimeupdate",
                    onToggle: "ontoggle",
                    onUnload: "onunload",
                    onVolumeChange: "onvolumechange",
                    onWaiting: "onwaiting",
                    onZoom: "onzoom",
                    overlinePosition: "overline-position",
                    overlineThickness: "overline-thickness",
                    paintOrder: "paint-order",
                    panose1: "panose-1",
                    pointerEvents: "pointer-events",
                    referrerPolicy: "referrerpolicy",
                    renderingIntent: "rendering-intent",
                    shapeRendering: "shape-rendering",
                    stopColor: "stop-color",
                    stopOpacity: "stop-opacity",
                    strikethroughPosition: "strikethrough-position",
                    strikethroughThickness: "strikethrough-thickness",
                    strokeDashArray: "stroke-dasharray",
                    strokeDashOffset: "stroke-dashoffset",
                    strokeLineCap: "stroke-linecap",
                    strokeLineJoin: "stroke-linejoin",
                    strokeMiterLimit: "stroke-miterlimit",
                    strokeOpacity: "stroke-opacity",
                    strokeWidth: "stroke-width",
                    tabIndex: "tabindex",
                    textAnchor: "text-anchor",
                    textDecoration: "text-decoration",
                    textRendering: "text-rendering",
                    typeOf: "typeof",
                    underlinePosition: "underline-position",
                    underlineThickness: "underline-thickness",
                    unicodeBidi: "unicode-bidi",
                    unicodeRange: "unicode-range",
                    unitsPerEm: "units-per-em",
                    vAlphabetic: "v-alphabetic",
                    vHanging: "v-hanging",
                    vIdeographic: "v-ideographic",
                    vMathematical: "v-mathematical",
                    vectorEffect: "vector-effect",
                    vertAdvY: "vert-adv-y",
                    vertOriginX: "vert-origin-x",
                    vertOriginY: "vert-origin-y",
                    wordSpacing: "word-spacing",
                    writingMode: "writing-mode",
                    xHeight: "x-height",
                    playbackOrder: "playbackorder",
                    timelineBegin: "timelinebegin"
                },
                transform: o,
                properties: {
                    about: u,
                    accentHeight: a,
                    accumulate: null,
                    additive: null,
                    alignmentBaseline: null,
                    alphabetic: a,
                    amplitude: a,
                    arabicForm: null,
                    ascent: a,
                    attributeName: null,
                    attributeType: null,
                    azimuth: a,
                    bandwidth: null,
                    baselineShift: null,
                    baseFrequency: null,
                    baseProfile: null,
                    bbox: null,
                    begin: null,
                    bias: a,
                    by: null,
                    calcMode: null,
                    capHeight: a,
                    className: l,
                    clip: null,
                    clipPath: null,
                    clipPathUnits: null,
                    clipRule: null,
                    color: null,
                    colorInterpolation: null,
                    colorInterpolationFilters: null,
                    colorProfile: null,
                    colorRendering: null,
                    content: null,
                    contentScriptType: null,
                    contentStyleType: null,
                    crossOrigin: null,
                    cursor: null,
                    cx: null,
                    cy: null,
                    d: null,
                    dataType: null,
                    defaultAction: null,
                    descent: a,
                    diffuseConstant: a,
                    direction: null,
                    display: null,
                    dur: null,
                    divisor: a,
                    dominantBaseline: null,
                    download: s,
                    dx: null,
                    dy: null,
                    edgeMode: null,
                    editable: null,
                    elevation: a,
                    enableBackground: null,
                    end: null,
                    event: null,
                    exponent: a,
                    externalResourcesRequired: null,
                    fill: null,
                    fillOpacity: a,
                    fillRule: null,
                    filter: null,
                    filterRes: null,
                    filterUnits: null,
                    floodColor: null,
                    floodOpacity: null,
                    focusable: null,
                    focusHighlight: null,
                    fontFamily: null,
                    fontSize: null,
                    fontSizeAdjust: null,
                    fontStretch: null,
                    fontStyle: null,
                    fontVariant: null,
                    fontWeight: null,
                    format: null,
                    fr: null,
                    from: null,
                    fx: null,
                    fy: null,
                    g1: c,
                    g2: c,
                    glyphName: c,
                    glyphOrientationHorizontal: null,
                    glyphOrientationVertical: null,
                    glyphRef: null,
                    gradientTransform: null,
                    gradientUnits: null,
                    handler: null,
                    hanging: a,
                    hatchContentUnits: null,
                    hatchUnits: null,
                    height: null,
                    href: null,
                    hrefLang: null,
                    horizAdvX: a,
                    horizOriginX: a,
                    horizOriginY: a,
                    id: null,
                    ideographic: a,
                    imageRendering: null,
                    initialVisibility: null,
                    in: null,
                    in2: null,
                    intercept: a,
                    k: a,
                    k1: a,
                    k2: a,
                    k3: a,
                    k4: a,
                    kernelMatrix: u,
                    kernelUnitLength: null,
                    keyPoints: null,
                    keySplines: null,
                    keyTimes: null,
                    kerning: null,
                    lang: null,
                    lengthAdjust: null,
                    letterSpacing: null,
                    lightingColor: null,
                    limitingConeAngle: a,
                    local: null,
                    markerEnd: null,
                    markerMid: null,
                    markerStart: null,
                    markerHeight: null,
                    markerUnits: null,
                    markerWidth: null,
                    mask: null,
                    maskContentUnits: null,
                    maskUnits: null,
                    mathematical: null,
                    max: null,
                    media: null,
                    mediaCharacterEncoding: null,
                    mediaContentEncodings: null,
                    mediaSize: a,
                    mediaTime: null,
                    method: null,
                    min: null,
                    mode: null,
                    name: null,
                    navDown: null,
                    navDownLeft: null,
                    navDownRight: null,
                    navLeft: null,
                    navNext: null,
                    navPrev: null,
                    navRight: null,
                    navUp: null,
                    navUpLeft: null,
                    navUpRight: null,
                    numOctaves: null,
                    observer: null,
                    offset: null,
                    onAbort: null,
                    onActivate: null,
                    onAfterPrint: null,
                    onBeforePrint: null,
                    onBegin: null,
                    onCancel: null,
                    onCanPlay: null,
                    onCanPlayThrough: null,
                    onChange: null,
                    onClick: null,
                    onClose: null,
                    onCopy: null,
                    onCueChange: null,
                    onCut: null,
                    onDblClick: null,
                    onDrag: null,
                    onDragEnd: null,
                    onDragEnter: null,
                    onDragExit: null,
                    onDragLeave: null,
                    onDragOver: null,
                    onDragStart: null,
                    onDrop: null,
                    onDurationChange: null,
                    onEmptied: null,
                    onEnd: null,
                    onEnded: null,
                    onError: null,
                    onFocus: null,
                    onFocusIn: null,
                    onFocusOut: null,
                    onHashChange: null,
                    onInput: null,
                    onInvalid: null,
                    onKeyDown: null,
                    onKeyPress: null,
                    onKeyUp: null,
                    onLoad: null,
                    onLoadedData: null,
                    onLoadedMetadata: null,
                    onLoadStart: null,
                    onMessage: null,
                    onMouseDown: null,
                    onMouseEnter: null,
                    onMouseLeave: null,
                    onMouseMove: null,
                    onMouseOut: null,
                    onMouseOver: null,
                    onMouseUp: null,
                    onMouseWheel: null,
                    onOffline: null,
                    onOnline: null,
                    onPageHide: null,
                    onPageShow: null,
                    onPaste: null,
                    onPause: null,
                    onPlay: null,
                    onPlaying: null,
                    onPopState: null,
                    onProgress: null,
                    onRateChange: null,
                    onRepeat: null,
                    onReset: null,
                    onResize: null,
                    onScroll: null,
                    onSeeked: null,
                    onSeeking: null,
                    onSelect: null,
                    onShow: null,
                    onStalled: null,
                    onStorage: null,
                    onSubmit: null,
                    onSuspend: null,
                    onTimeUpdate: null,
                    onToggle: null,
                    onUnload: null,
                    onVolumeChange: null,
                    onWaiting: null,
                    onZoom: null,
                    opacity: null,
                    operator: null,
                    order: null,
                    orient: null,
                    orientation: null,
                    origin: null,
                    overflow: null,
                    overlay: null,
                    overlinePosition: a,
                    overlineThickness: a,
                    paintOrder: null,
                    panose1: null,
                    path: null,
                    pathLength: a,
                    patternContentUnits: null,
                    patternTransform: null,
                    patternUnits: null,
                    phase: null,
                    ping: l,
                    pitch: null,
                    playbackOrder: null,
                    pointerEvents: null,
                    points: null,
                    pointsAtX: a,
                    pointsAtY: a,
                    pointsAtZ: a,
                    preserveAlpha: null,
                    preserveAspectRatio: null,
                    primitiveUnits: null,
                    propagate: null,
                    property: u,
                    r: null,
                    radius: null,
                    referrerPolicy: null,
                    refX: null,
                    refY: null,
                    rel: u,
                    rev: u,
                    renderingIntent: null,
                    repeatCount: null,
                    repeatDur: null,
                    requiredExtensions: u,
                    requiredFeatures: u,
                    requiredFonts: u,
                    requiredFormats: u,
                    resource: null,
                    restart: null,
                    result: null,
                    rotate: null,
                    rx: null,
                    ry: null,
                    scale: null,
                    seed: null,
                    shapeRendering: null,
                    side: null,
                    slope: null,
                    snapshotTime: null,
                    specularConstant: a,
                    specularExponent: a,
                    spreadMethod: null,
                    spacing: null,
                    startOffset: null,
                    stdDeviation: null,
                    stemh: null,
                    stemv: null,
                    stitchTiles: null,
                    stopColor: null,
                    stopOpacity: null,
                    strikethroughPosition: a,
                    strikethroughThickness: a,
                    string: null,
                    stroke: null,
                    strokeDashArray: u,
                    strokeDashOffset: null,
                    strokeLineCap: null,
                    strokeLineJoin: null,
                    strokeMiterLimit: a,
                    strokeOpacity: a,
                    strokeWidth: null,
                    style: null,
                    surfaceScale: a,
                    syncBehavior: null,
                    syncBehaviorDefault: null,
                    syncMaster: null,
                    syncTolerance: null,
                    syncToleranceDefault: null,
                    systemLanguage: u,
                    tabIndex: a,
                    tableValues: null,
                    target: null,
                    targetX: a,
                    targetY: a,
                    textAnchor: null,
                    textDecoration: null,
                    textRendering: null,
                    textLength: null,
                    timelineBegin: null,
                    title: null,
                    transformBehavior: null,
                    type: null,
                    typeOf: u,
                    to: null,
                    transform: null,
                    u1: null,
                    u2: null,
                    underlinePosition: a,
                    underlineThickness: a,
                    unicode: null,
                    unicodeBidi: null,
                    unicodeRange: null,
                    unitsPerEm: a,
                    values: null,
                    vAlphabetic: a,
                    vMathematical: a,
                    vectorEffect: null,
                    vHanging: a,
                    vIdeographic: a,
                    version: null,
                    vertAdvY: a,
                    vertOriginX: a,
                    vertOriginY: a,
                    viewBox: null,
                    viewTarget: null,
                    visibility: null,
                    width: null,
                    widths: null,
                    wordSpacing: null,
                    writingMode: null,
                    x: null,
                    x1: null,
                    x2: null,
                    xChannelSelector: null,
                    xHeight: a,
                    y: null,
                    y1: null,
                    y2: null,
                    yChannelSelector: null,
                    z: null,
                    zoomAndPan: null
                }
            })
        }
        ,
        855: (e,t,n)=>{
            "use strict";
            var i = n(8740);
            e.exports = function(e, t) {
                return i(e, t.toLowerCase())
            }
        }
        ,
        8740: e=>{
            "use strict";
            e.exports = function(e, t) {
                return t in e ? e[t] : t
            }
        }
        ,
        7596: (e,t,n)=>{
            "use strict";
            var i = n(6632)
              , r = n(9607)
              , o = n(8805);
            e.exports = function(e) {
                var t, n, s = e.space, a = e.mustUseProperty || [], l = e.attributes || {}, c = e.properties, u = e.transform, h = {}, p = {};
                for (t in c)
                    n = new o(t,u(l, t),c[t],s),
                    -1 !== a.indexOf(t) && (n.mustUseProperty = !0),
                    h[t] = n,
                    p[i(t)] = t,
                    p[i(n.attribute)] = t;
                return new r(h,p,s)
            }
        }
        ,
        8805: (e,t,n)=>{
            "use strict";
            var i = n(7643)
              , r = n(7e3);
            e.exports = a,
            a.prototype = new i,
            a.prototype.defined = !0;
            var o = ["boolean", "booleanish", "overloadedBoolean", "number", "commaSeparated", "spaceSeparated", "commaOrSpaceSeparated"]
              , s = o.length;
            function a(e, t, n, a) {
                var c, u = -1;
                for (l(this, "space", a),
                i.call(this, e, t); ++u < s; )
                    l(this, c = o[u], (n & r[c]) === r[c])
            }
            function l(e, t, n) {
                n && (e[t] = n)
            }
        }
        ,
        7643: e=>{
            "use strict";
            e.exports = n;
            var t = n.prototype;
            function n(e, t) {
                this.property = e,
                this.attribute = t
            }
            t.space = null,
            t.attribute = null,
            t.property = null,
            t.boolean = !1,
            t.booleanish = !1,
            t.overloadedBoolean = !1,
            t.number = !1,
            t.commaSeparated = !1,
            t.spaceSeparated = !1,
            t.commaOrSpaceSeparated = !1,
            t.mustUseProperty = !1,
            t.defined = !1
        }
        ,
        9940: (e,t,n)=>{
            "use strict";
            var i = n(7529)
              , r = n(9607);
            e.exports = function(e) {
                var t, n, o = e.length, s = [], a = [], l = -1;
                for (; ++l < o; )
                    t = e[l],
                    s.push(t.property),
                    a.push(t.normal),
                    n = t.space;
                return new r(i.apply(null, s),i.apply(null, a),n)
            }
        }
        ,
        9607: e=>{
            "use strict";
            e.exports = n;
            var t = n.prototype;
            function n(e, t, n) {
                this.property = e,
                this.normal = t,
                n && (this.space = n)
            }
            t.space = null,
            t.normal = {},
            t.property = {}
        }
        ,
        7e3: (e,t)=>{
            "use strict";
            var n = 0;
            function i() {
                return Math.pow(2, ++n)
            }
            t.boolean = i(),
            t.booleanish = i(),
            t.overloadedBoolean = i(),
            t.number = i(),
            t.spaceSeparated = i(),
            t.commaSeparated = i(),
            t.commaOrSpaceSeparated = i()
        }
        ,
        8289: (e,t,n)=>{
            "use strict";
            var i = n(7596);
            e.exports = i({
                space: "xlink",
                transform: function(e, t) {
                    return "xlink:" + t.slice(5).toLowerCase()
                },
                properties: {
                    xLinkActuate: null,
                    xLinkArcRole: null,
                    xLinkHref: null,
                    xLinkRole: null,
                    xLinkShow: null,
                    xLinkTitle: null,
                    xLinkType: null
                }
            })
        }
        ,
        5812: (e,t,n)=>{
            "use strict";
            var i = n(7596);
            e.exports = i({
                space: "xml",
                transform: function(e, t) {
                    return "xml:" + t.slice(3).toLowerCase()
                },
                properties: {
                    xmlLang: null,
                    xmlBase: null,
                    xmlSpace: null
                }
            })
        }
        ,
        4397: (e,t,n)=>{
            "use strict";
            var i = n(7596)
              , r = n(855);
            e.exports = i({
                space: "xmlns",
                attributes: {
                    xmlnsxlink: "xmlns:xlink"
                },
                transform: r,
                properties: {
                    xmlns: null,
                    xmlnsXLink: null
                }
            })
        }
        ,
        6632: e=>{
            "use strict";
            e.exports = function(e) {
                return e.toLowerCase()
            }
        }
        ,
        1218: (e,t,n)=>{
            "use strict";
            var i = n(9940)
              , r = n(8289)
              , o = n(5812)
              , s = n(4397)
              , a = n(7716)
              , l = n(5789);
            e.exports = i([o, r, s, a, l])
        }
        ,
        6464: e=>{
            "use strict";
            var t, n = "";
            e.exports = function(e, i) {
                if ("string" != typeof e)
                    throw new TypeError("expected a string");
                if (1 === i)
                    return e;
                if (2 === i)
                    return e + e;
                var r = e.length * i;
                if (t !== e || void 0 === t)
                    t = e,
                    n = "";
                else if (n.length >= r)
                    return n.substr(0, r);
                for (; r > n.length && i > 1; )
                    1 & i && (n += e),
                    i >>= 1,
                    e += e;
                return n = (n += e).substr(0, r)
            }
        }
        ,
        6582: (e,t)=>{
            "use strict";
            t.P = function(e) {
                return e.join(" ").trim()
            }
            ;
            var n = /[ \t\n\r\f]+/g
        }
        ,
        78: e=>{
            "use strict";
            e.exports = function(e, t, n) {
                return function() {
                    var i = n || this
                      , r = i[e];
                    return i[e] = !t,
                    o;
                    function o() {
                        i[e] = r
                    }
                }
            }
        }
        ,
        832: e=>{
            "use strict";
            e.exports = JSON.parse('["cent","copy","divide","gt","lt","not","para","times"]')
        }
        ,
        4860: (e,t,n)=>{
            "use strict";
            var i = n(5848)
              , r = n(6588)
              , o = n(9480)
              , s = n(6195)
              , a = n(7961)
              , l = n(832);
            e.exports = f,
            f.escape = function(e) {
                return f(e, {
                    escapeOnly: !0,
                    useNamedReferences: !0
                })
            }
            ;
            var c = {}.hasOwnProperty
              , u = function() {
                var e, t = {};
                for (e in i)
                    t[i[e]] = e;
                return t
            }()
              , h = v(['"', "'", "<", ">", "&", "`"])
              , p = /[\uD800-\uDBFF][\uDC00-\uDFFF]/g
              , d = /[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g;
            function f(e, t) {
                var n = t || {}
                  , i = n.subset
                  , o = i ? v(i) : h
                  , s = n.escapeOnly
                  , f = n.omitOptionalSemicolons;
                return e = e.replace(o, y),
                i || s ? e : e.replace(p, (function(e, t, n) {
                    return g(1024 * (e.charCodeAt(0) - 55296) + e.charCodeAt(1) - 56320 + 65536, n.charCodeAt(t + 2), f)
                }
                )).replace(d, y);
                function y(e, t, i) {
                    return function(e, t, n) {
                        var i, o, s, h, p = n.useShortestReferences, d = n.omitOptionalSemicolons;
                        (p || n.useNamedReferences) && c.call(u, e) && (i = function(e, t, n, i) {
                            var o = "&" + e;
                            if (n && c.call(r, e) && -1 === l.indexOf(e) && (!i || t && 61 !== t && !a(t)))
                                return o;
                            return o + ";"
                        }(u[e], t, d, n.attribute));
                        !p && i || (s = g(o = e.charCodeAt(0), t, d),
                        p && (h = m(o, t, d)).length < s.length && (s = h));
                        if (i && (!p || i.length < s.length))
                            return i;
                        return s
                    }(e, i.charCodeAt(t + 1), n)
                }
            }
            function g(e, t, n) {
                var i = "&#x" + e.toString(16).toUpperCase();
                return n && t && !o(t) ? i : i + ";"
            }
            function m(e, t, n) {
                var i = "&#" + String(e);
                return n && t && !s(t) ? i : i + ";"
            }
            function v(e) {
                return new RegExp("[" + e.join("") + "]","g")
            }
        }
        ,
        6221: e=>{
            "use strict";
            e.exports = function(e) {
                return String(e).replace(t, "\n")
            }
            ;
            var t = /[ \t]*\n+[ \t]*/g
        }
        ,
        7257: e=>{
            "use strict";
            e.exports = function(e) {
                var t = String(e)
                  , n = t.length;
                for (; "\n" === t.charAt(--n); )
                    ;
                return t.slice(0, n + 1)
            }
        }
        ,
        2745: (e,t)=>{
            (t = e.exports = function(e) {
                return e.replace(/^\s*|\s*$/g, "")
            }
            ).left = function(e) {
                return e.replace(/^\s*/, "")
            }
            ,
            t.right = function(e) {
                return e.replace(/\s*$/, "")
            }
        }
        ,
        3278: (e,t,n)=>{
            "use strict";
            var i = n(7529)
              , r = n(5717);
            e.exports = function(e) {
                var t, n, o;
                for (n in r(a, e),
                r(s, a),
                t = a.prototype)
                    (o = t[n]) && "object" == typeof o && (t[n] = "concat"in o ? o.concat() : i(o));
                return a;
                function s(t) {
                    return e.apply(this, t)
                }
                function a() {
                    return this instanceof a ? e.apply(this, arguments) : new s(arguments)
                }
            }
        }
        ,
        914: e=>{
            "use strict";
            e.exports = function(e, t, n) {
                var i;
                null != n || "object" == typeof t && !Array.isArray(t) || (n = t,
                t = {});
                i = Object.assign({
                    type: String(e)
                }, t),
                Array.isArray(n) ? i.children = n : null != n && (i.value = String(n));
                return i
            }
        }
        ,
        1744: e=>{
            "use strict";
            function t(e) {
                return e && "object" == typeof e ? e : {}
            }
            e.exports = function(e) {
                var n = t(t(e).position)
                  , i = t(n.start)
                  , r = t(n.end);
                return !(i.line && i.column && r.line && r.column)
            }
        }
        ,
        8145: e=>{
            "use strict";
            function t(e) {
                if ("string" == typeof e)
                    return function(e) {
                        return t;
                        function t(t) {
                            return Boolean(t && t.type === e)
                        }
                    }(e);
                if (null == e)
                    return r;
                if ("object" == typeof e)
                    return ("length"in e ? i : n)(e);
                if ("function" == typeof e)
                    return e;
                throw new Error("Expected function, string, or object as test")
            }
            function n(e) {
                return function(t) {
                    var n;
                    for (n in e)
                        if (t[n] !== e[n])
                            return !1;
                    return !0
                }
            }
            function i(e) {
                var n = function(e) {
                    for (var n = [], i = e.length, r = -1; ++r < i; )
                        n[r] = t(e[r]);
                    return n
                }(e)
                  , i = n.length;
                return function() {
                    var e = -1;
                    for (; ++e < i; )
                        if (n[e].apply(this, arguments))
                            return !0;
                    return !1
                }
            }
            function r() {
                return !0
            }
            e.exports = t
        }
        ,
        7361: e=>{
            "use strict";
            var t = r("start")
              , n = r("end");
            function i(e) {
                return {
                    start: t(e),
                    end: n(e)
                }
            }
            function r(e) {
                return t.displayName = e,
                t;
                function t(t) {
                    var n = t && t.position && t.position[e] || {};
                    return {
                        line: n.line || null,
                        column: n.column || null,
                        offset: isNaN(n.offset) ? null : n.offset
                    }
                }
            }
            e.exports = i,
            i.start = t,
            i.end = n
        }
        ,
        3183: (e,t,n)=>{
            "use strict";
            var i = n(2854);
            function r(e) {
                delete e.position
            }
            function o(e) {
                e.position = void 0
            }
            e.exports = function(e, t) {
                return i(e, t ? r : o),
                e
            }
        }
        ,
        5432: e=>{
            "use strict";
            var t = {}.hasOwnProperty;
            function n(e) {
                return e && "object" == typeof e || (e = {}),
                r(e.line) + ":" + r(e.column)
            }
            function i(e) {
                return e && "object" == typeof e || (e = {}),
                n(e.start) + "-" + n(e.end)
            }
            function r(e) {
                return e && "number" == typeof e ? e : 1
            }
            e.exports = function(e) {
                if (!e || "object" != typeof e)
                    return "";
                if (t.call(e, "position") || t.call(e, "type"))
                    return i(e.position);
                if (t.call(e, "start") || t.call(e, "end"))
                    return i(e);
                if (t.call(e, "line") || t.call(e, "column"))
                    return n(e);
                return ""
            }
        }
        ,
        6750: e=>{
            e.exports = function(e) {
                return e
            }
        }
        ,
        9294: (e,t,n)=>{
            "use strict";
            e.exports = a;
            var i = n(8145)
              , r = n(6750)
              , o = "skip"
              , s = !1;
            function a(e, t, n, a) {
                var p;
                function d(e, i, c) {
                    var f, g = h(e) ? e : {};
                    return u(g.type) && (f = u(g.tagName) ? g.tagName : u(g.name) ? g.name : void 0,
                    m.displayName = "node (" + r(g.type + (f ? "<" + f + ">" : "")) + ")"),
                    m;
                    function m() {
                        var r, u = [];
                        return (t && !p(e, i, c[c.length - 1] || null) || (u = l(n(e, c)))[0] !== s) && e.children && u[0] !== o && (r = l(function(e, t) {
                            var n, i = -1, r = a ? -1 : 1, o = (a ? e.length : i) + r;
                            for (; o > i && o < e.length; ) {
                                if ((n = d(e[o], o, t)())[0] === s)
                                    return n;
                                o = "number" == typeof n[1] ? n[1] : o + r
                            }
                        }(e.children, c.concat(e))))[0] === s ? r : u
                    }
                }
                c(t) && !c(n) && (a = n,
                n = t,
                t = null),
                p = i(t),
                d(e, null, [])()
            }
            function l(e) {
                return h(e) && "length"in e ? e : "number" == typeof e ? [true, e] : [e]
            }
            function c(e) {
                return "function" == typeof e
            }
            function u(e) {
                return "string" == typeof e
            }
            function h(e) {
                return "object" == typeof e && null !== e
            }
            a.CONTINUE = true,
            a.SKIP = o,
            a.EXIT = s
        }
        ,
        2854: (e,t,n)=>{
            "use strict";
            e.exports = a;
            var i = n(9294)
              , r = i.CONTINUE
              , o = i.SKIP
              , s = i.EXIT;
            function a(e, t, n, r) {
                "function" == typeof t && "function" != typeof n && (r = n,
                n = t,
                t = null),
                i(e, t, (function(e, t) {
                    var i = t[t.length - 1]
                      , r = i ? i.children.indexOf(e) : null;
                    return n(e, r, i)
                }
                ), r)
            }
            a.CONTINUE = r,
            a.SKIP = o,
            a.EXIT = s
        }
        ,
        4787: e=>{
            "use strict";
            e.exports = function(e) {
                var t = String(e)
                  , n = []
                  , i = /\r?\n|\r/g;
                for (; i.exec(t); )
                    n.push(i.lastIndex);
                return n.push(t.length + 1),
                {
                    toPoint: r,
                    toPosition: r,
                    toOffset: function(e) {
                        var t, i = e && e.line, r = e && e.column;
                        isNaN(i) || isNaN(r) || !(i - 1 in n) || (t = (n[i - 2] || 0) + r - 1 || 0);
                        return t > -1 && t < n[n.length - 1] ? t : -1
                    }
                };
                function r(e) {
                    var t = -1;
                    if (e > -1 && e < n[n.length - 1])
                        for (; ++t < n.length; )
                            if (n[t] > e)
                                return {
                                    line: t + 1,
                                    column: e - (n[t - 1] || 0) + 1,
                                    offset: e
                                };
                    return {}
                }
            }
        }
        ,
        734: (e,t,n)=>{
            "use strict";
            var i = n(5432);
            function r() {}
            e.exports = s,
            r.prototype = Error.prototype,
            s.prototype = new r;
            var o = s.prototype;
            function s(e, t, n) {
                var r, o, s;
                "string" == typeof t && (n = t,
                t = null),
                r = function(e) {
                    var t, n = [null, null];
                    "string" == typeof e && (-1 === (t = e.indexOf(":")) ? n[1] = e : (n[0] = e.slice(0, t),
                    n[1] = e.slice(t + 1)));
                    return n
                }(n),
                o = i(t) || "1:1",
                s = {
                    start: {
                        line: null,
                        column: null
                    },
                    end: {
                        line: null,
                        column: null
                    }
                },
                t && t.position && (t = t.position),
                t && (t.start ? (s = t,
                t = t.start) : s.start = t),
                e.stack && (this.stack = e.stack,
                e = e.message),
                this.message = e,
                this.name = o,
                this.reason = e,
                this.line = t ? t.line : null,
                this.column = t ? t.column : null,
                this.location = s,
                this.source = r[0],
                this.ruleId = r[1]
            }
            o.file = "",
            o.name = "",
            o.reason = "",
            o.message = "",
            o.stack = "",
            o.fatal = null,
            o.column = null,
            o.line = null
        }
        ,
        939: (e,t,n)=>{
            "use strict";
            e.exports = n(5905)
        }
        ,
        5442: (e,t,n)=>{
            "use strict";
            var i = n(8064)
              , r = n(4228)
              , o = n(8738);
            e.exports = l;
            var s = {}.hasOwnProperty
              , a = ["history", "path", "basename", "stem", "extname", "dirname"];
            function l(e) {
                var t, n;
                if (e) {
                    if ("string" == typeof e || o(e))
                        e = {
                            contents: e
                        };
                    else if ("message"in e && "messages"in e)
                        return e
                } else
                    e = {};
                if (!(this instanceof l))
                    return new l(e);
                for (this.data = {},
                this.messages = [],
                this.history = [],
                this.cwd = r.cwd(),
                n = -1; ++n < a.length; )
                    t = a[n],
                    s.call(e, t) && (this[t] = e[t]);
                for (t in e)
                    a.indexOf(t) < 0 && (this[t] = e[t])
            }
            function c(e, t) {
                if (e && e.indexOf(i.sep) > -1)
                    throw new Error("`" + t + "` cannot be a path: did not expect `" + i.sep + "`")
            }
            function u(e, t) {
                if (!e)
                    throw new Error("`" + t + "` cannot be empty")
            }
            function h(e, t) {
                if (!e)
                    throw new Error("Setting `" + t + "` requires `path` to be set too")
            }
            l.prototype.toString = function(e) {
                return (this.contents || "").toString(e)
            }
            ,
            Object.defineProperty(l.prototype, "path", {
                get: function() {
                    return this.history[this.history.length - 1]
                },
                set: function(e) {
                    u(e, "path"),
                    this.path !== e && this.history.push(e)
                }
            }),
            Object.defineProperty(l.prototype, "dirname", {
                get: function() {
                    return "string" == typeof this.path ? i.dirname(this.path) : void 0
                },
                set: function(e) {
                    h(this.path, "dirname"),
                    this.path = i.join(e || "", this.basename)
                }
            }),
            Object.defineProperty(l.prototype, "basename", {
                get: function() {
                    return "string" == typeof this.path ? i.basename(this.path) : void 0
                },
                set: function(e) {
                    u(e, "basename"),
                    c(e, "basename"),
                    this.path = i.join(this.dirname || "", e)
                }
            }),
            Object.defineProperty(l.prototype, "extname", {
                get: function() {
                    return "string" == typeof this.path ? i.extname(this.path) : void 0
                },
                set: function(e) {
                    if (c(e, "extname"),
                    h(this.path, "extname"),
                    e) {
                        if (46 !== e.charCodeAt(0))
                            throw new Error("`extname` must start with `.`");
                        if (e.indexOf(".", 1) > -1)
                            throw new Error("`extname` cannot contain multiple dots")
                    }
                    this.path = i.join(this.dirname, this.stem + (e || ""))
                }
            }),
            Object.defineProperty(l.prototype, "stem", {
                get: function() {
                    return "string" == typeof this.path ? i.basename(this.path, this.extname) : void 0
                },
                set: function(e) {
                    u(e, "stem"),
                    c(e, "stem"),
                    this.path = i.join(this.dirname || "", e + (this.extname || ""))
                }
            })
        }
        ,
        5905: (e,t,n)=>{
            "use strict";
            var i = n(734)
              , r = n(5442);
            e.exports = r,
            r.prototype.message = function(e, t, n) {
                var r = new i(e,t,n);
                this.path && (r.name = this.path + ":" + r.name,
                r.file = this.path);
                return r.fatal = !1,
                this.messages.push(r),
                r
            }
            ,
            r.prototype.info = function() {
                var e = this.message.apply(this, arguments);
                return e.fatal = null,
                e
            }
            ,
            r.prototype.fail = function() {
                var e = this.message.apply(this, arguments);
                throw e.fatal = !0,
                e
            }
        }
        ,
        8064: (e,t)=>{
            "use strict";
            function n(e) {
                var t, n;
                return i(e),
                t = 47 === e.charCodeAt(0),
                (n = function(e, t) {
                    var n, i, r = "", o = 0, s = -1, a = 0, l = -1;
                    for (; ++l <= e.length; ) {
                        if (l < e.length)
                            n = e.charCodeAt(l);
                        else {
                            if (47 === n)
                                break;
                            n = 47
                        }
                        if (47 === n) {
                            if (s === l - 1 || 1 === a)
                                ;
                            else if (s !== l - 1 && 2 === a) {
                                if (r.length < 2 || 2 !== o || 46 !== r.charCodeAt(r.length - 1) || 46 !== r.charCodeAt(r.length - 2))
                                    if (r.length > 2) {
                                        if ((i = r.lastIndexOf("/")) !== r.length - 1) {
                                            i < 0 ? (r = "",
                                            o = 0) : o = (r = r.slice(0, i)).length - 1 - r.lastIndexOf("/"),
                                            s = l,
                                            a = 0;
                                            continue
                                        }
                                    } else if (r.length) {
                                        r = "",
                                        o = 0,
                                        s = l,
                                        a = 0;
                                        continue
                                    }
                                t && (r = r.length ? r + "/.." : "..",
                                o = 2)
                            } else
                                r.length ? r += "/" + e.slice(s + 1, l) : r = e.slice(s + 1, l),
                                o = l - s - 1;
                            s = l,
                            a = 0
                        } else
                            46 === n && a > -1 ? a++ : a = -1
                    }
                    return r
                }(e, !t)).length || t || (n = "."),
                n.length && 47 === e.charCodeAt(e.length - 1) && (n += "/"),
                t ? "/" + n : n
            }
            function i(e) {
                if ("string" != typeof e)
                    throw new TypeError("Path must be a string. Received " + JSON.stringify(e))
            }
            t.basename = function(e, t) {
                var n, r, o, s, a = 0, l = -1;
                if (void 0 !== t && "string" != typeof t)
                    throw new TypeError('"ext" argument must be a string');
                if (i(e),
                n = e.length,
                void 0 === t || !t.length || t.length > e.length) {
                    for (; n--; )
                        if (47 === e.charCodeAt(n)) {
                            if (o) {
                                a = n + 1;
                                break
                            }
                        } else
                            l < 0 && (o = !0,
                            l = n + 1);
                    return l < 0 ? "" : e.slice(a, l)
                }
                if (t === e)
                    return "";
                r = -1,
                s = t.length - 1;
                for (; n--; )
                    if (47 === e.charCodeAt(n)) {
                        if (o) {
                            a = n + 1;
                            break
                        }
                    } else
                        r < 0 && (o = !0,
                        r = n + 1),
                        s > -1 && (e.charCodeAt(n) === t.charCodeAt(s--) ? s < 0 && (l = n) : (s = -1,
                        l = r));
                a === l ? l = r : l < 0 && (l = e.length);
                return e.slice(a, l)
            }
            ,
            t.dirname = function(e) {
                var t, n, r;
                if (i(e),
                !e.length)
                    return ".";
                t = -1,
                r = e.length;
                for (; --r; )
                    if (47 === e.charCodeAt(r)) {
                        if (n) {
                            t = r;
                            break
                        }
                    } else
                        n || (n = !0);
                return t < 0 ? 47 === e.charCodeAt(0) ? "/" : "." : 1 === t && 47 === e.charCodeAt(0) ? "//" : e.slice(0, t)
            }
            ,
            t.extname = function(e) {
                var t, n, r, o = -1, s = 0, a = -1, l = 0;
                i(e),
                r = e.length;
                for (; r--; )
                    if (47 !== (n = e.charCodeAt(r)))
                        a < 0 && (t = !0,
                        a = r + 1),
                        46 === n ? o < 0 ? o = r : 1 !== l && (l = 1) : o > -1 && (l = -1);
                    else if (t) {
                        s = r + 1;
                        break
                    }
                if (o < 0 || a < 0 || 0 === l || 1 === l && o === a - 1 && o === s + 1)
                    return "";
                return e.slice(o, a)
            }
            ,
            t.join = function() {
                var e, t = -1;
                for (; ++t < arguments.length; )
                    i(arguments[t]),
                    arguments[t] && (e = void 0 === e ? arguments[t] : e + "/" + arguments[t]);
                return void 0 === e ? "." : n(e)
            }
            ,
            t.sep = "/"
        }
        ,
        4228: (e,t)=>{
            "use strict";
            t.cwd = function() {
                return "/"
            }
        }
        ,
        7529: e=>{
            e.exports = function() {
                for (var e = {}, n = 0; n < arguments.length; n++) {
                    var i = arguments[n];
                    for (var r in i)
                        t.call(i, r) && (e[r] = i[r])
                }
                return e
            }
            ;
            var t = Object.prototype.hasOwnProperty
        }
        ,
        5572: (e,t,n)=>{
            "use strict";
            var i = n(3278)
              , r = n(7529)
              , o = n(4186);
            function s(e) {
                var t = this.data("settings")
                  , n = i(o);
                n.prototype.options = r(n.prototype.options, t, e),
                this.Parser = n
            }
            e.exports = s,
            s.Parser = o
        }
        ,
        8204: e=>{
            "use strict";
            e.exports = ["address", "article", "aside", "base", "basefont", "blockquote", "body", "caption", "center", "col", "colgroup", "dd", "details", "dialog", "dir", "div", "dl", "dt", "fieldset", "figcaption", "figure", "footer", "form", "frame", "frameset", "h1", "h2", "h3", "h4", "h5", "h6", "head", "header", "hgroup", "hr", "html", "iframe", "legend", "li", "link", "main", "menu", "menuitem", "meta", "nav", "noframes", "ol", "optgroup", "option", "p", "param", "pre", "section", "source", "title", "summary", "table", "tbody", "td", "tfoot", "th", "thead", "title", "tr", "track", "ul"]
        }
        ,
        1819: (e,t,n)=>{
            "use strict";
            var i = n(7529)
              , r = n(7574);
            e.exports = function(e) {
                return n.raw = function(e, n, s) {
                    return r(e, i(s, {
                        position: t(n),
                        warning: o
                    }))
                }
                ,
                n;
                function t(t) {
                    for (var n = e.offset, i = t.line, r = []; ++i && i in n; )
                        r.push((n[i] || 0) + 1);
                    return {
                        start: t,
                        indent: r
                    }
                }
                function n(n, i, s) {
                    r(n, {
                        position: t(i),
                        warning: o,
                        text: s,
                        reference: s,
                        textContext: e,
                        referenceContext: e
                    })
                }
                function o(t, n, i) {
                    3 !== i && e.file.message(t, n)
                }
            }
        }
        ,
        3114: (e,t,n)=>{
            "use strict";
            e.exports = {
                position: !0,
                gfm: !0,
                commonmark: !1,
                pedantic: !1,
                blocks: n(8204)
            }
        }
        ,
        563: e=>{
            "use strict";
            e.exports = function(e, t) {
                var n = e.indexOf("\n", t);
                for (; n > t && " " === e.charAt(n - 1); )
                    n--;
                return n
            }
        }
        ,
        6497: e=>{
            "use strict";
            e.exports = function(e, t) {
                return e.indexOf("`", t)
            }
        }
        ,
        3723: e=>{
            "use strict";
            e.exports = function(e, t) {
                return e.indexOf("~~", t)
            }
        }
        ,
        973: (e,t,n)=>{
            "use strict";
            var i = n(6195)
              , r = n(6260);
            function o(e) {
                return i(e) || r(e) || 43 === e || 45 === e || 46 === e || 95 === e
            }
            e.exports = function e(t, n) {
                var i, r;
                if (!this.options.gfm)
                    return -1;
                if (-1 === (i = t.indexOf("@", n)))
                    return -1;
                if ((r = i) === n || !o(t.charCodeAt(r - 1)))
                    return e.call(this, t, i + 1);
                for (; r > n && o(t.charCodeAt(r - 1)); )
                    r--;
                return r
            }
        }
        ,
        2411: e=>{
            "use strict";
            e.exports = function(e, t) {
                var n = e.indexOf("*", t)
                  , i = e.indexOf("_", t);
                if (-1 === i)
                    return n;
                if (-1 === n)
                    return i;
                return i < n ? i : n
            }
        }
        ,
        4681: e=>{
            "use strict";
            e.exports = function(e, t) {
                return e.indexOf("\\", t)
            }
        }
        ,
        633: e=>{
            "use strict";
            e.exports = function(e, t) {
                var n = e.indexOf("[", t)
                  , i = e.indexOf("![", t);
                if (-1 === i)
                    return n;
                return n < i ? n : i
            }
        }
        ,
        1016: e=>{
            "use strict";
            e.exports = function(e, t) {
                var n = e.indexOf("**", t)
                  , i = e.indexOf("__", t);
                if (-1 === i)
                    return n;
                if (-1 === n)
                    return i;
                return i < n ? i : n
            }
        }
        ,
        46: e=>{
            "use strict";
            e.exports = function(e, t) {
                return e.indexOf("<", t)
            }
        }
        ,
        8637: e=>{
            "use strict";
            e.exports = function(e, n) {
                var i, r, o, s = -1;
                if (!this.options.gfm)
                    return s;
                r = t.length,
                i = -1;
                for (; ++i < r; )
                    -1 !== (o = e.indexOf(t[i], n)) && (-1 === s || o < s) && (s = o);
                return s
            }
            ;
            var t = ["www.", "http://", "https://"]
        }
        ,
        4767: (e,t,n)=>{
            "use strict";
            var i = n(7529)
              , r = n(3183);
            e.exports = function() {
                var e, t = this, n = String(t.file), s = {
                    line: 1,
                    column: 1,
                    offset: 0
                }, a = i(s);
                65279 === (n = n.replace(o, "\n")).charCodeAt(0) && (n = n.slice(1),
                a.column++,
                a.offset++);
                e = {
                    type: "root",
                    children: t.tokenizeBlock(n, a),
                    position: {
                        start: s,
                        end: t.eof || i(s)
                    }
                },
                t.options.position || r(e, !0);
                return e
            }
            ;
            var o = /\r\n|\r/g
        }
        ,
        4186: (e,t,n)=>{
            "use strict";
            var i = n(7529)
              , r = n(78)
              , o = n(4787)
              , s = n(7678)
              , a = n(1819)
              , l = n(831);
            function c(e, t) {
                this.file = t,
                this.offset = {},
                this.options = i(this.options),
                this.setOptions({}),
                this.inList = !1,
                this.inBlock = !1,
                this.inLink = !1,
                this.atStart = !0,
                this.toOffset = o(t).toOffset,
                this.unescape = s(this, "escape"),
                this.decode = a(this)
            }
            e.exports = c;
            var u = c.prototype;
            function h(e) {
                var t, n = [];
                for (t in e)
                    n.push(t);
                return n
            }
            u.setOptions = n(5248),
            u.parse = n(4767),
            u.options = n(3114),
            u.exitStart = r("atStart", !0),
            u.enterList = r("inList", !1),
            u.enterLink = r("inLink", !1),
            u.enterBlock = r("inBlock", !1),
            u.interruptParagraph = [["thematicBreak"], ["list"], ["atxHeading"], ["fencedCode"], ["blockquote"], ["html"], ["setextHeading", {
                commonmark: !1
            }], ["definition", {
                commonmark: !1
            }]],
            u.interruptList = [["atxHeading", {
                pedantic: !1
            }], ["fencedCode", {
                pedantic: !1
            }], ["thematicBreak", {
                pedantic: !1
            }], ["definition", {
                commonmark: !1
            }]],
            u.interruptBlockquote = [["indentedCode", {
                commonmark: !0
            }], ["fencedCode", {
                commonmark: !0
            }], ["atxHeading", {
                commonmark: !0
            }], ["setextHeading", {
                commonmark: !0
            }], ["thematicBreak", {
                commonmark: !0
            }], ["html", {
                commonmark: !0
            }], ["list", {
                commonmark: !0
            }], ["definition", {
                commonmark: !1
            }]],
            u.blockTokenizers = {
                blankLine: n(9269),
                indentedCode: n(6167),
                fencedCode: n(1484),
                blockquote: n(8502),
                atxHeading: n(684),
                thematicBreak: n(8352),
                list: n(2866),
                setextHeading: n(1578),
                html: n(6494),
                definition: n(7742),
                table: n(308),
                paragraph: n(7006)
            },
            u.inlineTokenizers = {
                escape: n(1796),
                autoLink: n(2768),
                url: n(26),
                email: n(4937),
                html: n(5810),
                link: n(7786),
                reference: n(977),
                strong: n(1248),
                emphasis: n(3391),
                deletion: n(5702),
                code: n(1243),
                break: n(4245),
                text: n(8825)
            },
            u.blockMethods = h(u.blockTokenizers),
            u.inlineMethods = h(u.inlineTokenizers),
            u.tokenizeBlock = l("block"),
            u.tokenizeInline = l("inline"),
            u.tokenizeFactory = l
        }
        ,
        5248: (e,t,n)=>{
            "use strict";
            var i = n(7529)
              , r = n(2123)
              , o = n(3114);
            e.exports = function(e) {
                var t, n, s = this, a = s.options;
                if (null == e)
                    e = {};
                else {
                    if ("object" != typeof e)
                        throw new Error("Invalid value `" + e + "` for setting `options`");
                    e = i(e)
                }
                for (t in o) {
                    if (null == (n = e[t]) && (n = a[t]),
                    "blocks" !== t && "boolean" != typeof n || "blocks" === t && "object" != typeof n)
                        throw new Error("Invalid value `" + n + "` for setting `options." + t + "`");
                    e[t] = n
                }
                return s.options = e,
                s.escape = r(e),
                s
            }
        }
        ,
        2768: (e,t,n)=>{
            "use strict";
            var i = n(2139)
              , r = n(7574)
              , o = n(46);
            e.exports = l,
            l.locator = o,
            l.notInLink = !0;
            var s = "mailto:"
              , a = s.length;
            function l(e, t, n) {
                var o, l, c, u, h, p = this, d = "", f = t.length, g = 0, m = "", v = !1, y = "";
                if ("<" === t.charAt(0)) {
                    for (g++,
                    d = "<"; g < f && (o = t.charAt(g),
                    !(i(o) || ">" === o || "@" === o || ":" === o && "/" === t.charAt(g + 1))); )
                        m += o,
                        g++;
                    if (m) {
                        if (y += m,
                        m = "",
                        y += o = t.charAt(g),
                        g++,
                        "@" === o)
                            v = !0;
                        else {
                            if (":" !== o || "/" !== t.charAt(g + 1))
                                return;
                            y += "/",
                            g++
                        }
                        for (; g < f && (o = t.charAt(g),
                        !i(o) && ">" !== o); )
                            m += o,
                            g++;
                        if (o = t.charAt(g),
                        m && ">" === o)
                            return !!n || (c = y += m,
                            d += y + o,
                            (l = e.now()).column++,
                            l.offset++,
                            v && (y.slice(0, a).toLowerCase() === s ? (c = c.slice(a),
                            l.column += a,
                            l.offset += a) : y = s + y),
                            u = p.inlineTokenizers,
                            p.inlineTokenizers = {
                                text: u.text
                            },
                            h = p.enterLink(),
                            c = p.tokenizeInline(c, l),
                            p.inlineTokenizers = u,
                            h(),
                            e(d)({
                                type: "link",
                                title: null,
                                url: r(y, {
                                    nonTerminated: !1
                                }),
                                children: c
                            }))
                    }
                }
            }
        }
        ,
        9269: e=>{
            "use strict";
            var t = /^[ \t]*(\n|$)/;
            e.exports = function(e, n, i) {
                var r, o = "", s = 0, a = n.length;
                for (; s < a && null != (r = t.exec(n.slice(s))); )
                    s += r[0].length,
                    o += r[0];
                if ("" === o)
                    return;
                if (i)
                    return !0;
                e(o)
            }
        }
        ,
        8502: (e,t,n)=>{
            "use strict";
            var i = n(2745)
              , r = n(7901);
            e.exports = function(e, t, n) {
                var o, s, a, l, c, u, h, p, d, f = this, g = f.offset, m = f.blockTokenizers, v = f.interruptBlockquote, y = e.now(), b = y.line, w = t.length, k = [], C = [], x = [], E = 0;
                for (; E < w && (" " === (s = t.charAt(E)) || "\t" === s); )
                    E++;
                if (">" !== t.charAt(E))
                    return;
                if (n)
                    return !0;
                E = 0;
                for (; E < w; ) {
                    for (l = t.indexOf("\n", E),
                    h = E,
                    p = !1,
                    -1 === l && (l = w); E < w && (" " === (s = t.charAt(E)) || "\t" === s); )
                        E++;
                    if (">" === t.charAt(E) ? (E++,
                    p = !0,
                    " " === t.charAt(E) && E++) : E = h,
                    c = t.slice(E, l),
                    !p && !i(c)) {
                        E = h;
                        break
                    }
                    if (!p && (a = t.slice(E),
                    r(v, m, f, [e, a, !0])))
                        break;
                    u = h === E ? c : t.slice(h, l),
                    x.push(E - h),
                    k.push(u),
                    C.push(c),
                    E = l + 1
                }
                E = -1,
                w = x.length,
                o = e(k.join("\n"));
                for (; ++E < w; )
                    g[b] = (g[b] || 0) + x[E],
                    b++;
                return d = f.enterBlock(),
                C = f.tokenizeBlock(C.join("\n"), y),
                d(),
                o({
                    type: "blockquote",
                    children: C
                })
            }
        }
        ,
        4245: (e,t,n)=>{
            "use strict";
            var i = n(563);
            e.exports = r,
            r.locator = i;
            function r(e, t, n) {
                for (var i, r = t.length, o = -1, s = ""; ++o < r; ) {
                    if ("\n" === (i = t.charAt(o))) {
                        if (o < 2)
                            return;
                        return !!n || e(s += i)({
                            type: "break"
                        })
                    }
                    if (" " !== i)
                        return;
                    s += i
                }
            }
        }
        ,
        1484: e=>{
            "use strict";
            e.exports = function(e, r, o) {
                var s, a, l, c, u, h, p, d, f, g, m, v, y, b = this, w = b.options.gfm, k = r.length + 1, C = 0, x = "";
                if (!w)
                    return;
                for (; C < k && ((l = r.charAt(C)) === i || l === n); )
                    x += l,
                    C++;
                if (v = C,
                "~" !== (l = r.charAt(C)) && "`" !== l)
                    return;
                C++,
                a = l,
                s = 1,
                x += l;
                for (; C < k && (l = r.charAt(C)) === a; )
                    x += l,
                    s++,
                    C++;
                if (s < 3)
                    return;
                for (; C < k && ((l = r.charAt(C)) === i || l === n); )
                    x += l,
                    C++;
                c = "",
                p = "";
                for (; C < k && (l = r.charAt(C)) !== t && ("`" !== a || l !== a); )
                    l === i || l === n ? p += l : (c += p + l,
                    p = ""),
                    C++;
                if ((l = r.charAt(C)) && l !== t)
                    return;
                if (o)
                    return !0;
                (y = e.now()).column += x.length,
                y.offset += x.length,
                x += c,
                c = b.decode.raw(b.unescape(c), y),
                p && (x += p);
                p = "",
                g = "",
                m = "",
                d = "",
                f = "";
                var E = !0;
                for (; C < k; )
                    if (l = r.charAt(C),
                    d += g,
                    f += m,
                    g = "",
                    m = "",
                    l === t) {
                        for (E ? (x += l,
                        E = !1) : (g += l,
                        m += l),
                        p = "",
                        C++; C < k && (l = r.charAt(C)) === i; )
                            p += l,
                            C++;
                        if (g += p,
                        m += p.slice(v),
                        !(p.length >= 4)) {
                            for (p = ""; C < k && (l = r.charAt(C)) === a; )
                                p += l,
                                C++;
                            if (g += p,
                            m += p,
                            !(p.length < s)) {
                                for (p = ""; C < k && ((l = r.charAt(C)) === i || l === n); )
                                    g += l,
                                    m += l,
                                    C++;
                                if (!l || l === t)
                                    break
                            }
                        }
                    } else
                        d += l,
                        m += l,
                        C++;
                x += d + g,
                C = -1,
                k = c.length;
                for (; ++C < k; )
                    if ((l = c.charAt(C)) === i || l === n)
                        u || (u = c.slice(0, C));
                    else if (u) {
                        h = c.slice(C);
                        break
                    }
                return e(x)({
                    type: "code",
                    lang: u || c || null,
                    meta: h || null,
                    value: f
                })
            }
            ;
            var t = "\n"
              , n = "\t"
              , i = " "
        }
        ,
        6167: (e,t,n)=>{
            "use strict";
            var i = n(6464)
              , r = n(7257);
            e.exports = function(e, t, n) {
                var i, s, a, l = -1, c = t.length, u = "", h = "", p = "", d = "";
                for (; ++l < c; )
                    if (i = t.charAt(l),
                    a)
                        if (a = !1,
                        u += p,
                        h += d,
                        p = "",
                        d = "",
                        "\n" === i)
                            p = i,
                            d = i;
                        else
                            for (u += i,
                            h += i; ++l < c; ) {
                                if (!(i = t.charAt(l)) || "\n" === i) {
                                    d = i,
                                    p = i;
                                    break
                                }
                                u += i,
                                h += i
                            }
                    else if (" " === i && t.charAt(l + 1) === i && t.charAt(l + 2) === i && t.charAt(l + 3) === i)
                        p += o,
                        l += 3,
                        a = !0;
                    else if ("\t" === i)
                        p += i,
                        a = !0;
                    else {
                        for (s = ""; "\t" === i || " " === i; )
                            s += i,
                            i = t.charAt(++l);
                        if ("\n" !== i)
                            break;
                        p += s + i,
                        d += i
                    }
                if (h)
                    return !!n || e(u)({
                        type: "code",
                        lang: null,
                        meta: null,
                        value: r(h)
                    })
            }
            ;
            var o = i(" ", 4)
        }
        ,
        1243: (e,t,n)=>{
            "use strict";
            var i = n(6497);
            e.exports = r,
            r.locator = i;
            function r(e, t, n) {
                for (var i, r, o, s, a, l, c = t.length, u = 0; u < c && 96 === t.charCodeAt(u); )
                    u++;
                if (0 !== u && u !== c) {
                    for (i = u,
                    a = t.charCodeAt(u); u < c; ) {
                        if (s = a,
                        a = t.charCodeAt(u + 1),
                        96 === s) {
                            if (void 0 === r && (r = u),
                            o = u + 1,
                            96 !== a && o - r === i) {
                                l = !0;
                                break
                            }
                        } else
                            void 0 !== r && (r = void 0,
                            o = void 0);
                        u++
                    }
                    if (l) {
                        if (n)
                            return !0;
                        if (u = i,
                        c = r,
                        s = t.charCodeAt(u),
                        a = t.charCodeAt(c - 1),
                        l = !1,
                        c - u > 2 && (32 === s || 10 === s) && (32 === a || 10 === a)) {
                            for (u++,
                            c--; u < c; ) {
                                if (32 !== (s = t.charCodeAt(u)) && 10 !== s) {
                                    l = !0;
                                    break
                                }
                                u++
                            }
                            !0 === l && (i++,
                            r--)
                        }
                        return e(t.slice(0, o))({
                            type: "inlineCode",
                            value: t.slice(i, r)
                        })
                    }
                }
            }
        }
        ,
        7742: (e,t,n)=>{
            "use strict";
            var i = n(2139)
              , r = n(6749);
            e.exports = function(e, t, n) {
                var i, h, p, d, f, g, m, v, y = this, b = y.options.commonmark, w = 0, k = t.length, C = "";
                for (; w < k && ((d = t.charAt(w)) === a || d === s); )
                    C += d,
                    w++;
                if ("[" !== (d = t.charAt(w)))
                    return;
                w++,
                C += d,
                p = "";
                for (; w < k && (d = t.charAt(w)) !== l; )
                    "\\" === d && (p += d,
                    w++,
                    d = t.charAt(w)),
                    p += d,
                    w++;
                if (!p || t.charAt(w) !== l || ":" !== t.charAt(w + 1))
                    return;
                g = p,
                w = (C += p + l + ":").length,
                p = "";
                for (; w < k && ((d = t.charAt(w)) === s || d === a || d === o); )
                    C += d,
                    w++;
                if (d = t.charAt(w),
                p = "",
                i = C,
                "<" === d) {
                    for (w++; w < k && c(d = t.charAt(w)); )
                        p += d,
                        w++;
                    if ((d = t.charAt(w)) === c.delimiter)
                        C += "<" + p + d,
                        w++;
                    else {
                        if (b)
                            return;
                        w -= p.length + 1,
                        p = ""
                    }
                }
                if (!p) {
                    for (; w < k && u(d = t.charAt(w)); )
                        p += d,
                        w++;
                    C += p
                }
                if (!p)
                    return;
                m = p,
                p = "";
                for (; w < k && ((d = t.charAt(w)) === s || d === a || d === o); )
                    p += d,
                    w++;
                d = t.charAt(w),
                f = null,
                '"' === d ? f = '"' : "'" === d ? f = "'" : "(" === d && (f = ")");
                if (f) {
                    if (!p)
                        return;
                    for (w = (C += p + d).length,
                    p = ""; w < k && (d = t.charAt(w)) !== f; ) {
                        if (d === o) {
                            if (w++,
                            (d = t.charAt(w)) === o || d === f)
                                return;
                            p += o
                        }
                        p += d,
                        w++
                    }
                    if ((d = t.charAt(w)) !== f)
                        return;
                    h = C,
                    C += p + d,
                    w++,
                    v = p,
                    p = ""
                } else
                    p = "",
                    w = C.length;
                for (; w < k && ((d = t.charAt(w)) === s || d === a); )
                    C += d,
                    w++;
                if (!(d = t.charAt(w)) || d === o)
                    return !!n || (i = e(i).test().end,
                    m = y.decode.raw(y.unescape(m), i, {
                        nonTerminated: !1
                    }),
                    v && (h = e(h).test().end,
                    v = y.decode.raw(y.unescape(v), h)),
                    e(C)({
                        type: "definition",
                        identifier: r(g),
                        label: g,
                        title: v || null,
                        url: m
                    }))
            }
            ;
            var o = "\n"
              , s = "\t"
              , a = " "
              , l = "]";
            function c(e) {
                return ">" !== e && "[" !== e && e !== l
            }
            function u(e) {
                return "[" !== e && e !== l && !i(e)
            }
            c.delimiter = ">"
        }
        ,
        5702: (e,t,n)=>{
            "use strict";
            var i = n(2139)
              , r = n(3723);
            e.exports = s,
            s.locator = r;
            var o = "~";
            function s(e, t, n) {
                var r, s, a, l = "", c = "", u = "", h = "";
                if (this.options.gfm && t.charAt(0) === o && t.charAt(1) === o && !i(t.charAt(2)))
                    for (r = 1,
                    s = t.length,
                    (a = e.now()).column += 2,
                    a.offset += 2; ++r < s; ) {
                        if (!((l = t.charAt(r)) !== o || c !== o || u && i(u)))
                            return !!n || e("~~" + h + "~~")({
                                type: "delete",
                                children: this.tokenizeInline(h, a)
                            });
                        h += c,
                        u = c,
                        c = l
                    }
            }
        }
        ,
        4937: (e,t,n)=>{
            "use strict";
            var i = n(7574)
              , r = n(6195)
              , o = n(6260)
              , s = n(973);
            e.exports = a,
            a.locator = s,
            a.notInLink = !0;
            function a(e, t, n) {
                var s, a, l, c, u = this, h = u.options.gfm, p = u.inlineTokenizers, d = 0, f = t.length, g = -1;
                if (h) {
                    for (s = t.charCodeAt(d); r(s) || o(s) || 43 === s || 45 === s || 46 === s || 95 === s; )
                        s = t.charCodeAt(++d);
                    if (0 !== d && 64 === s) {
                        for (d++; d < f && (s = t.charCodeAt(d),
                        r(s) || o(s) || 45 === s || 46 === s || 95 === s); )
                            d++,
                            -1 === g && 46 === s && (g = d);
                        if (-1 !== g && g !== d && 45 !== s && 95 !== s)
                            return 46 === s && d--,
                            a = t.slice(0, d),
                            !!n || (c = u.enterLink(),
                            u.inlineTokenizers = {
                                text: p.text
                            },
                            l = u.tokenizeInline(a, e.now()),
                            u.inlineTokenizers = p,
                            c(),
                            e(a)({
                                type: "link",
                                title: null,
                                url: "mailto:" + i(a, {
                                    nonTerminated: !1
                                }),
                                children: l
                            }))
                    }
                }
            }
        }
        ,
        3391: (e,t,n)=>{
            "use strict";
            var i = n(2745)
              , r = n(3017)
              , o = n(2139)
              , s = n(2411);
            e.exports = a,
            a.locator = s;
            function a(e, t, n) {
                var s, a, l, c, u, h, p, d = 0, f = t.charAt(d);
                if (!("*" !== f && "_" !== f || (a = this.options.pedantic,
                u = f,
                l = f,
                h = t.length,
                d++,
                c = "",
                f = "",
                a && o(t.charAt(d)))))
                    for (; d < h; ) {
                        if (p = f,
                        !((f = t.charAt(d)) !== l || a && o(p))) {
                            if ((f = t.charAt(++d)) !== l) {
                                if (!i(c) || p === l)
                                    return;
                                if (!a && "_" === l && r(f)) {
                                    c += l;
                                    continue
                                }
                                return !!n || ((s = e.now()).column++,
                                s.offset++,
                                e(u + c + l)({
                                    type: "emphasis",
                                    children: this.tokenizeInline(c, s)
                                }))
                            }
                            c += l
                        }
                        a || "\\" !== f || (c += f,
                        f = t.charAt(++d)),
                        c += f,
                        d++
                    }
            }
        }
        ,
        1796: (e,t,n)=>{
            "use strict";
            var i = n(4681);
            e.exports = r,
            r.locator = i;
            function r(e, t, n) {
                var i, r;
                if ("\\" === t.charAt(0) && (i = t.charAt(1),
                -1 !== this.escape.indexOf(i)))
                    return !!n || (r = "\n" === i ? {
                        type: "break"
                    } : {
                        type: "text",
                        value: i
                    },
                    e("\\" + i)(r))
            }
        }
        ,
        684: e=>{
            "use strict";
            e.exports = function(e, r, o) {
                var s, a, l, c = this.options.pedantic, u = r.length + 1, h = -1, p = e.now(), d = "", f = "";
                for (; ++h < u; ) {
                    if ((s = r.charAt(h)) !== n && s !== t) {
                        h--;
                        break
                    }
                    d += s
                }
                l = 0;
                for (; ++h <= u; ) {
                    if ((s = r.charAt(h)) !== i) {
                        h--;
                        break
                    }
                    d += s,
                    l++
                }
                if (l > 6)
                    return;
                if (!l || !c && r.charAt(h + 1) === i)
                    return;
                u = r.length + 1,
                a = "";
                for (; ++h < u; ) {
                    if ((s = r.charAt(h)) !== n && s !== t) {
                        h--;
                        break
                    }
                    a += s
                }
                if (!c && 0 === a.length && s && "\n" !== s)
                    return;
                if (o)
                    return !0;
                d += a,
                a = "",
                f = "";
                for (; ++h < u && (s = r.charAt(h)) && "\n" !== s; )
                    if (s === n || s === t || s === i) {
                        for (; s === n || s === t; )
                            a += s,
                            s = r.charAt(++h);
                        if (c || !f || a || s !== i) {
                            for (; s === i; )
                                a += s,
                                s = r.charAt(++h);
                            for (; s === n || s === t; )
                                a += s,
                                s = r.charAt(++h);
                            h--
                        } else
                            f += s
                    } else
                        f += a + s,
                        a = "";
                return p.column += d.length,
                p.offset += d.length,
                e(d += f + a)({
                    type: "heading",
                    depth: l,
                    children: this.tokenizeInline(f, p)
                })
            }
            ;
            var t = "\t"
              , n = " "
              , i = "#"
        }
        ,
        1578: e=>{
            "use strict";
            e.exports = function(e, t, n) {
                var i, r, o, s, a, l = e.now(), c = t.length, u = -1, h = "";
                for (; ++u < c; ) {
                    if (" " !== (o = t.charAt(u)) || u >= 3) {
                        u--;
                        break
                    }
                    h += o
                }
                i = "",
                r = "";
                for (; ++u < c; ) {
                    if ("\n" === (o = t.charAt(u))) {
                        u--;
                        break
                    }
                    " " === o || "\t" === o ? r += o : (i += r + o,
                    r = "")
                }
                if (l.column += h.length,
                l.offset += h.length,
                h += i + r,
                o = t.charAt(++u),
                s = t.charAt(++u),
                "\n" !== o || "=" !== s && "-" !== s)
                    return;
                h += o,
                r = s,
                a = "=" === s ? 1 : 2;
                for (; ++u < c; ) {
                    if ((o = t.charAt(u)) !== s) {
                        if ("\n" !== o)
                            return;
                        u--;
                        break
                    }
                    r += o
                }
                if (n)
                    return !0;
                return e(h + r)({
                    type: "heading",
                    depth: a,
                    children: this.tokenizeInline(i, l)
                })
            }
        }
        ,
        6494: (e,t,n)=>{
            "use strict";
            var i = n(1537).g;
            e.exports = function(e, t, n) {
                var i, m, v, y, b, w, k, C = this.options.blocks.join("|"), x = new RegExp("^</?(" + C + ")(?=(\\s|/?>|$))","i"), E = t.length, S = 0, L = [[r, o, !0], [s, a, !0], [l, c, !0], [u, h, !0], [p, d, !0], [x, f, !0], [g, f, !1]];
                for (; S < E && ("\t" === (y = t.charAt(S)) || " " === y); )
                    S++;
                if ("<" !== t.charAt(S))
                    return;
                i = -1 === (i = t.indexOf("\n", S + 1)) ? E : i,
                m = t.slice(S, i),
                v = -1,
                b = L.length;
                for (; ++v < b; )
                    if (L[v][0].test(m)) {
                        w = L[v];
                        break
                    }
                if (!w)
                    return;
                if (n)
                    return w[2];
                if (S = i,
                !w[1].test(m))
                    for (; S < E; ) {
                        if (i = -1 === (i = t.indexOf("\n", S + 1)) ? E : i,
                        m = t.slice(S + 1, i),
                        w[1].test(m)) {
                            m && (S = i);
                            break
                        }
                        S = i
                    }
                return k = t.slice(0, S),
                e(k)({
                    type: "html",
                    value: k
                })
            }
            ;
            var r = /^<(script|pre|style)(?=(\s|>|$))/i
              , o = /<\/(script|pre|style)>/i
              , s = /^<!--/
              , a = /-->/
              , l = /^<\?/
              , c = /\?>/
              , u = /^<![A-Za-z]/
              , h = />/
              , p = /^<!\[CDATA\[/
              , d = /]]>/
              , f = /^$/
              , g = new RegExp(i.source + "\\s*$")
        }
        ,
        5810: (e,t,n)=>{
            "use strict";
            var i = n(6260)
              , r = n(46)
              , o = n(1537)._;
            e.exports = l,
            l.locator = r;
            var s = /^<a /i
              , a = /^<\/a>/i;
            function l(e, t, n) {
                var r, l, c = this, u = t.length;
                if (!("<" !== t.charAt(0) || u < 3) && (r = t.charAt(1),
                (i(r) || "?" === r || "!" === r || "/" === r) && (l = t.match(o))))
                    return !!n || (l = l[0],
                    !c.inLink && s.test(l) ? c.inLink = !0 : c.inLink && a.test(l) && (c.inLink = !1),
                    e(l)({
                        type: "html",
                        value: l
                    }))
            }
        }
        ,
        7786: (e,t,n)=>{
            "use strict";
            var i = n(2139)
              , r = n(633);
            e.exports = l,
            l.locator = r;
            var o = "("
              , s = ")"
              , a = "\\";
            function l(e, t, n) {
                var r, l, c, u, h, p, d, f, g, m, v, y, b, w, k, C, x, E, S = this, L = "", D = 0, M = t.charAt(0), A = S.options.pedantic, T = S.options.commonmark, F = S.options.gfm;
                if ("!" === M && (f = !0,
                L = M,
                M = t.charAt(++D)),
                "[" === M && (f || !S.inLink)) {
                    for (L += M,
                    w = "",
                    D++,
                    v = t.length,
                    b = 0,
                    (C = e.now()).column += D,
                    C.offset += D; D < v; ) {
                        if (p = M = t.charAt(D),
                        "`" === M) {
                            for (l = 1; "`" === t.charAt(D + 1); )
                                p += M,
                                D++,
                                l++;
                            c ? l >= c && (c = 0) : c = l
                        } else if (M === a)
                            D++,
                            p += t.charAt(D);
                        else if (c && !F || "[" !== M) {
                            if ((!c || F) && "]" === M) {
                                if (!b) {
                                    if (t.charAt(D + 1) !== o)
                                        return;
                                    p += o,
                                    r = !0,
                                    D++;
                                    break
                                }
                                b--
                            }
                        } else
                            b++;
                        w += p,
                        p = "",
                        D++
                    }
                    if (r) {
                        for (g = w,
                        L += w + p,
                        D++; D < v && (M = t.charAt(D),
                        i(M)); )
                            L += M,
                            D++;
                        if (w = "",
                        u = L,
                        "<" === (M = t.charAt(D))) {
                            for (D++,
                            u += "<"; D < v && ">" !== (M = t.charAt(D)); ) {
                                if (T && "\n" === M)
                                    return;
                                w += M,
                                D++
                            }
                            if (">" !== t.charAt(D))
                                return;
                            L += "<" + w + ">",
                            k = w,
                            D++
                        } else {
                            for (M = null,
                            p = ""; D < v && (M = t.charAt(D),
                            !p || !('"' === M || "'" === M || T && M === o)); ) {
                                if (i(M)) {
                                    if (!A)
                                        break;
                                    p += M
                                } else {
                                    if (M === o)
                                        b++;
                                    else if (M === s) {
                                        if (0 === b)
                                            break;
                                        b--
                                    }
                                    w += p,
                                    p = "",
                                    M === a && (w += a,
                                    M = t.charAt(++D)),
                                    w += M
                                }
                                D++
                            }
                            k = w,
                            D = (L += w).length
                        }
                        for (w = ""; D < v && (M = t.charAt(D),
                        i(M)); )
                            w += M,
                            D++;
                        if (M = t.charAt(D),
                        L += w,
                        w && ('"' === M || "'" === M || T && M === o))
                            if (D++,
                            w = "",
                            m = M === o ? s : M,
                            h = L += M,
                            T) {
                                for (; D < v && (M = t.charAt(D)) !== m; )
                                    M === a && (w += a,
                                    M = t.charAt(++D)),
                                    D++,
                                    w += M;
                                if ((M = t.charAt(D)) !== m)
                                    return;
                                for (y = w,
                                L += w + M,
                                D++; D < v && (M = t.charAt(D),
                                i(M)); )
                                    L += M,
                                    D++
                            } else
                                for (p = ""; D < v; ) {
                                    if ((M = t.charAt(D)) === m)
                                        d && (w += m + p,
                                        p = ""),
                                        d = !0;
                                    else if (d) {
                                        if (M === s) {
                                            L += w + m + p,
                                            y = w;
                                            break
                                        }
                                        i(M) ? p += M : (w += m + p + M,
                                        p = "",
                                        d = !1)
                                    } else
                                        w += M;
                                    D++
                                }
                        if (t.charAt(D) === s)
                            return !!n || (L += s,
                            k = S.decode.raw(S.unescape(k), e(u).test().end, {
                                nonTerminated: !1
                            }),
                            y && (h = e(h).test().end,
                            y = S.decode.raw(S.unescape(y), h)),
                            E = {
                                type: f ? "image" : "link",
                                title: y || null,
                                url: k
                            },
                            f ? E.alt = S.decode.raw(S.unescape(g), C) || null : (x = S.enterLink(),
                            E.children = S.tokenizeInline(g, C),
                            x()),
                            e(L)(E))
                    }
                }
            }
        }
        ,
        2866: (e,t,n)=>{
            "use strict";
            var i = n(2745)
              , r = n(6464)
              , o = n(6195)
              , s = n(8930)
              , a = n(9460)
              , l = n(7901);
            e.exports = function(e, t, n) {
                var r, s, a, p, d, f, g, m, y, b, w, k, C, x, E, S, L, D, M, A, T, F, P, O = this, I = O.options.commonmark, N = O.options.pedantic, R = O.blockTokenizers, B = O.interruptList, z = 0, H = t.length, V = null, q = !1;
                for (; z < H && ((p = t.charAt(z)) === h || p === c); )
                    z++;
                if ("*" === (p = t.charAt(z)) || "+" === p || "-" === p)
                    d = p,
                    a = !1;
                else {
                    for (a = !0,
                    s = ""; z < H && (p = t.charAt(z),
                    o(p)); )
                        s += p,
                        z++;
                    if (p = t.charAt(z),
                    !s || !("." === p || I && ")" === p))
                        return;
                    if (n && "1" !== s)
                        return;
                    V = parseInt(s, 10),
                    d = p
                }
                if ((p = t.charAt(++z)) !== c && p !== h && (N || p !== u && "" !== p))
                    return;
                if (n)
                    return !0;
                z = 0,
                x = [],
                E = [],
                S = [];
                for (; z < H; ) {
                    for (f = t.indexOf(u, z),
                    g = z,
                    m = !1,
                    P = !1,
                    -1 === f && (f = H),
                    r = 0; z < H; ) {
                        if ((p = t.charAt(z)) === h)
                            r += 4 - r % 4;
                        else {
                            if (p !== c)
                                break;
                            r++
                        }
                        z++
                    }
                    if (L && r >= L.indent && (P = !0),
                    p = t.charAt(z),
                    y = null,
                    !P) {
                        if ("*" === p || "+" === p || "-" === p)
                            y = p,
                            z++,
                            r++;
                        else {
                            for (s = ""; z < H && (p = t.charAt(z),
                            o(p)); )
                                s += p,
                                z++;
                            p = t.charAt(z),
                            z++,
                            s && ("." === p || I && ")" === p) && (y = p,
                            r += s.length + 1)
                        }
                        if (y)
                            if ((p = t.charAt(z)) === h)
                                r += 4 - r % 4,
                                z++;
                            else if (p === c) {
                                for (F = z + 4; z < F && t.charAt(z) === c; )
                                    z++,
                                    r++;
                                z === F && t.charAt(z) === c && (z -= 3,
                                r -= 3)
                            } else
                                p !== u && "" !== p && (y = null)
                    }
                    if (y) {
                        if (!N && d !== y)
                            break;
                        m = !0
                    } else
                        I || P || t.charAt(g) !== c ? I && L && (P = r >= L.indent || r > 4) : P = !0,
                        m = !1,
                        z = g;
                    if (w = t.slice(g, f),
                    b = g === z ? w : t.slice(z, f),
                    ("*" === y || "_" === y || "-" === y) && R.thematicBreak.call(O, e, w, !0))
                        break;
                    if (k = C,
                    C = !m && !i(b).length,
                    P && L)
                        L.value = L.value.concat(S, w),
                        E = E.concat(S, w),
                        S = [];
                    else if (m)
                        0 !== S.length && (q = !0,
                        L.value.push(""),
                        L.trail = S.concat()),
                        L = {
                            value: [w],
                            indent: r,
                            trail: []
                        },
                        x.push(L),
                        E = E.concat(S, w),
                        S = [];
                    else if (C) {
                        if (k && !I)
                            break;
                        S.push(w)
                    } else {
                        if (k)
                            break;
                        if (l(B, R, O, [e, w, !0]))
                            break;
                        L.value = L.value.concat(S, w),
                        E = E.concat(S, w),
                        S = []
                    }
                    z = f + 1
                }
                A = e(E.join(u)).reset({
                    type: "list",
                    ordered: a,
                    start: V,
                    spread: q,
                    children: []
                }),
                D = O.enterList(),
                M = O.enterBlock(),
                z = -1,
                H = x.length;
                for (; ++z < H; )
                    L = x[z].value.join(u),
                    T = e.now(),
                    e(L)(v(O, L, T), A),
                    L = x[z].trail.join(u),
                    z !== H - 1 && (L += u),
                    e(L);
                return D(),
                M(),
                A
            }
            ;
            var c = " "
              , u = "\n"
              , h = "\t"
              , p = /\n\n(?!\s*$)/
              , d = /^\[(.)][ \t]/
              , f = /^([ \t]*)([*+-]|\d+[.)])( {1,4}(?! )| |\t|$|(?=\n))([^\n]*)/
              , g = /^([ \t]*)([*+-]|\d+[.)])([ \t]+)/
              , m = /^( {1,4}|\t)?/gm;
            function v(e, t, n) {
                var i, r, o = e.offset, s = e.options.pedantic ? y : b, a = null, l = null;
                return t = s.apply(null, arguments),
                e.options.gfm && (i = t.match(d)) && (r = i[0].length,
                a = " " !== i[1],
                l = i[1],
                o[n.line] += r,
                t = t.slice(r)),
                {
                    type: "listItem",
                    spread: p.test(t),
                    checked: a,
                    checklist: l,
                    children: e.tokenizeBlock(t, n)
                }
            }
            function y(e, t, n) {
                var i = e.offset
                  , r = n.line;
                return t = t.replace(g, o),
                r = n.line,
                t.replace(m, o);
                function o(e) {
                    return i[r] = (i[r] || 0) + e.length,
                    r++,
                    ""
                }
            }
            function b(e, t, n) {
                var i, o, l, h, p, d, g, m = e.offset, v = n.line;
                for (h = (t = t.replace(f, (function(e, t, n, s, a) {
                    o = t + n + s,
                    l = a,
                    Number(n) < 10 && o.length % 2 == 1 && (n = c + n);
                    return (i = t + r(c, n.length) + s) + l
                }
                ))).split(u),
                (p = a(t, s(i).indent).split(u))[0] = l,
                m[v] = (m[v] || 0) + o.length,
                v++,
                d = 0,
                g = h.length; ++d < g; )
                    m[v] = (m[v] || 0) + h[d].length - p[d].length,
                    v++;
                return p.join(u)
            }
        }
        ,
        7006: (e,t,n)=>{
            "use strict";
            var i = n(2745)
              , r = n(7257)
              , o = n(7901);
            e.exports = function(e, t, n) {
                var a, l, c, u, h, p = this, d = p.options.commonmark, f = p.blockTokenizers, g = p.interruptParagraph, m = t.indexOf(s), v = t.length;
                for (; m < v; ) {
                    if (-1 === m) {
                        m = v;
                        break
                    }
                    if (t.charAt(m + 1) === s)
                        break;
                    if (d) {
                        for (u = 0,
                        a = m + 1; a < v; ) {
                            if ("\t" === (c = t.charAt(a))) {
                                u = 4;
                                break
                            }
                            if (" " !== c)
                                break;
                            u++,
                            a++
                        }
                        if (u >= 4 && c !== s) {
                            m = t.indexOf(s, m + 1);
                            continue
                        }
                    }
                    if (l = t.slice(m + 1),
                    o(g, f, p, [e, l, !0]))
                        break;
                    if (a = m,
                    -1 !== (m = t.indexOf(s, m + 1)) && "" === i(t.slice(a, m))) {
                        m = a;
                        break
                    }
                }
                if (l = t.slice(0, m),
                n)
                    return !0;
                return h = e.now(),
                l = r(l),
                e(l)({
                    type: "paragraph",
                    children: p.tokenizeInline(l, h)
                })
            }
            ;
            var s = "\n"
        }
        ,
        977: (e,t,n)=>{
            "use strict";
            var i = n(2139)
              , r = n(633)
              , o = n(6749);
            e.exports = h,
            h.locator = r;
            var s = "link"
              , a = "full"
              , l = "["
              , c = "\\"
              , u = "]";
            function h(e, t, n) {
                var r, h, p, d, f, g, m, v, y = this, b = y.options.commonmark, w = t.charAt(0), k = 0, C = t.length, x = "", E = "", S = s, L = "shortcut";
                if ("!" === w && (S = "image",
                E = w,
                w = t.charAt(++k)),
                w === l) {
                    for (k++,
                    E += w,
                    g = "",
                    v = 0; k < C; ) {
                        if ((w = t.charAt(k)) === l)
                            m = !0,
                            v++;
                        else if (w === u) {
                            if (!v)
                                break;
                            v--
                        }
                        w === c && (g += c,
                        w = t.charAt(++k)),
                        g += w,
                        k++
                    }
                    if (x = g,
                    r = g,
                    (w = t.charAt(k)) === u) {
                        if (k++,
                        x += w,
                        g = "",
                        !b)
                            for (; k < C && (w = t.charAt(k),
                            i(w)); )
                                g += w,
                                k++;
                        if ((w = t.charAt(k)) === l) {
                            for (h = "",
                            g += w,
                            k++; k < C && (w = t.charAt(k)) !== l && w !== u; )
                                w === c && (h += c,
                                w = t.charAt(++k)),
                                h += w,
                                k++;
                            (w = t.charAt(k)) === u ? (L = h ? a : "collapsed",
                            g += h + w,
                            k++) : h = "",
                            x += g,
                            g = ""
                        } else {
                            if (!r)
                                return;
                            h = r
                        }
                        if (L === a || !m)
                            return x = E + x,
                            S === s && y.inLink ? null : !!n || ((p = e.now()).column += E.length,
                            p.offset += E.length,
                            d = {
                                type: S + "Reference",
                                identifier: o(h = L === a ? h : r),
                                label: h,
                                referenceType: L
                            },
                            S === s ? (f = y.enterLink(),
                            d.children = y.tokenizeInline(r, p),
                            f()) : d.alt = y.decode.raw(y.unescape(r), p) || null,
                            e(x)(d))
                    }
                }
            }
        }
        ,
        1248: (e,t,n)=>{
            "use strict";
            var i = n(2745)
              , r = n(2139)
              , o = n(1016);
            e.exports = s,
            s.locator = o;
            function s(e, t, n) {
                var o, s, a, l, c, u, h, p = 0, d = t.charAt(p);
                if (!("*" !== d && "_" !== d || t.charAt(++p) !== d || (s = this.options.pedantic,
                c = (a = d) + a,
                u = t.length,
                p++,
                l = "",
                d = "",
                s && r(t.charAt(p)))))
                    for (; p < u; ) {
                        if (h = d,
                        !((d = t.charAt(p)) !== a || t.charAt(p + 1) !== a || s && r(h)) && (d = t.charAt(p + 2)) !== a) {
                            if (!i(l))
                                return;
                            return !!n || ((o = e.now()).column += 2,
                            o.offset += 2,
                            e(c + l + c)({
                                type: "strong",
                                children: this.tokenizeInline(l, o)
                            }))
                        }
                        s || "\\" !== d || (l += d,
                        d = t.charAt(++p)),
                        l += d,
                        p++
                    }
            }
        }
        ,
        308: (e,t,n)=>{
            "use strict";
            var i = n(2139);
            e.exports = function(e, t, n) {
                var s, a, l, c, u, h, p, d, f, g, m, v, y, b, w, k, C, x, E, S, L, D;
                if (!this.options.gfm)
                    return;
                s = 0,
                k = 0,
                h = t.length + 1,
                p = [];
                for (; s < h; ) {
                    if (S = t.indexOf(r, s),
                    L = t.indexOf("|", s + 1),
                    -1 === S && (S = t.length),
                    -1 === L || L > S) {
                        if (k < 2)
                            return;
                        break
                    }
                    p.push(t.slice(s, S)),
                    k++,
                    s = S + 1
                }
                c = p.join(r),
                a = p.splice(1, 1)[0] || [],
                s = 0,
                h = a.length,
                k--,
                l = !1,
                m = [];
                for (; s < h; ) {
                    if ("|" === (f = a.charAt(s))) {
                        if (g = null,
                        !1 === l) {
                            if (!1 === D)
                                return
                        } else
                            m.push(l),
                            l = !1;
                        D = !1
                    } else if ("-" === f)
                        g = !0,
                        l = l || null;
                    else if (":" === f)
                        l = l === o ? "center" : g && null === l ? "right" : o;
                    else if (!i(f))
                        return;
                    s++
                }
                !1 !== l && m.push(l);
                if (m.length < 1)
                    return;
                if (n)
                    return !0;
                w = -1,
                x = [],
                E = e(c).reset({
                    type: "table",
                    align: m,
                    children: x
                });
                for (; ++w < k; ) {
                    for (C = p[w],
                    u = {
                        type: "tableRow",
                        children: []
                    },
                    w && e(r),
                    e(C).reset(u, E),
                    h = C.length + 1,
                    s = 0,
                    d = "",
                    v = "",
                    y = !0; s < h; )
                        "\t" !== (f = C.charAt(s)) && " " !== f ? ("" === f || "|" === f ? y ? e(f) : (!v && !f || y || (c = v,
                        d.length > 1 && (f ? (c += d.slice(0, -1),
                        d = d.charAt(d.length - 1)) : (c += d,
                        d = "")),
                        b = e.now(),
                        e(c)({
                            type: "tableCell",
                            children: this.tokenizeInline(v, b)
                        }, u)),
                        e(d + f),
                        d = "",
                        v = "") : (d && (v += d,
                        d = ""),
                        v += f,
                        "\\" === f && s !== h - 2 && (v += C.charAt(s + 1),
                        s++)),
                        y = !1,
                        s++) : (v ? d += f : e(f),
                        s++);
                    w || e(r + a)
                }
                return E
            }
            ;
            var r = "\n"
              , o = "left"
        }
        ,
        8825: e=>{
            "use strict";
            e.exports = function(e, t, n) {
                var i, r, o, s, a, l, c, u, h, p, d = this;
                if (n)
                    return !0;
                i = d.inlineMethods,
                s = i.length,
                r = d.inlineTokenizers,
                o = -1,
                h = t.length;
                for (; ++o < s; )
                    "text" !== (u = i[o]) && r[u] && ((c = r[u].locator) || e.file.fail("Missing locator: `" + u + "`"),
                    -1 !== (l = c.call(d, t, 1)) && l < h && (h = l));
                a = t.slice(0, h),
                p = e.now(),
                d.decode(a, p, (function(t, n, i) {
                    e(i || t)({
                        type: "text",
                        value: t
                    })
                }
                ))
            }
        }
        ,
        8352: e=>{
            "use strict";
            e.exports = function(e, t, n) {
                var i, r, o, s, a = -1, l = t.length + 1, c = "";
                for (; ++a < l && ("\t" === (i = t.charAt(a)) || " " === i); )
                    c += i;
                if ("*" !== i && "-" !== i && "_" !== i)
                    return;
                r = i,
                c += i,
                o = 1,
                s = "";
                for (; ++a < l; )
                    if ((i = t.charAt(a)) === r)
                        o++,
                        c += s + r,
                        s = "";
                    else {
                        if (" " !== i)
                            return o >= 3 && (!i || "\n" === i) ? (c += s,
                            !!n || e(c)({
                                type: "thematicBreak"
                            })) : void 0;
                        s += i
                    }
            }
        }
        ,
        26: (e,t,n)=>{
            "use strict";
            var i = n(932)
              , r = n(7574)
              , o = n(6195)
              , s = n(6260)
              , a = n(2139)
              , l = n(8637);
            e.exports = c,
            c.locator = l,
            c.notInLink = !0;
            function c(e, t, n) {
                var l, c, u, h, p, d, f, g, m, v, y, b, w, k, C = this, x = C.options.gfm, E = C.inlineTokenizers, S = t.length, L = -1, D = !1;
                if (x) {
                    if ("www." === t.slice(0, 4))
                        D = !0,
                        h = 4;
                    else if ("http://" === t.slice(0, 7).toLowerCase())
                        h = 7;
                    else {
                        if ("https://" !== t.slice(0, 8).toLowerCase())
                            return;
                        h = 8
                    }
                    for (L = h - 1,
                    u = h,
                    l = []; h < S; )
                        if (46 !== (f = t.charCodeAt(h))) {
                            if (!o(f) && !s(f) && 45 !== f && 95 !== f)
                                break;
                            h++
                        } else {
                            if (L === h - 1)
                                break;
                            l.push(h),
                            L = h,
                            h++
                        }
                    if (46 === f && (l.pop(),
                    h--),
                    void 0 !== l[0] && (c = l.length < 2 ? u : l[l.length - 2] + 1,
                    -1 === t.slice(c, h).indexOf("_"))) {
                        if (n)
                            return !0;
                        for (g = h,
                        p = h; h < S && (f = t.charCodeAt(h),
                        !a(f) && 60 !== f); )
                            h++,
                            33 === f || 42 === f || 44 === f || 46 === f || 58 === f || 63 === f || 95 === f || 126 === f || (g = h);
                        if (h = g,
                        41 === t.charCodeAt(h - 1))
                            for (d = t.slice(p, h),
                            m = i(d, "("),
                            v = i(d, ")"); v > m; )
                                h = p + d.lastIndexOf(")"),
                                d = t.slice(p, h),
                                v--;
                        if (59 === t.charCodeAt(h - 1) && (h--,
                        s(t.charCodeAt(h - 1)))) {
                            for (g = h - 2; s(t.charCodeAt(g)); )
                                g--;
                            38 === t.charCodeAt(g) && (h = g)
                        }
                        return y = t.slice(0, h),
                        w = r(y, {
                            nonTerminated: !1
                        }),
                        D && (w = "http://" + w),
                        k = C.enterLink(),
                        C.inlineTokenizers = {
                            text: E.text
                        },
                        b = C.tokenizeInline(y, e.now()),
                        C.inlineTokenizers = E,
                        k(),
                        e(y)({
                            type: "link",
                            title: null,
                            url: w,
                            children: b
                        })
                    }
                }
            }
        }
        ,
        831: e=>{
            "use strict";
            function t(e) {
                var t, n;
                return "text" !== e.type || !e.position || (t = e.position.start,
                n = e.position.end,
                t.line !== n.line || n.column - t.column === e.value.length)
            }
            function n(e, t) {
                return e.value += t.value,
                e
            }
            function i(e, t) {
                return this.options.commonmark || this.options.gfm ? t : (e.children = e.children.concat(t.children),
                e)
            }
            e.exports = function(e) {
                return function(r, o) {
                    var s, a, l, c, u, h = this, p = h.offset, d = [], f = h[e + "Methods"], g = h[e + "Tokenizers"], m = o.line, v = o.column;
                    if (!r)
                        return d;
                    S.now = w,
                    S.file = h.file,
                    y("");
                    for (; r; ) {
                        for (s = -1,
                        a = f.length,
                        c = !1; ++s < a && (!(l = g[f[s]]) || l.onlyAtStart && !h.atStart || l.notInList && h.inList || l.notInBlock && h.inBlock || l.notInLink && h.inLink || (u = r.length,
                        l.apply(h, [S, r]),
                        !(c = u !== r.length))); )
                            ;
                        c || h.file.fail(new Error("Infinite loop"), S.now())
                    }
                    return h.eof = w(),
                    d;
                    function y(e) {
                        for (var t = -1, n = e.indexOf("\n"); -1 !== n; )
                            m++,
                            t = n,
                            n = e.indexOf("\n", n + 1);
                        -1 === t ? v += e.length : v = e.length - t,
                        m in p && (-1 !== t ? v += p[m] : v <= p[m] && (v = p[m] + 1))
                    }
                    function b() {
                        var e = []
                          , t = m + 1;
                        return function() {
                            for (var n = m + 1; t < n; )
                                e.push((p[t] || 0) + 1),
                                t++;
                            return e
                        }
                    }
                    function w() {
                        var e = {
                            line: m,
                            column: v
                        };
                        return e.offset = h.toOffset(e),
                        e
                    }
                    function k(e) {
                        this.start = e,
                        this.end = w()
                    }
                    function C(e) {
                        r.slice(0, e.length) !== e && h.file.fail(new Error("Incorrectly eaten value: please report this warning on https://git.io/vg5Ft"), w())
                    }
                    function x() {
                        var e = w();
                        return t;
                        function t(t, n) {
                            var i = t.position
                              , r = i ? i.start : e
                              , o = []
                              , s = i && i.end.line
                              , a = e.line;
                            if (t.position = new k(r),
                            i && n && i.indent) {
                                if (o = i.indent,
                                s < a) {
                                    for (; ++s < a; )
                                        o.push((p[s] || 0) + 1);
                                    o.push(e.column)
                                }
                                n = o.concat(n)
                            }
                            return t.position.indent = n || [],
                            t
                        }
                    }
                    function E(e, r) {
                        var o = r ? r.children : d
                          , s = o[o.length - 1];
                        return s && e.type === s.type && ("text" === e.type || "blockquote" === e.type) && t(s) && t(e) && (e = ("text" === e.type ? n : i).call(h, s, e)),
                        e !== s && o.push(e),
                        h.atStart && 0 !== d.length && h.exitStart(),
                        e
                    }
                    function S(e) {
                        var t = b()
                          , n = x()
                          , i = w();
                        return C(e),
                        o.reset = s,
                        s.test = a,
                        o.test = a,
                        r = r.slice(e.length),
                        y(e),
                        t = t(),
                        o;
                        function o(e, i) {
                            return n(E(n(e), i), t)
                        }
                        function s() {
                            var t = o.apply(null, arguments);
                            return m = i.line,
                            v = i.column,
                            r = e + r,
                            t
                        }
                        function a() {
                            var t = n({});
                            return m = i.line,
                            v = i.column,
                            r = e + r,
                            t.position
                        }
                    }
                }
            }
        }
        ,
        7678: e=>{
            "use strict";
            e.exports = function(e, n) {
                return function(i) {
                    var r, o = 0, s = i.indexOf(t), a = e[n], l = [];
                    for (; -1 !== s; )
                        l.push(i.slice(o, s)),
                        o = s + 1,
                        (r = i.charAt(o)) && -1 !== a.indexOf(r) || l.push(t),
                        s = i.indexOf(t, o + 1);
                    return l.push(i.slice(o)),
                    l.join("")
                }
            }
            ;
            var t = "\\"
        }
        ,
        8930: e=>{
            "use strict";
            e.exports = function(e) {
                var t, n = 0, i = 0, r = e.charAt(n), o = {}, s = 0;
                for (; "\t" === r || " " === r; ) {
                    for (i += t = "\t" === r ? 4 : 1,
                    t > 1 && (i = Math.floor(i / t) * t); s < i; )
                        o[++s] = n;
                    r = e.charAt(++n)
                }
                return {
                    indent: i,
                    stops: o
                }
            }
        }
        ,
        1537: (e,t)=>{
            "use strict";
            var n = "<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\u0000-\\u0020]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>"
              , i = "<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>";
            t.g = new RegExp("^(?:" + n + "|" + i + ")"),
            t._ = new RegExp("^(?:" + n + "|" + i + "|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?].*?[?]>|<![A-Za-z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)")
        }
        ,
        7901: e=>{
            "use strict";
            e.exports = function(e, t, n, i) {
                var r, o, s = e.length, a = -1;
                for (; ++a < s; )
                    if (r = e[a],
                    (void 0 === (o = r[1] || {}).pedantic || o.pedantic === n.options.pedantic) && (void 0 === o.commonmark || o.commonmark === n.options.commonmark) && t[r[0]].apply(n, i))
                        return !0;
                return !1
            }
        }
        ,
        6749: (e,t,n)=>{
            "use strict";
            var i = n(9357);
            e.exports = function(e) {
                return i(e).toLowerCase()
            }
        }
        ,
        9460: (e,t,n)=>{
            "use strict";
            var i = n(2745)
              , r = n(6464)
              , o = n(8930);
            e.exports = function(e, t) {
                var n, s, a, l = e.split("\n"), c = l.length + 1, u = 1 / 0, h = [];
                l.unshift(r(" ", t) + "!");
                for (; c--; )
                    if (s = o(l[c]),
                    h[c] = s.stops,
                    0 !== i(l[c]).length) {
                        if (!s.indent) {
                            u = 1 / 0;
                            break
                        }
                        s.indent > 0 && s.indent < u && (u = s.indent)
                    }
                if (u !== 1 / 0)
                    for (c = l.length; c--; ) {
                        for (a = h[c],
                        n = u; n && !(n in a); )
                            n--;
                        l[c] = l[c].slice(a[n] + 1)
                    }
                return l.shift(),
                l.join("\n")
            }
        }
    }
      , t = {};
    function n(i) {
        var r = t[i];
        if (void 0 !== r)
            return r.exports;
        var o = t[i] = {
            exports: {}
        };
        return e[i](o, o.exports, n),
        o.exports
    }
    n.n = e=>{
        var t = e && e.__esModule ? ()=>e.default : ()=>e;
        return n.d(t, {
            a: t
        }),
        t
    }
    ,
    n.d = (e,t)=>{
        for (var i in t)
            n.o(t, i) && !n.o(e, i) && Object.defineProperty(e, i, {
                enumerable: !0,
                get: t[i]
            })
    }
    ,
    n.g = function() {
        if ("object" == typeof globalThis)
            return globalThis;
        try {
            return this || new Function("return this")()
        } catch (e) {
            if ("object" == typeof window)
                return window
        }
    }(),
    n.o = (e,t)=>Object.prototype.hasOwnProperty.call(e, t),
    n.r = e=>{
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
            value: "Module"
        }),
        Object.defineProperty(e, "__esModule", {
            value: !0
        })
    }
    ,
    (()=>{
        "use strict";
        var e = {};
        n.r(e),
        n.d(e, {
            AbstractTextComponent: ()=>xE,
            App: ()=>qF,
            BaseComponent: ()=>yE,
            ButtonComponent: ()=>wE,
            Component: ()=>Jk,
            DropdownComponent: ()=>ME,
            EditableFileView: ()=>ZC,
            Editor: ()=>Nd,
            Events: ()=>Bf,
            ExtraButtonComponent: ()=>kE,
            FileManager: ()=>oL,
            FileSystemAdapter: ()=>tL,
            FileView: ()=>XC,
            FuzzySuggestModal: ()=>OL,
            HoverPopover: ()=>YL,
            ItemView: ()=>KC,
            Keymap: ()=>rn,
            MarkdownPreviewRenderer: ()=>AC,
            MarkdownPreviewSection: ()=>SC,
            MarkdownPreviewView: ()=>zE,
            MarkdownRenderChild: ()=>EC,
            MarkdownRenderer: ()=>NE,
            MarkdownSourceView: ()=>nS,
            MarkdownView: ()=>gS,
            Menu: ()=>Zk,
            MetadataCache: ()=>TL,
            Modal: ()=>sn,
            MomentFormatComponent: ()=>DE,
            Notice: ()=>JC,
            Platform: ()=>on,
            Plugin: ()=>tM,
            PluginSettingTab: ()=>nM,
            PopoverState: ()=>NL,
            Scope: ()=>nn,
            Setting: ()=>vE,
            SettingTab: ()=>$D,
            SliderComponent: ()=>AE,
            SuggestModal: ()=>PL,
            TAbstractFile: ()=>Hf,
            TFile: ()=>Vf,
            TFolder: ()=>qf,
            TextAreaComponent: ()=>LE,
            TextComponent: ()=>EE,
            TextFileView: ()=>dS,
            ToggleComponent: ()=>CE,
            ValueComponent: ()=>bE,
            Vault: ()=>Uf,
            View: ()=>YC,
            ViewRegistry: ()=>KL,
            Workspace: ()=>WD,
            WorkspaceItem: ()=>JL,
            WorkspaceLeaf: ()=>nD,
            WorkspaceParent: ()=>XL,
            WorkspaceRibbon: ()=>jD,
            WorkspaceSidedock: ()=>tD,
            WorkspaceSplit: ()=>ZL,
            WorkspaceTabs: ()=>eD,
            addIcon: ()=>bk,
            debounce: ()=>Pe,
            fuzzySearch: ()=>Ak,
            getAllTags: ()=>Ay,
            getLinkpath: ()=>Sy,
            htmlToMarkdown: ()=>UE,
            iterateCacheRefs: ()=>Dy,
            iterateRefs: ()=>My,
            moment: ()=>YD,
            normalizePath: ()=>ee,
            parseFrontMatterAliases: ()=>my,
            parseFrontMatterEntry: ()=>fy,
            parseFrontMatterStringArray: ()=>gy,
            parseFrontMatterTags: ()=>vy,
            parseLinktext: ()=>Ly,
            parseYaml: ()=>GD,
            prepareQuery: ()=>Sk,
            renderMatches: ()=>Nk,
            renderResults: ()=>Ik,
            resolveSubpath: ()=>Fy,
            setIcon: ()=>yk,
            sortSearchResults: ()=>Tk
        });
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(e, t) {
                e.__proto__ = t
            }
            || function(e, t) {
                for (var n in t)
                    Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n])
            }
            )(e, n)
        };
        function i(e, n) {
            if ("function" != typeof n && null !== n)
                throw new TypeError("Class extends value " + String(n) + " is not a constructor or null");
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
        var r = function() {
            return (r = Object.assign || function(e) {
                for (var t, n = 1, i = arguments.length; n < i; n++)
                    for (var r in t = arguments[n])
                        Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                return e
            }
            ).apply(this, arguments)
        };
        function o(e, t, n, i) {
            return new (n || (n = Promise))((function(r, o) {
                function s(e) {
                    try {
                        l(i.next(e))
                    } catch (e) {
                        o(e)
                    }
                }
                function a(e) {
                    try {
                        l(i.throw(e))
                    } catch (e) {
                        o(e)
                    }
                }
                function l(e) {
                    var t;
                    e.done ? r(e.value) : (t = e.value,
                    t instanceof n ? t : new n((function(e) {
                        e(t)
                    }
                    ))).then(s, a)
                }
                l((i = i.apply(e, t || [])).next())
            }
            ))
        }
        function s(e, t) {
            var n, i, r, o, s = {
                label: 0,
                sent: function() {
                    if (1 & r[0])
                        throw r[1];
                    return r[1]
                },
                trys: [],
                ops: []
            };
            return o = {
                next: a(0),
                throw: a(1),
                return: a(2)
            },
            "function" == typeof Symbol && (o[Symbol.iterator] = function() {
                return this
            }
            ),
            o;
            function a(o) {
                return function(a) {
                    return function(o) {
                        if (n)
                            throw new TypeError("Generator is already executing.");
                        for (; s; )
                            try {
                                if (n = 1,
                                i && (r = 2 & o[0] ? i.return : o[0] ? i.throw || ((r = i.return) && r.call(i),
                                0) : i.next) && !(r = r.call(i, o[1])).done)
                                    return r;
                                switch (i = 0,
                                r && (o = [2 & o[0], r.value]),
                                o[0]) {
                                case 0:
                                case 1:
                                    r = o;
                                    break;
                                case 4:
                                    return s.label++,
                                    {
                                        value: o[1],
                                        done: !1
                                    };
                                case 5:
                                    s.label++,
                                    i = o[1],
                                    o = [0];
                                    continue;
                                case 7:
                                    o = s.ops.pop(),
                                    s.trys.pop();
                                    continue;
                                default:
                                    if (!(r = s.trys,
                                    (r = r.length > 0 && r[r.length - 1]) || 6 !== o[0] && 2 !== o[0])) {
                                        s = 0;
                                        continue
                                    }
                                    if (3 === o[0] && (!r || o[1] > r[0] && o[1] < r[3])) {
                                        s.label = o[1];
                                        break
                                    }
                                    if (6 === o[0] && s.label < r[1]) {
                                        s.label = r[1],
                                        r = o;
                                        break
                                    }
                                    if (r && s.label < r[2]) {
                                        s.label = r[2],
                                        s.ops.push(o);
                                        break
                                    }
                                    r[2] && s.ops.pop(),
                                    s.trys.pop();
                                    continue
                                }
                                o = t.call(e, s)
                            } catch (e) {
                                o = [6, e],
                                i = 0
                            } finally {
                                n = r = 0
                            }
                        if (5 & o[0])
                            throw o[1];
                        return {
                            value: o[0] ? o[1] : void 0,
                            done: !0
                        }
                    }([o, a])
                }
            }
        }
        Object.create;
        function a(e) {
            var t = "function" == typeof Symbol && Symbol.iterator
              , n = t && e[t]
              , i = 0;
            if (n)
                return n.call(e);
            if (e && "number" == typeof e.length)
                return {
                    next: function() {
                        return e && i >= e.length && (e = void 0),
                        {
                            value: e && e[i++],
                            done: !e
                        }
                    }
                };
            throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.")
        }
        function l(e, t) {
            for (var n = 0, i = t.length, r = e.length; n < i; n++,
            r++)
                e[r] = t[n];
            return e
        }
        function c(e) {
            return this instanceof c ? (this.v = e,
            this) : new c(e)
        }
        function u(e, t, n) {
            if (!Symbol.asyncIterator)
                throw new TypeError("Symbol.asyncIterator is not defined.");
            var i, r = n.apply(e, t || []), o = [];
            return i = {},
            s("next"),
            s("throw"),
            s("return"),
            i[Symbol.asyncIterator] = function() {
                return this
            }
            ,
            i;
            function s(e) {
                r[e] && (i[e] = function(t) {
                    return new Promise((function(n, i) {
                        o.push([e, t, n, i]) > 1 || a(e, t)
                    }
                    ))
                }
                )
            }
            function a(e, t) {
                try {
                    !function(e) {
                        e.value instanceof c ? Promise.resolve(e.value.v).then(l, u) : h(o[0][2], e)
                    }(r[e](t))
                } catch (e) {
                    h(o[0][3], e)
                }
            }
            function l(e) {
                a("next", e)
            }
            function u(e) {
                a("throw", e)
            }
            function h(e, t) {
                e(t),
                o.shift(),
                o.length && a(o[0][0], o[0][1])
            }
        }
        function h(e) {
            if (!Symbol.asyncIterator)
                throw new TypeError("Symbol.asyncIterator is not defined.");
            var t, n = e[Symbol.asyncIterator];
            return n ? n.call(e) : (e = a(e),
            t = {},
            i("next"),
            i("throw"),
            i("return"),
            t[Symbol.asyncIterator] = function() {
                return this
            }
            ,
            t);
            function i(n) {
                t[n] = e[n] && function(t) {
                    return new Promise((function(i, r) {
                        (function(e, t, n, i) {
                            Promise.resolve(i).then((function(t) {
                                e({
                                    value: t,
                                    done: n
                                })
                            }
                            ), t)
                        }
                        )(i, r, (t = e[n](t)).done, t.value)
                    }
                    ))
                }
            }
        }
        Object.create;
        function p(e, t, n) {
            Object.defineProperty(e, t, {
                value: n,
                enumerable: !1,
                configurable: !0,
                writable: !0
            })
        }
        Object.isEmpty || p(Object, "isEmpty", (function(e) {
            for (var t in e)
                if (e.hasOwnProperty(t))
                    return !1;
            return !0
        }
        )),
        Object.each || (Object.each = function(e, t, n) {
            for (var i in e)
                if (e.hasOwnProperty(i) && !1 === t.call(n, e[i], i))
                    return !1;
            return !0
        }
        ),
        Array.prototype.first || p(Array.prototype, "first", (function() {
            if (0 !== this.length)
                return this[0]
        }
        )),
        Array.prototype.last || p(Array.prototype, "last", (function() {
            if (0 !== this.length)
                return this[this.length - 1]
        }
        )),
        Array.prototype.contains || p(Array.prototype, "contains", (function(e) {
            return -1 !== this.indexOf(e)
        }
        )),
        Array.prototype.remove || p(Array.prototype, "remove", (function(e) {
            for (var t = this.length - 1; t >= 0; t--)
                this[t] === e && this.splice(t, 1)
        }
        )),
        Array.prototype.shuffle || p(Array.prototype, "shuffle", (function() {
            for (var e, t, n = this.length; 0 !== n; )
                t = Math.floor(Math.random() * n),
                e = this[n -= 1],
                this[n] = this[t],
                this[t] = e;
            return this
        }
        )),
        Math.clamp || (Math.clamp = function(e, t, n) {
            return Math.min(Math.max(e, t), n)
        }
        ),
        Math.square || (Math.square = function(e) {
            return e * e
        }
        ),
        String.isString || (String.isString = function(e) {
            return "string" == typeof e || e instanceof String
        }
        ),
        String.prototype.contains || (String.prototype.contains = function(e) {
            return -1 !== this.indexOf(e)
        }
        ),
        String.prototype.startsWith || (String.prototype.startsWith = function(e, t) {
            return this.substr(!t || t < 0 ? 0 : +t, e.length) === e
        }
        ),
        String.prototype.endsWith || (String.prototype.endsWith = function(e, t) {
            var n = void 0 === t || t > this.length ? this.length : t;
            return this.substring(n - e.length, n) === e
        }
        ),
        String.prototype.format || (String.prototype.format = function() {
            for (var e = [], t = 0; t < arguments.length; t++)
                e[t] = arguments[t];
            return this.replace(/{(\d+)}/g, (function(t, n) {
                return void 0 !== e[n] ? e[n] : t
            }
            ))
        }
        ),
        Number.isNumber || p(Number, "isNumber", (function(e) {
            return "number" == typeof e
        }
        )),
        p(window, "isBoolean", (function(e) {
            return "boolean" == typeof e
        }
        ));
        var d = function(e) {
            var t = e.nodeType;
            if (1 === t || 9 === t || 11 === t) {
                if ("string" == typeof e.textContent)
                    return e.textContent;
                for (var n = [], i = e.firstChild; i; i = i.nextSibling)
                    n.push(d(i));
                return n.join("")
            }
            return (3 === t || 4 === t) && e.nodeValue || ""
        };
        Element.prototype.getText = function() {
            return d(this)
        }
        ,
        Element.prototype.setText = function(e) {
            !function(e, t) {
                var n = e.nodeType;
                1 !== n && 9 !== n && 11 !== n || (e.textContent = t)
            }(this, e)
        }
        ,
        Element.prototype.addClass = function() {
            for (var e = [], t = 0; t < arguments.length; t++)
                e[t] = arguments[t];
            this.addClasses(e)
        }
        ,
        Element.prototype.addClasses = function(e) {
            for (var t = 0; t < e.length; t++)
                this.classList.add(e[t])
        }
        ,
        Element.prototype.removeClass = function() {
            for (var e = [], t = 0; t < arguments.length; t++)
                e[t] = arguments[t];
            this.removeClasses(e)
        }
        ,
        Element.prototype.removeClasses = function(e) {
            for (var t = 0; t < e.length; t++)
                this.classList.remove(e[t])
        }
        ,
        Element.prototype.toggleClass = function(e, t) {
            e instanceof Array || (e = [e]),
            t ? this.addClasses(e) : this.removeClasses(e)
        }
        ,
        Element.prototype.hasClass = function(e) {
            return this.classList.contains(e)
        }
        ,
        [Element.prototype, Document.prototype, DocumentFragment.prototype].forEach((function(e) {
            p(e, "prepend", (function() {
                for (var e = [], t = 0; t < arguments.length; t++)
                    e[t] = arguments[t];
                for (var n = document.createDocumentFragment(), i = 0, r = e; i < r.length; i++) {
                    var o = r[i];
                    n.appendChild(o instanceof Node ? o : document.createTextNode(String(o)))
                }
                this.insertBefore(n, this.firstChild)
            }
            ))
        }
        )),
        Node.prototype.detach = function() {
            this.parentNode && this.parentNode.removeChild(this)
        }
        ,
        Node.prototype.empty = function() {
            for (; this.lastChild; )
                this.removeChild(this.lastChild)
        }
        ,
        Node.prototype.insertAfter = function(e) {
            e.parentNode && e.parentNode.insertBefore(this, e.nextSibling)
        }
        ,
        Node.prototype.indexOf = function(e) {
            return Array.prototype.indexOf.call(this.childNodes, e)
        }
        ,
        Node.prototype.setChildrenInPlace = function(e) {
            for (var t = this.firstChild, n = new Set(e), i = 0, r = e; i < r.length; i++) {
                for (var o = r[i]; t && !n.has(t); ) {
                    var s = t;
                    t = t.nextSibling,
                    this.removeChild(s)
                }
                o !== t ? this.insertBefore(o, t) : t = t.nextSibling
            }
            for (; t; ) {
                s = t;
                t = t.nextSibling,
                this.removeChild(s)
            }
        }
        ,
        Node.prototype.appendText = function(e) {
            this.appendChild(document.createTextNode(e))
        }
        ,
        Element.prototype.setAttr = function(e, t) {
            this.setAttribute(e, String(t))
        }
        ,
        Element.prototype.setAttrs = function(e) {
            for (var t in e)
                if (e.hasOwnProperty(t)) {
                    var n = e[t];
                    null !== n && this.setAttr(t, n)
                }
        }
        ,
        Element.prototype.getAttr = Element.prototype.getAttribute,
        p(Element.prototype, "matchParent", (function(e, t) {
            if (this.matches(e))
                return this;
            if (this === t)
                return null;
            var n = this.parentElement;
            return n ? n.matchParent(e, t) : null
        }
        )),
        HTMLElement.prototype.show || (HTMLElement.prototype.show = function() {
            "none" === this.style.display && (this.style.display = this.getAttribute("data-display") || "",
            this.removeAttribute("data-display"))
        }
        ),
        HTMLElement.prototype.hide || (HTMLElement.prototype.hide = function() {
            var e = this.style.display;
            "none" !== e && (this.style.display = "none",
            e ? this.setAttribute("data-display", e) : this.removeAttribute("data-display"))
        }
        ),
        HTMLElement.prototype.toggle || (HTMLElement.prototype.toggle = function(e) {
            e ? this.show() : this.hide()
        }
        ),
        HTMLElement.prototype.toggleVisibility || (HTMLElement.prototype.toggleVisibility = function(e) {
            this.style.visibility = e ? "" : "hidden"
        }
        ),
        window.fish = function(e) {
            return document.querySelector(e)
        }
        ,
        window.fishAll = function(e) {
            return Array.prototype.slice.call(document.querySelectorAll(e))
        }
        ,
        Element.prototype.find = function(e) {
            return this.querySelector(e)
        }
        ,
        Element.prototype.findAll = function(e) {
            return Array.prototype.slice.call(this.querySelectorAll(e))
        }
        ,
        Element.prototype.findAllSelf = function(e) {
            var t = Array.prototype.slice.call(this.querySelectorAll(e));
            return this.matches(e) && t.unshift(this),
            t
        }
        ,
        Node.prototype.createEl = function(e, t, n) {
            return "string" == typeof t && (t = {
                cls: t
            }),
            (t = t || {}).parent = this,
            createEl(e, t, n)
        }
        ,
        Node.prototype.createDiv = function(e, t) {
            return this.createEl("div", e, t)
        }
        ,
        Node.prototype.createSpan = function(e, t) {
            return this.createEl("span", e, t)
        }
        ,
        window.createEl = function(e, t, n) {
            var i = document.createElement(e);
            "string" == typeof t && (t = {
                cls: t
            });
            var r = t || {}
              , o = r.cls
              , s = r.text
              , a = r.attr
              , l = r.title
              , c = r.value
              , u = r.type
              , h = r.parent
              , p = r.prepend
              , d = r.href;
            return o && (Array.isArray(o) ? i.className = o.join(" ") : i.className = o),
            s && i.setText(s),
            a && i.setAttrs(a),
            l && (i.title = l),
            c && (i instanceof HTMLInputElement || i instanceof HTMLSelectElement || i instanceof HTMLOptionElement) && (i.value = c),
            u && i instanceof HTMLInputElement && (i.type = u),
            u && i instanceof HTMLStyleElement && i.setAttribute("type", u),
            d && (i instanceof HTMLAnchorElement || i instanceof HTMLLinkElement) && (i.href = d),
            n && n(i),
            h && (p ? h.insertBefore(i, h.firstChild) : h.appendChild(i)),
            i
        }
        ,
        window.createDiv = function(e, t) {
            return createEl("div", e, t)
        }
        ,
        window.createSpan = function(e, t) {
            return createEl("span", e, t)
        }
        ,
        window.createFragment = function(e) {
            var t = document.createDocumentFragment();
            return e && e(t),
            t
        }
        ;
        var f = function(e, t, n, i) {
            var r = this._EVENTS;
            r || (r = {},
            this._EVENTS = r);
            var o = r[e];
            o || (o = [],
            r[e] = o);
            var s = function(e) {
                var i = e.target;
                if (i instanceof Element) {
                    var r = i.matchParent(t, e.currentTarget);
                    r && n.call(this, e, r)
                }
            };
            o.push({
                selector: t,
                listener: n,
                options: i,
                callback: s
            }),
            this.addEventListener(e, s, i)
        }
          , g = function(e, t, n, i) {
            var r = this
              , o = this._EVENTS;
            if (o) {
                var s = o[e];
                s && (o[e] = s.filter((function(o) {
                    if (o.selector === t && o.listener === n && o.options === i) {
                        var s = o.callback;
                        return r.removeEventListener(e, s, i),
                        !1
                    }
                    return !0
                }
                )))
            }
        };
        function m(e) {
            var t = e.method
              , n = e.url
              , i = e.success
              , r = e.error
              , o = e.data
              , s = e.headers
              , a = e.withCredentials;
            t = t || "GET";
            var l = new XMLHttpRequest;
            if (l.open(t, n, !0),
            l.onload = function() {
                var e = l.status
                  , t = l.response;
                e >= 200 && e < 400 ? i && i(t, l) : r && r(t, l)
            }
            ,
            l.onerror = function(e) {
                r && r(e, l)
            }
            ,
            s)
                for (var c in s)
                    s.hasOwnProperty(c) && l.setRequestHeader(c, s[c]);
            l.withCredentials = a || !1,
            o ? (void 0 === a && (l.withCredentials = !0),
            String.isString(o) ? l.send(o) : o instanceof ArrayBuffer ? (l.setRequestHeader("Content-Type", "application/octet-stream"),
            l.send(o)) : (l.setRequestHeader("Content-Type", "application/json; charset=utf-8"),
            l.send(JSON.stringify(o)))) : l.send()
        }
        function v(e) {
            return e.buffer.slice(e.byteOffset, e.byteOffset + e.byteLength)
        }
        function y(e) {
            return e.buffer.slice(e.byteOffset, e.byteOffset + e.byteLength)
        }
        function b(e) {
            return y((new TextEncoder).encode(e))
        }
        function w(e) {
            return (new TextDecoder).decode(new Uint8Array(e))
        }
        function k(e) {
            for (var t = window.atob(e), n = t.length, i = new Uint8Array(n), r = 0; r < n; r++)
                i[r] = t.charCodeAt(r);
            return i.buffer
        }
        function C(e) {
            return x(new Uint8Array(e))
        }
        function x(e) {
            for (var t = [], n = e.byteLength, i = 0; i < n; i++)
                t.push(String.fromCharCode(e[i]));
            return window.btoa(t.join(""))
        }
        function E(e) {
            return o(this, void 0, Promise, (function() {
                var t;
                return s(this, (function(n) {
                    switch (n.label) {
                    case 0:
                        return t = D,
                        [4, S(e)];
                    case 1:
                        return [2, t.apply(void 0, [n.sent()])]
                    }
                }
                ))
            }
            ))
        }
        function S(e) {
            return o(this, void 0, Promise, (function() {
                return s(this, (function(t) {
                    return [2, crypto.subtle.digest("SHA-256", new Uint8Array(e))]
                }
                ))
            }
            ))
        }
        function L(e) {
            for (var t = e.length / 2, n = new ArrayBuffer(t), i = new Uint8Array(n), r = 0; r < t; r++)
                i[r] = parseInt(e.substr(2 * r, 2), 16);
            return n
        }
        function D(e) {
            for (var t = new Uint8Array(e), n = [], i = 0; i < t.length; i++) {
                var r = t[i];
                n.push((r >>> 4).toString(16)),
                n.push((15 & r).toString(16))
            }
            return n.join("")
        }
        HTMLElement.prototype.on = f,
        Document.prototype.on = f,
        HTMLElement.prototype.off = g,
        Document.prototype.off = g,
        HTMLElement.prototype.onClickEvent = function(e, t) {
            this.addEventListener("click", e, t),
            this.addEventListener("auxclick", e, t)
        }
        ,
        HTMLElement.prototype.trigger = function(e) {
            var t = document.createEvent("HTMLEvents");
            t.initEvent(e, !0, !1),
            this.dispatchEvent(t)
        }
        ,
        window.ajax = m,
        window.ajaxPromise = function(e) {
            return new Promise((function(t, n) {
                e.success = t,
                e.error = function(e, t) {
                    return n(t)
                }
                ,
                m(e)
            }
            ))
        }
        ,
        window.ready = function(e) {
            "loading" !== document.readyState ? e() : document.addEventListener("DOMContentLoaded", e)
        }
        ;
        var M = "AES-GCM";
        function A(e) {
            return crypto.subtle.importKey("raw", e, M, !1, ["encrypt", "decrypt"])
        }
        function T(e, t, n) {
            return o(this, void 0, Promise, (function() {
                var i, r, o;
                return s(this, (function(s) {
                    switch (s.label) {
                    case 0:
                        return n || (n = crypto.getRandomValues(new Uint8Array(12))),
                        [4, crypto.subtle.encrypt({
                            name: M,
                            iv: n
                        }, t, e)];
                    case 1:
                        return i = s.sent(),
                        r = new ArrayBuffer(n.byteLength + i.byteLength),
                        (o = new Uint8Array(r)).set(new Uint8Array(n), 0),
                        o.set(new Uint8Array(i), n.byteLength),
                        [2, r]
                    }
                }
                ))
            }
            ))
        }
        function F(e, t) {
            return o(this, void 0, Promise, (function() {
                var n, i;
                return s(this, (function(r) {
                    switch (r.label) {
                    case 0:
                        if (e.byteLength < 12)
                            throw new Error("Encrypted data is bad");
                        return 12 === e.byteLength ? [2, new ArrayBuffer(0)] : (n = new Uint8Array(e,0,12),
                        i = new Uint8Array(e,12),
                        [4, crypto.subtle.decrypt({
                            name: M,
                            iv: n
                        }, t, i)]);
                    case 1:
                        return [2, r.sent()]
                    }
                }
                ))
            }
            ))
        }
        var P = 32768
          , O = {
            N: P,
            r: 8,
            p: 1,
            maxmem: 67108864
        };
        function I(e, t) {
            return o(this, void 0, Promise, (function() {
                var n;
                return s(this, (function(i) {
                    switch (i.label) {
                    case 0:
                        return e = e.normalize("NFKC"),
                        t = t.normalize("NFKC"),
                        (n = window.require && window.require("crypto")) ? [4, new Promise((function(i, r) {
                            n.scrypt(Buffer.from(e, "utf8"), Buffer.from(t, "utf8"), 32, O, (function(e, t) {
                                e ? r(e) : i(t)
                            }
                            ))
                        }
                        ))] : [3, 2];
                    case 1:
                        return [2, v(i.sent())];
                    case 2:
                        return [4, window.scrypt.scrypt(new Uint8Array(b(e)), new Uint8Array(b(t)), P, 8, 1, 32)];
                    case 3:
                        return [2, y(i.sent())]
                    }
                }
                ))
            }
            ))
        }
        function N(e) {
            if (e <= 0)
                return "0 B";
            for (var t = ["B", "KB", "MB", "GB", "TB", "PB"], n = t.length - 1, i = 0; i < t.length; i++)
                if (e < Math.pow(1024, i + 1)) {
                    n = i;
                    break
                }
            return function(e, t, n, i) {
                void 0 === t && (t = 2);
                void 0 === n && (n = ".");
                void 0 === i && (i = ",");
                var r = e < 0 ? "-" : "";
                e = Math.abs(e);
                var o = parseInt(e.toFixed(t), 10) + ""
                  , s = o.length > 3 ? o.length % 3 : 0;
                return r + (s ? o.substr(0, s) + i : "") + o.substr(s).replace(/(\d{3})(?=\d)/g, "$1" + i) + (t ? n + Math.abs(e - Math.floor(e)).toFixed(t).slice(2) : "")
            }(e / Math.pow(1024, n), 0 === n ? 0 : 2) + " " + t[n]
        }
        var R = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*?()";
        var B = /\u00A0/g;
        var z = ["bmp", "png", "jpg", "jpeg", "gif", "svg"]
          , H = ["mp3", "wav", "m4a", "3gp", "flac", "ogg", "oga"]
          , V = ["mp4", "webm", "ogv"]
          , q = ["pdf"]
          , U = ["md"]
          , _ = ["json", "css", "js"]
          , j = [].concat(z, H, V, q, U);
        function W(e) {
            var t = e.lastIndexOf("/");
            return -1 === t ? e : e.slice(t + 1)
        }
        function $(e) {
            var t = e.lastIndexOf("/");
            return -1 === t ? "" : e.slice(0, t)
        }
        function G(e) {
            for (; e; ) {
                if (W(e).startsWith("."))
                    return !0;
                e = $(e)
            }
            return !1
        }
        function Y(e) {
            var t = W(e)
              , n = t.lastIndexOf(".");
            return -1 === n || n === t.length - 1 || 0 === n ? t : t.substr(0, n)
        }
        function K(e) {
            var t = e.lastIndexOf(".");
            return -1 === t || t === e.length - 1 || 0 === t ? e : e.substr(0, t)
        }
        function Q(e) {
            var t = e.lastIndexOf(".");
            return -1 === t || t === e.length - 1 || 0 === t ? "" : e.substr(t + 1).toLowerCase()
        }
        function J(e, t) {
            return t ? e + "." + t : e
        }
        function X(e, t) {
            return Q(e) === t
        }
        function Z(e) {
            return j.contains(e)
        }
        function ee(e) {
            return (t = te(e),
            t.replace(B, " ")).normalize("NFC");
            var t
        }
        function te(e) {
            return "" === (e = e.replace(/([\\/])+/g, "/").replace(/(^\/+|\/+$)/g, "")) && (e = "/"),
            e
        }
        function ne(e) {
            var t = W(e);
            return "md" === Q(t) ? Y(t) : t
        }
        function ie(e) {
            return "md" === Q(W(e)) ? K(e) : e
        }
        var re = function() {
            var e = navigator.appVersion;
            return -1 !== e.indexOf("Win") ? "Windows" : -1 !== e.indexOf("Mac") ? "MacOS" : -1 !== e.indexOf("X11") || -1 !== e.indexOf("Linux") ? "Linux" : "Unknown OS"
        }()
          , oe = navigator.userAgent.toLowerCase()
          , se = "MacOS" === re
          , ae = "Windows" === re
          , le = "Linux" === re
          , ce = oe.indexOf("firefox") > -1
          , ue = /^((?!chrome|android).)*safari/i.test(oe);
        function he(e) {
            return se && 0 === e.button && e.ctrlKey
        }
        var pe = window.require;
        function de(e) {
            return pe && pe(e)
        }
        function fe(e) {
            var t = de("electron");
            t && e(t)
        }
        function ge(e) {
            return o(this, void 0, Promise, (function() {
                var t;
                return s(this, (function(n) {
                    return (t = de("fs")) && t.existsSync(e) ? [2, t.promises.readFile(e)] : [2, null]
                }
                ))
            }
            ))
        }
        var me = !1;
        fe((function(e) {
            me = e.ipcRenderer.sendSync("is-dev")
        }
        ));
        var ve = me;
        function ye() {
            return o(this, void 0, Promise, (function() {
                var e, t, n, i, r, o, a, l, c;
                return s(this, (function(s) {
                    switch (s.label) {
                    case 0:
                        return (e = de("electron")) ? (t = e.remote.clipboard,
                        (n = t.readImage()) && !n.isEmpty() ? (i = n.toPNG(),
                        [2, {
                            name: "Pasted image",
                            extension: "png",
                            data: y(i)
                        }]) : (r = "",
                        "Windows" === re ? r = t.readBuffer("FileNameW").toString("ucs2").replace("\0", "") : "MacOS" === re && (r = t.read("public.file-url")) && (r = r.replace("file://", ""),
                        r = decodeURI(r)),
                        r ? (o = W(ee(r)),
                        a = Q(o),
                        l = Y(o),
                        [4, ge(r)]) : [2, null])) : [2, null];
                    case 1:
                        return (c = s.sent()) ? [2, {
                            filepath: r,
                            name: l,
                            extension: a,
                            data: c
                        }] : [2, null]
                    }
                }
                ))
            }
            ))
        }
        ve || fe((function(e) {
            try {
                e.deprecate.setHandler((function() {}
                ))
            } catch (e) {}
        }
        ));
        var be = "language"
          , we = "en"
          , ke = {
            en: "English",
            zh: "简体中文",
            "zh-TW": "繁體中文",
            ru: "Pусский",
            ko: "한국어",
            it: "Italiano",
            id: "Bahasa Indonesia",
            ro: "Română",
            "pt-BR": "Portugues do Brasil",
            cz: "čeština",
            de: "Deutsch",
            es: "Español",
            fr: "Français",
            no: "Norsk",
            pl: "język polski",
            pt: "Português",
            ja: "日本語",
            da: "Dansk",
            uk: "Український",
            tr: "Türkçe (kısmi)",
            hi: "हिन्दी (आंशिक)",
            nl: "Nederlands (gedeeltelijk)",
            ar: "العربية (جزئي)"
        }
          , Ce = {
            interpolation: {
                prefix: "{{{{",
                suffix: "}}}}"
            }
        }
          , xe = "default";
        i18next.init({
            fallbackLng: we,
            ns: [xe],
            defaultNS: xe,
            initImmediate: !1,
            interpolation: {
                escapeValue: !1
            }
        });
        var Ee = {
            setting: {
                options: "Options",
                plugin: "Plugin",
                "builtin-plugins": "Core plugins",
                "plugin-options": "Plugin options",
                "folder-path-example-placeholder": "Example: folder 1/folder 2",
                "file-path-example-placeholder": "Example: folder/note",
                editor: {
                    name: "Editor",
                    "option-spellcheck": "Spell check",
                    "option-spellcheck-description": "Turn on the spell checker, which currently works for American English.",
                    "spellcheck-dict": "Spellcheck dictionary",
                    "spellcheck-dict-empty": "The spellcheck dictionary is empty.",
                    "option-readable-line-length": "Readable line length",
                    "option-readable-line-description": "Limit maximum line length. Less content fits onscreen, but long blocks of text are more readable.",
                    "option-strict-line-break": "Strict line breaks",
                    "option-strict-line-break-description": "Markdown specs ignore single line breaks in preview mode. Turn this off to make single line breaks visible.",
                    "option-show-frontmatter": "Show frontmatter",
                    "option-show-frontmatter-description": "In preview mode, show frontmatter as a code block. Turn off to hide frontmatter section.",
                    "option-auto-pair-brackets": "Auto pair brackets",
                    "option-auto-pair-brackets-description": "Pair brackets and quotes automatically.",
                    "option-auto-pair-markdown": "Auto pair Markdown syntax",
                    "option-auto-pair-markdown-description": "Pair symbols automatically for bold and italic.",
                    "option-smart-indent-lists": "Smart indent lists",
                    "option-smart-indent-lists-description": "Automatically set indentation and place list items correctly.",
                    "option-fold-heading": "Fold heading",
                    "option-fold-heading-description": "Lets you fold all content under a heading.",
                    "option-fold-indent": "Fold indent",
                    "option-fold-indent-description": "Lets you fold part of an indentation, such as lists.",
                    "option-default-new-pane-mode": "Default new pane mode",
                    "option-default-new-pane-mode-description": "The default mode a new pane gets opened in.",
                    "option-default-new-pane-mode-source": "Editor",
                    "option-default-new-pane-mode-preview": "Preview",
                    "option-show-line-number": "Show line number",
                    "option-show-line-number-description": "Show line number in the gutter.",
                    "option-use-tabs": "Use tabs",
                    "option-use-tabs-description": "Use tabs to indent by pressing the “Tab” key. Turn this off to use spaces.",
                    "option-tab-size": "Tab size",
                    "option-tab-size-description": "Number of spaces a tab is equivalent to.",
                    "option-line-wrap": "Line wrap",
                    "option-line-wrap-description": "Wrap long lines to fit within the window, without having to scroll from left to right.",
                    "option-auto-convert-html": "Auto convert HTML",
                    "option-auto-convert-html-description": "Automatically convert HTML to Markdown when pasting and drag-and-drop from webpages. Use Ctrl/Cmd+Shift+V to paste without conversion.",
                    "option-vim-key-bindings": "Vim key bindings",
                    "option-vim-key-bindings-description": "Let you use Vim key bindings in the source editor.",
                    "option-emacsy-keys": "Legacy Emacs-style key bindings for macOS",
                    "option-emacsy-keys-description": "Allows you to use the additional Emacs-style navigation keys, which are standard on macOS, but may interfere with some key operations. Not available while in Vim mode.",
                    "label-confirm-enable-vim": "Confirm entering Vim mode",
                    "label-vim-warning": "Vim mode is for efficient text editing but can be quite counter-intuitive. If you're not familiar with Vim, this option might make it look like Obsidian has stopped working.",
                    "label-vim-test": "To verify that you know your way around Vim, please enter the command to quit Vim without saving below:",
                    "label-vim-your-answer": "Your answer",
                    "placeholder-enter-command": "Enter command...",
                    "button-confirm-enable-vim": "Let me enable Vim",
                    "msg-vim-mode-enabled": "Command is correct. Vim mode now enabled.",
                    "msg-vim-mode-not-enabled": "Command is incorrect. Vim mode remains disabled to protect you.",
                    "msg-vim-mode-please-enter-command": "Please enter the command to enable Vim mode"
                },
                file: {
                    name: "Files & Links",
                    "option-confirm-file-deletion": "Confirm file deletion",
                    "option-confirm-file-deletion-description": "Prompt before file deletion.",
                    "option-delete-destination": "Deleted files",
                    "option-delete-destination-description": "What happens to a file after you delete it.",
                    "option-choice-system-trash": "Move to system trash",
                    "option-choice-vault-trash": "Move to Obsidian trash (.trash folder)",
                    "option-choice-permanent-delete": "Permanently delete",
                    "option-always-update-links": "Automatically update internal links",
                    "option-always-update-links-description": "Turn off to be prompted to update links after renaming a file.",
                    "option-new-note-location": "Default location for new notes",
                    "option-new-note-location-description": "Where newly created notes are placed. Plugin settings will override this.",
                    "option-choice-vault-root": "Vault folder",
                    "option-choice-current-folder": "Same folder as current file",
                    "option-choice-specified-folder": "In the folder specified below",
                    "option-new-file-folder-path": "Folder to create new notes in",
                    "option-new-file-folder-path-description": "Newly created notes will appear under this folder. Plugin settings will override this.",
                    "option-use-wiki-links": "Use [[Wikilinks]]",
                    "option-use-wiki-links-description": "Auto-generate Wikilinks for [[links]] and ![[images]] instead of Markdown links and images. Disable this option to generate Markdown links instead.",
                    "option-show-unsupported-files": "Detect all file extensions",
                    "option-show-unsupported-files-description": "Show files with any extension even if Obsidian can't open them natively, so that you can link to them and see them in File Explorer and Quick Switcher.",
                    "option-link-autocompleted-format": "New link format",
                    "option-link-autocompleted-format-description": "What links to insert when auto-generating internal links.",
                    "option-choice-shortest-linktext": "Shortest path when possible",
                    "option-choice-relative-path": "Relative path to file",
                    "option-choice-absolute-path": "Absolute path in vault",
                    "option-new-attachment-location": "Default location for new attachments",
                    "option-new-attachment-location-description": "Where newly added attachments are placed.",
                    "option-choice-subdirectory": "In subfolder under current folder",
                    "option-attachment-folder-path": "Attachment folder path",
                    "option-attachment-folder-path-description": "Place newly created attachment files, such as images created via drag-and-drop or audio recordings, in this folder.",
                    "option-attachment-subfolder-path": "Subfolder name",
                    "option-attachment-subfolder-path-description": 'If your file is under "vault/folder", and you set subfolder name to "attachments", attachments will be saved to "vault/folder/attachments".',
                    "option-attachment-subfolder-path-placeholder": "attachments"
                },
                appearance: {
                    name: "Appearance",
                    "option-base-theme": "Base theme",
                    "option-base-theme-description": "Choose Obsidian’s default color scheme.",
                    "dark-theme": "Dark",
                    "light-theme": "Light",
                    "option-use-obsidian-css": "Apply custom CSS",
                    "option-use-obsidian-css-description": "Read and apply “obsidian.css” in the vault folder. This is a legacy setting, please consider moving your custom CSS file to the snippet folder below.",
                    "option-community-themes": "Community themes",
                    "option-community-themes-description": "Preview and use amazing themes created by the community.",
                    "button-browse-community-themes": "Browse",
                    "option-font-size": "Font size",
                    "option-font-size-description": "Font size in pixels that affects editor and preview.",
                    "option-font-size-action": "Quick font size adjustment",
                    "option-font-size-action-description": "Adjust the font size using Ctrl + Scroll, or using the trackpad pinch-zoom gesture.",
                    "option-themes": "Themes",
                    "option-theme": "Theme",
                    "option-theme-description": 'Choose a theme to use. Themes are stored in "{{path}}".',
                    "option-choice-none": "None",
                    "button-reload-themes": "Reload themes",
                    "msg-reloaded-themes": "Reloaded custom CSS themes.",
                    "button-open-themes-folder": "Open themes folder",
                    "option-css-snippets": "CSS snippets",
                    "label-no-css-snippets-found": "No CSS snippets found.",
                    "no-snippet-description": 'CSS Snippets are stored in "{{path}}".',
                    "button-reload-snippets": "Reload snippets",
                    "button-open-snippets-folder": "Open snippets folder",
                    "msg-reloaded-snippets": "Reloaded CSS snippets.",
                    "option-toggle-snippet-description": 'Apply CSS snippet at "{{path}}".'
                },
                hotkeys: {
                    name: "Hotkeys",
                    "prompt-filter": "Filter...",
                    "tooltip-delete-hotkey": "Delete hotkey",
                    "label-waiting-for-hotkey-press": "Press hotkey...",
                    "tooltip-restore-default": "Restore default",
                    "tooltip-customize-command": "Customize this command",
                    "tooltip-hotkey-single-conflict": 'This hotkey conflicts with "{{command}}"',
                    "tooltip-hotkey-multiple-conflicts": "This hotkey conflicts with {{count}} other commands",
                    "label-blank-hotkey": "Blank"
                },
                about: {
                    name: "About",
                    "label-license-key": "License key",
                    "license-key-placeholder": "Your license key...",
                    "label-enter-commercial-license": "Please enter your commercial license key:",
                    "label-activate-license": "Activate license",
                    "button-activate": "Activate",
                    "label-unknown-version": "Unknown",
                    "label-current-version": "Current version: ",
                    "label-install-version": "(Installer version: {{version}})",
                    "label-up-to-date": "Your app is up-to-date!",
                    "label-read-changelog": "Read the changelog.",
                    "label-manual-install-required": "You must manually install the latest version.",
                    "label-download-link": "Download here.",
                    "label-new-version-ready": "A new version is ready to be installed. ",
                    "label-relaunch-to-update": "Relaunch the app to update.",
                    "label-disabled-updates": "Updates are disabled.",
                    "label-checking-for-updates": "Checking for updates...",
                    "button-relaunch": "Relaunch",
                    "button-check-for-updates": "Check for updates",
                    "option-auto-update": "Automatic updates",
                    "option-auto-update-description": "Turn this off to prevent the app from checking for updates.",
                    "option-open-help": "Obsidian help",
                    "option-open-help-description": "Open the help documentation.",
                    "button-open": "Open",
                    "option-language": "Language",
                    "option-language-description": "Change the display language.",
                    "option-insider-build": "Receive insider builds",
                    "option-insider-build-description": "Auto-update to insider builds and try new features. These builds are bleeding-edge and might be less stable.",
                    "option-advanced": "Advanced",
                    "option-hw-acceleration": "Hardware Acceleration",
                    "option-hw-acceleration-description": "Turns on Hardware Acceleration, which uses your GPU to make Obsidian smoother.",
                    "option-hw-acceleration-warning": "If you turn this off, app performance will be severely degraded.",
                    "option-config-location": "Override config folder",
                    "option-config-location-description": "Use a different config folder than the default one. Must start with a dot.",
                    "option-config-location-warning": "Config location must be a valid folder name that starts with a dot.",
                    "label-license": "License",
                    "label-your-commercial-license": "Your commercial license key is ",
                    "label-commercial-license-info": 'Registered to "{{company}}" for {{seats}} users. Valid until {{expiry}}.',
                    "label-validating-commercial-license": "Validating...",
                    "label-invalid-commercial-license": "License invalid: ",
                    "button-activate-commercial-license": "Activate commercial license",
                    "label-personal-license": " personal license. ",
                    "label-thank-you-for-support": "Thank you for your support!",
                    "label-free-personal-license": "Personal license: free for personal use."
                },
                account: {
                    name: "Account",
                    "label-welcome": "Welcome, {{name}}!",
                    "label-your-account-email": "Your account is ",
                    "label-insider": "insider",
                    "label-supporter": "supporter",
                    "label-vip": "VIP",
                    "label-role-text": "You've upgraded to {{- role}}!",
                    "label-insider-build-access": "Thank you for your support. You have access to our insider builds.",
                    "label-action-suggestion": "You may want to:",
                    "button-get-commercial-license": "Get a commercial license",
                    "button-get-catalyst-license": "Support Obsidian with Obsidian Catalyst",
                    "button-check-for-catalyst-license": "Check for Obsidian Catalyst",
                    "button-upgrade-catalyst-license": "Upgrade to a higher tier",
                    "button-log-out": "Log out",
                    "label-log-in": "Log in",
                    "label-email": "Email",
                    "placeholder-email": "Your email...",
                    "label-password": "Password",
                    "placeholder-password": "Your password...",
                    "button-login": "Login",
                    "message-empty-email": "Email cannot be empty.",
                    "message-invalid-email": "Email is not valid.",
                    "message-empty-password": "Password cannot be empty.",
                    "message-login-failed": "Login failed, please double check your email and password.",
                    "label-no-account": "Don't have an account? ",
                    "link-sign-up-now": "Sign up now",
                    "message-get-community-badges": "For community badges, please email support@obsidian.md if you haven't received them 24 hours after obtaining your license.",
                    "message-obtain-commercial-license": "To obtain a commercial license, visit {{pricingPageLink}}."
                },
                "third-party-plugin": {
                    name: "Community plugins",
                    "option-safe-mode": "Safe mode",
                    "option-safe-mode-description-on": "Safe Mode is ON. All community plugins are disabled.",
                    "option-safe-mode-description-off": "Safe Mode is OFF. Community plugins can now be enabled.",
                    "option-browse-community-plugins": "Community plugins",
                    "option-browse-community-plugins-description": "Browse and install third-party plugins made by our amazing community.",
                    "button-browse": "Browse",
                    "label-third-party-plugin-warning": "Community plugins can access files on your computer, connect the internet, and even install additional programs. They can also be faulty and cause data corruption or data loss.",
                    "label-disable-safe-mode-confirmation": "Would you like to disable Safe Mode to allow these third-party plugins? Make sure you have setup backups of your vault in case plugins malfunction and wipe your notes.",
                    "button-keep-safe-mode": "Keep Safe Mode on",
                    "button-disable-safe-mode": "Turn off Safe Mode",
                    "label-select-a-plugin": "Select a plugin to install or learn more about it.",
                    "placeholder-community-plugins": "Search community plugins...",
                    "msg-failed-load-plugins": "Failed to load community plugins.",
                    "label-installed": "Installed",
                    "tooltip-downloaded-times": "Downloaded {{count}} time",
                    "tooltip-downloaded-times_plural": "Downloaded {{count}} times",
                    "button-install": "Install",
                    "button-enable": "Enable",
                    "button-disable": "Disable",
                    "label-no-results-found": "No results found.",
                    "msg-failed-to-load-manifest": "Failed to load plugin manifest.",
                    "label-version": "Version: {{version}}",
                    "label-currently-installed-version": " (currently installed: {{version}})",
                    "label-by-author": "By ",
                    "label-repository": "Repository: ",
                    "label-unsupported": "This plugin does not support your device.",
                    "button-update": "Update",
                    "label-no-readme": "This plugin did not provide a README file.",
                    "msg-installing-plugin": 'Installing plugin "{{name}}"...',
                    "msg-failed-to-install-plugin": 'Failed to install plugin "{{name}}".',
                    "msg-successfully-installed-plugin": 'Successfully installed plugin "{{name}}".',
                    "label-installed-plugins": "Installed plugins",
                    "button-reload-plugins": "Reload plugins",
                    "msg-reloaded-third-party-plugins": "Reloaded third-party plugins.",
                    "label-uninstall": "Uninstall",
                    "label-uninstall-plugin": "Uninstall plugin",
                    "label-uninstall-plugin-confirmation": "Are you sure you want to uninstall this plugin? This will delete the folder of the plugin.",
                    "button-open-plugins-folder": "Open plugins folder",
                    "button-check-for-updates": "Check for updates",
                    "button-update-all-plugins": "Update all",
                    "label-current-plugins": "Current plugins",
                    "label-currently-installed": "You currently have {{count}} plugin installed.",
                    "label-currently-installed_plural": "You currently have {{count}} plugins installed.",
                    "msg-no-updates-found": "No plugin updates found.",
                    "msg-updates-found": "Found {{count}} plugin to update.",
                    "msg-updates-found_plural": "Found {{count}} plugins to update.",
                    "msg-update-plugin": "Update to version {{version}}",
                    "option-search-installed-plugin": "Search installed plugins",
                    "option-search-installed-plugin-description": "Filter installed plugins by name or description.",
                    "placeholder-search-installed-plugin": "Search installed plugins...",
                    "label-sort-downloads-high-to-low": "Download count (high to low)",
                    "label-sort-downloads-low-to-high": "Download count (low to high)",
                    "label-sort-release-date-new-to-old": "First released time (new to old)",
                    "label-sort-release-date-old-to-new": "First released time (old to new)",
                    "label-sort-alphabetical": "Plugin name (A to Z)",
                    "label-sort-alphabetical-reverse": "Plugin name (Z to A)",
                    "label-search-summary": "Showing {{pluginCount}}:"
                },
                "mobile-toolbar": {
                    name: "Mobile",
                    "option-configure-quick-action": "Configure mobile Quick Action",
                    "option-configure-quick-action-description": 'Configure which command to trigger when pull down from the top. The current command is set to "{{command}}".',
                    "button-configure": "Configure",
                    "placeholder-select-quick-action": "Select Quick Action...",
                    "manage-toolbar-options": "Manage toolbar options",
                    "option-internal-link": "Add internal link",
                    "option-internal-embed": "Add embed",
                    "option-tag": "Add tag",
                    "option-heading": "Toggle heading",
                    "option-strikethrough": "Toggle strikethrough",
                    "option-highlight": "Toggle highlight",
                    "option-code": "Toggle code",
                    "option-blockquote": "Toggle blockquote",
                    "option-markdown-link": "Add Markdown link",
                    "option-bullet-list": "Toggle bullet list",
                    "option-numbered-list": "Toggle numbered list",
                    "option-indent-list": "Indent list item",
                    "option-unindent-list": "Unindent list item",
                    "option-undo": "Undo",
                    "option-redo": "Redo",
                    "option-move-caret-up": "Move caret up",
                    "option-move-caret-down": "Move caret down",
                    "option-move-caret-left": "Move caret left",
                    "option-move-caret-right": "Move caret right",
                    "option-first-line": "Go to first line",
                    "option-last-line": "Go to last line",
                    "option-toggle-keyboard": "Toggle keyboard",
                    "option-configure-toolbar": "Configure mobile toolbar",
                    "option-added-options": "Added options",
                    "option-more-toolbar-options": "More toolbar options",
                    "option-attach": "Insert attachment",
                    "option-add-command": "Add global command",
                    "option-add-command-description": "Select any global command to add to the toolbar."
                }
            },
            editor: {
                search: {
                    "label-previous": "Prev",
                    "label-next": "Next",
                    "label-all": "All",
                    "label-exit-search": "Exit search",
                    "label-replace": "Replace",
                    "label-replace-all": "Replace all",
                    "key-enter": "Enter",
                    "key-shift-f3": "Shift + F3",
                    "key-enter-or-f3": "Enter or F3"
                },
                "link-suggestion": {
                    "label-type-hash": "Type #",
                    "label-link-heading": "to link heading",
                    "label-type-block": "Type ^",
                    "label-link-block": "to link blocks",
                    "label-type-pipe": "Type |",
                    "label-change-display-text": "to change display text",
                    "label-no-match-found": "No match found"
                },
                spellcheck: {
                    "no-suggestion": "No suggestions...",
                    "add-to-dictionary": "Add to dictionary"
                },
                "print-modal": {
                    title: "Export to PDF",
                    caption: 'Export "{{filename}}" to PDF with the settings below.',
                    "setting-page-size": "Page size",
                    "setting-page-size-a3": "A3",
                    "setting-page-size-a4": "A4",
                    "setting-page-size-a5": "A5",
                    "setting-page-size-legal": "Legal",
                    "setting-page-size-letter": "Letter",
                    "setting-page-size-tabloid": "Tabloid",
                    "setting-landscape": "Landscape",
                    "setting-margin": "Margin",
                    "setting-margin-default": "Default",
                    "setting-margin-minimal": "Minimal",
                    "setting-margin-none": "None",
                    "setting-downscale-percent": "Downscale percent",
                    "button-export-to-pdf": "Export to PDF"
                },
                "link-popover": {
                    "tooltip-follow-link": "Follow link",
                    "tooltip-open-link": "Open link",
                    "tooltip-search-tag": "Search tag"
                }
            },
            interface: {
                "embed-open-in-default-app-tooltip": "Open in default app",
                "empty-sidebar": "The sidebar is empty, try dragging a pane here.",
                "sidebar-expand": "Expand",
                "sidebar-collapse": "Collapse",
                "msg-fail-to-save-file": 'Failed to save file "{{filepath}}". {{message}}.',
                "no-file": "No file",
                "msg-file-changed": '"{{file}}" has been modified externally, merging changes automatically.',
                "switch-vault": "Open another vault",
                help: "Help",
                settings: "Settings",
                "drag-to-rearrange": "Drag to rearrange",
                "msg-switched-to-preview": "Switched default view mode to preview.",
                "msg-switched-to-edit": "Switched default view mode to editor.",
                "msg-upgrade-installer": "To use this feature, please re-install with latest installer available from our website.",
                "tooltip-restore-default-settings": "Restore default settings",
                "label-copy": "Copy to clipboard",
                copied: "{{item}} copied to your clipboard",
                url: "Url",
                "msg-open-file-through-uri": 'Opened file "{{path}}"',
                "msg-file-not-found-through-uri": 'File "{{name}}" not found.',
                "delete-action-short-name": "Delete",
                "msg-indexing": "Obsidian is indexing your vault...\nThis should only happen once.\nSome functionality may not be available until this is complete.",
                "msg-indexing-complete": "Indexing complete.",
                "label-enter-to-create": "Enter to create",
                "empty-state": {
                    "no-file-open": "No file is open",
                    "create-new-file": "Create new file",
                    "go-to-file": "Go to file",
                    "see-recent-files": "See recent files",
                    close: "Close"
                },
                menu: {
                    "edit-view": "Edit (Ctrl/Cmd+Click to edit in new pane)",
                    "preview-view": "Preview (Ctrl/Cmd+Click to open in new pane)",
                    find: "Find...",
                    replace: "Replace...",
                    edit: "Edit",
                    preview: "Preview",
                    "more-options": "More options",
                    close: "Close",
                    pin: "Pin",
                    "unlink-pane": "Unlink pane",
                    "link-pane": "Link with pane...",
                    "delete-file": "Delete file",
                    "open-in-new-pane": "Open in new pane",
                    "copy-url": "Copy url",
                    "close-current-pane": "Close current pane",
                    copy: "Copy",
                    cut: "Cut",
                    paste: "Paste",
                    "paste-as-plain-text": "Paste as plain text",
                    "select-all": "Select all"
                },
                tooltip: {
                    "click-to-expand": "Click to expand",
                    "click-to-collapse": "Click to collapse",
                    alias: "Alias",
                    "not-created-yet": "Not created yet, select to create"
                },
                "start-screen": {
                    "label-version": "Version",
                    "option-open-folder-as-vault": "Open folder as vault",
                    "option-open-folder-as-vault-description": "Choose an existing folder of Markdown files.",
                    "option-create-vault": "Create new vault",
                    "option-create-vault-description": "Create a new Obsidian vault under a folder.",
                    "option-open-help-vault": "Open help vault",
                    "option-open-help-vault-description": 'Open a "Demo & Help" vault.',
                    "option-new-vault-name": "Vault name",
                    "option-new-vault-name-description": "Pick a name for your awesome vault.",
                    "option-new-vault-location": "Location",
                    "option-new-vault-location-description": "Pick a place to put your new vault.",
                    "button-open": "Open",
                    "button-help": "Help",
                    "button-browse": "Browse",
                    "button-create-vault": "Create",
                    "button-back": "Back",
                    "msg-empty-vault-name": "Vault name cannot be empty.",
                    "msg-invalid-folder": "Please pick a valid folder.",
                    "msg-failed-to-create-vault": "Failed to create vault.",
                    "msg-failed-to-create-vault-at-location": "Could not create vault at the given location. Please double check the location and permission.",
                    "msg-error-failed-to-open-vault": "Failed to open.",
                    "msg-error-remove-current-open-vault": "Can't remove a currently open vault."
                },
                "drag-and-drop": {
                    "insert-link-here": "Insert link here",
                    "insert-links-here": "Insert links here",
                    "move-into-folder": 'Move into "{{folder}}"',
                    "star-this-file": "Star this file",
                    "star-these-files": "Star these files",
                    "open-in-this-pane": "Open in this pane"
                },
                window: {
                    maximize: "Maximize",
                    minimize: "Minimize",
                    "restore-down": "Restore down",
                    "close-window": "Close window",
                    "go-back": "Go back",
                    "go-forward": "Go forward"
                },
                "start-up": {
                    "loading-obsidian": "Loading Obsidian...",
                    "obsidian-load-error": "An error occurred while loading Obsidian.",
                    "button-reload-app": "Reload app",
                    "button-open-another-vault": "Open another vault",
                    "loading-components": "Loading components...",
                    "loading-plugins": "Loading plugins...",
                    "loading-vault": "Loading vault...",
                    "msg-failed-to-load-vault": "Failed to load vault: ",
                    "loading-cache": "Loading cache...",
                    "loading-workspace": "Loading workspace..."
                },
                mobile: {
                    "action-import": "Import into vault",
                    "action-choose-file-to-insert": "Choose a file to insert",
                    "action-insert-text-into-file": "Insert text into {{filename}}",
                    "action-insert-link-into-file": "Insert link into {{filename}}",
                    "msg-importing": "Importing...",
                    "msg-import-success": "Import success",
                    "msg-failed-to-import-file": "Failed to import file {{filename}}"
                }
            },
            commands: {
                "save-file": "Save current file",
                "follow-cursor-link": "Follow link under cursor",
                "open-cursor-link-in-new-pane": "Open link under cursor in new pane",
                "navigate-pane-above": "Focus on pane above",
                "navigate-pane-below": "Focus on pane below",
                "navigate-pane-left": "Focus on pane to the left",
                "navigate-pane-right": "Focus on pane to the right",
                "toggle-pin": "Toggle pin",
                "split-vertically": "Split vertically",
                "split-horizontally": "Split horizontally",
                "navigate-back": "Navigate back",
                "navigate-forward": "Navigate forward",
                "use-dark-mode": "Use dark mode",
                "use-light-mode": "Use light mode",
                "search-current-file": "Search current file",
                "search-replace-current-file": "Search & replace in current file",
                "open-settings": "Open settings",
                "open-help": "Open help",
                "toggle-preview": "Toggle edit/preview mode",
                "delete-current-file": "Delete current file",
                "close-active-pane": "Close active pane",
                "close-other-panes": "Close all other panes",
                "toggle-left-sidebar": "Toggle left sidebar",
                "toggle-right-sidebar": "Toggle right sidebar",
                "toggle-default-new-pane-mode": "Toggle default new pane mode",
                "focus-editor": "Focus on editor",
                "toggle-fold": "Toggle fold on the current line",
                "fold-all": "Fold all headings and lists",
                "unfold-all": "Unfold all headings and lists",
                "swap-line-up": "Swap line up",
                "swap-line-down": "Swap line down",
                "toggle-bold": "Toggle bold",
                "toggle-italics": "Toggle italics",
                "toggle-highlight": "Toggle highlight",
                "toggle-comments": "Toggle comment",
                "insert-link": "Insert Markdown link",
                "toggle-spellcheck": "Toggle spellcheck",
                "delete-paragraph": "Delete paragraph",
                "toggle-checklist": "Toggle checklist status",
                "edit-file-title": "Edit file title",
                "copy-path": "Copy file path",
                "copy-url": "Copy obsidian url",
                "export-pdf": "Export to PDF",
                reload: "Reload app without saving"
            },
            dialogue: {
                "label-link-affected": "This will affect {{links}} in {{files}}.",
                "msg-updated-links": "Updated {{links}} in {{files}}.",
                "label-update-links": "Update links",
                "label-confirm-update-link-to-file": "Do you want to update internal links that link to this file?",
                "button-always-update": "Always update",
                "button-just-once": "Just once",
                "button-do-not-update": "Do not update",
                "label-confirm-deletion": 'Are you sure you want to delete "{{filename}}"?',
                "label-move-to-system-trash": "It will be moved to your system trash.",
                "label-move-to-vault-trash": 'It will be moved to your Obsidian trash, which is located in the ".trash" hidden folder in your vault.',
                "label-permanent-delete": "The file will be permanent deleted.",
                "label-non-empty-folder": "This folder is not empty.",
                "label-delete-folder-warning": "If you continue, all files inside this folder will be deleted.",
                "label-delete-folder": "Delete folder",
                "button-delete": "Delete",
                "button-delete-do-not-ask-again": "Delete and don't ask again",
                "label-existing-backlink": "There are currently {{links}} pointing to this note.",
                "label-delete-file": "Delete file",
                "button-cancel": "Cancel",
                "button-done": "Done",
                "preparing-pdf": "Preparing PDF...",
                "label-rename-file": "Rename file",
                "label-new-name": "New name",
                "msg-rename-success": "Successfully renamed file."
            },
            plugins: {
                name: "Plugins",
                "file-explorer": {
                    name: "File explorer",
                    desc: "See the files and folders in your vault.",
                    "action-open": "Open file explorer",
                    "action-show": "Show file explorer",
                    "action-create-note": "Create new note",
                    "action-create-note-in-new-pane": "Create note in new pane",
                    "action-new-note": "New note",
                    "action-new-folder": "New folder",
                    "action-change-sort": "Change sort order",
                    "action-reveal-file": "Reveal file in navigation",
                    "action-reveal-active-file": "Reveal active file in navigation",
                    "command-move-file": "Move file to another folder",
                    "action-move-file": "Move file to...",
                    "action-move-folder": "Move folder to...",
                    "prompt-type-folder": "Type a folder",
                    "label-no-folders": "No folders found.",
                    "instruction-navigate": "to navigate",
                    "instruction-move": "to move",
                    "instruction-dismiss": "to dismiss",
                    "label-sort-a-to-z": "File name (A to Z)",
                    "label-sort-z-to-a": "File name (Z to A)",
                    "label-sort-new-to-old": "Modified time (new to old)",
                    "label-sort-old-to-new": "Modified time (old to new)",
                    "label-sort-created-old-to-new": "Created time (old to new)",
                    "label-sort-created-new-to-old": "Created time (new to old)",
                    "menu-opt-new-note": "New note",
                    "menu-opt-new-folder": "New folder",
                    "menu-opt-set-attachment-folder": "Set as attachment folder",
                    "menu-opt-rename": "Rename",
                    "menu-opt-delete": "Delete",
                    "menu-opt-make-copy": "Make a copy",
                    "msg-invalid-characters": "File name cannot contain any of these characters: ",
                    "msg-unsafe-characters": "Links will not work with file names containing any of these characters: ",
                    "msg-file-already-exists": "There's already a file with the same name",
                    "msg-empty-file-name": "File name cannot be empty.",
                    "tooltip-modified-time": "Last modified at {{time}}",
                    "tooltip-created-time": "Created at {{time}}",
                    "tooltip-folders-files-count": "{{fileCount}}, {{folderCount}}",
                    "action-move-file-short-name": "Move",
                    "label-untitled-file": "Untitled",
                    "label-untitled-folder": "Untitled",
                    "msg-set-attachment-folder": 'Attachments will be saved to "{{path}}" from now on.'
                },
                search: {
                    name: "Search",
                    desc: "Search for a keyword in all the notes.",
                    "action-open-search": "Search in all files",
                    "label-collapse-results": "Collapse results",
                    "label-match-case": "Match case",
                    "label-explain-search-term": "Explain search term",
                    "label-more-context": "Show more context",
                    "prompt-start-search": "Type to start search...",
                    "label-match-text": "Matches text: ",
                    "label-match-regex": "Matches regex: ",
                    "label-match-exact-text": "Contains exact text: ",
                    "label-match-all": "Match all of: ",
                    "label-match-any": "Match any of: ",
                    "label-excluding": "Excluding: ",
                    "label-case-sensitive": "Case sensitive",
                    "label-case-insensitive": "Case insensitive",
                    "label-match-file-path": "Match file path: ",
                    "label-match-file-name": "Match file name: ",
                    "label-match-content": "Match file content: ",
                    "label-match-task": "Match task: ",
                    "label-match-task-todo": "Match task (todo): ",
                    "label-match-task-done": "Match task (done): ",
                    "label-match-line": "Match line: ",
                    "label-match-block": "Match block: ",
                    "label-match-section": "Match section: ",
                    "label-match-tag": "Match tag: ",
                    "label-no-matches": "No matches found.",
                    "matches-with-count": "... and {{count}} more match.",
                    "matches-with-count_plural": "... and {{count}} more matches.",
                    "label-copy-search-results": "Copy search results",
                    "button-copy-results": "Copy results",
                    "msg-successfully-copied": "Results copied to your clipboard.",
                    "option-show-path": "Show path",
                    "option-show-path-description": "Display full path of the file rather than just the file name.",
                    "option-link-style": "Link style",
                    "option-link-style-description": "Optionally turn each file result in to a link.",
                    "option-choice-link-style-none": "None",
                    "option-choice-link-style-wikilink": "Wikilink",
                    "option-choice-link-style-markdown-link": "Markdown link",
                    "option-list-prefix": "List prefix",
                    "option-list-prefix-description": "Optionally add a list item prefix to each file result.",
                    "option-choice-list-style-none": "None",
                    "option-choice-list-style-dash": "Dash (-)",
                    "option-choice-list-style-asterisk": "Asterisk (*)",
                    "option-choice-list-style-numbered": "Numbered",
                    "tooltip-clear-search": "Clear search",
                    "label-search-options": "Search options",
                    "tooltip-read-more": "Read more",
                    "label-history": "History",
                    "tooltip-clear-history": "Clear search history",
                    "label-path-option-description": "match path of the file",
                    "label-file-name-option-description": "match file name",
                    "label-tag-option-description": "search for tags",
                    "label-line-option-description": "search keywords on same line",
                    "label-section-option-description": "search keywords under same heading"
                },
                "quick-switcher": {
                    name: "Quick switcher",
                    desc: "Use Ctrl/Cmd+O to jump to other files with your keyboard.",
                    "short-name": "Switcher",
                    "action-open": "Open quick switcher",
                    "instruction-navigate": "to navigate",
                    "instruction-open": "to open",
                    "instruction-open-in-new-pane": "to open in new pane",
                    "instruction-create": "to create",
                    "instruction-dismiss": "to dismiss",
                    "label-no-note-create-new": "No notes found. Enter to create a new one.",
                    "prompt-type-file-name": "Type file to switch to or create...",
                    "label-enter-to-create": "Enter to create",
                    "tooltip-not-created-yet": "Not created yet, select to create",
                    "option-show-existing-only": "Show existing only",
                    "option-show-existing-only-description": "Only show results from existing files. Links to files that are not yet created will be hidden.",
                    "option-show-attachments": "Show attachments",
                    "option-show-attachments-desc": "Show attachment files like images, videos, and PDFs.",
                    "option-show-all-file-types": "Show all file types",
                    "option-show-all-file-types-desc": "Show all files including ones that Obsidian can't open. The file will be opened with the default app for that file type."
                },
                "graph-view": {
                    name: "Graph view",
                    desc: "View a graph that displays links between your notes.",
                    "action-open": "Open graph view",
                    "action-open-local": "Open local graph",
                    "action-copy-screenshot": "Copy screenshot",
                    "tab-title": "Graph of {{displayText}}",
                    "label-filters": "Filters",
                    "prompt-filter-nodes": "Search files...",
                    "option-depth": "Depth",
                    "option-depth-description": "Show nodes this number of links away",
                    "option-neighbor-links": "Neighbor links",
                    "option-neighbor-links-description": "Show links between neighbors",
                    "option-forelinks": "Outgoing links",
                    "option-forelinks-description": "Show links to other files",
                    "option-backlinks": "Incoming links",
                    "option-backlinks-description": "Show links from other files",
                    "option-show-tags": "Tags",
                    "option-show-tags-description": "Tags are linked to the files that contain them",
                    "option-show-attachments": "Attachments",
                    "option-show-attachments-description": "Show attachments",
                    "option-show-existing-files-only": "Existing files only",
                    "option-show-existing-files-only-description": "When enabled, links to nonexistent files are not shown",
                    "option-show-orphans": "Orphans",
                    "option-show-orphans-description": "Show files that are not linked to any other file",
                    "label-display": "Display",
                    "option-show-arrows": "Arrows",
                    "option-show-arrows-description": "Show arrows when zoomed in",
                    "option-text-fade": "Text fade threshold",
                    "option-node-size": "Node size",
                    "option-link-thickness": "Link thickness",
                    "label-forces": "Forces",
                    "option-center-force": "Center force",
                    "option-link-force": "Link force",
                    "option-link-distance": "Link distance",
                    "option-repel-force": "Repel force",
                    "tooltip-open-graph-settings": "Open graph settings",
                    "msg-screenshot-copied": "Screenshot copied to the clipboard.",
                    "label-groups": "Groups",
                    "placeholder-enter-query": "Enter query...",
                    "tooltip-delete-graph": "Delete group",
                    "button-new-group": "New group",
                    "tooltip-click-to-change-drag-to-reorder": "Click to change color\nDrag to reorder groups",
                    "action-timelapse": "Start graph timelapse animation"
                },
                backlinks: {
                    name: "Backlinks",
                    desc: "Show the number of backlinks in the status bar, and display backlinks and unlinked mentions in a sidebar tab.",
                    "action-open": "Open backlinks",
                    "action-show": "Show backlinks pane",
                    "action-open-for-current": "Open backlinks for the current file",
                    "action-toggle-backlinks-in-document": "Toggle backlinks in document",
                    "label-linked-mentions": "Linked mentions",
                    "label-no-backlinks": "No backlinks found.",
                    "label-unlinked-mentions": "Unlinked mentions",
                    "label-show-search": "Show search filter",
                    "label-link-button-text": "Link",
                    "tab-title": "Backlinks for {{displayText}}",
                    "label-no-unlinked-mentions": "No unlinked mentions found.",
                    ellipsis: "..."
                },
                "outgoing-links": {
                    name: "Outgoing Links",
                    desc: "Show outgoing links and detect unlinked mentions of other notes in the current note.",
                    "action-open": "Open outgoing links",
                    "action-show": "Show outgoing links pane",
                    "action-open-for-current": "Open outgoing links for the current file",
                    "tab-title": "Outgoing links from {{displayText}}",
                    "label-links": "Links",
                    "label-no-links": "No links found.",
                    "label-unlinked-mentions": "Unlinked mentions",
                    "tooltip-link-file": "Link this file",
                    "tooltip-not-created": "Not created yet"
                },
                "tag-pane": {
                    name: "Tag pane",
                    desc: "Display your tags and their number of occurrences.",
                    "action-show": "Show tag pane",
                    "label-no-tags": "No tags found.",
                    "label-sort-by-name-a-to-z": "Tag name (A to Z)",
                    "label-sort-by-name-z-to-a": "Tag name (Z to A)",
                    "label-sort-by-frequency-high-to-low": "Frequency (high to low)",
                    "label-sort-by-frequency-low-to-high": "Frequency (low to high)",
                    "action-show-nested-tags": "Show nested tags"
                },
                "page-preview": {
                    name: "Page preview",
                    desc: "Hover an internal link to preview its content. In editor mode, press Ctrl/Cmd while hovering.",
                    "label-empty-note": '"{{linktext}}" is not created yet. Click to create.',
                    "label-source-editor": "Editor",
                    "label-source-preview": "Preview",
                    "label-source-search": "Search, Backlinks, and Outgoing links",
                    "label-require-mod": "Require {{key}} to trigger page preview on hover"
                },
                starred: {
                    name: "Starred",
                    desc: "Star frequently used files and searches.",
                    "action-show": "Show starred pane",
                    "action-toggle": "Star/unstar current file",
                    "action-toggle-search": "Star/unstar current search",
                    "action-star": "Star",
                    "action-unstar": "Unstar",
                    "menu-opt-remove": "Remove",
                    "msg-successfully-starred": 'Successfully starred {{type}} "{{title}}".',
                    "msg-removed-starred": 'Removed starred {{type}} "{{title}}".',
                    "msg-cannot-find-path": 'Cannot find file at "{{path}}".'
                },
                "custom-css": {
                    name: "Custom CSS",
                    desc: "Read and apply “obsidian.css” in the vault folder.",
                    "setting-community-themes": "Community themes",
                    "msg-fetching-themes": "Fetching community theme data...",
                    "prompt-filter": "Filter...",
                    "label-dark-theme-only": "Dark themes only",
                    "label-light-theme-only": "Light themes only",
                    "label-preview": "Preview",
                    "label-stop-preview": "Stop preview",
                    "label-use": "Use",
                    "label-override": "Override",
                    "label-visit-on-github": "Visit on GitHub",
                    "msg-fetching-css": "Fetching CSS...",
                    "theme-title": '"{{name}}" by {{author}}',
                    "msg-override-theme": "Override current CSS",
                    "msg-existing-theme": 'You already have the "{{file}}" custom CSS file.',
                    "msg-confirm-override": "Are you sure you want to override it? You will lose your original CSS file. Please make a back up if necessary.",
                    "msg-load-error": "Could not load community themes, please check your network.",
                    "msg-now-using-theme": "You're now using {{title}} as your CSS theme."
                },
                "command-palette": {
                    name: "Command palette",
                    desc: "Use Cmd/Ctrl+P and begin typing to invoke a command.",
                    "action-open": "Open command palette",
                    "instruction-navigate": "to navigate",
                    "instruction-use": "to use",
                    "instruction-dismiss": "to dismiss",
                    "label-no-commands": "No commands found.",
                    "prompt-type-command": "Select a command...",
                    "label-pinned-commands": "Pinned commands",
                    "option-add-new-pin": "New pinned command",
                    "option-add-new-pin-description": "Pinned commands will appear at the top of all commands when no search query is present."
                },
                "markdown-format-importer": {
                    name: "Markdown format importer",
                    desc: "Convert Markdown from other apps to Obsidian format.",
                    "action-open": "Open Markdown importer",
                    "option-roam-tag-fixer": "Roam Research tag fixer",
                    "option-roam-tag-fixer-description": 'Converts "#tag" and "#[[tag]]" to "[[tag]]".',
                    "option-roam-highlight-fixer": "Roam Research highlight fixer",
                    "option-roam-highlight-fixer-description": 'Converts "^^highlight^^" to "==highlight==".',
                    "option-roam-todo-converter": "Roam Research TODO converter",
                    "option-roam-todo-converter-description": 'Converts "{{[[TODO]]}}" to "[ ]".',
                    "option-bear-highlight-fixer": "Bear highlight fixer",
                    "option-bear-highlight-fixer-description": 'Converts "::highlight::" to "==highlight==".',
                    "zettelkasten-link-fixer": "Zettelkasten link fixer",
                    "zettelkasten-link-fixer-description": 'Fixes "[[UID]]" links to full "[[UID File Name]]".',
                    "zettelkasten-link-beautifier": "Zettelkasten link beautifier",
                    "zettelkasten-link-beautifier-description": 'Fixes "[[UID]]" links and also beautify them "[[UID File Name|File Name]]".',
                    "msg-all-files-warning": "Warning: the importer will convert all the files in your vault, not just the current file.",
                    "msg-override-files-warning": "Your files will be overwritten. Back up all your files before attempting conversion.",
                    "label-start-conversion": "Start Conversion",
                    "label-stop": "Stop",
                    "label-go-back": "Go back",
                    "label-done": "Done",
                    "label-processing": "Processing...",
                    "label-cancelling": "Cancelling...",
                    "label-finished": "Finished!",
                    "label-processed-files": "Processed files",
                    "label-modified-files": "Modified files",
                    "label-total-replacements": "Total replacements"
                },
                "daily-notes": {
                    name: "Daily notes",
                    desc: "Create or open today’s daily note.",
                    "short-name": "Today",
                    "action-open": "Open today's daily note",
                    "action-open-previous": "Open previous daily note",
                    "action-open-next": "Open next daily note",
                    "action-insert-text": "Insert text into daily note",
                    "action-insert-link": "Insert link into daily note",
                    "msg-fail-format": 'Failed to create daily note. "{{format}}" is not a valid format.',
                    "msg-fail-folder": 'Failed to create daily note. Folder "{{folderOption}}" not found.',
                    "msg-fail-template-file": 'Failed to create daily note. Template file "{{template}}" not found.',
                    "msg-no-previous": "There's no daily note before this one.",
                    "msg-no-next": "There's no daily note after this one.",
                    "option-date-format": "Date format",
                    "label-refer-to-syntax": "For more syntax, refer to ",
                    "label-syntax-link": "format reference",
                    "label-syntax-live-preview": "Your current syntax looks like this: ",
                    "option-new-file-location": "New file location",
                    "option-new-file-location-description": "New daily notes will be placed here.",
                    "option-template": "Template file location",
                    "option-template-description": "Choose the file to use as a template.",
                    "option-open-on-start": "Open daily note on startup",
                    "option-open-on-start-description": "Open your daily note automatically whenever you open this vault."
                },
                "zettelkasten-prefixer": {
                    name: "Zettelkasten prefixer",
                    desc: "Create a note with a 12-digit Zettelkasten ID (YYYYMMDDHHII).",
                    "short-name": "ZK note",
                    "action-create-note": "Create new Zettelkasten note",
                    "option-new-file-location": "New file location",
                    "option-new-file-location-description": "The folder path to create the new Zettelkasten note.",
                    "msg-folder-not-found": 'Failed to create Zettelkasten note. Folder "{{folderOption}}" not found.',
                    "option-template-file": "Template file location",
                    "option-template-file-description": "The file path to use as template.",
                    "option-template-file-placeholder": "Example: folder1/note",
                    "option-id-format": "Zettel ID format",
                    "msg-template-file-not-found": 'Failed to create Zettelkasten note. Template file "{{template}}" not found.'
                },
                "random-note": {
                    name: "Random note",
                    desc: "Open a random note to rediscover or review.",
                    "short-name": "Random",
                    "action-open": "Open random note"
                },
                outline: {
                    name: "Outline",
                    desc: "Display the outline of the current file or linked pane.",
                    "action-open": "Open outline",
                    "action-show": "Show outline pane",
                    "action-open-for-current": "Open outline of the current file",
                    "tab-title": "Outline of {{displayText}}",
                    "label-no-headings": "No headings found."
                },
                "word-count": {
                    name: "Word count",
                    desc: "Show word count in the status bar."
                },
                slides: {
                    name: "Slides",
                    desc: 'Present from Markdown. Use "---" to separate slides.',
                    "action-start": "Start presentation"
                },
                "audio-recorder": {
                    name: "Audio recorder",
                    desc: "Record audio and save as attachment.",
                    "action-start": "Start recording audio",
                    "action-stop": "Stop recording audio",
                    "action-toggle": "Start/stop recording",
                    "msg-access-denied": "Microphone access was denied, please enable it from the preference pane.",
                    "msg-pending-grant": "Please grant microphone permission to start recording.",
                    "msg-no-microphone": "No microphone is connected."
                },
                "open-with-default-app": {
                    name: "Open in default app",
                    desc: "Add a button to open the current file in its default app.",
                    "action-open-file": "Open in default app",
                    "action-open-file-mobile": "Share",
                    "action-show-in-folder": "Show in system explorer"
                },
                templates: {
                    name: "Templates",
                    desc: "Insert template content from a folder of template files.",
                    "action-insert": "Insert template",
                    "action-insert-current-date": "Insert current date",
                    "action-insert-current-time": "Insert current time",
                    "option-template-folder-location": "Template folder location",
                    "option-template-folder-location-description": "Files in this folder will be available as templates.",
                    "option-template-date-format": "Date format",
                    "option-template-date-format-description": "{{date}} in the template file will be replaced with this value.",
                    "option-template-date-format-description2": "You can also use {{date:YYYY-MM-DD}} to override the format once.",
                    "option-template-time-format": "Time format",
                    "option-template-time-format-description": "{{time}} in the template file will be replaced with this value.",
                    "option-template-time-format-description2": "You can also use {{time:HH:mm}} to override the format once.",
                    "instruction-navigate": "to navigate",
                    "instruction-insert": "to insert template",
                    "instruction-dismiss": "to dismiss",
                    "msg-no-templates-found": "No templates found",
                    "msg-fail-invalid-folder": "Failed to list templates. Template folder is invalid.",
                    "msg-fail-folder-not-found": 'Failed to list templates. Folder "{{folderOption}}" not found.',
                    "prompt-type-template": "Type name of a template..."
                },
                translucency: {
                    name: "Translucent window",
                    desc: "Turn on translucency effect to enhance a sense of depth. Best used with dark mode. Not supported on Linux."
                },
                publish: {
                    name: "Publish",
                    desc: "Publish your notes through Obsidian Publish.",
                    "action-publish-changes": "Publish changes",
                    "label-no-internet-access": "You need access to the internet to publish changes.",
                    "label-publish-service-description": "Obsidian Publish is an add-on paid service that lets you publish your notes online directly from Obsidian.",
                    "label-please-login": "To start publishing, please log in or create a new Obsidian account.",
                    "label-no-publish-subscription": "You do not have an Obsidian Publish subscription yet.",
                    "button-purchase": "Purchase",
                    "label-manage-sites": "Manage sites",
                    "label-no-sites": "You don't have any sites.",
                    "button-choose": "Choose",
                    "tooltip-edit-site-id": "Edit site ID",
                    "tooltip-delete-site": "Delete site",
                    "label-delete-site-confirmation": "Are you sure you want to delete this site?",
                    "label-delete-site-details": "This will immediately and permanently delete your site.",
                    "label-confirm-delete-site": 'Confirm delete site "{{site}}"',
                    "option-site-id": "Site ID",
                    "option-site-id-description": "Your site will be at https://publish.obsidian.md/{site id}. You can change this later. Only lower case letters, numbers, and dashes are allowed.",
                    "option-site-id-placeholder": "Pick a site ID",
                    "button-create": "Create",
                    "msg-invalid-site-id": "Site ID can only contain lowercase letters, numbers, and dashes.",
                    "msg-site-id-in-use": "This site ID is in use, please try another one.",
                    "msg-create-site-issue": "That was an issue when creating your site.",
                    "label-site-options": "Site options",
                    "option-site-metadata": "Metadata",
                    "option-site-components": "Components",
                    "option-site-appearance": "Appearance",
                    "option-site-reading-experience": "Reading experience",
                    "option-site-misc": "Other site settings",
                    "option-site-name": "Site name",
                    "option-site-name-description": "Name of your published site. It will show up in the page title of your site.",
                    "option-site-name-placeholder": "Name of your site",
                    "option-home-page-file": "Homepage file",
                    "option-home-page-file-description": "The first page the user sees when landing on your published site",
                    "option-home-page-file-placeholder": "Pick a published file",
                    "option-logo": "Logo",
                    "option-logo-description": "Pick an image file as your site logo.",
                    "option-logo-placeholder": "Any any uploaded image in your vault...",
                    "option-theme": "Theme",
                    "option-theme-description": "Choose default color scheme for your site.",
                    "option-show-navigation": "Show navigation",
                    "option-show-navigation-description": "Display a list of all published pages on the left side of your published site.",
                    "option-show-search": "Show search bar",
                    "option-show-search-description": "Display a search bar that lets the visitors search pages, aliases, and headings on your site.",
                    "option-show-graph": "Show graph view",
                    "option-show-graph-description": "Display a small local graph on each page.",
                    "option-show-outline": "Show table of contents",
                    "option-show-outline-description": "Display the outline of headings on each page.",
                    "option-show-backlinks": "Show backlinks",
                    "option-show-backlinks-description": "Show backlink section at the end of each page.",
                    "option-sliding-window-mode": "Use sliding windows",
                    "option-sliding-window-mode-description": "Open pages in new panes to the right. Allows scrolling through panes horizontally.",
                    "option-hover-preview-file": "Show hover preview",
                    "option-hover-preview-file-description": "Display page preview when hovering links.",
                    "option-readable-line-length": "Readable line length",
                    "option-readable-line-length-description": "Limit maximum line length. Fits less content on the screen, but makes long paragraphs more readable.",
                    "option-site-password": "Passwords",
                    "option-site-password-description": "Restrict access to your site with passwords.",
                    "option-google-analytics": "Google Analytics tracking code",
                    "option-google-analytics-description": "Configure Google Analytics for your site. Only available for visitors from your custom domain URL. Please check with your local laws and regulations first.",
                    "button-manage-passwords": "Manage",
                    "button-save-site-settings": "Save site settings",
                    "msg-updated-options": "Updated options for your site.",
                    "button-go-back": "Back",
                    "label-publishing-to": "Publishing to",
                    "tooltip-switch-site": "Switch site",
                    "button-add-linked": "Add linked",
                    "tooltip-add-linked": "Add all files that are linked by currently selected items",
                    "msg-added-linked-files": "{{count}} linked file has been added.",
                    "msg-added-linked-files_plural": "{{count}} linked files have been added.",
                    "tooltip-open-site-options": "Change site options",
                    "label-no-changes-detected": "No changes were detected.",
                    "label-changed-files-to-be-published": "Changed",
                    "label-unchanged-files-already-published": "Unchanged (select to unpublish)",
                    "label-file-selected": " selected",
                    "button-select-all-files": "Select all",
                    "button-deselect-all-files": "Deselect all",
                    "label-new-files-to-be-published": "New",
                    "button-publish": "Publish",
                    "msg-no-permission-to-publish-to-site": "You do not have permissions to publish to the current site.",
                    "msg-select-at-least-one-file": "Please select at least one file.",
                    "label-upload-changes": "Upload changes",
                    "button-done": "Done",
                    "button-stop": "Stop",
                    "label-status-uploading": "Uploading",
                    "label-status-to-publish": "To publish",
                    "label-status-to-delete": "To delete",
                    "label-status-published": "Published",
                    "label-status-deleted": "Deleted",
                    "label-status-failed": "Failed",
                    "label-status-cancelled": "Cancelled",
                    "button-change": "Change",
                    "label-clear-cache": "It takes up to a few minutes for the changes to show up on your site. If you do not see your latest changes, try clearing the cache in your browser.",
                    "label-visit-site": "You can visit your site here: ",
                    "msg-something-went-wrong": "Something went wrong. Please check the developer console for details.",
                    "msg-network-error": "A network error occurred.",
                    "label-manage-passwords": "Manage passwords",
                    "label-add-password": "Add password",
                    "action-new-password": "New password",
                    "label-no-password": "Your site currently does not have any passwords. Anyone can visit it.",
                    "label-have-password": "Your site is password protected. If you have multiple passwords, visitors can access your site by entering any of them.",
                    "option-password-name": "Password",
                    "option-password-desc": "A hash of your password will be stored securely. Once the password is set, it cannot be revealed in plaintext.",
                    "option-password-placeholder": "Your password",
                    "option-nickname-name": "Nickname (optional)",
                    "option-nickname-desc": "Set a nickname to remind yourself what or who the password is for.",
                    "action-add-password": "Add this password",
                    "label-untitled-password": "Untitled password",
                    "label-password-created-time": "Created {{time}}",
                    "msg-added-new-password": "Added new password.",
                    "option-custom-domain": "Custom domain",
                    "option-custom-domain-desc": "Use your own domain rather than the https://publish.obsidian.md/{site id} URL.",
                    "option-noindex": "Disallow search engine indexing",
                    "option-noindex-desc": "Prevent search engines from indexing your site.",
                    "button-configure": "Configure",
                    "label-configure-custom-domain": "Configure custom domain",
                    "option-custom-url-name": "Custom URL",
                    "option-custom-url-desc": "The URL that your site will be located at.",
                    "option-custom-url-placeholder": "www.yourdomain.com",
                    "option-custom-url-redirect": "Redirect to your custom domain",
                    "option-custom-url-redirect-desc": "Redirect visitors on publish.obsidian.md/id to your custom domain.",
                    "button-update-custom-domain": "Update domain setting",
                    "label-custom-domain-instructions": "Please refer to our {{link}} on our help site for more information.",
                    "label-custom-domain-link-name": "custom domain setup guide",
                    "label-site-usage": "You're using {{site}} out of your {{limit}}.",
                    "button-add-more-sites": "Buy more sites"
                },
                workspaces: {
                    name: "Workspaces",
                    desc: "Save and load workspace layout.",
                    "action-load": "Load workspace",
                    "action-manage-workspaces": "Manage workspaces",
                    "action-save-and-load": "Save and load another workspace",
                    "placeholder-save-current-workspace-as": "Save current workspace as...",
                    "button-save": "Save",
                    "button-load": "Load",
                    "tooltip-delete-workspace": "Delete workspace",
                    "msg-delete-workspace-success": "Successfully deleted workspace.",
                    "msg-please-enter-name": "Please enter a name for the new workspace.",
                    "msg-save-workspace-success": "Successfully saved workspace.",
                    "label-no-workspaces-found": "No saved workspace found.",
                    "placeholder-type-to-search-workspaces": "Type workspace name..."
                },
                sync: {
                    name: "Sync",
                    desc: "Synchronize your files through Obsidian Sync.",
                    "action-view-version-history": "View version history",
                    "label-load-more": "Load more",
                    "label-copy-to-clipboard": "Copy to clipboard",
                    "label-restore-this-version": "Restore this version",
                    "msg-already-latest-version": "This version is already the latest version.",
                    "msg-restored-version": "Successfully restored version from {{time}}",
                    "label-file-deleted": "This file was deleted",
                    "label-no-earlier-version": "There was no earlier versions of this file.",
                    "label-empty-file": "Empty",
                    "label-deleted-files": "Deleted files",
                    "label-click-to-see-history": "Click on a deleted file to see its history.",
                    "label-create-remote-vault": "Create remote vault",
                    "msg-please-enter-password": "Please enter a password.",
                    "msg-vault-name-cannot-be-empty": "Vault name cannot be empty.",
                    "msg-successfully-created-vault": 'Successfully create remote vault "{{name}}".',
                    "label-remote-vault-explanation": "Remote vaults securely synchronize your vault between devices.",
                    "option-vault-name": "Vault name",
                    "option-vault-name-desc": "Helps you remember what this vault is for.",
                    "option-vault-name-placeholder": "My awesome vault",
                    "option-use-custom-encryption-password": "Customize end-to-end encryption password",
                    "option-use-custom-encryption-password-desc": "If you turn this off, we will securely manage an encryption key for you.",
                    "option-use-custom-encryption-password-desc-warning": "This option cannot be changed later.",
                    "option-encryption-password": "Encryption password",
                    "option-encryption-password-desc": "This password cannot be changed later.",
                    "option-encryption-password-desc-warning": "If you forget this password, any remote data will remain unusable forever.",
                    "option-encryption-password-desc-2": "This does not affect your local data.",
                    "option-encryption-password-placeholder": "Your password",
                    "label-enter-encryption-password": "Enter encryption password",
                    "button-unlock-vault": "Unlock vault",
                    "msg-verified-password": "Successfully verified your password.",
                    "label-remote-vaults": "Your remote vaults",
                    "label-connected-vault": "Connected",
                    "label-vault-created-time": "Created {{time}}",
                    "tooltip-delete-remote-vault": "Delete",
                    "label-confirm-delete-remote-vault": "Confirm delete vault",
                    "label-confirm-delete-remote-vault-question": "Are you sure you want to delete this remote vault?",
                    "label-confirm-delete-remote-vault-result": "All data on our server, including version history, will be deleted. Your local files will stay intact.",
                    "label-confirm-delete-remote-vault-warning": "This action is permanent and irreversible.",
                    "msg-remote-vault-deleted": "{{name}} has been deleted.",
                    "button-connect-to-remote-vault": "Connect",
                    "button-disconnect-from-remote-vault": "Disconnect",
                    "label-not-remote-vaults": "You don't have any remote vaults.",
                    "button-create-new-remote-vault": "Create new vault",
                    "label-sync-log": "Sync log",
                    "options-only-show-errors": "Errors only",
                    "options-only-show-errors-desc": "Only show errors and hide other log items.",
                    "button-copy-sync-log": "Copy sync log",
                    "msg-successfully-copied-sync-log": "Successfully copied sync log.",
                    "button-retry": "Retry",
                    "label-no-sync-subscription": "You do not have an Obsidian Sync subscription yet.",
                    "button-purchase-subscription": "Purchase",
                    "option-pick-remote-vault": "Pick remote vault",
                    "button-choose-remote-vault": "Choose",
                    "option-pick-remote-vault-desc-connected": 'Currently connected to the "{{name}}" remote vault.',
                    "option-pick-remote-vault-desc-not-connected": "Currently not connected to any remote vault.",
                    "option-sync-status": "Sync status",
                    "option-sync-status-desc-paused": "Obsidian Sync is currently paused.",
                    "option-sync-status-desc-running": "Obsidian Sync is currently running.",
                    "option-device-name": "Device name",
                    "option-device-name-desc": "This name will be displayed in the sync log. Leave empty to use the default name.",
                    "button-resume": "Resume",
                    "button-pause": "Pause",
                    "option-view-deleted-files": "Deleted files",
                    "option-view-deleted-files-desc": "View and restore deleted files.",
                    "option-sync-log": "Sync activity",
                    "option-sync-log-desc": "View recent sync activities for debugging.",
                    "button-view": "View",
                    "option-over-size": "Vault size over limit",
                    "option-over-size-desc": "Your vault is at {{size}} out of {{limit}}.",
                    "msg-largest-files": "View largest files",
                    "msg-largest-files-desc": "These are the remote files that are taking the most space. After deleting attachments, use the purge button to free up remote vault space.",
                    "button-purge-remote": "Purge",
                    "tooltip-purge-remote": "Permanently purge deleted attachments from remote vault to save space.",
                    "msg-purge-complete": "Purge complete.",
                    "option-selective-sync": "Selective sync",
                    "option-excluded-folders": "Excluded folders",
                    "option-excluded-folder-desc": "Prevent certain folders from being synced.",
                    "option-currently-excluded-folders": " These folders currently excluded:",
                    "button-manage-excluded-folders": "Manage",
                    "option-sync-image": "Sync images",
                    "option-sync-image-desc": "Sync image files with these extensions: {{extensions}}.",
                    "option-sync-audio": "Sync audio",
                    "option-sync-audio-desc": "Sync audio files with these extensions: {{extensions}}.",
                    "option-sync-video": "Sync videos",
                    "option-sync-video-desc": "Sync video files with these extensions: {{extensions}}.",
                    "option-sync-pdf": "Sync PDFs",
                    "option-sync-pdf-desc": "Sync PDF files.",
                    "option-sync-unsupported": "Sync all other types",
                    "option-sync-unsupported-desc": "Sync unsupported file types.",
                    "option-vault-config-sync": "Vault configuration sync",
                    "option-view-config-files": "Settings version history",
                    "option-view-config-files-desc": "View and restore version history of setting files.",
                    "option-sync-app": "Main settings",
                    "option-sync-app-desc": "Enable to sync editor settings, files & links settings, etc.",
                    "option-sync-appearance": "Appearance settings",
                    "option-sync-appearance-desc": "Sync appearance settings like dark mode, active theme, and enabled snippets.",
                    "option-sync-appearance-data": "Themes and snippets",
                    "option-sync-appearance-data-desc": "Sync downloaded themes and snippets. Whether they are enabled depends on the previous setting.",
                    "option-sync-hotkey": "Hotkeys",
                    "option-sync-hotkey-desc": "Sync custom hotkeys.",
                    "option-sync-core-plugin": "Active core plugin list",
                    "option-sync-core-plugin-desc": "Sync which core plugins are enabled.",
                    "option-sync-core-plugin-data": "Core plugin settings",
                    "option-sync-core-plugin-data-desc": "Sync core plugin settings.",
                    "option-sync-community-plugin": "Active community plugin list",
                    "option-sync-community-plugin-desc": "Sync which community plugins are enabled.",
                    "option-sync-community-plugin-data": "Installed community plugins",
                    "option-sync-community-plugin-data-desc": "Sync installed community plugins (.js, .css, and manifest.json files) and their settings.",
                    "label-sync-introduction": "Obsidian Sync is Obsidian's add-on sync service with end-to-end encryption and version history.",
                    "label-account-required": "To start syncing, please log in or create a new Obsidian account.",
                    "button-sign-up": "Sign up",
                    "button-log-in": "Log in",
                    "label-manage-excluded-folders": "Manage excluded folders",
                    "label-number-of-folders-excluded": "{{folders}} are currently excluded from being synced.",
                    "label-setup-connection": "Setup connection",
                    "label-now-connected-to-vault": 'You\'re now connected to "{{name}}".',
                    "button-start-syncing": "Start syncing"
                },
                "file-recovery": {
                    name: "File recovery",
                    desc: "Let you restore recent snapshots to recover from accidental data loss. Snapshots are only saved for Markdown files.",
                    "action-open": "Open saved snapshots",
                    "option-interval": "Snapshot interval",
                    "option-interval-description": "Minimal interval in minutes between two snapshots.",
                    "option-keep": "History length",
                    "option-keep-description": "Length in days snapshots is kept for.",
                    "option-open-history": "Snapshots",
                    "option-open-history-description": "View and restore saved snapshots.",
                    "button-view-snapshots": "View",
                    "option-clear": "Clear history",
                    "option-clear-description": "Wipe all snapshots.",
                    "button-clear-history": "Clear",
                    "label-clear-warning": "Are you sure you want to delete all snapshots? Note that only snapshots will be removed. All files inside your vault will not be affected.",
                    "msg-clear-complete": "Snapshots cleared.",
                    "label-no-history-found": "No snapshots found.",
                    "placeholder-choose-file": "Choose a file...",
                    "label-select-file": "Please select a file on the left to view snapshots."
                },
                "note-composer": {
                    name: "Note composer",
                    desc: "Merge, split, and refactor notes.",
                    "option-confirm-file-merge": "Confirm file merge",
                    "option-confirm-file-merge-description": "Prompt before merge two files.",
                    "option-split-replacement-text": "Text after extraction",
                    "option-split-replacement-text-description": "What to show in place of the selected text after extracting it.",
                    "option-choice-split-replacement-text-link": "Link to new file",
                    "option-choice-split-replacement-text-embed": "Embed new file",
                    "option-choice-split-replacement-text-none": "None",
                    "option-template-file": "Template file location",
                    "option-template-file-description": "Template file to use when merging or extracting. Available variables: {{content}}, {{fromTitle}}, {{newTitle}}, {{date:FORMAT}}, e.g. {{date:YYYY-MM-DD}}.",
                    "command-merge-file": "Merge current file with another file...",
                    "action-merge-file": "Merge entire file with...",
                    "label-no-files": "No files found.",
                    "instruction-navigate": "to navigate",
                    "instruction-merge": "to merge",
                    "instruction-create-new": "to create new",
                    "instruction-merge-at-top": "to merge at top",
                    "instruction-dismiss": "to dismiss",
                    "prompt-select-file-to-merge": "Select file to merge into...",
                    "label-merge-file": "Merge file",
                    "label-confirm-file-merge": 'Are you sure you want to merge "{{file}}" into "{{destination}}"? "{{file}}" will be deleted.',
                    "button-merge": "Merge",
                    "button-merge-do-not-ask-again": "Merge and don't ask again",
                    "command-split-file": "Extract current selection...",
                    "command-extract-heading": "Extract this heading...",
                    "instruction-append": "to move to bottom",
                    "instruction-prepend": "to move to top",
                    "msg-fail-to-fetch-template": 'Failed to fetch template file: "{{template}}" not found.'
                }
            },
            nouns: {
                "word-with-count": "{{count}} word",
                "word-with-count_plural": "{{count}} words",
                "character-with-count": "{{count}} character",
                "character-with-count_plural": "{{count}} characters",
                "link-with-count": "{{count}} link",
                "link-with-count_plural": "{{count}} links",
                "file-with-count": "{{count}} file",
                "file-with-count_plural": "{{count}} files",
                "folder-with-count": "{{count}} folder",
                "folder-with-count_plural": "{{count}} folders",
                "backlink-with-count": "{{count}} backlink",
                "backlink-with-count_plural": "{{count}} backlinks",
                "site-with-count": "{{count}} site",
                "site-with-count_plural": "{{count}} sites",
                "plugin-with-count": "{{count}} plugin",
                "plugin-with-count_plural": "{{count}} plugins"
            }
        };
        function Se(e, t) {
            if (String.isString(e))
                return null !== t && String.isString(t) ? t : e;
            var n = {};
            for (var i in e)
                e.hasOwnProperty(i) && (n[i] = Se(e[i], t && t[i] || null));
            return n
        }
        i18next.addResourceBundle(we, xe, Ee);
        var Le = Promise.resolve()
          , De = localStorage.getItem(be);
        if (De) {
            !1,
            Le = o(void 0, void 0, void 0, (function() {
                var e, t;
                return s(this, (function(n) {
                    switch (n.label) {
                    case 0:
                        return n.trys.push([0, 3, , 4]),
                        [4, ajaxPromise({
                            url: "/i18n/" + De + ".json"
                        })];
                    case 1:
                        return e = n.sent(),
                        t = JSON.parse(e),
                        i18next.addResourceBundle(De, xe, t),
                        [4, i18next.changeLanguage(De)];
                    case 2:
                        return n.sent(),
                        [3, 4];
                    case 3:
                        return n.sent(),
                        console.error("Failed to load language pack."),
                        [3, 4];
                    case 4:
                        return !0,
                        [2]
                    }
                }
                ))
            }
            ));
            try {
                var Me = De.toLowerCase()
                  , Ae = {
                    zh: "zh-cn",
                    cz: "cs",
                    no: "nn"
                };
                Ae.hasOwnProperty(Me) && (Me = Ae[Me]),
                window.moment.locale(Me)
            } catch (e) {}
        }
        ve && fe((function(e) {
            window.i18nGenBundles = function() {
                var t = window.require("fs")
                  , n = e.ipcRenderer.sendSync("resources");
                for (var i in ke)
                    if (ke.hasOwnProperty(i)) {
                        var r = n + "/i18n/" + i + ".json";
                        try {
                            if (t.existsSync(r)) {
                                var o = t.readFileSync(r, "utf8")
                                  , s = JSON.parse(o)
                                  , a = Se(Ee, s)
                                  , l = JSON.stringify(a, null, "\t");
                                t.writeFileSync(r, l, "utf8"),
                                console.log("Saved bundle for", i)
                            }
                        } catch (e) {
                            console.error("Failed to process translation for", i, e)
                        }
                    }
            }
        }
        ));
        var Te = i18next.t.bind(i18next);
        function Fe(e) {
            e += ".";
            var t = function(t, n) {
                return Te(e + t, n)
            };
            return t.prefix = function(t) {
                return Fe(e + t)
            }
            ,
            t
        }
        function Pe(e, t, n) {
            void 0 === t && (t = 0),
            void 0 === n && (n = !1);
            var i = null
              , r = null
              , o = null
              , s = 0
              , a = function() {
                if (s) {
                    var t = Date.now();
                    if (t < s)
                        return i = window.setTimeout(a, s - t),
                        void (s = 0)
                }
                i = null,
                e.apply(r, o)
            }
              , l = function() {
                for (var e = [], l = 0; l < arguments.length; l++)
                    e[l] = arguments[l];
                r = this,
                o = e,
                i ? n && (s = Date.now() + t) : i = window.setTimeout(a, t)
            };
            return l.cancel = function() {
                return i && (clearTimeout(i),
                i = null),
                l
            }
            ,
            l
        }
        function Oe(e) {
            if (navigator.clipboard && navigator.permissions)
                navigator.clipboard.writeText(e);
            else {
                var t = document.createElement("textarea");
                t.value = e,
                t.style.top = "0",
                t.style.left = "0",
                t.style.position = "fixed",
                document.body.appendChild(t);
                try {
                    t.focus(),
                    t.select(),
                    document.execCommand("copy")
                } catch (e) {}
                document.body.removeChild(t)
            }
        }
        function Ie(e, t) {
            return o(this, void 0, Promise, (function() {
                var n, i, r, o;
                return s(this, (function(s) {
                    return n = e.getAttr("alt") || null,
                    i = e.createEl("img", {
                        attr: {
                            alt: n
                        }
                    }),
                    r = e.getAttr("width"),
                    o = e.getAttr("height"),
                    r && i.setAttr("width", r),
                    o && i.setAttr("height", o),
                    [2, new Promise((function(e) {
                        var n = function() {
                            return e()
                        };
                        i.addEventListener("load", n),
                        i.addEventListener("error", n),
                        setTimeout(n, 5e3),
                        i.src = t
                    }
                    ))]
                }
                ))
            }
            ))
        }
        function Ne(e, t) {
            return o(this, void 0, Promise, (function() {
                var n;
                return s(this, (function(i) {
                    return n = e.createEl("audio", {
                        attr: {
                            controls: ""
                        }
                    }),
                    [2, new Promise((function(e) {
                        var i = function() {
                            return e()
                        };
                        n.addEventListener("loadedmetadata", i),
                        n.addEventListener("error", i),
                        setTimeout(i, 5e3),
                        n.src = t
                    }
                    ))]
                }
                ))
            }
            ))
        }
        function Re(e, t) {
            return o(this, void 0, Promise, (function() {
                var n;
                return s(this, (function(i) {
                    return n = e.createEl("video", {
                        attr: {
                            controls: ""
                        }
                    }),
                    [2, new Promise((function(i) {
                        var r = function() {
                            return i()
                        };
                        n.addEventListener("loadedmetadata", (function() {
                            0 === n.videoWidth && 0 === n.videoHeight ? (e.removeChild(n),
                            Ne(e, t).then(r, r)) : r()
                        }
                        )),
                        n.addEventListener("error", r),
                        setTimeout(r, 5e3),
                        n.src = t
                    }
                    ))]
                }
                ))
            }
            ))
        }
        var Be = window.requestIdleCallback;
        function ze(e, t) {
            if (t > 0 && Be) {
                var n = Be(e, {
                    timeout: t
                });
                return {
                    high: !1,
                    cancel: function() {
                        return window.cancelIdleCallback(n)
                    }
                }
            }
            var i = requestAnimationFrame(e);
            return {
                high: !0,
                cancel: function() {
                    return cancelAnimationFrame(i)
                }
            }
        }
        function He(e, t) {
            var n = e.relatedTarget;
            return !(n instanceof Node && t.contains(n))
        }
        /bot|crawl|spider/i.test(navigator.userAgent);
        var Ve = {
            sx: 0,
            sy: 0,
            ex: 0,
            ey: 0,
            t: 0
        };
        function qe(e) {
            return Ve && Date.now() - Ve.t < 1e3 && Math.abs(e.clientX - Ve.sx) < 5 && Math.abs(e.clientY - Ve.sy) < 5 || Math.abs(e.clientX - Ve.ex) < 5 && Math.abs(e.clientY - Ve.ey) < 5
        }
        function Ue(e, t, n, i, r, o) {
            function s(e) {
                var t, i = e.clientY, r = Array.from(n.childNodes);
                for (t = 0; t < r.length; t++) {
                    if (i < r[t].getBoundingClientRect().bottom)
                        return t
                }
                return t
            }
            var a, l;
            i *= i,
            l = function(e, a) {
                var l = a.clientX
                  , c = a.clientY
                  , u = t.getBoundingClientRect()
                  , h = l - u.x
                  , p = c - u.y
                  , d = null;
                return {
                    move: function(e, o) {
                        e.preventDefault();
                        var a = o.clientX
                          , u = o.clientY;
                        if (null === d) {
                            var f = a - l
                              , g = u - c;
                            if (f * f + g * g < i)
                                return !0;
                            var m = t.offsetWidth
                              , v = t.offsetHeight;
                            d = createDiv("drag-ghost");
                            var y = t.cloneNode(!0);
                            d.appendChild(y),
                            d.style.padding = "0 5px",
                            d.style.maxWidth = "unset",
                            y.style.width = m + "px",
                            y.style.height = v + "px",
                            document.body.appendChild(d),
                            document.body.addClass("is-grabbing"),
                            t.style.visibility = "hidden",
                            r();
                            var b = d.getBoundingClientRect()
                              , w = y.getBoundingClientRect();
                            h += w.x - b.x,
                            p += w.y - b.y
                        }
                        e.preventDefault();
                        var k = s(o);
                        d && (d.style.left = a - h + "px",
                        d.style.top = u - p + "px"),
                        t.detach();
                        var C = n.childNodes[k];
                        return n.insertBefore(t, C),
                        !0
                    },
                    end: function(e, i) {
                        if (e.preventDefault(),
                        d) {
                            var r = s(i);
                            d.detach(),
                            document.body.removeClass("is-grabbing"),
                            t.style.visibility = "",
                            t.detach();
                            var a = n.childNodes[r];
                            n.insertBefore(t, a),
                            o(r)
                        }
                    }
                }
            }
            ,
            (a = e).addEventListener("mousedown", (function(e) {
                if (0 === e.button && !qe(e)) {
                    var t = l(e, e);
                    if (t) {
                        var n = function(e) {
                            t.move(e, e) || r()
                        }
                          , i = function(e) {
                            r(),
                            t.end(e, e)
                        }
                          , r = function() {
                            document.removeEventListener("mousemove", n),
                            document.removeEventListener("mouseup", i)
                        };
                        document.addEventListener("mousemove", n),
                        document.addEventListener("mouseup", i)
                    }
                }
            }
            )),
            a.addEventListener("touchstart", (function(e) {
                if (!(e.touches.length > 1)) {
                    var t = e.touches[0]
                      , n = l(e, t);
                    if (n) {
                        var i = t.identifier
                          , r = function(e) {
                            for (var t = e.changedTouches, n = 0; n < t.length; n++) {
                                var r = t[n];
                                if (r.identifier === i)
                                    return r
                            }
                            return null
                        }
                          , o = function(e) {
                            var t = r(e);
                            t && (c(),
                            n.end(e, t))
                        }
                          , s = function(e) {
                            var t = r(e);
                            t && (c(),
                            n.end(e, t))
                        }
                          , a = function(e) {
                            var t = r(e);
                            t && (n.move(e, t) || c())
                        }
                          , c = function() {
                            document.removeEventListener("touchcancel", s),
                            document.removeEventListener("touchend", o),
                            document.removeEventListener("touchmove", a)
                        };
                        document.addEventListener("touchcancel", s),
                        document.addEventListener("touchend", o),
                        document.addEventListener("touchmove", a, {
                            passive: !1
                        })
                    }
                }
            }
            ))
        }
        var _e = null
          , je = null;
        var We = null;
        function $e() {
            We && (clearTimeout(We),
            We = null)
        }
        function Ge(e, t) {
            if (He(e, t) && !qe(e)) {
                $e();
                var n = t.getAttribute("aria-label") || ""
                  , i = "bottom";
                t.hasAttribute("aria-label-position") && (i = t.getAttribute("aria-label-position"));
                var r = [];
                t.hasAttribute("aria-label-classes") && (r = (t.getAttribute("aria-label-classes") || "").split(" "));
                var o = 0;
                t.hasAttribute("aria-label-delay") && (o = parseInt(t.getAttribute("aria-label-delay") || ""),
                isNaN(o) && (o = 0)),
                Ke(t, n, {
                    placement: i,
                    classes: r,
                    delay: o
                })
            }
        }
        function Ye(e, t) {
            He(e, t) && Qe()
        }
        function Ke(e, t, n) {
            var i = (n = n || {}).placement
              , r = void 0 === i ? "bottom" : i
              , o = n.classes
              , s = void 0 === o ? [] : o
              , a = n.gap
              , l = void 0 === a ? 8 : a
              , c = n.horizontalParent
              , u = n.delay
              , h = void 0 === u ? 0 : u;
            if (h > 0)
                return $e(),
                n.delay = 0,
                void (We = window.setTimeout((function() {
                    return Ke(e, t, n)
                }
                ), h));
            var p = e.getBoundingClientRect()
              , d = p.top
              , f = p.left
              , g = p.width
              , m = p.height;
            if (c) {
                var v = c.getBoundingClientRect();
                f = v.left,
                g = v.width
            }
            _e && je === e ? _e.setText(t) : (Qe(),
            _e = createDiv({
                cls: "tooltip",
                text: t
            }));
            var y = _e.createDiv("tooltip-arrow")
              , b = 0
              , w = 0;
            "bottom" === r ? (b = d + m + l,
            w = f + g / 2) : "right" === r ? (b = d + m / 2,
            w = f + g + l,
            s.push("mod-right")) : "left" === r ? (b = d + m / 2,
            w = f - l,
            s.push("mod-left")) : "top" === r && (b = d - l - 5,
            w = f + g / 2,
            s.push("mod-top")),
            _e.addClasses(s),
            _e.style.top = "0px",
            _e.style.left = "0px",
            _e.style.width = "",
            _e.style.height = "",
            _e.parentNode || document.body.appendChild(_e);
            var k = _e.getBoundingClientRect()
              , C = ["bottom", "top"].contains(r) ? k.width / 2 : k.width
              , x = "right" === r || "left" === r ? k.height / 2 : k.height;
            if ("left" === r ? w -= C : "top" === r && (b -= x),
            b + x > window.innerHeight && (b = window.innerHeight - x - l),
            b = Math.max(b, l),
            "top" === r || "bottom" === r) {
                if (w + C > window.innerWidth)
                    w -= E = w + C + l - window.innerWidth,
                    y.style.left = "initial",
                    y.style.right = C - E - l / 2 + "px";
                else if (w - l - C < 0) {
                    var E;
                    w += E = -(w - l - C),
                    y.style.right = "initial",
                    y.style.left = C - E - l / 2 + "px"
                }
                w = Math.max(w, l)
            }
            _e.style.top = b + "px",
            _e.style.left = w + "px",
            _e.style.width = k.width + "px",
            _e.style.height = k.height + "px",
            je = e
        }
        function Qe() {
            $e(),
            _e && (_e.detach(),
            _e = null,
            je = null)
        }
        function Je(e, t, n) {
            e.setAttribute("aria-label", t);
            var i = n || {}
              , r = i.placement
              , o = i.classes
              , s = i.delay;
            r && "bottom" !== r && e.setAttribute("aria-label-position", r),
            o && e.setAttribute("aria-label-classes", o.join(" ")),
            s && e.setAttribute("aria-label-delay", String(s)),
            je === e && Ke(e, t, n)
        }
        var Xe, Ze, et = function() {
            function e(e) {
                this.leftSpacing = 0,
                this.win = e;
                var t = this.isMac = "darwin" === window.process.platform
                  , n = document.body;
                n.addClass("is-frameless");
                var i = this.titleBarEl = createDiv("titlebar");
                n.insertBefore(i, n.firstChild);
                var r = this.titleBarInnerEl = i.createDiv("titlebar-inner");
                this.titleBarLeftEl = r.createDiv("titlebar-left"),
                this.titleBarTextEl = r.createDiv({
                    cls: "titlebar-text",
                    text: "Obsidian"
                }),
                window.addEventListener("resize", this.updateStatus.bind(this)),
                new MutationObserver(this.updateTitle.bind(this)).observe(fish("title"), {
                    subtree: !0,
                    characterData: !0,
                    childList: !0
                }),
                this.leftButtonContainerEl = r.createDiv("titlebar-button-container mod-left");
                var o = r.createDiv("titlebar-button-container mod-right");
                if (this.updateStatus(),
                this.updateTitle(),
                !t) {
                    if (e.minimizable) {
                        var s = o.createDiv("titlebar-button mod-minimize");
                        s.innerHTML = '<svg aria-hidden="false" width="10" height="10" viewBox="0 0 12 12"><rect fill="currentColor" width="10" height="1" x="1" y="6"></rect></svg>',
                        Le.then((function() {
                            Je(s, Te("interface.window.minimize"))
                        }
                        )),
                        s.addEventListener("click", (function() {
                            e.minimize()
                        }
                        ))
                    }
                    if (e.maximizable) {
                        var a = o.createDiv("titlebar-button mod-maximize");
                        a.innerHTML = '<svg aria-hidden="false" width="10" height="10" viewBox="0 0 12 12"><rect width="9" height="9" x="1.5" y="1.5" fill="none" stroke="currentColor"></rect></svg>';
                        var l = function() {
                            e.isMaximized() ? Je(a, Te("interface.window.restore-down")) : Je(a, Te("interface.window.maximize"))
                        };
                        a.addEventListener("click", (function() {
                            e.isMaximized() ? e.unmaximize() : e.maximize(),
                            l()
                        }
                        )),
                        Le.then((function() {
                            l()
                        }
                        )),
                        window.addEventListener("resize", l)
                    }
                    if (e.closable) {
                        var c = o.createDiv("titlebar-button mod-close");
                        c.innerHTML = '<svg aria-hidden="false" width="10" height="10" viewBox="0 0 12 12"><polygon fill="currentColor" fill-rule="evenodd" points="11 1.576 6.583 6 11 10.424 10.424 11 6 6.583 1.576 11 1 10.424 5.417 6 1 1.576 1.576 1 6 5.417 10.424 1"></polygon></svg>',
                        Le.then((function() {
                            Je(c, Te("interface.window.close-window"))
                        }
                        )),
                        c.addEventListener("click", (function() {
                            e.close()
                        }
                        ))
                    }
                }
                t && e.maximizable && r.addEventListener("dblclick", (function(t) {
                    0 === t.button && fe((function(t) {
                        var n = t.remote.systemPreferences.getUserDefault("AppleActionOnDoubleClick", "string");
                        "Minimize" === n ? e.minimize() : "Maximize" !== n && "" !== n || (e.isMaximized() ? e.unmaximize() : e.maximize())
                    }
                    ))
                }
                ))
            }
            return e.prototype.updateTitle = function() {
                this.titleBarTextEl.setText(document.title)
            }
            ,
            e.prototype.updateStatus = function() {
                var e = this
                  , t = e.win
                  , n = e.isMac
                  , i = e.titleBarEl
                  , r = t.webContents.getZoomFactor()
                  , o = document.body
                  , s = t.isFullScreen()
                  , a = 22
                  , l = (t.isMaximized() ? 0 : 2) / r;
                a += l,
                s && (a = 0),
                o.style.paddingTop = a + "px",
                i.style.height = a + "px",
                i.style.paddingTop = l + "px",
                i.toggle(!s),
                o.toggleClass("is-fullscreen", s),
                this.leftButtonContainerEl.style.left = n ? 70 / r + "px" : this.leftSpacing + "px"
            }
            ,
            e
        }();
        fe((function(e) {
            var t = e.remote.getCurrentWindow();
            t.frameless && (window.frameDom = new et(t))
        }
        )),
        function(e) {
            e.Dark = "DARK",
            e.Light = "LIGHT",
            e.Default = "DEFAULT"
        }(Xe || (Xe = {})),
        function(e) {
            e.None = "NONE",
            e.Slide = "SLIDE",
            e.Fade = "FADE"
        }(Ze || (Ze = {}));
        var tt = "https://api.obsidian.md";
        ve && (tt = "http://127.0.0.1:3000");
        var nt = tt + "/user/info"
          , it = tt + "/subscription/business"
          , rt = tt + "/user/signin"
          , ot = tt + "/user/signout"
          , st = tt + "/vault/list"
          , at = tt + "/vault/access"
          , lt = tt + "/vault/create"
          , ct = tt + "/vault/delete"
          , ut = tt + "/publish/list"
          , ht = tt + "/publish/create"
          , pt = tt + "/publish/delete"
          , dt = tt + "/publish/limit"
          , ft = tt + "/subscription/list"
          , gt = "obsidian-account"
          , mt = function() {
            function e() {
                this.isLoggedIn = !1,
                this.keyValidation = "",
                this.company = "",
                this.expiry = 0,
                this.seats = 0;
                try {
                    var e = JSON.parse(localStorage.getItem(gt));
                    this.email = e.email,
                    this.name = e.name,
                    this.token = e.token,
                    this.license = e.license,
                    this.key = e.key
                } catch (e) {}
            }
            return e.prototype.save = function() {
                var e = {
                    email: this.email,
                    name: this.name,
                    token: this.token,
                    license: this.license,
                    key: this.key
                };
                localStorage.setItem(gt, JSON.stringify(e))
            }
            ,
            e.prototype.login = function(e, t, n) {
                var i = this;
                ajax({
                    url: rt,
                    method: "POST",
                    withCredentials: !1,
                    data: {
                        email: e,
                        password: t
                    },
                    success: function(e) {
                        var t = JSON.parse(e);
                        t.token && (i.token = t.token,
                        i.save()),
                        n && n(t)
                    }
                })
            }
            ,
            e.prototype.logout = function(e) {
                var t = this;
                ajax({
                    url: ot,
                    method: "POST",
                    withCredentials: !1,
                    data: {
                        token: this.token
                    },
                    success: function(n) {
                        t.isLoggedIn = !1,
                        e && e(n)
                    }
                })
            }
            ,
            e.prototype.getUserInfo = function() {
                return o(this, void 0, Promise, (function() {
                    var e, t;
                    return s(this, (function(n) {
                        switch (n.label) {
                        case 0:
                            return [4, ajaxPromise({
                                url: nt,
                                method: "POST",
                                withCredentials: !1,
                                data: {
                                    token: this.token
                                }
                            })];
                        case 1:
                            return e = n.sent(),
                            "Not logged in" === (t = JSON.parse(e)).error ? (this.email = null,
                            this.name = null,
                            this.token = null,
                            this.license = null,
                            this.save(),
                            [2]) : (this.isLoggedIn = !0,
                            this.email = t.email,
                            this.name = t.name,
                            this.license = t.license,
                            this.save(),
                            [2, t])
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.checkKey = function(e) {
                var t = this;
                this.key ? ajax({
                    url: it,
                    method: "POST",
                    withCredentials: !1,
                    data: {
                        key: this.key
                    },
                    success: function(n) {
                        var i = JSON.parse(n);
                        if (i.error)
                            return t.keyValidation = i.error,
                            void (e && e());
                        t.keyValidation = "valid",
                        t.company = i.company,
                        t.expiry = i.expiry,
                        t.seats = i.seats,
                        t.save(),
                        e && e()
                    },
                    error: e
                }) : e()
            }
            ,
            e.prototype.getVaults = function(e) {
                ajax({
                    url: st,
                    method: "POST",
                    withCredentials: !1,
                    data: {
                        token: this.token
                    },
                    success: function(t) {
                        var n = JSON.parse(t);
                        e && e(n.vaults)
                    }
                })
            }
            ,
            e.prototype.createVault = function(e, t, n, i) {
                ajax({
                    url: lt,
                    method: "POST",
                    withCredentials: !1,
                    data: {
                        name: e,
                        token: this.token,
                        keyhash: t,
                        salt: n
                    },
                    success: function(e) {
                        var t = JSON.parse(e);
                        i && i(t)
                    }
                })
            }
            ,
            e.prototype.deleteVault = function(e, t) {
                ajax({
                    url: ct,
                    method: "POST",
                    withCredentials: !1,
                    data: {
                        vault_uid: e,
                        token: this.token
                    },
                    success: function(e) {
                        var n = JSON.parse(e);
                        t && t(n)
                    }
                })
            }
            ,
            e.prototype.verifyVaultKey = function(e, t, n) {
                return o(this, void 0, void 0, (function() {
                    return s(this, (function(i) {
                        return [2, ajaxPromise({
                            url: at,
                            method: "POST",
                            withCredentials: !1,
                            data: {
                                token: this.token,
                                vault_uid: e,
                                keyhash: t,
                                host: n
                            }
                        })]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.getSites = function() {
                return o(this, void 0, Promise, (function() {
                    var e, t;
                    return s(this, (function(n) {
                        switch (n.label) {
                        case 0:
                            return t = (e = JSON).parse,
                            [4, ajaxPromise({
                                url: ut,
                                method: "POST",
                                withCredentials: !1,
                                data: {
                                    token: this.token
                                }
                            })];
                        case 1:
                            return [2, t.apply(e, [n.sent()])]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.createSite = function(e) {
                ajax({
                    url: ht,
                    method: "POST",
                    withCredentials: !1,
                    data: {
                        token: this.token
                    },
                    success: function(t) {
                        var n = JSON.parse(t);
                        e && e(n)
                    },
                    error: function(t) {
                        e && e(t)
                    }
                })
            }
            ,
            e.prototype.deleteSite = function(e, t) {
                ajax({
                    url: pt,
                    method: "POST",
                    withCredentials: !1,
                    data: {
                        token: this.token,
                        site_uid: e
                    },
                    success: function(e) {
                        var n = JSON.parse(e);
                        t && t(n)
                    },
                    error: function(e) {
                        t && t(e)
                    }
                })
            }
            ,
            e.prototype.getSiteLimit = function() {
                return o(this, void 0, Promise, (function() {
                    var e, t;
                    return s(this, (function(n) {
                        switch (n.label) {
                        case 0:
                            return t = (e = JSON).parse,
                            [4, ajaxPromise({
                                url: dt,
                                method: "POST",
                                withCredentials: !1,
                                data: {
                                    token: this.token
                                }
                            })];
                        case 1:
                            return [2, t.apply(e, [n.sent()])]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.getSubscriptions = function() {
                return o(this, void 0, Promise, (function() {
                    var e, t;
                    return s(this, (function(n) {
                        switch (n.label) {
                        case 0:
                            return t = (e = JSON).parse,
                            [4, ajaxPromise({
                                url: ft,
                                method: "POST",
                                data: {
                                    token: this.token
                                }
                            })];
                        case 1:
                            return [2, t.apply(e, [n.sent()])]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e
        }()
          , vt = {
            "encrypted-media": !0,
            fullscreen: !0,
            "oversized-images": !0,
            "picture-in-picture": !0,
            "sync-xhr": !0
        };
        DOMPurify.addHook("afterSanitizeAttributes", (function(e) {
            if (e instanceof HTMLAnchorElement && (e.setAttribute("target", "_blank"),
            e.setAttribute("rel", "noopener")),
            e instanceof HTMLIFrameElement && (e.setAttribute("sandbox", "allow-forms allow-presentation allow-same-origin allow-scripts allow-modals"),
            e.hasAttribute("allow"))) {
                for (var t = [], n = 0, i = e.getAttribute("allow").split(";"); n < i.length; n++) {
                    var r = i[n];
                    r = r.trim().toLowerCase(),
                    vt.hasOwnProperty(r) && vt[r] && t.push(r)
                }
                e.setAttribute("allow", t.join("; "))
            }
        }
        ));
        var yt = {
            ALLOW_UNKNOWN_PROTOCOLS: !0,
            RETURN_DOM_FRAGMENT: !0,
            RETURN_DOM_IMPORT: !0,
            FORBID_TAGS: ["style"],
            ADD_TAGS: ["iframe"],
            ADD_ATTR: ["frameborder", "allowfullscreen", "allow"]
        };
        function bt(e) {
            return DOMPurify.sanitize(e, yt)
        }
        var wt = {
            height: "",
            paddingTop: "",
            paddingBottom: "",
            marginTop: "",
            marginBottom: ""
        }
          , kt = new WeakMap
          , Ct = []
          , xt = []
          , Et = function() {
            function e(e) {
                this.from = {},
                this.to = {},
                this.end = {};
                var t = e || {}
                  , n = t.duration
                  , i = void 0 === n ? 100 : n
                  , r = t.fn
                  , o = void 0 === r ? "ease-in-out" : r;
                this.duration = i,
                this.fn = o
            }
            return e.prototype.addProp = function(e, t, n, i) {
                return void 0 === i && (i = null),
                null !== t && (this.from[e] = t),
                null !== n && (this.to[e] = n),
                null !== i && (this.end[e] = i),
                this
            }
            ,
            e
        }();
        function St(e, t) {
            for (var n in t)
                t.hasOwnProperty(n) && (e.style[n] = t[n])
        }
        function Lt(e) {
            var t = window.getComputedStyle(e)
              , n = {};
            for (var i in wt)
                if (wt.hasOwnProperty(i)) {
                    var r = t[i];
                    if (r && r.endsWith("px")) {
                        var o = parseFloat(r.substr(0, r.length - 2));
                        0 !== o && (n[i] = o)
                    }
                }
            return n
        }
        function Dt(e, t) {
            var n = kt.get(e);
            if (kt.delete(e),
            n && (e.style.transition = "",
            St(e, n.props.end),
            clearTimeout(n.timer),
            e.removeEventListener("transitionend", n.fn),
            Ct.remove(n),
            t || n.complete && n.complete(),
            0 === Ct.length)) {
                var i = xt;
                xt = [],
                i.forEach((function(e) {
                    return e()
                }
                ))
            }
        }
        var Mt = null;
        function At(e, t, n) {
            Dt(e),
            St(e, t.from);
            var i = {
                props: t,
                fn: function() {
                    return Dt(e)
                },
                timer: 0,
                complete: n
            };
            kt.set(e, i),
            Ct.push(i);
            null === Mt && (Mt = [],
            setTimeout((function() {
                document.body.offsetHeight;
                var e = Mt;
                Mt = null;
                for (var t = 0, n = e; t < n.length; t++) {
                    (0,
                    n[t])()
                }
            }
            ), 0)),
            Mt.push((function() {
                e.style.transition = "all " + t.duration + "ms " + t.fn,
                St(e, t.to),
                e.addEventListener("transitionend", i.fn),
                i.timer = window.setTimeout(i.fn, t.duration + 50)
            }
            ))
        }
        function Tt(e) {
            return new Promise((function(t) {
                return function(e, t) {
                    Dt(e);
                    var n = Lt(e)
                      , i = new Et({
                        duration: 100,
                        fn: "cubic-bezier(.02, .01, .47, 1)"
                    });
                    for (var r in i.addProp("overflow", "hidden", "hidden", ""),
                    n)
                        n.hasOwnProperty(r) && i.addProp(r, "0px", n[r] + "px", "");
                    At(e, i, t)
                }(e, t)
            }
            ))
        }
        function Ft(e) {
            return new Promise((function(t) {
                return function(e, t) {
                    Dt(e);
                    var n = Lt(e)
                      , i = new Et({
                        duration: 100,
                        fn: "cubic-bezier(.02, .01, .47, 1)"
                    });
                    for (var r in i.addProp("overflow", "hidden", "hidden", ""),
                    n)
                        n.hasOwnProperty(r) && i.addProp(r, n[r] + "px", "0px", "");
                    At(e, i, t)
                }(e, t)
            }
            ))
        }
        function Pt(e, t, n) {
            return o(this, void 0, Promise, (function() {
                return s(this, (function(i) {
                    switch (i.label) {
                    case 0:
                        return Dt(e),
                        t ? n ? [4, Ft(e)] : [3, 2] : [3, 3];
                    case 1:
                        i.sent(),
                        i.label = 2;
                    case 2:
                        return e.hide(),
                        [3, 5];
                    case 3:
                        return e.show(),
                        n ? [4, Tt(e)] : [3, 5];
                    case 4:
                        i.sent(),
                        i.label = 5;
                    case 5:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        function Ot(e, t, n, i) {
            return o(this, void 0, Promise, (function() {
                return s(this, (function(r) {
                    switch (r.label) {
                    case 0:
                        return n ? i ? [4, Ft(e)] : [3, 2] : [3, 3];
                    case 1:
                        r.sent(),
                        r.label = 2;
                    case 2:
                        return e.detach(),
                        [3, 5];
                    case 3:
                        return t.appendChild(e),
                        i ? [4, Tt(e)] : [3, 5];
                    case 4:
                        r.sent(),
                        r.label = 5;
                    case 5:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        var It = function() {};
        function Nt(e, t, n, i) {
            i = i || It;
            for (var r = 0, o = Array.prototype.slice.call(e.childNodes); r < o.length; r++) {
                Dt(o[r])
            }
            var s = e.firstChild;
            if (!s)
                return e.appendChild(t),
                void i();
            s !== t || s.nextSibling ? "left" === n ? (e.setChildrenInPlace([t, s]),
            At(t, new Et({
                duration: 300
            }).addProp("transform", "translateX(-100%)", "translateX(0)", "")),
            At(s, new Et({
                duration: 300
            }).addProp("transform", "translateX(0)", "translateX(100%)"), (function() {
                s.detach(),
                i && i()
            }
            ))) : (e.setChildrenInPlace([s, t]),
            At(s, new Et({
                duration: 300
            }).addProp("transform", "translateX(0)", "translateX(-100%)"), (function() {
                s.detach(),
                i && i()
            }
            )),
            At(t, new Et({
                duration: 300
            }).addProp("transform", "translateX(100%)", "translateX(0)", ""))) : i()
        }
        function Rt(e, t) {
            e.focus();
            var n = document.createRange();
            n.selectNodeContents(e),
            isBoolean(t) && n.collapse(t);
            var i = window.getSelection();
            i && (i.removeAllRanges(),
            i.addRange(n))
        }
        function Bt() {
            var e = document.activeElement;
            e && e instanceof HTMLElement && e.blur();
            var t = window.getSelection();
            t && t.removeAllRanges()
        }
        var zt = !1;
        try {
            window.addEventListener("test", null, Object.defineProperty({}, "passive", {
                get: function() {
                    zt = {
                        passive: !1
                    }
                }
            }))
        } catch (e) {}
        function Ht(e, t, n) {
            n = n || {},
            t.show();
            var i = n.gap || 0
              , r = n.preference || "bottom"
              , o = n.offsetParent || t.offsetParent || document.documentElement
              , s = n.horizontalAlignment || "left"
              , a = o.scrollTop + 10
              , l = o.scrollTop + o.clientHeight - 10
              , c = Math.min(e.top, l)
              , u = Math.max(e.bottom, a)
              , h = t.offsetHeight
              , p = e.top - a >= h + i
              , d = l - e.bottom >= h + i
              , f = 0
              , g = "";
            !p || "top" !== r && d ? !d || "bottom" !== r && p ? o.clientHeight < h + i ? (f = a,
            g = "overlap") : "top" === r ? (f = a + i,
            g = "overlap") : (f = l - h,
            g = "overlap") : (f = u + i,
            g = "bottom") : (f = c - i - h,
            g = "top");
            var m = o.scrollLeft + 10
              , v = o.scrollLeft + o.clientWidth - 10
              , y = t.offsetWidth
              , b = "left" === s ? e.left : e.right - y;
            return b < m ? b = m : b > v - y && (b = v - y),
            t.style.top = f + "px",
            t.style.left = b + "px",
            {
                top: f,
                left: b,
                vresult: g
            }
        }
        function Vt(e, t) {
            var n = e.clientX
              , i = e.clientY
              , r = t.getBoundingClientRect();
            return n >= r.x && n <= r.x + r.width && i >= r.y && i <= r.y + r.height
        }
        function qt(e, t) {
            for (var n = 0, i = 0, r = t ? t.offsetParent : null; e && e !== t && e !== r; ) {
                n += e.offsetTop,
                i += e.offsetLeft;
                for (var o = e.offsetParent, s = e.parentElement; s && s !== o; )
                    n -= s.scrollTop,
                    i -= s.scrollLeft,
                    s = s.parentElement;
                o && (n -= o.scrollTop,
                i -= o.scrollLeft),
                e = o
            }
            return {
                top: n,
                left: i
            }
        }
        function Ut(e, t) {
            var n = qt(e, t);
            return {
                left: n.left,
                right: n.left + e.offsetWidth,
                top: n.top,
                bottom: n.top + e.offsetHeight
            }
        }
        function _t(e, t) {
            var n = !1
              , i = null;
            return {
                get loaded() {
                    return n
                },
                get promise() {
                    if (n)
                        return Promise.resolve();
                    if (!i) {
                        t && t.before && t.before();
                        var r = function(e) {
                            return new Promise((function(t, n) {
                                var i = document.createElement("script");
                                i.type = "text/javascript",
                                i.src = e,
                                i.addEventListener("load", (function() {
                                    return t(i)
                                }
                                ), !1),
                                i.addEventListener("error", (function() {
                                    return n(i)
                                }
                                ), !1),
                                document.body.appendChild(i)
                            }
                            ))
                        }(e);
                        r.catch((function(e) {
                            e.detach(),
                            i = null
                        }
                        )),
                        i = r.then((function() {
                            n = !0,
                            i = null,
                            t && t.after && t.after()
                        }
                        ))
                    }
                    return i
                },
                then: function(e) {
                    return n ? e() : this.promise.then(e)
                }
            }
        }
        function jt(e, t) {
            if (3 !== e.nodeType)
                for (var n = e.firstChild; n; )
                    jt(n, t),
                    n = n.nextSibling;
            else
                t.push(e)
        }
        function Wt(e, t, n, i) {
            for (var r = 0, o = null, s = -1, a = null, l = -1, c = 0; c < t.length; c++) {
                var u = r + t[c].length;
                if (r <= n && n <= u && (o = e[c],
                s = n - r),
                r <= i && i <= u) {
                    a = e[c],
                    l = i - r;
                    break
                }
                r = u
            }
            if (o && a) {
                var h = document.createRange();
                return h.setStart(o, s),
                h.setEnd(a, l),
                h
            }
            return null
        }
        function $t(e, t) {
            return o(this, void 0, Promise, (function() {
                var n;
                return s(this, (function(i) {
                    switch (i.label) {
                    case 0:
                        e.addClass("is-loading"),
                        i.label = 1;
                    case 1:
                        return i.trys.push([1, , 3, 4]),
                        [4, t()];
                    case 2:
                        return n = i.sent(),
                        [3, 4];
                    case 3:
                        return e.removeClass("is-loading"),
                        [7];
                    case 4:
                        return [2, n]
                    }
                }
                ))
            }
            ))
        }
        function Gt(e, t) {
            e.setData("text/plain", t),
            e.setData("text/uri-list", t)
        }
        function Yt(e) {
            e.addEventListener("mousemove", (function(t) {
                var n = e.clientHeight
                  , i = e.scrollHeight;
                if (i > n) {
                    var r = (t.clientY - e.getBoundingClientRect().y - 30) / (n - 60);
                    e.scrollTop = (i - n) * Math.clamp(r, 0, 1)
                }
            }
            ))
        }
        for (var Kt = {
            3: "Cancel",
            6: "Help",
            8: "Backspace",
            9: "Tab",
            12: "Clear",
            13: "Enter",
            16: "Shift",
            17: "Control",
            18: "Alt",
            19: "Pause",
            20: "CapsLock",
            27: "Escape",
            28: "Convert",
            29: "NonConvert",
            30: "Accept",
            31: "ModeChange",
            32: " ",
            33: "PageUp",
            34: "PageDown",
            35: "End",
            36: "Home",
            37: "ArrowLeft",
            38: "ArrowUp",
            39: "ArrowRight",
            40: "ArrowDown",
            41: "Select",
            42: "Print",
            43: "Execute",
            44: "PrintScreen",
            45: "Insert",
            46: "Delete",
            48: "0",
            49: "1",
            50: "2",
            51: "3",
            52: "4",
            53: "5",
            54: "6",
            55: "7",
            56: "8",
            57: "9",
            91: "OS",
            93: "ContextMenu",
            95: "Sleep",
            106: "*",
            107: "+",
            109: "-",
            110: ".",
            111: "/",
            144: "NumLock",
            145: "ScrollLock",
            181: "VolumeMute",
            182: "VolumeDown",
            183: "VolumeUp",
            186: ";",
            187: "=",
            188: ",",
            189: "-",
            190: ".",
            191: "/",
            192: "`",
            219: "[",
            220: "\\",
            221: "]",
            222: "'",
            224: "Meta",
            225: "AltGraph",
            246: "Attn",
            247: "CrSel",
            248: "ExSel",
            249: "EraseEof",
            250: "Play",
            251: "ZoomOut"
        }, Qt = 1; Qt < 25; Qt++)
            Kt[111 + Qt] = "F" + Qt;
        for (Qt = 65; Qt < 91; Qt++) {
            var Jt = String.fromCharCode(Qt);
            Kt[Qt] = Jt.toUpperCase()
        }
        for (Qt = 96; Qt < 106; Qt++)
            Kt[Qt] = "Numpad" + String.fromCharCode(Qt - 48);
        var Xt = {
            ArrowLeft: "←",
            ArrowRight: "→",
            ArrowUp: "↑",
            ArrowDown: "↓"
        };
        function Zt(e) {
            var t = e.key;
            if (!t) {
                var n = e.which || e.keyCode;
                t = Kt[n]
            }
            return t
        }
        var en = se ? {
            Mod: "⌘",
            Ctrl: "⌃",
            Meta: "⌘",
            Alt: "⌥",
            Shift: "⇧"
        } : {
            Mod: "Ctrl",
            Ctrl: "Ctrl",
            Meta: "Win",
            Alt: "Alt",
            Shift: "Shift"
        }
          , tn = ["Mod", "Ctrl", "Meta", "Alt", "Shift"];
        var nn = function() {
            function e(e) {
                this.keys = [],
                this.parent = e
            }
            return e.prototype.registerKey = function(e, t, n) {
                return this.register(e, t, n)
            }
            ,
            e.prototype.register = function(e, t, n) {
                var i = {
                    scope: this,
                    modifiers: e ? rn.compileModifiers(e) : null,
                    key: t,
                    func: n
                };
                return this.keys.push(i),
                i
            }
            ,
            e.prototype.unregister = function(e) {
                this.keys.remove(e)
            }
            ,
            e.prototype.handleKey = function(e, t) {
                for (var n = 0, i = this.keys; n < i.length; n++) {
                    var r = i[n];
                    if (rn.isMatch(r, t)) {
                        var o = r.func(e, t);
                        if (void 0 !== o)
                            return o
                    }
                }
                if (this.parent)
                    return this.parent.handleKey(e, t)
            }
            ,
            e
        }()
          , rn = function() {
            function e() {
                this.rootScope = new nn,
                this.scope = this.rootScope,
                this.prevScopes = [],
                window.addEventListener("keydown", this.onKeyEvent.bind(this), !0)
            }
            return e.prototype.getRootScope = function() {
                return this.rootScope
            }
            ,
            e.prototype.pushScope = function(e) {
                this.scope !== e && (this.prevScopes.push(this.scope),
                this.scope = e)
            }
            ,
            e.prototype.popScope = function(e) {
                e !== this.rootScope && (this.scope === e ? this.scope = this.prevScopes.pop() || this.rootScope : this.prevScopes.remove(e))
            }
            ,
            e.prototype.onKeyEvent = function(t) {
                this.updateModifiers(t);
                var n = this.scope;
                if (n) {
                    var i = Zt(t);
                    if (!e.isModifierKey(i)) {
                        var r = function(e) {
                            var t = e.which || e.keyCode;
                            return Kt[t] || "Key" + t
                        }(t);
                        54 === t.which && "^" == t.key && "KeyI" === t.code && (r = "KeyI");
                        var o = {
                            modifiers: this.modifiers,
                            key: i,
                            vkey: r
                        };
                        return !1 === n.handleKey(t, o) ? (t.preventDefault(),
                        t.stopPropagation(),
                        !1) : void 0
                    }
                }
            }
            ,
            e.prototype.updateModifiers = function(t) {
                this.modifiers = e.getModifiers(t)
            }
            ,
            e.getModifiers = function(t) {
                var n = [];
                return t.ctrlKey && n.push("Ctrl"),
                t.metaKey && n.push("Meta"),
                t.altKey && n.push("Alt"),
                t.shiftKey && n.push("Shift"),
                e.compileModifiers(n)
            }
            ,
            e.compileModifiers = function(e) {
                return e.map((function(e) {
                    return "Mod" === e ? "MacOS" === re ? "Meta" : "Ctrl" : e
                }
                )).sort().join(",")
            }
            ,
            e.decompileModifiers = function(e) {
                return e.split(",").map((function(e) {
                    return "MacOS" === re && "Meta" === e || "MacOS" !== re && "Ctrl" === e ? "Mod" : e
                }
                )).filter((function(e) {
                    return e
                }
                ))
            }
            ,
            e.isModifierKey = function(e) {
                return "Control" === e || "Alt" === e || "Shift" === e || "OS" === e || "Meta" === e
            }
            ,
            e.prototype.matchModifiers = function(e) {
                return this.modifiers === e
            }
            ,
            e.isModifier = function(e, t) {
                return "Ctrl" === t ? e.ctrlKey : "Meta" === t ? e.metaKey : "Alt" === t ? e.altKey : "Shift" === t ? e.shiftKey : "Mod" === t && ("MacOS" === re ? e.metaKey : e.ctrlKey)
            }
            ,
            e.isMatch = function(e, t) {
                var n = e.modifiers
                  , i = e.key;
                return (null === n || n === t.modifiers) && (!i || (i === t.vkey || !(!t.key || i.toLowerCase() !== t.key.toLowerCase())))
            }
            ,
            e
        }()
          , on = {
            isDesktop: !1,
            isMobile: !1,
            isDesktopApp: !1,
            isMobileApp: !1,
            isIosApp: !1,
            isAndroidApp: !1,
            isMacOS: se,
            isSafari: ue
        }
          , sn = function() {
            function e(e) {
                this.shouldRestoreSelection = !0,
                this.selection = null,
                this.app = e,
                this.scope = new nn,
                this.scope.register([], "Escape", this.close.bind(this)),
                this.containerEl = createDiv("modal-container");
                var t = this.bgEl = this.containerEl.createDiv("modal-bg");
                this.modalEl = this.containerEl.createDiv("modal");
                var n = this.modalEl.createDiv("modal-close-button");
                this.titleEl = this.modalEl.createDiv("modal-title"),
                this.contentEl = this.modalEl.createDiv("modal-content"),
                n.addEventListener("click", this.close.bind(this)),
                t.addEventListener("click", this.close.bind(this))
            }
            return e.prototype.open = function() {
                this.shouldRestoreSelection ? this.selection = function() {
                    var e = window.getSelection();
                    if (!e)
                        return null;
                    var t = null;
                    return e.rangeCount > 0 && (t = e.getRangeAt(0)),
                    {
                        range: t,
                        focusEl: document.activeElement
                    }
                }() : this.selection = null;
                var e = document.activeElement;
                e && e instanceof HTMLElement && e.blur(),
                window.getSelection().removeAllRanges();
                var t = this.app;
                if (t.keymap.pushScope(this.scope),
                document.body.appendChild(this.containerEl),
                this.onOpen(),
                on.isMobile) {
                    var n = this.modalEl
                      , i = this.bgEl
                      , r = n.offsetHeight - 1;
                    At(n, new Et({
                        duration: 300
                    }).addProp("transform", "translateY(" + r + "px)", "")),
                    At(i, new Et({
                        duration: 200
                    }).addProp("opacity", "0", "0.85"))
                }
                t.workspace.pushClosable(this)
            }
            ,
            e.prototype.close = function() {
                var e = this
                  , t = this.app;
                if (t.keymap.popScope(this.scope),
                this.onClose(),
                on.isMobile) {
                    var n = this.modalEl
                      , i = this.bgEl
                      , r = n.offsetHeight - 1;
                    At(n, new Et({
                        duration: 300
                    }).addProp("transform", "", "translateY(" + r + "px)"), (function() {
                        e.containerEl.detach()
                    }
                    )),
                    At(i, new Et({
                        duration: 200
                    }).addProp("opacity", null, "0"))
                } else
                    this.containerEl.detach();
                t.workspace.popClosable(this),
                this.shouldRestoreSelection && function(e) {
                    if (e) {
                        var t = e.focusEl
                          , n = e.range
                          , i = document.body;
                        if (n && i.contains(n.startContainer) && i.contains(n.endContainer)) {
                            var r = window.getSelection();
                            r && (r.removeAllRanges(),
                            r.addRange(n))
                        }
                        t && (t instanceof HTMLElement || t instanceof SVGElement) && i.contains(t) && t.focus()
                    }
                }(this.selection)
            }
            ,
            e.prototype.onOpen = function() {}
            ,
            e.prototype.onClose = function() {}
            ,
            e.prototype.setTitle = function(e) {
                return this.titleEl.setText(e),
                this
            }
            ,
            e.prototype.setContent = function(e) {
                return String.isString(e) ? this.contentEl.setText(e) : this.contentEl.appendChild(e),
                this
            }
            ,
            e
        }()
          , an = function(e) {
            function t(t) {
                var n = e.call(this, t) || this;
                return n.buttonContainerEl = null,
                n.containerEl.addClass("mod-confirmation"),
                n.buttonContainerEl = n.modalEl.createDiv("modal-button-container"),
                n
            }
            return i(t, e),
            t.prototype.addButton = function(e, t, n) {
                var i = this;
                return this.buttonContainerEl.createEl("button", {
                    cls: e,
                    text: t
                }).addEventListener("click", (function(e) {
                    return o(i, void 0, void 0, (function() {
                        return s(this, (function(t) {
                            switch (t.label) {
                            case 0:
                                return [4, n(e)];
                            case 1:
                                return t.sent() || this.close(),
                                [2]
                            }
                        }
                        ))
                    }
                    ))
                }
                )),
                this
            }
            ,
            t.prototype.addCancelButton = function() {
                return this.addButton("", Te("dialogue.button-cancel"), this.close.bind(this))
            }
            ,
            t
        }(sn);
        let ln = "lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((e=>e ? parseInt(e, 36) : 1));
        for (let e = 1; e < ln.length; e++)
            ln[e] += ln[e - 1];
        function cn(e) {
            for (let t = 1; t < ln.length; t += 2)
                if (ln[t] > e)
                    return ln[t - 1] <= e;
            return !1
        }
        function un(e) {
            return e >= 127462 && e <= 127487
        }
        function hn(e, t, n=!0) {
            return (n ? pn : dn)(e, t)
        }
        function pn(e, t) {
            if (t == e.length)
                return t;
            t && fn(e.charCodeAt(t)) && gn(e.charCodeAt(t - 1)) && t--;
            let n = mn(e, t);
            for (t += yn(n); t < e.length; ) {
                let i = mn(e, t);
                if (8205 == n || 8205 == i || cn(i))
                    t += yn(i),
                    n = i;
                else {
                    if (!un(i))
                        break;
                    {
                        let n = 0
                          , i = t - 2;
                        for (; i >= 0 && un(mn(e, i)); )
                            n++,
                            i -= 2;
                        if (n % 2 == 0)
                            break;
                        t += 2
                    }
                }
            }
            return t
        }
        function dn(e, t) {
            for (; t > 0; ) {
                let n = pn(e, t - 2);
                if (n < t)
                    return n;
                t--
            }
            return 0
        }
        function fn(e) {
            return e >= 56320 && e < 57344
        }
        function gn(e) {
            return e >= 55296 && e < 56320
        }
        function mn(e, t) {
            let n = e.charCodeAt(t);
            if (!gn(n) || t + 1 == e.length)
                return n;
            let i = e.charCodeAt(t + 1);
            return fn(i) ? i - 56320 + (n - 55296 << 10) + 65536 : n
        }
        function vn(e) {
            return e <= 65535 ? String.fromCharCode(e) : (e -= 65536,
            String.fromCharCode(55296 + (e >> 10), 56320 + (1023 & e)))
        }
        function yn(e) {
            return e < 65536 ? 1 : 2
        }
        function bn(e, t, n) {
            for (let i = 0; i < e.length; )
                9 == e.charCodeAt(i) ? (t += n - t % n,
                i++) : (t++,
                i = hn(e, i));
            return t
        }
        function wn(e, t, n, i) {
            for (let r = 0; r < e.length; ) {
                if (t >= n)
                    return {
                        offset: r,
                        leftOver: 0
                    };
                t += 9 == e.charCodeAt(r) ? i - t % i : 1,
                r = hn(e, r)
            }
            return {
                offset: e.length,
                leftOver: n - t
            }
        }
        class kn {
            constructor() {}
            lineAt(e) {
                if (e < 0 || e > this.length)
                    throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);
                return this.lineInner(e, !1, 1, 0)
            }
            line(e) {
                if (e < 1 || e > this.lines)
                    throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);
                return this.lineInner(e, !0, 1, 0)
            }
            replace(e, t, n) {
                let i = [];
                return this.decompose(0, e, i, 2),
                n.length && n.decompose(0, n.length, i, 3),
                this.decompose(t, this.length, i, 1),
                xn.from(i, this.length - (t - e) + n.length)
            }
            append(e) {
                return this.replace(this.length, this.length, e)
            }
            slice(e, t=this.length) {
                let n = [];
                return this.decompose(e, t, n, 0),
                xn.from(n, t - e)
            }
            eq(e) {
                if (e == this)
                    return !0;
                if (e.length != this.length || e.lines != this.lines)
                    return !1;
                let t = new Ln(this)
                  , n = new Ln(e);
                for (; ; ) {
                    if (t.next(),
                    n.next(),
                    t.lineBreak != n.lineBreak || t.done != n.done || t.value != n.value)
                        return !1;
                    if (t.done)
                        return !0
                }
            }
            iter(e=1) {
                return new Ln(this,e)
            }
            iterRange(e, t=this.length) {
                return new Dn(this,e,t)
            }
            toString() {
                return this.sliceString(0)
            }
            toJSON() {
                let e = [];
                return this.flatten(e),
                e
            }
            static of(e) {
                if (0 == e.length)
                    throw new RangeError("A document must have at least one line");
                return 1 != e.length || e[0] ? e.length <= 32 ? new Cn(e) : xn.from(Cn.split(e, [])) : kn.empty
            }
        }
        "undefined" != typeof Symbol && (kn.prototype[Symbol.iterator] = function() {
            return this.iter()
        }
        );
        class Cn extends kn {
            constructor(e, t=function(e) {
                let t = -1;
                for (let n of e)
                    t += n.length + 1;
                return t
            }(e)) {
                super(),
                this.text = e,
                this.length = t
            }
            get lines() {
                return this.text.length
            }
            get children() {
                return null
            }
            lineInner(e, t, n, i) {
                for (let r = 0; ; r++) {
                    let o = this.text[r]
                      , s = i + o.length;
                    if ((t ? n : s) >= e)
                        return new Mn(i,s,n,o);
                    i = s + 1,
                    n++
                }
            }
            decompose(e, t, n, i) {
                let r = e <= 0 && t >= this.length ? this : new Cn(Sn(this.text, e, t),Math.min(t, this.length) - Math.max(0, e));
                if (1 & i) {
                    let e = n.pop()
                      , t = En(r.text, e.text.slice(), 0, r.length);
                    if (t.length <= 32)
                        n.push(new Cn(t,e.length + r.length));
                    else {
                        let e = t.length >> 1;
                        n.push(new Cn(t.slice(0, e)), new Cn(t.slice(e)))
                    }
                } else
                    n.push(r)
            }
            replace(e, t, n) {
                if (!(n instanceof Cn))
                    return super.replace(e, t, n);
                let i = En(this.text, En(n.text, Sn(this.text, 0, e)), t)
                  , r = this.length + n.length - (t - e);
                return i.length <= 32 ? new Cn(i,r) : xn.from(Cn.split(i, []), r)
            }
            sliceString(e, t=this.length, n="\n") {
                let i = "";
                for (let r = 0, o = 0; r <= t && o < this.text.length; o++) {
                    let s = this.text[o]
                      , a = r + s.length;
                    r > e && o && (i += n),
                    e < a && t > r && (i += s.slice(Math.max(0, e - r), t - r)),
                    r = a + 1
                }
                return i
            }
            flatten(e) {
                for (let t of this.text)
                    e.push(t)
            }
            static split(e, t) {
                let n = []
                  , i = -1;
                for (let r of e)
                    n.push(r),
                    i += r.length + 1,
                    32 == n.length && (t.push(new Cn(n,i)),
                    n = [],
                    i = -1);
                return i > -1 && t.push(new Cn(n,i)),
                t
            }
        }
        class xn extends kn {
            constructor(e, t) {
                super(),
                this.children = e,
                this.length = t,
                this.lines = 0;
                for (let t of e)
                    this.lines += t.lines
            }
            lineInner(e, t, n, i) {
                for (let r = 0; ; r++) {
                    let o = this.children[r]
                      , s = i + o.length
                      , a = n + o.lines - 1;
                    if ((t ? a : s) >= e)
                        return o.lineInner(e, t, n, i);
                    i = s + 1,
                    n = a + 1
                }
            }
            decompose(e, t, n, i) {
                for (let r = 0, o = 0; o <= t && r < this.children.length; r++) {
                    let s = this.children[r]
                      , a = o + s.length;
                    if (e <= a && t >= o) {
                        let r = i & ((o <= e ? 1 : 0) | (a >= t ? 2 : 0));
                        o >= e && a <= t && !r ? n.push(s) : s.decompose(e - o, t - o, n, r)
                    }
                    o = a + 1
                }
            }
            replace(e, t, n) {
                if (n.lines < this.lines)
                    for (let i = 0, r = 0; i < this.children.length; i++) {
                        let o = this.children[i]
                          , s = r + o.length;
                        if (e >= r && t <= s) {
                            let a = o.replace(e - r, t - r, n)
                              , l = this.lines - o.lines + a.lines;
                            if (a.lines < l >> 4 && a.lines > l >> 6) {
                                let r = this.children.slice();
                                return r[i] = a,
                                new xn(r,this.length - (t - e) + n.length)
                            }
                            return super.replace(r, s, a)
                        }
                        r = s + 1
                    }
                return super.replace(e, t, n)
            }
            sliceString(e, t=this.length, n="\n") {
                let i = "";
                for (let r = 0, o = 0; r < this.children.length && o <= t; r++) {
                    let s = this.children[r]
                      , a = o + s.length;
                    o > e && r && (i += n),
                    e < a && t > o && (i += s.sliceString(e - o, t - o, n)),
                    o = a + 1
                }
                return i
            }
            flatten(e) {
                for (let t of this.children)
                    t.flatten(e)
            }
            static from(e, t=e.reduce(((e,t)=>e + t.length + 1), -1)) {
                let n = 0;
                for (let t of e)
                    n += t.lines;
                if (n < 32) {
                    let n = [];
                    for (let t of e)
                        t.flatten(n);
                    return new Cn(n,t)
                }
                let i = Math.max(32, n >> 5)
                  , r = i << 1
                  , o = i >> 1
                  , s = []
                  , a = 0
                  , l = -1
                  , c = [];
                function u(e) {
                    let t;
                    if (e.lines > r && e instanceof xn)
                        for (let t of e.children)
                            u(t);
                    else
                        e.lines > o && (a > o || !a) ? (h(),
                        s.push(e)) : e instanceof Cn && a && (t = c[c.length - 1])instanceof Cn && e.lines + t.lines <= 32 ? (a += e.lines,
                        l += e.length + 1,
                        c[c.length - 1] = new Cn(t.text.concat(e.text),t.length + 1 + e.length)) : (a + e.lines > i && h(),
                        a += e.lines,
                        l += e.length + 1,
                        c.push(e))
                }
                function h() {
                    0 != a && (s.push(1 == c.length ? c[0] : xn.from(c, l)),
                    l = -1,
                    a = c.length = 0)
                }
                for (let t of e)
                    u(t);
                return h(),
                1 == s.length ? s[0] : new xn(s,t)
            }
        }
        function En(e, t, n=0, i=1e9) {
            for (let r = 0, o = 0, s = !0; o < e.length && r <= i; o++) {
                let a = e[o]
                  , l = r + a.length;
                l >= n && (l > i && (a = a.slice(0, i - r)),
                r < n && (a = a.slice(n - r)),
                s ? (t[t.length - 1] += a,
                s = !1) : t.push(a)),
                r = l + 1
            }
            return t
        }
        function Sn(e, t, n) {
            return En(e, [""], t, n)
        }
        kn.empty = new Cn([""],0);
        class Ln {
            constructor(e, t=1) {
                this.dir = t,
                this.done = !1,
                this.lineBreak = !1,
                this.value = "",
                this.nodes = [e],
                this.offsets = [t > 0 ? 0 : e instanceof Cn ? e.text.length : e.children.length]
            }
            next(e=0) {
                for (; ; ) {
                    let t = this.nodes.length - 1;
                    if (t < 0)
                        return this.done = !0,
                        this.value = "",
                        this.lineBreak = !1,
                        this;
                    let n = this.nodes[t]
                      , i = this.offsets[t]
                      , r = n instanceof Cn ? n.text.length : n.children.length;
                    if (i == (this.dir > 0 ? r : 0))
                        this.nodes.pop(),
                        this.offsets.pop();
                    else if (this.lineBreak || i == (this.dir > 0 ? 0 : r))
                        if (n instanceof Cn) {
                            let r = n.text[i - (this.dir < 0 ? 1 : 0)];
                            if (this.offsets[t] = i += this.dir,
                            this.lineBreak = !1,
                            r.length > Math.max(0, e))
                                return this.value = 0 == e ? r : this.dir > 0 ? r.slice(e) : r.slice(0, r.length - e),
                                this;
                            e -= r.length
                        } else {
                            let r = n.children[this.dir > 0 ? i : i - 1];
                            this.offsets[t] = i + this.dir,
                            this.lineBreak = !1,
                            e > r.length ? e -= r.length : (this.nodes.push(r),
                            this.offsets.push(this.dir > 0 ? 0 : r instanceof Cn ? r.text.length : r.children.length))
                        }
                    else {
                        if (this.lineBreak = !0,
                        0 == e)
                            return this.value = "\n",
                            this;
                        e--
                    }
                }
            }
        }
        class Dn {
            constructor(e, t, n) {
                this.value = "",
                this.cursor = new Ln(e,t > n ? -1 : 1),
                t > n ? (this.skip = e.length - t,
                this.limit = t - n) : (this.skip = t,
                this.limit = n - t)
            }
            next(e=0) {
                if (this.limit <= 0)
                    this.limit = -1;
                else {
                    let {value: t, lineBreak: n, done: i} = this.cursor.next(this.skip + e);
                    this.skip = 0,
                    this.value = t;
                    let r = n ? 1 : t.length;
                    r > this.limit && (this.value = this.cursor.dir > 0 ? t.slice(0, this.limit) : t.slice(r - this.limit)),
                    i || 0 == this.value.length ? this.limit = -1 : this.limit -= this.value.length
                }
                return this
            }
            get lineBreak() {
                return this.cursor.lineBreak
            }
            get done() {
                return this.limit < 0
            }
        }
        class Mn {
            constructor(e, t, n, i) {
                this.from = e,
                this.to = t,
                this.number = n,
                this.text = i
            }
            get length() {
                return this.to - this.from
            }
        }
        const An = /\r\n?|\n/;
        var Tn = function(e) {
            return e[e.Simple = 0] = "Simple",
            e[e.TrackDel = 1] = "TrackDel",
            e[e.TrackBefore = 2] = "TrackBefore",
            e[e.TrackAfter = 3] = "TrackAfter",
            e
        }(Tn || (Tn = {}));
        class Fn {
            constructor(e) {
                this.sections = e
            }
            get length() {
                let e = 0;
                for (let t = 0; t < this.sections.length; t += 2)
                    e += this.sections[t];
                return e
            }
            get newLength() {
                let e = 0;
                for (let t = 0; t < this.sections.length; t += 2) {
                    let n = this.sections[t + 1];
                    e += n < 0 ? this.sections[t] : n
                }
                return e
            }
            get empty() {
                return 0 == this.sections.length || 2 == this.sections.length && this.sections[1] < 0
            }
            iterGaps(e) {
                for (let t = 0, n = 0, i = 0; t < this.sections.length; ) {
                    let r = this.sections[t++]
                      , o = this.sections[t++];
                    o < 0 ? (e(n, i, r),
                    i += r) : i += o,
                    n += r
                }
            }
            iterChangedRanges(e, t=!1) {
                Nn(this, e, t)
            }
            get invertedDesc() {
                let e = [];
                for (let t = 0; t < this.sections.length; ) {
                    let n = this.sections[t++]
                      , i = this.sections[t++];
                    i < 0 ? e.push(n, i) : e.push(i, n)
                }
                return new Fn(e)
            }
            composeDesc(e) {
                return this.empty ? e : e.empty ? this : Bn(this, e)
            }
            mapDesc(e, t=!1) {
                return e.empty ? this : Rn(this, e, t)
            }
            mapPos(e, t=-1, n=Tn.Simple) {
                let i = 0
                  , r = 0;
                for (let o = 0; o < this.sections.length; ) {
                    let s = this.sections[o++]
                      , a = this.sections[o++]
                      , l = i + s;
                    if (a < 0) {
                        if (l > e)
                            return r + (e - i);
                        r += s
                    } else {
                        if (n != Tn.Simple && l >= e && (n == Tn.TrackDel && i < e && l > e || n == Tn.TrackBefore && i < e || n == Tn.TrackAfter && l > e))
                            return null;
                        if (l > e || l == e && t < 0 && !s)
                            return e == i || t < 0 ? r : r + a;
                        r += a
                    }
                    i = l
                }
                if (e > i)
                    throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);
                return r
            }
            touchesRange(e, t=e) {
                for (let n = 0, i = 0; n < this.sections.length && i <= t; ) {
                    let r = i + this.sections[n++];
                    if (this.sections[n++] >= 0 && i <= t && r >= e)
                        return !(i < e && r > t) || "cover";
                    i = r
                }
                return !1
            }
            toString() {
                let e = "";
                for (let t = 0; t < this.sections.length; ) {
                    let n = this.sections[t++]
                      , i = this.sections[t++];
                    e += (e ? " " : "") + n + (i >= 0 ? ":" + i : "")
                }
                return e
            }
            toJSON() {
                return this.sections
            }
            static fromJSON(e) {
                if (!Array.isArray(e) || e.length % 2 || e.some((e=>"number" != typeof e)))
                    throw new RangeError("Invalid JSON representation of ChangeDesc");
                return new Fn(e)
            }
        }
        class Pn extends Fn {
            constructor(e, t) {
                super(e),
                this.inserted = t
            }
            apply(e) {
                if (this.length != e.length)
                    throw new RangeError("Applying change set to a document with the wrong length");
                return Nn(this, ((t,n,i,r,o)=>e = e.replace(i, i + (n - t), o)), !1),
                e
            }
            mapDesc(e, t=!1) {
                return Rn(this, e, t, !0)
            }
            invert(e) {
                let t = this.sections.slice()
                  , n = [];
                for (let i = 0, r = 0; i < t.length; i += 2) {
                    let o = t[i]
                      , s = t[i + 1];
                    if (s >= 0) {
                        t[i] = s,
                        t[i + 1] = o;
                        let a = i >> 1;
                        for (; n.length < a; )
                            n.push(kn.empty);
                        n.push(o ? e.slice(r, r + o) : kn.empty)
                    }
                    r += o
                }
                return new Pn(t,n)
            }
            compose(e) {
                return this.empty ? e : e.empty ? this : Bn(this, e, !0)
            }
            map(e, t=!1) {
                return e.empty ? this : Rn(this, e, t, !0)
            }
            iterChanges(e, t=!1) {
                Nn(this, e, t)
            }
            get desc() {
                return new Fn(this.sections)
            }
            filter(e) {
                let t = []
                  , n = []
                  , i = []
                  , r = new zn(this);
                e: for (let o = 0, s = 0; ; ) {
                    let a = o == e.length ? 1e9 : e[o++];
                    for (; s < a || s == a && 0 == r.len; ) {
                        if (r.done)
                            break e;
                        let e = Math.min(r.len, a - s);
                        On(i, e, -1);
                        let o = -1 == r.ins ? -1 : 0 == r.off ? r.ins : 0;
                        On(t, e, o),
                        o > 0 && In(n, t, r.text),
                        r.forward(e),
                        s += e
                    }
                    let l = e[o++];
                    for (; s < l; ) {
                        if (r.done)
                            break e;
                        let e = Math.min(r.len, l - s);
                        On(t, e, -1),
                        On(i, e, -1 == r.ins ? -1 : 0 == r.off ? r.ins : 0),
                        r.forward(e),
                        s += e
                    }
                }
                return {
                    changes: new Pn(t,n),
                    filtered: new Fn(i)
                }
            }
            toJSON() {
                let e = [];
                for (let t = 0; t < this.sections.length; t += 2) {
                    let n = this.sections[t]
                      , i = this.sections[t + 1];
                    i < 0 ? e.push(n) : 0 == i ? e.push([n]) : e.push([n].concat(this.inserted[t >> 1].toJSON()))
                }
                return e
            }
            static of(e, t, n) {
                let i = []
                  , r = []
                  , o = 0
                  , s = null;
                function a(e=!1) {
                    if (!e && !i.length)
                        return;
                    o < t && On(i, t - o, -1);
                    let n = new Pn(i,r);
                    s = s ? s.compose(n.map(s)) : n,
                    i = [],
                    r = [],
                    o = 0
                }
                return function e(l) {
                    if (Array.isArray(l))
                        for (let t of l)
                            e(t);
                    else if (l instanceof Pn) {
                        if (l.length != t)
                            throw new RangeError(`Mismatched change set length (got ${l.length}, expected ${t})`);
                        a(),
                        s = s ? s.compose(l.map(s)) : l
                    } else {
                        let {from: e, to: s=e, insert: c} = l;
                        if (e > s || e < 0 || s > t)
                            throw new RangeError(`Invalid change range ${e} to ${s} (in doc of length ${t})`);
                        let u = c ? "string" == typeof c ? kn.of(c.split(n || An)) : c : kn.empty
                          , h = u.length;
                        if (e == s && 0 == h)
                            return;
                        e < o && a(),
                        e > o && On(i, e - o, -1),
                        On(i, s - e, h),
                        In(r, i, u),
                        o = s
                    }
                }(e),
                a(!s),
                s
            }
            static empty(e) {
                return new Pn(e ? [e, -1] : [],[])
            }
            static fromJSON(e) {
                if (!Array.isArray(e))
                    throw new RangeError("Invalid JSON representation of ChangeSet");
                let t = []
                  , n = [];
                for (let i = 0; i < e.length; i++) {
                    let r = e[i];
                    if ("number" == typeof r)
                        t.push(r, -1);
                    else {
                        if (!Array.isArray(r) || "number" != typeof r[0] || r.some(((e,t)=>t && "string" != typeof e)))
                            throw new RangeError("Invalid JSON representation of ChangeSet");
                        if (1 == r.length)
                            t.push(r[0], 0);
                        else {
                            for (; n.length < i; )
                                n.push(kn.empty);
                            n[i] = kn.of(r.slice(1)),
                            t.push(r[0], n[i].length)
                        }
                    }
                }
                return new Pn(t,n)
            }
        }
        function On(e, t, n, i=!1) {
            if (0 == t && n <= 0)
                return;
            let r = e.length - 2;
            r >= 0 && n <= 0 && n == e[r + 1] ? e[r] += t : 0 == t && 0 == e[r] ? e[r + 1] += n : i ? (e[r] += t,
            e[r + 1] += n) : e.push(t, n)
        }
        function In(e, t, n) {
            if (0 == n.length)
                return;
            let i = t.length - 2 >> 1;
            if (i < e.length)
                e[e.length - 1] = e[e.length - 1].append(n);
            else {
                for (; e.length < i; )
                    e.push(kn.empty);
                e.push(n)
            }
        }
        function Nn(e, t, n) {
            let i = e.inserted;
            for (let r = 0, o = 0, s = 0; s < e.sections.length; ) {
                let a = e.sections[s++]
                  , l = e.sections[s++];
                if (l < 0)
                    r += a,
                    o += a;
                else {
                    let c = r
                      , u = o
                      , h = kn.empty;
                    for (; c += a,
                    u += l,
                    l && i && (h = h.append(i[s - 2 >> 1])),
                    !(n || s == e.sections.length || e.sections[s + 1] < 0); )
                        a = e.sections[s++],
                        l = e.sections[s++];
                    t(r, c, o, u, h),
                    r = c,
                    o = u
                }
            }
        }
        function Rn(e, t, n, i=!1) {
            let r = []
              , o = i ? [] : null
              , s = new zn(e)
              , a = new zn(t);
            for (let e = 0, t = 0; ; )
                if (-1 == s.ins)
                    e += s.len,
                    s.next();
                else if (-1 == a.ins && t < e) {
                    let n = Math.min(a.len, e - t);
                    a.forward(n),
                    On(r, n, -1),
                    t += n
                } else if (a.ins >= 0 && (s.done || t < e || t == e && (a.len < s.len || a.len == s.len && !n))) {
                    for (On(r, a.ins, -1); e > t && !s.done && e + s.len < t + a.len; )
                        e += s.len,
                        s.next();
                    t += a.len,
                    a.next()
                } else {
                    if (!(s.ins >= 0)) {
                        if (s.done && a.done)
                            return o ? new Pn(r,o) : new Fn(r);
                        throw new Error("Mismatched change set lengths")
                    }
                    {
                        let n = 0
                          , i = e + s.len;
                        for (; ; )
                            if (a.ins >= 0 && t > e && t + a.len < i)
                                n += a.ins,
                                t += a.len,
                                a.next();
                            else {
                                if (!(-1 == a.ins && t < i))
                                    break;
                                {
                                    let e = Math.min(a.len, i - t);
                                    n += e,
                                    a.forward(e),
                                    t += e
                                }
                            }
                        On(r, n, s.ins),
                        o && In(o, r, s.text),
                        e = i,
                        s.next()
                    }
                }
        }
        function Bn(e, t, n=!1) {
            let i = []
              , r = n ? [] : null
              , o = new zn(e)
              , s = new zn(t);
            for (let e = !1; ; ) {
                if (o.done && s.done)
                    return r ? new Pn(i,r) : new Fn(i);
                if (0 == o.ins)
                    On(i, o.len, 0, e),
                    o.next();
                else if (0 != s.len || s.done) {
                    if (o.done || s.done)
                        throw new Error("Mismatched change set lengths");
                    {
                        let t = Math.min(o.len2, s.len)
                          , n = i.length;
                        if (-1 == o.ins) {
                            let n = -1 == s.ins ? -1 : s.off ? 0 : s.ins;
                            On(i, t, n, e),
                            r && n && In(r, i, s.text)
                        } else
                            -1 == s.ins ? (On(i, o.off ? 0 : o.len, t, e),
                            r && In(r, i, o.textBit(t))) : (On(i, o.off ? 0 : o.len, s.off ? 0 : s.ins, e),
                            r && !s.off && In(r, i, s.text));
                        e = (o.ins > t || s.ins >= 0 && s.len > t) && (e || i.length > n),
                        o.forward2(t),
                        s.forward(t)
                    }
                } else
                    On(i, 0, s.ins, e),
                    r && In(r, i, s.text),
                    s.next()
            }
        }
        class zn {
            constructor(e) {
                this.set = e,
                this.i = 0,
                this.next()
            }
            next() {
                let {sections: e} = this.set;
                this.i < e.length ? (this.len = e[this.i++],
                this.ins = e[this.i++]) : (this.len = 0,
                this.ins = -2),
                this.off = 0
            }
            get done() {
                return -2 == this.ins
            }
            get len2() {
                return this.ins < 0 ? this.len : this.ins
            }
            get text() {
                let {inserted: e} = this.set
                  , t = this.i - 2 >> 1;
                return t >= e.length ? kn.empty : e[t]
            }
            textBit(e) {
                let {inserted: t} = this.set
                  , n = this.i - 2 >> 1;
                return n >= t.length && !e ? kn.empty : t[n].slice(this.off, null == e ? void 0 : this.off + e)
            }
            forward(e) {
                e == this.len ? this.next() : (this.len -= e,
                this.off += e)
            }
            forward2(e) {
                -1 == this.ins ? this.forward(e) : e == this.ins ? this.next() : (this.ins -= e,
                this.off += e)
            }
        }
        class Hn {
            constructor(e, t, n) {
                this.from = e,
                this.to = t,
                this.flags = n
            }
            get anchor() {
                return 16 & this.flags ? this.to : this.from
            }
            get head() {
                return 16 & this.flags ? this.from : this.to
            }
            get empty() {
                return this.from == this.to
            }
            get assoc() {
                return 4 & this.flags ? -1 : 8 & this.flags ? 1 : 0
            }
            get bidiLevel() {
                let e = 3 & this.flags;
                return 3 == e ? null : e
            }
            get goalColumn() {
                let e = this.flags >> 5;
                return 33554431 == e ? void 0 : e
            }
            map(e, t=-1) {
                let n = e.mapPos(this.from, t)
                  , i = e.mapPos(this.to, t);
                return n == this.from && i == this.to ? this : new Hn(n,i,this.flags)
            }
            extend(e, t=e) {
                if (e <= this.anchor && t >= this.anchor)
                    return Vn.range(e, t);
                let n = Math.abs(e - this.anchor) > Math.abs(t - this.anchor) ? e : t;
                return Vn.range(this.anchor, n)
            }
            eq(e) {
                return this.anchor == e.anchor && this.head == e.head
            }
            toJSON() {
                return {
                    anchor: this.anchor,
                    head: this.head
                }
            }
            static fromJSON(e) {
                if (!e || "number" != typeof e.anchor || "number" != typeof e.head)
                    throw new RangeError("Invalid JSON representation for SelectionRange");
                return Vn.range(e.anchor, e.head)
            }
        }
        class Vn {
            constructor(e, t=0) {
                this.ranges = e,
                this.mainIndex = t
            }
            map(e, t=-1) {
                return e.empty ? this : Vn.create(this.ranges.map((n=>n.map(e, t))), this.mainIndex)
            }
            eq(e) {
                if (this.ranges.length != e.ranges.length || this.mainIndex != e.mainIndex)
                    return !1;
                for (let t = 0; t < this.ranges.length; t++)
                    if (!this.ranges[t].eq(e.ranges[t]))
                        return !1;
                return !0
            }
            get main() {
                return this.ranges[this.mainIndex]
            }
            asSingle() {
                return 1 == this.ranges.length ? this : new Vn([this.main])
            }
            addRange(e, t=!0) {
                return Vn.create([e].concat(this.ranges), t ? 0 : this.mainIndex + 1)
            }
            replaceRange(e, t=this.mainIndex) {
                let n = this.ranges.slice();
                return n[t] = e,
                Vn.create(n, this.mainIndex)
            }
            toJSON() {
                return {
                    ranges: this.ranges.map((e=>e.toJSON())),
                    main: this.mainIndex
                }
            }
            static fromJSON(e) {
                if (!e || !Array.isArray(e.ranges) || "number" != typeof e.main || e.main >= e.ranges.length)
                    throw new RangeError("Invalid JSON representation for EditorSelection");
                return new Vn(e.ranges.map((e=>Hn.fromJSON(e))),e.main)
            }
            static single(e, t=e) {
                return new Vn([Vn.range(e, t)],0)
            }
            static create(e, t=0) {
                if (0 == e.length)
                    throw new RangeError("A selection needs at least one range");
                for (let n = 0, i = 0; i < e.length; i++) {
                    let r = e[i];
                    if (r.empty ? r.from <= n : r.from < n)
                        return qn(e.slice(), t);
                    n = r.to
                }
                return new Vn(e,t)
            }
            static cursor(e, t=0, n, i) {
                return new Hn(e,e,(0 == t ? 0 : t < 0 ? 4 : 8) | (null == n ? 3 : Math.min(2, n)) | (null != i ? i : 33554431) << 5)
            }
            static range(e, t, n) {
                let i = (null != n ? n : 33554431) << 5;
                return t < e ? new Hn(t,e,16 | i) : new Hn(e,t,i)
            }
        }
        function qn(e, t=0) {
            let n = e[t];
            e.sort(((e,t)=>e.from - t.from)),
            t = e.indexOf(n);
            for (let n = 1; n < e.length; n++) {
                let i = e[n]
                  , r = e[n - 1];
                if (i.empty ? i.from <= r.to : i.from < r.to) {
                    let o = r.from
                      , s = Math.max(i.to, r.to);
                    n <= t && t--,
                    e.splice(--n, 2, i.anchor > i.head ? Vn.range(s, o) : Vn.range(o, s))
                }
            }
            return new Vn(e,t)
        }
        function Un(e, t) {
            for (let n of e.ranges)
                if (n.to > t)
                    throw new RangeError("Selection points outside of document")
        }
        let _n = 0;
        class jn {
            constructor(e, t, n, i, r) {
                this.combine = e,
                this.compareInput = t,
                this.compare = n,
                this.isStatic = i,
                this.extensions = r,
                this.id = _n++,
                this.default = e([])
            }
            static define(e={}) {
                return new jn(e.combine || (e=>e),e.compareInput || ((e,t)=>e === t),e.compare || (e.combine ? (e,t)=>e === t : Wn),!!e.static,e.enables)
            }
            of(e) {
                return new $n([],this,0,e)
            }
            compute(e, t) {
                if (this.isStatic)
                    throw new Error("Can't compute a static facet");
                return new $n(e,this,1,t)
            }
            computeN(e, t) {
                if (this.isStatic)
                    throw new Error("Can't compute a static facet");
                return new $n(e,this,2,t)
            }
            from(e, t) {
                return t || (t = e=>e),
                this.compute([e], (n=>t(n.field(e))))
            }
        }
        function Wn(e, t) {
            return e == t || e.length == t.length && e.every(((e,n)=>e === t[n]))
        }
        class $n {
            constructor(e, t, n, i) {
                this.dependencies = e,
                this.facet = t,
                this.type = n,
                this.value = i,
                this.id = _n++
            }
            dynamicSlot(e) {
                var t;
                let n = this.value
                  , i = this.facet.compareInput
                  , r = e[this.id] >> 1
                  , o = 2 == this.type
                  , s = !1
                  , a = !1
                  , l = [];
                for (let n of this.dependencies)
                    "doc" == n ? s = !0 : "selection" == n ? a = !0 : 0 == (1 & (null !== (t = e[n.id]) && void 0 !== t ? t : 1)) && l.push(e[n.id]);
                return (e,t)=>{
                    if (!t || t.reconfigured)
                        return e.values[r] = n(e),
                        1;
                    {
                        if (!(s && t.docChanged || a && (t.docChanged || t.selection) || l.some((t=>(1 & si(e, t)) > 0))))
                            return 0;
                        let c = n(e)
                          , u = t.startState.values[r];
                        return (o ? function(e, t, n) {
                            if (e.length != t.length)
                                return !1;
                            for (let i = 0; i < e.length; i++)
                                if (!n(e[i], t[i]))
                                    return !1;
                            return !0
                        }(c, u, i) : i(c, u)) ? 0 : (e.values[r] = c,
                        1)
                    }
                }
            }
        }
        function Gn(e, t, n) {
            let i = n.map((t=>e[t.id]))
              , r = n.map((e=>e.type))
              , o = i.filter((e=>!(1 & e)))
              , s = e[t.id] >> 1;
            return (e,n)=>{
                let a = n ? n.reconfigured ? n.startState.config.address[t.id] : s << 1 : null
                  , l = null == a;
                for (let t of o)
                    1 & si(e, t) && (l = !0);
                if (!l)
                    return 0;
                let c = [];
                for (let t = 0; t < i.length; t++) {
                    let n = ai(e, i[t]);
                    if (2 == r[t])
                        for (let e of n)
                            c.push(e);
                    else
                        c.push(n)
                }
                let u = t.combine(c);
                return null != a && t.compare(u, ai(n.startState, a)) ? 0 : (e.values[s] = u,
                1)
            }
        }
        function Yn(e, t) {
            let n = e.config.address[t];
            return null == n ? null : n >> 1
        }
        const Kn = jn.define({
            static: !0
        });
        class Qn {
            constructor(e, t, n, i, r) {
                this.id = e,
                this.createF = t,
                this.updateF = n,
                this.compareF = i,
                this.spec = r,
                this.provides = void 0
            }
            static define(e) {
                let t = new Qn(_n++,e.create,e.update,e.compare || ((e,t)=>e === t),e);
                return e.provide && (t.provides = e.provide(t)),
                t
            }
            create(e) {
                let t = e.facet(Kn).find((e=>e.field == this));
                return ((null == t ? void 0 : t.create) || this.createF)(e)
            }
            slot(e) {
                let t = e[this.id] >> 1;
                return (e,n)=>{
                    if (!n || n.reconfigured && null == Yn(n.startState, this.id))
                        return e.values[t] = this.create(e),
                        1;
                    let i, r = 0;
                    n.reconfigured ? (i = n.startState.values[Yn(n.startState, this.id)],
                    r = 1) : i = n.startState.values[t];
                    let o = this.updateF(i, n);
                    return r || this.compareF(i, o) || (r = 1),
                    r && (e.values[t] = o),
                    r
                }
            }
            init(e) {
                return [this, Kn.of({
                    field: this,
                    create: e
                })]
            }
            get extension() {
                return this
            }
        }
        const Jn = 2
          , Xn = 1
          , Zn = 0;
        function ei(e) {
            return t=>new ni(t,e)
        }
        const ti = {
            fallback: ei(3),
            default: ei(Jn),
            extend: ei(Xn),
            override: ei(Zn)
        };
        class ni {
            constructor(e, t) {
                this.inner = e,
                this.prec = t
            }
        }
        class ii {
            of(e) {
                return new ri(this,e)
            }
            reconfigure(e) {
                return ii.reconfigure.of({
                    compartment: this,
                    extension: e
                })
            }
            get(e) {
                return e.config.compartments.get(this)
            }
        }
        class ri {
            constructor(e, t) {
                this.compartment = e,
                this.inner = t
            }
        }
        class oi {
            constructor(e, t, n, i, r) {
                for (this.base = e,
                this.compartments = t,
                this.dynamicSlots = n,
                this.address = i,
                this.staticValues = r,
                this.statusTemplate = []; this.statusTemplate.length < n.length; )
                    this.statusTemplate.push(0)
            }
            staticFacet(e) {
                let t = this.address[e.id];
                return null == t ? e.default : this.staticValues[t >> 1]
            }
            static resolve(e, t, n) {
                let i = []
                  , r = Object.create(null)
                  , o = new Map;
                for (let n of function(e, t, n) {
                    let i = [[], [], [], []]
                      , r = new Map;
                    function o(e, s) {
                        let a = r.get(e);
                        if (null != a) {
                            if (a >= s)
                                return;
                            let t = i[a].indexOf(e);
                            t > -1 && i[a].splice(t, 1),
                            e instanceof ri && n.delete(e.compartment)
                        }
                        if (r.set(e, s),
                        Array.isArray(e))
                            for (let t of e)
                                o(t, s);
                        else if (e instanceof ri) {
                            if (n.has(e.compartment))
                                throw new RangeError("Duplicate use of compartment in extensions");
                            let i = t.get(e.compartment) || e.inner;
                            n.set(e.compartment, i),
                            o(i, s)
                        } else if (e instanceof ni)
                            o(e.inner, e.prec);
                        else if (e instanceof Qn)
                            i[s].push(e),
                            e.provides && o(e.provides, s);
                        else if (e instanceof $n)
                            i[s].push(e),
                            e.facet.extensions && o(e.facet.extensions, s);
                        else {
                            let t = e.extension;
                            if (!t)
                                throw new Error(`Unrecognized extension value in extension set (${e}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);
                            o(t, s)
                        }
                    }
                    return o(e, Jn),
                    i.reduce(((e,t)=>e.concat(t)))
                }(e, t, o))
                    n instanceof Qn ? i.push(n) : (r[n.facet.id] || (r[n.facet.id] = [])).push(n);
                let s = Object.create(null)
                  , a = []
                  , l = [];
                for (let e of i)
                    s[e.id] = l.length << 1,
                    l.push((t=>e.slot(t)));
                for (let e in r) {
                    let t = r[e]
                      , i = t[0].facet;
                    if (t.every((e=>0 == e.type))) {
                        s[i.id] = a.length << 1 | 1;
                        let e = i.combine(t.map((e=>e.value)))
                          , r = n ? n.config.address[i.id] : null;
                        if (null != r) {
                            let t = ai(n, r);
                            i.compare(e, t) && (e = t)
                        }
                        a.push(e)
                    } else {
                        for (let e of t)
                            0 == e.type ? (s[e.id] = a.length << 1 | 1,
                            a.push(e.value)) : (s[e.id] = l.length << 1,
                            l.push((t=>e.dynamicSlot(t))));
                        s[i.id] = l.length << 1,
                        l.push((e=>Gn(e, i, t)))
                    }
                }
                return new oi(e,o,l.map((e=>e(s))),s,a)
            }
        }
        function si(e, t) {
            if (1 & t)
                return 2;
            let n = t >> 1
              , i = e.status[n];
            if (4 == i)
                throw new Error("Cyclic dependency between fields and/or facets");
            if (2 & i)
                return i;
            e.status[n] = 4;
            let r = e.config.dynamicSlots[n](e, e.applying);
            return e.status[n] = 2 | r
        }
        function ai(e, t) {
            return 1 & t ? e.config.staticValues[t >> 1] : e.values[t >> 1]
        }
        const li = jn.define()
          , ci = jn.define({
            combine: e=>e.some((e=>e)),
            static: !0
        })
          , ui = jn.define({
            combine: e=>e.length ? e[0] : void 0,
            static: !0
        })
          , hi = jn.define()
          , pi = jn.define()
          , di = jn.define();
        class fi {
            constructor(e, t) {
                this.type = e,
                this.value = t
            }
            static define() {
                return new gi
            }
        }
        class gi {
            of(e) {
                return new fi(this,e)
            }
        }
        class mi {
            constructor(e) {
                this.map = e
            }
            of(e) {
                return new vi(this,e)
            }
        }
        class vi {
            constructor(e, t) {
                this.type = e,
                this.value = t
            }
            map(e) {
                let t = this.type.map(this.value, e);
                return void 0 === t ? void 0 : t == this.value ? this : new vi(this.type,t)
            }
            is(e) {
                return this.type == e
            }
            static define(e={}) {
                return new mi(e.map || (e=>e))
            }
            static mapEffects(e, t) {
                if (!e.length)
                    return e;
                let n = [];
                for (let i of e) {
                    let e = i.map(t);
                    e && n.push(e)
                }
                return n
            }
        }
        vi.reconfigure = vi.define(),
        vi.appendConfig = vi.define();
        class yi {
            constructor(e, t, n, i, r, o) {
                this.startState = e,
                this.changes = t,
                this.selection = n,
                this.effects = i,
                this.annotations = r,
                this.scrollIntoView = o,
                this._doc = null,
                this._state = null,
                n && Un(n, t.newLength),
                r.some((e=>e.type == yi.time)) || (this.annotations = r.concat(yi.time.of(Date.now())))
            }
            get newDoc() {
                return this._doc || (this._doc = this.changes.apply(this.startState.doc))
            }
            get newSelection() {
                return this.selection || this.startState.selection.map(this.changes)
            }
            get state() {
                return this._state || this.startState.applyTransaction(this),
                this._state
            }
            annotation(e) {
                for (let t of this.annotations)
                    if (t.type == e)
                        return t.value
            }
            get docChanged() {
                return !this.changes.empty
            }
            get reconfigured() {
                return this.startState.config != this.state.config
            }
        }
        function bi(e, t) {
            let n = [];
            for (let i = 0, r = 0; ; ) {
                let o, s;
                if (i < e.length && (r == t.length || t[r] >= e[i]))
                    o = e[i++],
                    s = e[i++];
                else {
                    if (!(r < t.length))
                        return n;
                    o = t[r++],
                    s = t[r++]
                }
                !n.length || n[n.length - 1] < o ? n.push(o, s) : n[n.length - 1] < s && (n[n.length - 1] = s)
            }
        }
        function wi(e, t, n) {
            var i;
            let r, o, s;
            return n ? (r = t.changes,
            o = Pn.empty(t.changes.length),
            s = e.changes.compose(t.changes)) : (r = t.changes.map(e.changes),
            o = e.changes.mapDesc(t.changes, !0),
            s = e.changes.compose(r)),
            {
                changes: s,
                selection: t.selection ? t.selection.map(o) : null === (i = e.selection) || void 0 === i ? void 0 : i.map(r),
                effects: vi.mapEffects(e.effects, r).concat(vi.mapEffects(t.effects, o)),
                annotations: e.annotations.length ? e.annotations.concat(t.annotations) : t.annotations,
                scrollIntoView: e.scrollIntoView || t.scrollIntoView
            }
        }
        function ki(e, t, n) {
            let i = t.selection;
            return {
                changes: t.changes instanceof Pn ? t.changes : Pn.of(t.changes || [], n, e.facet(ui)),
                selection: i && (i instanceof Vn ? i : Vn.single(i.anchor, i.head)),
                effects: Ei(t.effects),
                annotations: Ei(t.annotations),
                scrollIntoView: !!t.scrollIntoView
            }
        }
        function Ci(e, t, n) {
            let i = ki(e, t.length ? t[0] : {}, e.doc.length);
            t.length && !1 === t[0].filter && (n = !1);
            for (let r = 1; r < t.length; r++) {
                !1 === t[r].filter && (n = !1);
                let o = !!t[r].sequential;
                i = wi(i, ki(e, t[r], o ? i.changes.newLength : e.doc.length), o)
            }
            let r = new yi(e,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);
            return function(e) {
                let t = e.startState
                  , n = t.facet(di)
                  , i = e;
                for (let r = n.length - 1; r >= 0; r--) {
                    let o = n[r](e);
                    o && Object.keys(o).length && (i = wi(e, ki(t, o, e.changes.newLength), !0))
                }
                return i == e ? e : new yi(t,e.changes,e.selection,i.effects,i.annotations,i.scrollIntoView)
            }(n ? function(e) {
                let t = e.startState
                  , n = !0;
                for (let i of t.facet(hi)) {
                    let t = i(e);
                    if (!1 === t) {
                        n = !1;
                        break
                    }
                    Array.isArray(t) && (n = !0 === n ? t : bi(n, t))
                }
                if (!0 !== n) {
                    let i, r;
                    if (!1 === n)
                        r = e.changes.invertedDesc,
                        i = Pn.empty(t.doc.length);
                    else {
                        let t = e.changes.filter(n);
                        i = t.changes,
                        r = t.filtered.invertedDesc
                    }
                    e = new yi(t,i,e.selection && e.selection.map(r),vi.mapEffects(e.effects, r),e.annotations,e.scrollIntoView)
                }
                let i = t.facet(pi);
                for (let n = i.length - 1; n >= 0; n--) {
                    let r = i[n](e);
                    e = r instanceof yi ? r : Array.isArray(r) && 1 == r.length && r[0]instanceof yi ? r[0] : Ci(t, Ei(r), !1)
                }
                return e
            }(r) : r)
        }
        yi.time = fi.define(),
        yi.userEvent = fi.define(),
        yi.addToHistory = fi.define(),
        yi.remote = fi.define();
        const xi = [];
        function Ei(e) {
            return null == e ? xi : Array.isArray(e) ? e : [e]
        }
        var Si = function(e) {
            return e[e.Word = 0] = "Word",
            e[e.Space = 1] = "Space",
            e[e.Other = 2] = "Other",
            e
        }(Si || (Si = {}));
        const Li = /[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;
        let Di;
        try {
            Di = new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")
        } catch (e) {}
        function Mi(e) {
            return t=>{
                if (!/\S/.test(t))
                    return Si.Space;
                if (function(e) {
                    if (Di)
                        return Di.test(e);
                    for (let t = 0; t < e.length; t++) {
                        let n = e[t];
                        if (/\w/.test(n) || n > "" && (n.toUpperCase() != n.toLowerCase() || Li.test(n)))
                            return !0
                    }
                    return !1
                }(t))
                    return Si.Word;
                for (let n = 0; n < e.length; n++)
                    if (t.indexOf(e[n]) > -1)
                        return Si.Word;
                return Si.Other
            }
        }
        class Ai {
            constructor(e, t, n, i=null) {
                if (this.config = e,
                this.doc = t,
                this.selection = n,
                this.applying = null,
                this.status = e.statusTemplate.slice(),
                i && i.startState.config == e)
                    this.values = i.startState.values.slice();
                else if (this.values = e.dynamicSlots.map((e=>null)),
                i)
                    for (let t in e.address) {
                        let n = e.address[t]
                          , r = i.startState.config.address[t];
                        null != r && 0 == (1 & n) && (this.values[n >> 1] = ai(i.startState, r))
                    }
                this.applying = i,
                i && (i._state = this);
                for (let e = 0; e < this.config.dynamicSlots.length; e++)
                    si(this, e << 1);
                this.applying = null
            }
            field(e, t=!0) {
                let n = this.config.address[e.id];
                if (null != n)
                    return si(this, n),
                    ai(this, n);
                if (t)
                    throw new RangeError("Field is not present in this state")
            }
            update(...e) {
                return Ci(this, e, !0)
            }
            applyTransaction(e) {
                let t = this.config
                  , {base: n, compartments: i} = t;
                for (let r of e.effects)
                    r.is(ii.reconfigure) ? (t && (i = new Map,
                    t.compartments.forEach(((e,t)=>i.set(t, e))),
                    t = null),
                    i.set(r.value.compartment, r.value.extension)) : r.is(vi.reconfigure) ? (t = null,
                    n = r.value) : r.is(vi.appendConfig) && (t = null,
                    n = Ei(n).concat(r.value));
                new Ai(t || oi.resolve(n, i, this),e.newDoc,e.newSelection,e)
            }
            replaceSelection(e) {
                return "string" == typeof e && (e = this.toText(e)),
                this.changeByRange((t=>({
                    changes: {
                        from: t.from,
                        to: t.to,
                        insert: e
                    },
                    range: Vn.cursor(t.from + e.length)
                })))
            }
            changeByRange(e) {
                let t = this.selection
                  , n = e(t.ranges[0])
                  , i = this.changes(n.changes)
                  , r = [n.range]
                  , o = Ei(n.effects);
                for (let n = 1; n < t.ranges.length; n++) {
                    let s = e(t.ranges[n])
                      , a = this.changes(s.changes)
                      , l = a.map(i);
                    for (let e = 0; e < n; e++)
                        r[e] = r[e].map(l);
                    let c = i.mapDesc(a, !0);
                    r.push(s.range.map(c)),
                    i = i.compose(l),
                    o = vi.mapEffects(o, l).concat(vi.mapEffects(Ei(s.effects), c))
                }
                return {
                    changes: i,
                    selection: Vn.create(r, t.mainIndex),
                    effects: o
                }
            }
            changes(e=[]) {
                return e instanceof Pn ? e : Pn.of(e, this.doc.length, this.facet(Ai.lineSeparator))
            }
            toText(e) {
                return kn.of(e.split(this.facet(Ai.lineSeparator) || An))
            }
            sliceDoc(e=0, t=this.doc.length) {
                return this.doc.sliceString(e, t, this.lineBreak)
            }
            facet(e) {
                let t = this.config.address[e.id];
                return null == t ? e.default : (si(this, t),
                ai(this, t))
            }
            toJSON(e) {
                let t = {
                    doc: this.sliceDoc(),
                    selection: this.selection.toJSON()
                };
                if (e)
                    for (let n in e) {
                        let i = e[n];
                        i instanceof Qn && (t[n] = i.spec.toJSON(this.field(e[n]), this))
                    }
                return t
            }
            static fromJSON(e, t={}, n) {
                if (!e || "string" != typeof e.doc)
                    throw new RangeError("Invalid JSON representation for EditorState");
                let i = [];
                if (n)
                    for (let t in n) {
                        let r = n[t]
                          , o = e[t];
                        i.push(r.init((e=>r.spec.fromJSON(o, e))))
                    }
                return Ai.create({
                    doc: e.doc,
                    selection: Vn.fromJSON(e.selection),
                    extensions: t.extensions ? i.concat([t.extensions]) : i
                })
            }
            static create(e={}) {
                let t = oi.resolve(e.extensions || [], new Map)
                  , n = e.doc instanceof kn ? e.doc : kn.of((e.doc || "").split(t.staticFacet(Ai.lineSeparator) || An))
                  , i = e.selection ? e.selection instanceof Vn ? e.selection : Vn.single(e.selection.anchor, e.selection.head) : Vn.single(0);
                return Un(i, n.length),
                t.staticFacet(ci) || (i = i.asSingle()),
                new Ai(t,n,i)
            }
            get tabSize() {
                return this.facet(Ai.tabSize)
            }
            get lineBreak() {
                return this.facet(Ai.lineSeparator) || "\n"
            }
            phrase(e) {
                for (let t of this.facet(Ai.phrases))
                    if (Object.prototype.hasOwnProperty.call(t, e))
                        return t[e];
                return e
            }
            languageDataAt(e, t) {
                let n = [];
                for (let i of this.facet(li))
                    for (let r of i(this, t))
                        Object.prototype.hasOwnProperty.call(r, e) && n.push(r[e]);
                return n
            }
            charCategorizer(e) {
                return Mi(this.languageDataAt("wordChars", e).join(""))
            }
            wordAt(e) {
                let {text: t, from: n, length: i} = this.doc.lineAt(e)
                  , r = this.charCategorizer(e)
                  , o = e - n
                  , s = e - n;
                for (; o > 0; ) {
                    let e = hn(t, o, !1);
                    if (r(t.slice(e, o)) != Si.Word)
                        break;
                    o = e
                }
                for (; s < i; ) {
                    let e = hn(t, s);
                    if (r(t.slice(s, e)) != Si.Word)
                        break;
                    s = e
                }
                return o == s ? Vn.range(o + n, s + n) : null
            }
        }
        function Ti(e, t, n={}) {
            let i = {};
            for (let t of e)
                for (let e of Object.keys(t)) {
                    let r = t[e]
                      , o = i[e];
                    if (void 0 === o)
                        i[e] = r;
                    else if (o === r || void 0 === r)
                        ;
                    else {
                        if (!Object.hasOwnProperty.call(n, e))
                            throw new Error("Config merge conflict for field " + e);
                        i[e] = n[e](o, r)
                    }
                }
            for (let e in t)
                void 0 === i[e] && (i[e] = t[e]);
            return i
        }
        Ai.allowMultipleSelections = ci,
        Ai.tabSize = jn.define({
            combine: e=>e.length ? e[0] : 4
        }),
        Ai.lineSeparator = ui,
        Ai.phrases = jn.define(),
        Ai.languageData = li,
        Ai.changeFilter = hi,
        Ai.transactionFilter = pi,
        Ai.transactionExtender = di,
        ii.reconfigure = vi.define();
        const Fi = "undefined" == typeof Symbol ? "__ͼ" : Symbol.for("ͼ")
          , Pi = "undefined" == typeof Symbol ? "__styleSet" + Math.floor(1e8 * Math.random()) : Symbol("styleSet")
          , Oi = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : {};
        class Ii {
            constructor(e, t) {
                this.rules = [];
                let {finish: n} = t || {};
                function i(e) {
                    return /^@/.test(e) ? [e] : e.split(/,\s*/)
                }
                function r(e, t, o, s) {
                    let a = []
                      , l = /^@(\w+)\b/.exec(e[0])
                      , c = l && "keyframes" == l[1];
                    if (l && null == t)
                        return o.push(e[0] + ";");
                    for (let n in t) {
                        let s = t[n];
                        if (/&/.test(n))
                            r(n.split(/,\s*/).map((t=>e.map((e=>t.replace(/&/, e))))).reduce(((e,t)=>e.concat(t))), s, o);
                        else if (s && "object" == typeof s) {
                            if (!l)
                                throw new RangeError("The value of a property (" + n + ") should be a primitive value.");
                            r(i(n), s, a, c)
                        } else
                            null != s && a.push(n.replace(/_.*/, "").replace(/[A-Z]/g, (e=>"-" + e.toLowerCase())) + ": " + s + ";")
                    }
                    (a.length || c) && o.push((!n || l || s ? e : e.map(n)).join(", ") + " {" + a.join(" ") + "}")
                }
                for (let t in e)
                    r(i(t), e[t], this.rules)
            }
            getRules() {
                return this.rules.join("\n")
            }
            static newName() {
                let e = Oi[Fi] || 1;
                return Oi[Fi] = e + 1,
                "ͼ" + e.toString(36)
            }
            static mount(e, t) {
                (e[Pi] || new Ri(e)).mount(Array.isArray(t) ? t : [t])
            }
        }
        let Ni = null;
        class Ri {
            constructor(e) {
                if (!e.head && e.adoptedStyleSheets && "undefined" != typeof CSSStyleSheet) {
                    if (Ni)
                        return e.adoptedStyleSheets = [Ni.sheet].concat(e.adoptedStyleSheets),
                        e[Pi] = Ni;
                    this.sheet = new CSSStyleSheet,
                    e.adoptedStyleSheets = [this.sheet].concat(e.adoptedStyleSheets),
                    Ni = this
                } else {
                    this.styleTag = (e.ownerDocument || e).createElement("style");
                    let t = e.head || e;
                    t.insertBefore(this.styleTag, t.firstChild)
                }
                this.modules = [],
                e[Pi] = this
            }
            mount(e) {
                let t = this.sheet
                  , n = 0
                  , i = 0;
                for (let r = 0; r < e.length; r++) {
                    let o = e[r]
                      , s = this.modules.indexOf(o);
                    if (s < i && s > -1 && (this.modules.splice(s, 1),
                    i--,
                    s = -1),
                    -1 == s) {
                        if (this.modules.splice(i++, 0, o),
                        t)
                            for (let e = 0; e < o.rules.length; e++)
                                t.insertRule(o.rules[e], n++)
                    } else {
                        for (; i < s; )
                            n += this.modules[i++].rules.length;
                        n += o.rules.length,
                        i++
                    }
                }
                if (!t) {
                    let e = "";
                    for (let t = 0; t < this.modules.length; t++)
                        e += this.modules[t].getRules() + "\n";
                    this.styleTag.textContent = e
                }
            }
        }
        class Bi {
            eq(e) {
                return this == e
            }
            range(e, t=e) {
                return new zi(e,t,this)
            }
        }
        Bi.prototype.startSide = Bi.prototype.endSide = 0,
        Bi.prototype.point = !1,
        Bi.prototype.mapMode = Tn.TrackDel;
        class zi {
            constructor(e, t, n) {
                this.from = e,
                this.to = t,
                this.value = n
            }
        }
        function Hi(e, t) {
            return e.from - t.from || e.value.startSide - t.value.startSide
        }
        class Vi {
            constructor(e, t, n, i) {
                this.from = e,
                this.to = t,
                this.value = n,
                this.maxPoint = i
            }
            get length() {
                return this.to[this.to.length - 1]
            }
            findIndex(e, t, n, i=0) {
                let r = n ? this.to : this.from;
                for (let o = i, s = r.length; ; ) {
                    if (o == s)
                        return o;
                    let i = o + s >> 1
                      , a = r[i] - e || (n ? this.value[i].endSide : this.value[i].startSide) - t;
                    if (i == o)
                        return a >= 0 ? o : s;
                    a >= 0 ? s = i : o = i + 1
                }
            }
            between(e, t, n, i) {
                for (let r = this.findIndex(t, -1e9, !0), o = this.findIndex(n, 1e9, !1, r); r < o; r++)
                    if (!1 === i(this.from[r] + e, this.to[r] + e, this.value[r]))
                        return !1
            }
            map(e, t) {
                let n = []
                  , i = []
                  , r = []
                  , o = -1
                  , s = -1;
                for (let a = 0; a < this.value.length; a++) {
                    let l, c, u = this.value[a], h = this.from[a] + e, p = this.to[a] + e;
                    if (h == p) {
                        let e = t.mapPos(h, u.startSide, u.mapMode);
                        if (null == e)
                            continue;
                        l = c = e
                    } else if (l = t.mapPos(h, u.startSide),
                    c = t.mapPos(p, u.endSide),
                    l > c || l == c && u.startSide > 0 && u.endSide <= 0)
                        continue;
                    (c - l || u.endSide - u.startSide) < 0 || (o < 0 && (o = l),
                    u.point && (s = Math.max(s, c - l)),
                    n.push(u),
                    i.push(l - o),
                    r.push(c - o))
                }
                return {
                    mapped: n.length ? new Vi(i,r,n,s) : null,
                    pos: o
                }
            }
        }
        class qi {
            constructor(e, t, n=qi.empty, i) {
                this.chunkPos = e,
                this.chunk = t,
                this.nextLayer = n,
                this.maxPoint = i
            }
            get length() {
                let e = this.chunk.length - 1;
                return e < 0 ? 0 : Math.max(this.chunkEnd(e), this.nextLayer.length)
            }
            get size() {
                if (this.isEmpty)
                    return 0;
                let e = this.nextLayer.size;
                for (let t of this.chunk)
                    e += t.value.length;
                return e
            }
            chunkEnd(e) {
                return this.chunkPos[e] + this.chunk[e].length
            }
            update(e) {
                let {add: t=[], sort: n=!1, filterFrom: i=0, filterTo: r=this.length} = e
                  , o = e.filter;
                if (0 == t.length && !o)
                    return this;
                if (n && t.slice().sort(Hi),
                this.isEmpty)
                    return t.length ? qi.of(t) : this;
                let s = new ji(this,null,-1).goto(0)
                  , a = 0
                  , l = []
                  , c = new Ui;
                for (; s.value || a < t.length; )
                    if (a < t.length && (s.from - t[a].from || s.startSide - t[a].value.startSide) >= 0) {
                        let e = t[a++];
                        c.addInner(e.from, e.to, e.value) || l.push(e)
                    } else
                        1 == s.rangeIndex && s.chunkIndex < this.chunk.length && (a == t.length || this.chunkEnd(s.chunkIndex) < t[a].from) && (!o || i > this.chunkEnd(s.chunkIndex) || r < this.chunkPos[s.chunkIndex]) && c.addChunk(this.chunkPos[s.chunkIndex], this.chunk[s.chunkIndex]) ? s.nextChunk() : ((!o || i > s.to || r < s.from || o(s.from, s.to, s.value)) && (c.addInner(s.from, s.to, s.value) || l.push(new zi(s.from,s.to,s.value))),
                        s.next());
                return c.finishInner(this.nextLayer.isEmpty && !l.length ? qi.empty : this.nextLayer.update({
                    add: l,
                    filter: o,
                    filterFrom: i,
                    filterTo: r
                }))
            }
            map(e) {
                if (0 == e.length || this.isEmpty)
                    return this;
                let t = []
                  , n = []
                  , i = -1;
                for (let r = 0; r < this.chunk.length; r++) {
                    let o = this.chunkPos[r]
                      , s = this.chunk[r]
                      , a = e.touchesRange(o, o + s.length);
                    if (!1 === a)
                        i = Math.max(i, s.maxPoint),
                        t.push(s),
                        n.push(e.mapPos(o));
                    else if (!0 === a) {
                        let {mapped: r, pos: a} = s.map(o, e);
                        r && (i = Math.max(i, r.maxPoint),
                        t.push(r),
                        n.push(a))
                    }
                }
                let r = this.nextLayer.map(e);
                return 0 == t.length ? r : new qi(n,t,r,i)
            }
            between(e, t, n) {
                if (!this.isEmpty) {
                    for (let i = 0; i < this.chunk.length; i++) {
                        let r = this.chunkPos[i]
                          , o = this.chunk[i];
                        if (t >= r && e <= r + o.length && !1 === o.between(r, e - r, t - r, n))
                            return
                    }
                    this.nextLayer.between(e, t, n)
                }
            }
            iter(e=0) {
                return Wi.from([this]).goto(e)
            }
            get isEmpty() {
                return this.nextLayer == this
            }
            static iter(e, t=0) {
                return Wi.from(e).goto(t)
            }
            static compare(e, t, n, i, r=-1) {
                let o = e.filter((e=>e.maxPoint >= 500 || !e.isEmpty && t.indexOf(e) < 0 && e.maxPoint >= r))
                  , s = t.filter((t=>t.maxPoint >= 500 || !t.isEmpty && e.indexOf(t) < 0 && t.maxPoint >= r))
                  , a = _i(o, s)
                  , l = new Gi(o,a,r)
                  , c = new Gi(s,a,r);
                n.iterGaps(((e,t,n)=>Yi(l, e, c, t, n, i))),
                n.empty && 0 == n.length && Yi(l, 0, c, 0, 0, i)
            }
            static eq(e, t, n=0, i) {
                null == i && (i = 1e9);
                let r = e.filter((e=>!e.isEmpty && t.indexOf(e) < 0))
                  , o = t.filter((t=>!t.isEmpty && e.indexOf(t) < 0));
                if (r.length != o.length)
                    return !1;
                if (!r.length)
                    return !0;
                let s = _i(r, o)
                  , a = new Gi(r,s,0).goto(n)
                  , l = new Gi(o,s,0).goto(n);
                for (; ; ) {
                    if (a.to != l.to || !Ki(a.active, l.active) || a.point && (!l.point || !a.point.eq(l.point)))
                        return !1;
                    if (a.to >= i)
                        return !0;
                    a.next(),
                    l.next()
                }
            }
            static spans(e, t, n, i, r=-1) {
                let o = new Gi(e,null,r).goto(t)
                  , s = t
                  , a = o.openStart;
                for (; ; ) {
                    let e = Math.min(o.to, n);
                    if (o.point ? (i.point(s, e, o.point, o.activeForPoint(o.to), a),
                    a = o.openEnd(e) + (o.to > e ? 1 : 0)) : e > s && (i.span(s, e, o.active, a),
                    a = o.openEnd(e)),
                    o.to > n)
                        break;
                    s = o.to,
                    o.next()
                }
                return a
            }
            static of(e, t=!1) {
                let n = new Ui;
                for (let i of e instanceof zi ? [e] : t ? function(e) {
                    if (e.length > 1)
                        for (let t = e[0], n = 1; n < e.length; n++) {
                            let i = e[n];
                            if (Hi(t, i) > 0)
                                return e.slice().sort(Hi);
                            t = i
                        }
                    return e
                }(e) : e)
                    n.add(i.from, i.to, i.value);
                return n.finish()
            }
        }
        qi.empty = new qi([],[],null,-1),
        qi.empty.nextLayer = qi.empty;
        class Ui {
            constructor() {
                this.chunks = [],
                this.chunkPos = [],
                this.chunkStart = -1,
                this.last = null,
                this.lastFrom = -1e9,
                this.lastTo = -1e9,
                this.from = [],
                this.to = [],
                this.value = [],
                this.maxPoint = -1,
                this.setMaxPoint = -1,
                this.nextLayer = null
            }
            finishChunk(e) {
                this.chunks.push(new Vi(this.from,this.to,this.value,this.maxPoint)),
                this.chunkPos.push(this.chunkStart),
                this.chunkStart = -1,
                this.setMaxPoint = Math.max(this.setMaxPoint, this.maxPoint),
                this.maxPoint = -1,
                e && (this.from = [],
                this.to = [],
                this.value = [])
            }
            add(e, t, n) {
                this.addInner(e, t, n) || (this.nextLayer || (this.nextLayer = new Ui)).add(e, t, n)
            }
            addInner(e, t, n) {
                let i = e - this.lastTo || n.startSide - this.last.endSide;
                if (i <= 0 && (e - this.lastFrom || n.startSide - this.last.startSide) < 0)
                    throw new Error("Ranges must be added sorted by `from` position and `startSide`");
                return !(i < 0) && (250 == this.from.length && this.finishChunk(!0),
                this.chunkStart < 0 && (this.chunkStart = e),
                this.from.push(e - this.chunkStart),
                this.to.push(t - this.chunkStart),
                this.last = n,
                this.lastFrom = e,
                this.lastTo = t,
                this.value.push(n),
                n.point && (this.maxPoint = Math.max(this.maxPoint, t - e)),
                !0)
            }
            addChunk(e, t) {
                if ((e - this.lastTo || t.value[0].startSide - this.last.endSide) < 0)
                    return !1;
                this.from.length && this.finishChunk(!0),
                this.setMaxPoint = Math.max(this.setMaxPoint, t.maxPoint),
                this.chunks.push(t),
                this.chunkPos.push(e);
                let n = t.value.length - 1;
                return this.last = t.value[n],
                this.lastFrom = t.from[n] + e,
                this.lastTo = t.to[n] + e,
                !0
            }
            finish() {
                return this.finishInner(qi.empty)
            }
            finishInner(e) {
                if (this.from.length && this.finishChunk(!1),
                0 == this.chunks.length)
                    return e;
                let t = new qi(this.chunkPos,this.chunks,this.nextLayer ? this.nextLayer.finishInner(e) : e,this.setMaxPoint);
                return this.from = null,
                t
            }
        }
        function _i(e, t) {
            let n = new Map;
            for (let t of e)
                for (let e = 0; e < t.chunk.length; e++)
                    t.chunk[e].maxPoint < 500 && n.set(t.chunk[e], t.chunkPos[e]);
            let i = new Set;
            for (let e of t)
                for (let t = 0; t < e.chunk.length; t++)
                    n.get(e.chunk[t]) == e.chunkPos[t] && i.add(e.chunk[t]);
            return i
        }
        class ji {
            constructor(e, t, n, i=0) {
                this.layer = e,
                this.skip = t,
                this.minPoint = n,
                this.rank = i
            }
            get startSide() {
                return this.value ? this.value.startSide : 0
            }
            get endSide() {
                return this.value ? this.value.endSide : 0
            }
            goto(e, t=-1e9) {
                return this.chunkIndex = this.rangeIndex = 0,
                this.gotoInner(e, t, !1),
                this
            }
            gotoInner(e, t, n) {
                for (; this.chunkIndex < this.layer.chunk.length; ) {
                    let t = this.layer.chunk[this.chunkIndex];
                    if (!(this.skip && this.skip.has(t) || this.layer.chunkEnd(this.chunkIndex) < e || t.maxPoint < this.minPoint))
                        break;
                    this.chunkIndex++,
                    n = !1
                }
                let i = this.chunkIndex == this.layer.chunk.length ? 0 : this.layer.chunk[this.chunkIndex].findIndex(e - this.layer.chunkPos[this.chunkIndex], t, !0);
                (!n || this.rangeIndex < i) && (this.rangeIndex = i),
                this.next()
            }
            forward(e, t) {
                (this.to - e || this.endSide - t) < 0 && this.gotoInner(e, t, !0)
            }
            next() {
                for (; ; ) {
                    if (this.chunkIndex == this.layer.chunk.length) {
                        this.from = this.to = 1e9,
                        this.value = null;
                        break
                    }
                    {
                        let e = this.layer.chunkPos[this.chunkIndex]
                          , t = this.layer.chunk[this.chunkIndex]
                          , n = e + t.from[this.rangeIndex];
                        if (this.from = n,
                        this.to = e + t.to[this.rangeIndex],
                        this.value = t.value[this.rangeIndex],
                        ++this.rangeIndex == t.value.length) {
                            if (this.chunkIndex++,
                            this.skip)
                                for (; this.chunkIndex < this.layer.chunk.length && this.skip.has(this.layer.chunk[this.chunkIndex]); )
                                    this.chunkIndex++;
                            this.rangeIndex = 0
                        }
                        if (this.minPoint < 0 || this.value.point && this.to - this.from >= this.minPoint)
                            break
                    }
                }
            }
            nextChunk() {
                this.chunkIndex++,
                this.rangeIndex = 0,
                this.next()
            }
            compare(e) {
                return this.from - e.from || this.startSide - e.startSide || this.to - e.to || this.endSide - e.endSide
            }
        }
        class Wi {
            constructor(e) {
                this.heap = e
            }
            static from(e, t=null, n=-1) {
                let i = [];
                for (let r = 0; r < e.length; r++)
                    for (let o = e[r]; !o.isEmpty; o = o.nextLayer)
                        o.maxPoint >= n && i.push(new ji(o,t,n,r));
                return 1 == i.length ? i[0] : new Wi(i)
            }
            get startSide() {
                return this.value ? this.value.startSide : 0
            }
            goto(e, t=-1e9) {
                for (let n of this.heap)
                    n.goto(e, t);
                for (let e = this.heap.length >> 1; e >= 0; e--)
                    $i(this.heap, e);
                return this.next(),
                this
            }
            forward(e, t) {
                for (let n of this.heap)
                    n.forward(e, t);
                for (let e = this.heap.length >> 1; e >= 0; e--)
                    $i(this.heap, e);
                (this.to - e || this.value.endSide - t) < 0 && this.next()
            }
            next() {
                if (0 == this.heap.length)
                    this.from = this.to = 1e9,
                    this.value = null,
                    this.rank = -1;
                else {
                    let e = this.heap[0];
                    this.from = e.from,
                    this.to = e.to,
                    this.value = e.value,
                    this.rank = e.rank,
                    e.value && e.next(),
                    $i(this.heap, 0)
                }
            }
        }
        function $i(e, t) {
            for (let n = e[t]; ; ) {
                let i = 1 + (t << 1);
                if (i >= e.length)
                    break;
                let r = e[i];
                if (i + 1 < e.length && r.compare(e[i + 1]) >= 0 && (r = e[i + 1],
                i++),
                n.compare(r) < 0)
                    break;
                e[i] = n,
                e[t] = r,
                t = i
            }
        }
        class Gi {
            constructor(e, t, n) {
                this.minPoint = n,
                this.active = [],
                this.activeTo = [],
                this.activeRank = [],
                this.minActive = -1,
                this.point = null,
                this.pointFrom = 0,
                this.pointRank = 0,
                this.to = -1e9,
                this.endSide = 0,
                this.openStart = -1,
                this.cursor = Wi.from(e, t, n)
            }
            goto(e, t=-1e9) {
                return this.cursor.goto(e, t),
                this.active.length = this.activeTo.length = this.activeRank.length = 0,
                this.minActive = -1,
                this.to = e,
                this.endSide = t,
                this.openStart = -1,
                this.next(),
                this
            }
            forward(e, t) {
                for (; this.minActive > -1 && (this.activeTo[this.minActive] - e || this.active[this.minActive].endSide - t) < 0; )
                    this.removeActive(this.minActive);
                this.cursor.forward(e, t)
            }
            removeActive(e) {
                Qi(this.active, e),
                Qi(this.activeTo, e),
                Qi(this.activeRank, e),
                this.minActive = Xi(this.active, this.activeTo)
            }
            addActive(e) {
                let t = 0
                  , {value: n, to: i, rank: r} = this.cursor;
                for (; t < this.activeRank.length && this.activeRank[t] <= r; )
                    t++;
                Ji(this.active, t, n),
                Ji(this.activeTo, t, i),
                Ji(this.activeRank, t, r),
                e && Ji(e, t, this.cursor.from),
                this.minActive = Xi(this.active, this.activeTo)
            }
            next() {
                let e = this.to
                  , t = this.point;
                this.point = null;
                let n = this.openStart < 0 ? [] : null
                  , i = 0;
                for (; ; ) {
                    let r = this.minActive;
                    if (r > -1 && (this.activeTo[r] - this.cursor.from || this.active[r].endSide - this.cursor.startSide) < 0) {
                        if (this.activeTo[r] > e) {
                            this.to = this.activeTo[r],
                            this.endSide = this.active[r].endSide;
                            break
                        }
                        this.removeActive(r),
                        n && Qi(n, r)
                    } else {
                        if (!this.cursor.value) {
                            this.to = this.endSide = 1e9;
                            break
                        }
                        if (this.cursor.from > e) {
                            this.to = this.cursor.from,
                            this.endSide = this.cursor.startSide;
                            break
                        }
                        {
                            let r = this.cursor.value;
                            if (r.point) {
                                if (!(t && this.cursor.to == this.to && this.cursor.from < this.cursor.to && r.endSide == this.endSide)) {
                                    this.point = r,
                                    this.pointFrom = this.cursor.from,
                                    this.pointRank = this.cursor.rank,
                                    this.to = this.cursor.to,
                                    this.endSide = r.endSide,
                                    this.cursor.from < e && (i = 1),
                                    this.cursor.next(),
                                    this.to > e && this.forward(this.to, this.endSide);
                                    break
                                }
                                this.cursor.next()
                            } else
                                this.addActive(n),
                                this.cursor.next()
                        }
                    }
                }
                if (n) {
                    let t = 0;
                    for (; t < n.length && n[t] < e; )
                        t++;
                    this.openStart = t + i
                }
            }
            activeForPoint(e) {
                if (!this.active.length)
                    return this.active;
                let t = [];
                for (let n = this.active.length - 1; n >= 0 && !(this.activeRank[n] < this.pointRank); n--)
                    (this.activeTo[n] > e || this.activeTo[n] == e && this.active[n].endSide > this.point.endSide) && t.push(this.active[n]);
                return t.reverse()
            }
            openEnd(e) {
                let t = 0;
                for (let n = this.activeTo.length - 1; n >= 0 && this.activeTo[n] > e; n--)
                    t++;
                return t
            }
        }
        function Yi(e, t, n, i, r, o) {
            e.goto(t),
            n.goto(i);
            let s = i + r
              , a = i
              , l = i - t;
            for (; ; ) {
                let t = e.to + l - n.to || e.endSide - n.endSide
                  , i = t < 0 ? e.to + l : n.to
                  , r = Math.min(i, s);
                if (e.point || n.point ? e.point && n.point && (e.point == n.point || e.point.eq(n.point)) || o.comparePoint(a, r, e.point, n.point) : r > a && !Ki(e.active, n.active) && o.compareRange(a, r, e.active, n.active),
                i > s)
                    break;
                a = i,
                t <= 0 && e.next(),
                t >= 0 && n.next()
            }
        }
        function Ki(e, t) {
            if (e.length != t.length)
                return !1;
            for (let n = 0; n < e.length; n++)
                if (e[n] != t[n] && !e[n].eq(t[n]))
                    return !1;
            return !0
        }
        function Qi(e, t) {
            for (let n = t, i = e.length - 1; n < i; n++)
                e[n] = e[n + 1];
            e.pop()
        }
        function Ji(e, t, n) {
            for (let n = e.length - 1; n >= t; n--)
                e[n + 1] = e[n];
            e[t] = n
        }
        function Xi(e, t) {
            let n = -1
              , i = 1e9;
            for (let r = 0; r < t.length; r++)
                (t[r] - i || e[r].endSide - e[n].endSide) < 0 && (n = r,
                i = t[r]);
            return n
        }
        for (var Zi = {
            8: "Backspace",
            9: "Tab",
            10: "Enter",
            12: "NumLock",
            13: "Enter",
            16: "Shift",
            17: "Control",
            18: "Alt",
            20: "CapsLock",
            27: "Escape",
            32: " ",
            33: "PageUp",
            34: "PageDown",
            35: "End",
            36: "Home",
            37: "ArrowLeft",
            38: "ArrowUp",
            39: "ArrowRight",
            40: "ArrowDown",
            44: "PrintScreen",
            45: "Insert",
            46: "Delete",
            59: ";",
            61: "=",
            91: "Meta",
            92: "Meta",
            106: "*",
            107: "+",
            108: ",",
            109: "-",
            110: ".",
            111: "/",
            144: "NumLock",
            145: "ScrollLock",
            160: "Shift",
            161: "Shift",
            162: "Control",
            163: "Control",
            164: "Alt",
            165: "Alt",
            173: "-",
            186: ";",
            187: "=",
            188: ",",
            189: "-",
            190: ".",
            191: "/",
            192: "`",
            219: "[",
            220: "\\",
            221: "]",
            222: "'",
            229: "q"
        }, er = {
            48: ")",
            49: "!",
            50: "@",
            51: "#",
            52: "$",
            53: "%",
            54: "^",
            55: "&",
            56: "*",
            57: "(",
            59: ":",
            61: "+",
            173: "_",
            186: ":",
            187: "+",
            188: "<",
            189: "_",
            190: ">",
            191: "?",
            192: "~",
            219: "{",
            220: "|",
            221: "}",
            222: '"',
            229: "Q"
        }, tr = "undefined" != typeof navigator && /Chrome\/(\d+)/.exec(navigator.userAgent), nr = "undefined" != typeof navigator && /Apple Computer/.test(navigator.vendor), ir = "undefined" != typeof navigator && /Gecko\/\d+/.test(navigator.userAgent), rr = "undefined" != typeof navigator && /Mac/.test(navigator.platform), or = "undefined" != typeof navigator && /MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent), sr = tr && (rr || +tr[1] < 57) || ir && rr, ar = 0; ar < 10; ar++)
            Zi[48 + ar] = Zi[96 + ar] = String(ar);
        for (ar = 1; ar <= 24; ar++)
            Zi[ar + 111] = "F" + ar;
        for (ar = 65; ar <= 90; ar++)
            Zi[ar] = String.fromCharCode(ar + 32),
            er[ar] = String.fromCharCode(ar);
        for (var lr in Zi)
            er.hasOwnProperty(lr) || (er[lr] = Zi[lr]);
        function cr(e) {
            return e.getSelection ? e.getSelection() : document.getSelection()
        }
        function ur(e, t) {
            return !!t && e.contains(1 != t.nodeType ? t.parentNode : t)
        }
        function hr(e, t) {
            if (!t.anchorNode)
                return !1;
            try {
                return ur(e, t.anchorNode)
            } catch (e) {
                return !1
            }
        }
        function pr(e) {
            return 3 == e.nodeType ? Er(e, 0, e.nodeValue.length).getClientRects() : 1 == e.nodeType ? e.getClientRects() : []
        }
        function dr(e, t, n, i) {
            return !!n && (gr(e, t, n, i, -1) || gr(e, t, n, i, 1))
        }
        function fr(e) {
            for (var t = 0; ; t++)
                if (!(e = e.previousSibling))
                    return t
        }
        function gr(e, t, n, i, r) {
            for (; ; ) {
                if (e == n && t == i)
                    return !0;
                if (t == (r < 0 ? 0 : mr(e))) {
                    if ("DIV" == e.nodeName)
                        return !1;
                    let n = e.parentNode;
                    if (!n || 1 != n.nodeType)
                        return !1;
                    t = fr(e) + (r < 0 ? 0 : 1),
                    e = n
                } else {
                    if (1 != e.nodeType)
                        return !1;
                    if (1 == (e = e.childNodes[t + (r < 0 ? -1 : 0)]).nodeType && "false" == e.contentEditable)
                        return !1;
                    t = r < 0 ? mr(e) : 0
                }
            }
        }
        function mr(e) {
            return 3 == e.nodeType ? e.nodeValue.length : e.childNodes.length
        }
        const vr = {
            left: 0,
            right: 0,
            top: 0,
            bottom: 0
        };
        function yr(e, t) {
            let n = t ? e.left : e.right;
            return {
                left: n,
                right: n,
                top: e.top,
                bottom: e.bottom
            }
        }
        function br(e) {
            return {
                left: 0,
                right: e.innerWidth,
                top: 0,
                bottom: e.innerHeight
            }
        }
        class wr {
            constructor() {
                this.anchorNode = null,
                this.anchorOffset = 0,
                this.focusNode = null,
                this.focusOffset = 0
            }
            eq(e) {
                return this.anchorNode == e.anchorNode && this.anchorOffset == e.anchorOffset && this.focusNode == e.focusNode && this.focusOffset == e.focusOffset
            }
            set(e) {
                this.anchorNode = e.anchorNode,
                this.anchorOffset = e.anchorOffset,
                this.focusNode = e.focusNode,
                this.focusOffset = e.focusOffset
            }
        }
        let kr, Cr = null;
        function xr(e) {
            if (e.setActive)
                return e.setActive();
            if (Cr)
                return e.focus(Cr);
            let t = [];
            for (let n = e; n && (t.push(n, n.scrollTop, n.scrollLeft),
            n != n.ownerDocument); n = n.parentNode)
                ;
            if (e.focus(null == Cr ? {
                get preventScroll() {
                    return Cr = {
                        preventScroll: !0
                    },
                    !0
                }
            } : void 0),
            !Cr) {
                Cr = !1;
                for (let e = 0; e < t.length; ) {
                    let n = t[e++]
                      , i = t[e++]
                      , r = t[e++];
                    n.scrollTop != i && (n.scrollTop = i),
                    n.scrollLeft != r && (n.scrollLeft = r)
                }
            }
        }
        function Er(e, t, n=t) {
            let i = kr || (kr = document.createRange());
            return i.setEnd(e, n),
            i.setStart(e, t),
            i
        }
        function Sr(e, t, n) {
            let i = {
                key: t,
                code: t,
                keyCode: n,
                which: n,
                cancelable: !0
            }
              , r = new KeyboardEvent("keydown",i);
            r.synthetic = !0,
            e.dispatchEvent(r);
            let o = new KeyboardEvent("keyup",i);
            return o.synthetic = !0,
            e.dispatchEvent(o),
            r.defaultPrevented || o.defaultPrevented
        }
        class Lr {
            constructor(e, t, n=!0) {
                this.node = e,
                this.offset = t,
                this.precise = n
            }
            static before(e, t) {
                return new Lr(e.parentNode,fr(e),t)
            }
            static after(e, t) {
                return new Lr(e.parentNode,fr(e) + 1,t)
            }
        }
        const Dr = [];
        class Mr {
            constructor() {
                this.parent = null,
                this.dom = null,
                this.dirty = 2
            }
            get editorView() {
                if (!this.parent)
                    throw new Error("Accessing view in orphan content view");
                return this.parent.editorView
            }
            get overrideDOMText() {
                return null
            }
            get posAtStart() {
                return this.parent ? this.parent.posBefore(this) : 0
            }
            get posAtEnd() {
                return this.posAtStart + this.length
            }
            posBefore(e) {
                let t = this.posAtStart;
                for (let n of this.children) {
                    if (n == e)
                        return t;
                    t += n.length + n.breakAfter
                }
                throw new RangeError("Invalid child in posBefore")
            }
            posAfter(e) {
                return this.posBefore(e) + e.length
            }
            coordsAt(e, t) {
                return null
            }
            sync(e) {
                var t;
                if (2 & this.dirty) {
                    let n = this.dom
                      , i = null;
                    for (let r of this.children) {
                        if (r.dirty) {
                            let o = i ? i.nextSibling : n.firstChild;
                            r.dom || !o || (null === (t = Mr.get(o)) || void 0 === t ? void 0 : t.parent) || r.reuseDOM(o),
                            r.sync(e),
                            r.dirty = 0
                        }
                        e && e.node == n && i != r.dom && (e.written = !0),
                        Tr(n, i, r.dom),
                        i = r.dom
                    }
                    let r = i ? i.nextSibling : n.firstChild;
                    for (r && e && e.node == n && (e.written = !0); r; )
                        r = Ar(r)
                } else if (1 & this.dirty)
                    for (let t of this.children)
                        t.dirty && (t.sync(e),
                        t.dirty = 0)
            }
            reuseDOM(e) {
                return !1
            }
            localPosFromDOM(e, t) {
                let n;
                if (e == this.dom)
                    n = this.dom.childNodes[t];
                else {
                    let i = 0 == mr(e) ? 0 : 0 == t ? -1 : 1;
                    for (; ; ) {
                        let t = e.parentNode;
                        if (t == this.dom)
                            break;
                        0 == i && t.firstChild != t.lastChild && (i = e == t.firstChild ? -1 : 1),
                        e = t
                    }
                    n = i < 0 ? e : e.nextSibling
                }
                if (n == this.dom.firstChild)
                    return 0;
                for (; n && !Mr.get(n); )
                    n = n.nextSibling;
                if (!n)
                    return this.length;
                for (let e = 0, t = 0; ; e++) {
                    let i = this.children[e];
                    if (i.dom == n)
                        return t;
                    t += i.length + i.breakAfter
                }
            }
            domBoundsAround(e, t, n=0) {
                let i = -1
                  , r = -1
                  , o = -1
                  , s = -1;
                for (let a = 0, l = n, c = n; a < this.children.length; a++) {
                    let n = this.children[a]
                      , u = l + n.length;
                    if (l < e && u > t)
                        return n.domBoundsAround(e, t, l);
                    if (u >= e && -1 == i && (i = a,
                    r = l),
                    l > t && n.dom.parentNode == this.dom) {
                        o = a,
                        s = c;
                        break
                    }
                    c = u,
                    l = u + n.breakAfter
                }
                return {
                    from: r,
                    to: s < 0 ? n + this.length : s,
                    startDOM: (i ? this.children[i - 1].dom.nextSibling : null) || this.dom.firstChild,
                    endDOM: o < this.children.length && o >= 0 ? this.children[o].dom : null
                }
            }
            markDirty(e=!1) {
                2 & this.dirty || (this.dirty |= 2,
                this.markParentsDirty(e))
            }
            markParentsDirty(e) {
                for (let t = this.parent; t; t = t.parent) {
                    if (e && (t.dirty |= 2),
                    1 & t.dirty)
                        return;
                    t.dirty |= 1,
                    e = !1
                }
            }
            setParent(e) {
                this.parent != e && (this.parent = e,
                this.dirty && this.markParentsDirty(!0))
            }
            setDOM(e) {
                this.dom = e,
                e.cmView = this
            }
            get rootView() {
                for (let e = this; ; ) {
                    let t = e.parent;
                    if (!t)
                        return e;
                    e = t
                }
            }
            replaceChildren(e, t, n=Dr) {
                this.markDirty();
                for (let n = e; n < t; n++) {
                    let e = this.children[n];
                    e.parent == this && (e.parent = null)
                }
                this.children.splice(e, t - e, ...n);
                for (let e = 0; e < n.length; e++)
                    n[e].setParent(this)
            }
            ignoreMutation(e) {
                return !1
            }
            ignoreEvent(e) {
                return !1
            }
            childCursor(e=this.length) {
                return new Fr(this.children,e,this.children.length)
            }
            childPos(e, t=1) {
                return this.childCursor().findPos(e, t)
            }
            toString() {
                let e = this.constructor.name.replace("View", "");
                return e + (this.children.length ? "(" + this.children.join() + ")" : this.length ? "[" + ("Text" == e ? this.text : this.length) + "]" : "") + (this.breakAfter ? "#" : "")
            }
            static get(e) {
                return e.cmView
            }
        }
        function Ar(e) {
            let t = e.nextSibling;
            return e.parentNode.removeChild(e),
            t
        }
        function Tr(e, t, n) {
            let i = t ? t.nextSibling : e.firstChild;
            if (n.parentNode == e)
                for (; i != n; )
                    i = Ar(i);
            else
                e.insertBefore(n, i)
        }
        Mr.prototype.breakAfter = 0;
        class Fr {
            constructor(e, t, n) {
                this.children = e,
                this.pos = t,
                this.i = n,
                this.off = 0
            }
            findPos(e, t=1) {
                for (; ; ) {
                    if (e > this.pos || e == this.pos && (t > 0 || 0 == this.i || this.children[this.i - 1].breakAfter))
                        return this.off = e - this.pos,
                        this;
                    let n = this.children[--this.i];
                    this.pos -= n.length + n.breakAfter
                }
            }
        }
        let[Pr,Or] = "undefined" != typeof navigator ? [navigator, document] : [{
            userAgent: "",
            vendor: "",
            platform: ""
        }, {
            documentElement: {
                style: {}
            }
        }];
        const Ir = /Edge\/(\d+)/.exec(Pr.userAgent)
          , Nr = /MSIE \d/.test(Pr.userAgent)
          , Rr = /Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Pr.userAgent)
          , Br = !!(Nr || Rr || Ir)
          , zr = !Br && /gecko\/(\d+)/i.test(Pr.userAgent)
          , Hr = !Br && /Chrome\/(\d+)/.exec(Pr.userAgent)
          , Vr = "webkitFontSmoothing"in Or.documentElement.style
          , qr = !Br && /Apple Computer/.test(Pr.vendor);
        var Ur = {
            mac: /Mac/.test(Pr.platform),
            ie: Br,
            ie_version: Nr ? Or.documentMode || 6 : Rr ? +Rr[1] : Ir ? +Ir[1] : 0,
            gecko: zr,
            gecko_version: zr ? +(/Firefox\/(\d+)/.exec(Pr.userAgent) || [0, 0])[1] : 0,
            chrome: !!Hr,
            chrome_version: Hr ? +Hr[1] : 0,
            ios: qr && (/Mobile\/\w+/.test(Pr.userAgent) || Pr.maxTouchPoints > 2),
            android: /Android\b/.test(Pr.userAgent),
            webkit: Vr,
            safari: qr,
            webkit_version: Vr ? +(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent) || [0, 0])[1] : 0,
            tabSize: null != Or.documentElement.style.tabSize ? "tab-size" : "-moz-tab-size"
        };
        const _r = [];
        class jr extends Mr {
            become(e) {
                return !1
            }
            getSide() {
                return 0
            }
        }
        jr.prototype.children = _r;
        class Wr extends jr {
            constructor(e) {
                super(),
                this.text = e
            }
            get length() {
                return this.text.length
            }
            createDOM(e) {
                this.setDOM(e || document.createTextNode(this.text))
            }
            sync(e) {
                this.dom || this.createDOM(),
                this.dom.nodeValue != this.text && (e && e.node == this.dom && (e.written = !0),
                this.dom.nodeValue = this.text)
            }
            reuseDOM(e) {
                return 3 == e.nodeType && (this.createDOM(e),
                !0)
            }
            merge(e, t, n) {
                return (!n || n instanceof Wr && !(this.length - (t - e) + n.length > 256)) && (this.text = this.text.slice(0, e) + (n ? n.text : "") + this.text.slice(t),
                this.markDirty(),
                !0)
            }
            slice(e) {
                return new Wr(this.text.slice(e))
            }
            localPosFromDOM(e, t) {
                return e == this.dom ? t : t ? this.text.length : 0
            }
            domAtPos(e) {
                return new Lr(this.dom,e)
            }
            domBoundsAround(e, t, n) {
                return {
                    from: n,
                    to: n + this.length,
                    startDOM: this.dom,
                    endDOM: this.dom.nextSibling
                }
            }
            coordsAt(e, t) {
                return Gr(this.dom, e, t)
            }
        }
        class $r extends jr {
            constructor(e, t=[], n=0) {
                super(),
                this.mark = e,
                this.children = t,
                this.length = n;
                for (let e of t)
                    e.setParent(this)
            }
            createDOM() {
                let e = document.createElement(this.mark.tagName);
                if (this.mark.class && (e.className = this.mark.class),
                this.mark.attrs)
                    for (let t in this.mark.attrs)
                        e.setAttribute(t, this.mark.attrs[t]);
                this.setDOM(e)
            }
            sync(e) {
                this.dom || this.createDOM(),
                super.sync(e)
            }
            merge(e, t, n, i, r) {
                return (!n || !(!(n instanceof $r && n.mark.eq(this.mark)) || e && i <= 0 || t < this.length && r <= 0)) && (Qr(this, e, t, n ? n.children : _r, i - 1, r - 1),
                this.markDirty(),
                !0)
            }
            slice(e) {
                return new $r(this.mark,function(e, t) {
                    let n = []
                      , i = 0;
                    for (let r of e) {
                        let e = i + r.length;
                        e > t && n.push(i < t ? r.slice(t - i) : r),
                        i = e
                    }
                    return n
                }(this.children, e),this.length - e)
            }
            domAtPos(e) {
                return Jr(this.dom, this.children, e)
            }
            coordsAt(e, t) {
                return Zr(this, e, t)
            }
        }
        function Gr(e, t, n) {
            let i = e.nodeValue.length;
            t > i && (t = i);
            let r = t
              , o = t
              , s = 0;
            0 == t && n < 0 || t == i && n >= 0 ? Ur.chrome || Ur.gecko || (t ? (r--,
            s = 1) : (o++,
            s = -1)) : n < 0 ? r-- : o++;
            let a = Er(e, r, o).getClientRects();
            if (!a.length)
                return vr;
            let l = a[(s ? s < 0 : n >= 0) ? 0 : a.length - 1];
            return Ur.safari && !s && 0 == l.width && (l = Array.prototype.find.call(a, (e=>e.width)) || l),
            s ? yr(l, s < 0) : l
        }
        class Yr extends jr {
            constructor(e, t, n) {
                super(),
                this.widget = e,
                this.length = t,
                this.side = n
            }
            static create(e, t, n) {
                return new (e.customView || Yr)(e,t,n)
            }
            slice(e) {
                return Yr.create(this.widget, this.length - e, this.side)
            }
            sync() {
                this.dom && this.widget.updateDOM(this.dom) || (this.setDOM(this.widget.toDOM(this.editorView)),
                this.dom.contentEditable = "false")
            }
            getSide() {
                return this.side
            }
            merge(e, t, n, i, r) {
                return !(n && (!(n instanceof Yr && this.widget.compare(n.widget)) || e > 0 && i <= 0 || t < this.length && r <= 0)) && (this.length = e + (n ? n.length : 0) + (this.length - t),
                !0)
            }
            become(e) {
                return e.length == this.length && e instanceof Yr && e.side == this.side && this.widget.constructor == e.widget.constructor && (this.widget.eq(e.widget) || this.markDirty(!0),
                this.widget = e.widget,
                !0)
            }
            ignoreMutation() {
                return !0
            }
            ignoreEvent(e) {
                return this.widget.ignoreEvent(e)
            }
            get overrideDOMText() {
                if (0 == this.length)
                    return kn.empty;
                let e = this;
                for (; e.parent; )
                    e = e.parent;
                let t = e.editorView
                  , n = t && t.state.doc
                  , i = this.posAtStart;
                return n ? n.slice(i, i + this.length) : kn.empty
            }
            domAtPos(e) {
                return 0 == e ? Lr.before(this.dom) : Lr.after(this.dom, e == this.length)
            }
            domBoundsAround() {
                return null
            }
            coordsAt(e, t) {
                let n = this.dom.getClientRects()
                  , i = null;
                if (!n.length)
                    return vr;
                for (let t = e > 0 ? n.length - 1 : 0; i = n[t],
                !(e > 0 ? 0 == t : t == n.length - 1 || i.top < i.bottom); t += e > 0 ? -1 : 1)
                    ;
                return 0 == e && t > 0 || e == this.length && t <= 0 ? i : yr(i, 0 == e)
            }
        }
        class Kr extends Yr {
            domAtPos(e) {
                return new Lr(this.widget.text,e)
            }
            sync() {
                this.dom || this.setDOM(this.widget.toDOM())
            }
            localPosFromDOM(e, t) {
                return t ? 3 == e.nodeType ? Math.min(t, this.length) : this.length : 0
            }
            ignoreMutation() {
                return !1
            }
            get overrideDOMText() {
                return null
            }
            coordsAt(e, t) {
                return Gr(this.widget.text, e, t)
            }
        }
        function Qr(e, t, n, i, r, o) {
            let s = e.childCursor()
              , {i: a, off: l} = s.findPos(n, 1)
              , {i: c, off: u} = s.findPos(t, -1)
              , h = t - n;
            for (let e of i)
                h += e.length;
            e.length += h;
            let {children: p} = e;
            if (c == a && u) {
                let e = p[c];
                if (1 == i.length && e.merge(u, l, i[0], r, o))
                    return;
                if (0 == i.length)
                    return void e.merge(u, l, null, r, o);
                let t = e.slice(l);
                t.merge(0, 0, i[i.length - 1], 0, o) ? i[i.length - 1] = t : i.push(t),
                a++,
                o = l = 0
            }
            if (l) {
                let e = p[a];
                i.length && e.merge(0, l, i[i.length - 1], 0, o) ? (i.pop(),
                o = i.length ? 0 : r) : e.merge(0, l, null, 0, 0)
            } else
                a < p.length && i.length && p[a].merge(0, 0, i[i.length - 1], 0, o) && (i.pop(),
                o = i.length ? 0 : r);
            if (u) {
                let e = p[c];
                i.length && e.merge(u, e.length, i[0], r, 0) ? (i.shift(),
                r = i.length ? 0 : o) : e.merge(u, e.length, null, 0, 0),
                c++
            } else if (c && i.length) {
                let e = p[c - 1];
                e.merge(e.length, e.length, i[0], r, 0) && (i.shift(),
                r = i.length ? 0 : o)
            }
            for (; c < a && i.length && p[a - 1].become(i[i.length - 1]); )
                i.pop(),
                a--,
                o = i.length ? 0 : r;
            for (; c < a && i.length && p[c].become(i[0]); )
                i.shift(),
                c++,
                r = i.length ? 0 : o;
            !i.length && c && a < p.length && r && o && p[a].merge(0, 0, p[c - 1], r, o) && c--,
            (i.length || c != a) && e.replaceChildren(c, a, i)
        }
        function Jr(e, t, n) {
            let i = 0;
            for (let r = 0; i < t.length; i++) {
                let o = t[i]
                  , s = r + o.length;
                if (!(s == r && o.getSide() <= 0)) {
                    if (n > r && n < s && o.dom.parentNode == e)
                        return o.domAtPos(n - r);
                    if (n <= r)
                        break;
                    r = s
                }
            }
            for (; i > 0; i--) {
                let n = t[i - 1].dom;
                if (n.parentNode == e)
                    return Lr.after(n)
            }
            return new Lr(e,0)
        }
        function Xr(e, t, n) {
            let i, {children: r} = e;
            n > 0 && t instanceof $r && r.length && (i = r[r.length - 1])instanceof $r && i.mark.eq(t.mark) ? Xr(i, t.children[0], n - 1) : (r.push(t),
            t.setParent(e)),
            e.length += t.length
        }
        function Zr(e, t, n) {
            for (let i = 0, r = 0; r < e.children.length; r++) {
                let o = e.children[r]
                  , s = i + o.length;
                if (!(s == i && o.getSide() <= 0)) {
                    if (n <= 0 || s == e.length ? s >= t : s > t)
                        return o.coordsAt(t - i, n);
                    i = s
                }
            }
            let i = e.dom.lastChild;
            if (!i)
                return e.dom.getBoundingClientRect();
            let r = pr(i);
            return r[r.length - 1]
        }
        function eo(e, t) {
            for (let n in e)
                "class" == n && t.class ? t.class += " " + e.class : "style" == n && t.style ? t.style += ";" + e.style : t[n] = e[n];
            return t
        }
        function to(e, t) {
            if (e == t)
                return !0;
            if (!e || !t)
                return !1;
            let n = Object.keys(e)
              , i = Object.keys(t);
            if (n.length != i.length)
                return !1;
            for (let r of n)
                if (-1 == i.indexOf(r) || e[r] !== t[r])
                    return !1;
            return !0
        }
        function no(e, t, n) {
            if (t)
                for (let i in t)
                    n && i in n || e.removeAttribute(i);
            if (n)
                for (let i in n)
                    t && t[i] == n[i] || e.setAttribute(i, n[i])
        }
        class io {
            eq(e) {
                return !1
            }
            updateDOM(e) {
                return !1
            }
            compare(e) {
                return this == e || this.constructor == e.constructor && this.eq(e)
            }
            get estimatedHeight() {
                return -1
            }
            ignoreEvent(e) {
                return !0
            }
            get customView() {
                return null
            }
        }
        var ro = function(e) {
            return e[e.Text = 0] = "Text",
            e[e.WidgetBefore = 1] = "WidgetBefore",
            e[e.WidgetAfter = 2] = "WidgetAfter",
            e[e.WidgetRange = 3] = "WidgetRange",
            e
        }(ro || (ro = {}));
        class oo extends Bi {
            constructor(e, t, n, i) {
                super(),
                this.startSide = e,
                this.endSide = t,
                this.widget = n,
                this.spec = i
            }
            get heightRelevant() {
                return !1
            }
            static mark(e) {
                return new so(e)
            }
            static widget(e) {
                let t = e.side || 0;
                return e.block && (t += 200000001 * (t > 0 ? 1 : -1)),
                new lo(e,t,t,!!e.block,e.widget || null,!1)
            }
            static replace(e) {
                let t = !!e.block
                  , {start: n, end: i} = co(e);
                return new lo(e,t ? -2e8 * (n ? 2 : 1) : 1e8 * (n ? -1 : 1),t ? 2e8 * (i ? 2 : 1) : 1e8 * (i ? 1 : -1),t,e.widget || null,!0)
            }
            static line(e) {
                return new ao(e)
            }
            static set(e, t=!1) {
                return qi.of(e, t)
            }
            hasHeight() {
                return !!this.widget && this.widget.estimatedHeight > -1
            }
        }
        oo.none = qi.empty;
        class so extends oo {
            constructor(e) {
                let {start: t, end: n} = co(e);
                super(1e8 * (t ? -1 : 1), 1e8 * (n ? 1 : -1), null, e),
                this.tagName = e.tagName || "span",
                this.class = e.class || "",
                this.attrs = e.attributes || null
            }
            eq(e) {
                return this == e || e instanceof so && this.tagName == e.tagName && this.class == e.class && to(this.attrs, e.attrs)
            }
            range(e, t=e) {
                if (e >= t)
                    throw new RangeError("Mark decorations may not be empty");
                return super.range(e, t)
            }
        }
        so.prototype.point = !1;
        class ao extends oo {
            constructor(e) {
                super(-1e8, -1e8, null, e)
            }
            eq(e) {
                return e instanceof ao && to(this.spec.attributes, e.spec.attributes)
            }
            range(e, t=e) {
                if (t != e)
                    throw new RangeError("Line decoration ranges must be zero-length");
                return super.range(e, t)
            }
        }
        ao.prototype.mapMode = Tn.TrackBefore,
        ao.prototype.point = !0;
        class lo extends oo {
            constructor(e, t, n, i, r, o) {
                super(t, n, r, e),
                this.block = i,
                this.isReplace = o,
                this.mapMode = i ? t < 0 ? Tn.TrackBefore : Tn.TrackAfter : Tn.TrackDel
            }
            get type() {
                return this.startSide < this.endSide ? ro.WidgetRange : this.startSide < 0 ? ro.WidgetBefore : ro.WidgetAfter
            }
            get heightRelevant() {
                return this.block || !!this.widget && this.widget.estimatedHeight >= 5
            }
            eq(e) {
                return e instanceof lo && (t = this.widget,
                n = e.widget,
                t == n || !!(t && n && t.compare(n))) && this.block == e.block && this.startSide == e.startSide && this.endSide == e.endSide;
                var t, n
            }
            range(e, t=e) {
                if (this.isReplace && (e > t || e == t && this.startSide > 0 && this.endSide < 0))
                    throw new RangeError("Invalid range for replacement decoration");
                if (!this.isReplace && t != e)
                    throw new RangeError("Widget decorations can only have zero-length ranges");
                return super.range(e, t)
            }
        }
        function co(e) {
            let {inclusiveStart: t, inclusiveEnd: n} = e;
            return null == t && (t = e.inclusive),
            null == n && (n = e.inclusive),
            {
                start: t || !1,
                end: n || !1
            }
        }
        function uo(e, t, n, i=0) {
            let r = n.length - 1;
            r >= 0 && n[r] + i > e ? n[r] = Math.max(n[r], t) : n.push(e, t)
        }
        lo.prototype.point = !0;
        class ho extends Mr {
            constructor() {
                super(...arguments),
                this.children = [],
                this.length = 0,
                this.prevAttrs = void 0,
                this.attrs = null,
                this.breakAfter = 0
            }
            merge(e, t, n, i, r, o) {
                if (n) {
                    if (!(n instanceof ho))
                        return !1;
                    this.dom || n.transferDOM(this)
                }
                return i && this.setDeco(n ? n.attrs : null),
                Qr(this, e, t, n ? n.children : po, r, o),
                !0
            }
            split(e) {
                let t = new ho;
                if (t.breakAfter = this.breakAfter,
                0 == this.length)
                    return t;
                let {i: n, off: i} = this.childPos(e);
                i && (t.append(this.children[n].slice(i), 0),
                this.children[n].merge(i, this.children[n].length, null, 0, 0),
                n++);
                for (let e = n; e < this.children.length; e++)
                    t.append(this.children[e], 0);
                for (; n > 0 && 0 == this.children[n - 1].length; )
                    this.children[n - 1].parent = null,
                    n--;
                return this.children.length = n,
                this.markDirty(),
                this.length = e,
                t
            }
            transferDOM(e) {
                this.dom && (e.setDOM(this.dom),
                e.prevAttrs = void 0 === this.prevAttrs ? this.attrs : this.prevAttrs,
                this.prevAttrs = void 0,
                this.dom = null)
            }
            setDeco(e) {
                to(this.attrs, e) || (this.dom && (this.prevAttrs = this.attrs,
                this.markDirty()),
                this.attrs = e)
            }
            append(e, t) {
                Xr(this, e, t)
            }
            addLineDeco(e) {
                let t = e.spec.attributes;
                t && (this.attrs = eo(t, this.attrs || {}))
            }
            domAtPos(e) {
                return Jr(this.dom, this.children, e)
            }
            sync(e) {
                this.dom || (this.setDOM(document.createElement("div")),
                this.dom.className = "cm-line",
                this.prevAttrs = this.attrs ? null : void 0),
                void 0 !== this.prevAttrs && (no(this.dom, this.prevAttrs, this.attrs),
                this.dom.classList.add("cm-line"),
                this.prevAttrs = void 0),
                super.sync(e);
                let t = this.dom.lastChild;
                if (!t || "BR" != t.nodeName && Mr.get(t)instanceof Yr && (!Ur.ios || !this.children.some((e=>e instanceof Wr)))) {
                    let e = document.createElement("BR");
                    e.cmIgnore = !0,
                    this.dom.appendChild(e)
                }
            }
            measureTextSize() {
                if (0 == this.children.length || this.length > 20)
                    return null;
                let e = 0;
                for (let t of this.children) {
                    if (!(t instanceof Wr))
                        return null;
                    let n = pr(t.dom);
                    if (1 != n.length)
                        return null;
                    e += n[0].width
                }
                return {
                    lineHeight: this.dom.getBoundingClientRect().height,
                    charWidth: e / this.length
                }
            }
            coordsAt(e, t) {
                return Zr(this, e, t)
            }
            match(e) {
                return !1
            }
            get type() {
                return ro.Text
            }
            static find(e, t) {
                for (let n = 0, i = 0; ; n++) {
                    let r = e.children[n]
                      , o = i + r.length;
                    if (o >= t) {
                        if (r instanceof ho)
                            return r;
                        if (r.length)
                            return null
                    }
                    i = o + r.breakAfter
                }
            }
        }
        const po = [];
        class fo extends Mr {
            constructor(e, t, n) {
                super(),
                this.widget = e,
                this.length = t,
                this.type = n,
                this.breakAfter = 0
            }
            merge(e, t, n, i, r, o) {
                return !(n && (!(n instanceof fo && this.widget.compare(n.widget)) || e > 0 && r <= 0 || t < this.length && o <= 0)) && (this.length = e + (n ? n.length : 0) + (this.length - t),
                !0)
            }
            domAtPos(e) {
                return 0 == e ? Lr.before(this.dom) : Lr.after(this.dom, e == this.length)
            }
            split(e) {
                let t = this.length - e;
                return this.length = e,
                new fo(this.widget,t,this.type)
            }
            get children() {
                return po
            }
            sync() {
                this.dom && this.widget.updateDOM(this.dom) || (this.setDOM(this.widget.toDOM(this.editorView)),
                this.dom.contentEditable = "false")
            }
            get overrideDOMText() {
                return this.parent ? this.parent.view.state.doc.slice(this.posAtStart, this.posAtEnd) : kn.empty
            }
            domBoundsAround() {
                return null
            }
            match(e) {
                return e instanceof fo && e.type == this.type && e.widget.constructor == this.widget.constructor && (e.widget.eq(this.widget) || this.markDirty(!0),
                this.widget = e.widget,
                this.length = e.length,
                this.breakAfter = e.breakAfter,
                !0)
            }
            ignoreMutation() {
                return !0
            }
            ignoreEvent(e) {
                return this.widget.ignoreEvent(e)
            }
        }
        class go {
            constructor(e, t, n) {
                this.doc = e,
                this.pos = t,
                this.end = n,
                this.content = [],
                this.curLine = null,
                this.breakAtStart = 0,
                this.openStart = -1,
                this.openEnd = -1,
                this.text = "",
                this.textOff = 0,
                this.cursor = e.iter(),
                this.skip = t
            }
            posCovered() {
                if (0 == this.content.length)
                    return !this.breakAtStart && this.doc.lineAt(this.pos).from != this.pos;
                let e = this.content[this.content.length - 1];
                return !(e.breakAfter || e instanceof fo && e.type == ro.WidgetBefore)
            }
            getLine() {
                return this.curLine || this.content.push(this.curLine = new ho),
                this.curLine
            }
            addWidget(e) {
                this.curLine = null,
                this.content.push(e)
            }
            finish() {
                this.posCovered() || this.getLine()
            }
            wrapMarks(e, t) {
                for (let n of t)
                    e = new $r(n,[e],e.length);
                return e
            }
            buildText(e, t, n) {
                for (; e > 0; ) {
                    if (this.textOff == this.text.length) {
                        let {value: t, lineBreak: n, done: i} = this.cursor.next(this.skip);
                        if (this.skip = 0,
                        i)
                            throw new Error("Ran out of text content when drawing inline views");
                        if (n) {
                            this.posCovered() || this.getLine(),
                            this.content.length ? this.content[this.content.length - 1].breakAfter = 1 : this.breakAtStart = 1,
                            this.curLine = null,
                            e--;
                            continue
                        }
                        this.text = t,
                        this.textOff = 0
                    }
                    let i = Math.min(this.text.length - this.textOff, e, 512);
                    this.getLine().append(this.wrapMarks(new Wr(this.text.slice(this.textOff, this.textOff + i)), t), n),
                    this.textOff += i,
                    e -= i,
                    n = 0
                }
            }
            span(e, t, n, i) {
                this.buildText(t - e, n, i),
                this.pos = t,
                this.openStart < 0 && (this.openStart = i)
            }
            point(e, t, n, i, r) {
                let o = t - e;
                if (n instanceof lo)
                    if (n.block) {
                        let {type: e} = n;
                        e != ro.WidgetAfter || this.posCovered() || this.getLine(),
                        this.addWidget(new fo(n.widget || new mo("div"),o,e))
                    } else {
                        let e = this.wrapMarks(Yr.create(n.widget || new mo("span"), o, n.startSide), i);
                        this.getLine().append(e, r)
                    }
                else
                    this.doc.lineAt(this.pos).from == this.pos && this.getLine().addLineDeco(n);
                o && (this.textOff + o <= this.text.length ? this.textOff += o : (this.skip += o - (this.text.length - this.textOff),
                this.text = "",
                this.textOff = 0),
                this.pos = t),
                this.openStart < 0 && (this.openStart = r)
            }
            static build(e, t, n, i) {
                let r = new go(e,t,n);
                return r.openEnd = qi.spans(i, t, n, r),
                r.openStart < 0 && (r.openStart = r.openEnd),
                r.finish(),
                r
            }
        }
        class mo extends io {
            constructor(e) {
                super(),
                this.tag = e
            }
            eq(e) {
                return e.tag == this.tag
            }
            toDOM() {
                return document.createElement(this.tag)
            }
            updateDOM(e) {
                return e.nodeName.toLowerCase() == this.tag
            }
        }
        const vo = []
          , yo = jn.define()
          , bo = jn.define()
          , wo = jn.define()
          , ko = jn.define()
          , Co = jn.define()
          , xo = jn.define();
        function Eo(e, t, n) {
            let i = e.facet(ko);
            i.length ? i[0](t) : window.onerror ? window.onerror(String(t), n, void 0, void 0, t) : n ? console.error(n + ":", t) : console.error(t)
        }
        const So = jn.define({
            combine: e=>!e.length || e[0]
        });
        class Lo {
            constructor(e, t) {
                this.field = e,
                this.get = t
            }
        }
        class Do {
            from(e) {
                return new Lo(this,e)
            }
            static define() {
                return new Do
            }
        }
        Do.decorations = Do.define(),
        Do.atomicRanges = Do.define(),
        Do.scrollMargins = Do.define();
        let Mo = 0;
        const Ao = jn.define();
        class To {
            constructor(e, t, n) {
                this.id = e,
                this.create = t,
                this.fields = n,
                this.extension = Ao.of(this)
            }
            static define(e, t) {
                let {eventHandlers: n, provide: i, decorations: r} = t || {}
                  , o = [];
                if (i)
                    for (let e of Array.isArray(i) ? i : [i])
                        o.push(e);
                return n && o.push(Fo.from((e=>({
                    plugin: e,
                    handlers: n
                })))),
                r && o.push(Do.decorations.from(r)),
                new To(Mo++,e,o)
            }
            static fromClass(e, t) {
                return To.define((t=>new e(t)), t)
            }
        }
        const Fo = Do.define();
        class Po {
            constructor(e) {
                this.spec = e,
                this.mustUpdate = null,
                this.value = null
            }
            takeField(e, t) {
                for (let {field: n, get: i} of this.spec.fields)
                    n == e && t.push(i(this.value))
            }
            update(e) {
                if (this.value) {
                    if (this.mustUpdate) {
                        let e = this.mustUpdate;
                        if (this.mustUpdate = null,
                        !this.value.update)
                            return this;
                        try {
                            this.value.update(e)
                        } catch (t) {
                            if (Eo(e.state, t, "CodeMirror plugin crashed"),
                            this.value.destroy)
                                try {
                                    this.value.destroy()
                                } catch (e) {}
                            return Po.dummy
                        }
                    }
                } else
                    try {
                        this.value = this.spec.create(e)
                    } catch (t) {
                        return Eo(e.state, t, "CodeMirror plugin crashed"),
                        Po.dummy
                    }
                return this
            }
            destroy(e) {
                var t;
                if (null === (t = this.value) || void 0 === t ? void 0 : t.destroy)
                    try {
                        this.value.destroy()
                    } catch (t) {
                        Eo(e.state, t, "CodeMirror plugin crashed")
                    }
            }
        }
        Po.dummy = new Po(To.define((()=>({}))));
        const Oo = jn.define({
            combine: e=>e.reduce(((e,t)=>eo(t, e)), {})
        })
          , Io = jn.define({
            combine: e=>e.reduce(((e,t)=>eo(t, e)), {})
        })
          , No = jn.define()
          , Ro = jn.define();
        class Bo {
            constructor(e, t, n, i) {
                this.fromA = e,
                this.toA = t,
                this.fromB = n,
                this.toB = i
            }
            join(e) {
                return new Bo(Math.min(this.fromA, e.fromA),Math.max(this.toA, e.toA),Math.min(this.fromB, e.fromB),Math.max(this.toB, e.toB))
            }
            addToSet(e) {
                let t = e.length
                  , n = this;
                for (; t > 0; t--) {
                    let i = e[t - 1];
                    if (!(i.fromA > n.toA)) {
                        if (i.toA < n.fromA)
                            break;
                        n = n.join(i),
                        e.splice(t - 1, 1)
                    }
                }
                return e.splice(t, 0, n),
                e
            }
            static extendWithRanges(e, t) {
                if (0 == t.length)
                    return e;
                let n = [];
                for (let i = 0, r = 0, o = 0, s = 0; ; i++) {
                    let a = i == e.length ? null : e[i]
                      , l = o - s
                      , c = a ? a.fromB : 1e9;
                    for (; r < t.length && t[r] < c; ) {
                        let e = t[r]
                          , i = t[r + 1]
                          , o = Math.max(s, e)
                          , a = Math.min(c, i);
                        if (o <= a && new Bo(o + l,a + l,o,a).addToSet(n),
                        i > c)
                            break;
                        r += 2
                    }
                    if (!a)
                        return n;
                    new Bo(a.fromA,a.toA,a.fromB,a.toB).addToSet(n),
                    o = a.toA,
                    s = a.toB
                }
            }
        }
        class zo {
            constructor(e, t, n=vo) {
                this.view = e,
                this.state = t,
                this.transactions = n,
                this.flags = 0,
                this.startState = e.state,
                this.changes = Pn.empty(this.startState.doc.length);
                for (let e of n)
                    this.changes = this.changes.compose(e.changes);
                let i = [];
                this.changes.iterChangedRanges(((e,t,n,r)=>i.push(new Bo(e,t,n,r)))),
                this.changedRanges = i;
                let r = e.hasFocus;
                r != e.inputState.notifiedFocused && (e.inputState.notifiedFocused = r,
                this.flags |= 1),
                this.docChanged && (this.flags |= 2)
            }
            get viewportChanged() {
                return (4 & this.flags) > 0
            }
            get heightChanged() {
                return (2 & this.flags) > 0
            }
            get geometryChanged() {
                return this.docChanged || (18 & this.flags) > 0
            }
            get focusChanged() {
                return (1 & this.flags) > 0
            }
            get docChanged() {
                return this.transactions.some((e=>e.docChanged))
            }
            get selectionSet() {
                return this.transactions.some((e=>e.selection))
            }
            get empty() {
                return 0 == this.flags && 0 == this.transactions.length
            }
        }
        class Ho extends Mr {
            constructor(e) {
                super(),
                this.view = e,
                this.compositionDeco = oo.none,
                this.decorations = [],
                this.minWidth = 0,
                this.minWidthFrom = 0,
                this.minWidthTo = 0,
                this.impreciseAnchor = null,
                this.impreciseHead = null,
                this.setDOM(e.contentDOM),
                this.children = [new ho],
                this.children[0].setParent(this),
                this.updateInner([new Bo(0,0,0,e.state.doc.length)], this.updateDeco(), 0)
            }
            get root() {
                return this.view.root
            }
            get editorView() {
                return this.view
            }
            get length() {
                return this.view.state.doc.length
            }
            update(e) {
                let t = e.changedRanges;
                this.minWidth > 0 && t.length && (t.every((({fromA: e, toA: t})=>t < this.minWidthFrom || e > this.minWidthTo)) ? (this.minWidthFrom = e.changes.mapPos(this.minWidthFrom, 1),
                this.minWidthTo = e.changes.mapPos(this.minWidthTo, 1)) : this.minWidth = 0),
                this.view.inputState.composing < 0 ? this.compositionDeco = oo.none : e.transactions.length && (this.compositionDeco = function(e, t) {
                    let n = e.observer.selectionRange
                      , i = n.focusNode && Uo(n.focusNode, n.focusOffset, 0);
                    if (!i)
                        return oo.none;
                    let r, o, s = e.docView.nearest(i), a = i;
                    if (s instanceof jr) {
                        for (; s.parent instanceof jr; )
                            s = s.parent;
                        r = s.posAtStart,
                        o = r + s.length,
                        a = s.dom
                    } else {
                        if (!(s instanceof ho))
                            return oo.none;
                        {
                            for (; a.parentNode != s.dom; )
                                a = a.parentNode;
                            let e = a.previousSibling;
                            for (; e && !Mr.get(e); )
                                e = e.previousSibling;
                            r = o = e ? Mr.get(e).posAtEnd : s.posAtStart
                        }
                    }
                    let l = t.mapPos(r, 1)
                      , c = Math.max(l, t.mapPos(o, -1))
                      , u = i.nodeValue
                      , {state: h} = e;
                    if (c - l < u.length)
                        if (h.sliceDoc(l, Math.min(h.doc.length, l + u.length)) == u)
                            c = l + u.length;
                        else {
                            if (h.sliceDoc(Math.max(0, c - u.length), c) != u)
                                return oo.none;
                            l = c - u.length
                        }
                    else if (h.sliceDoc(l, c) != u)
                        return oo.none;
                    return oo.set(oo.replace({
                        widget: new qo(a,i)
                    }).range(l, c))
                }(this.view, e.changes));
                let n = (Ur.ie || Ur.chrome) && !this.compositionDeco.size && e && e.state.doc.lines != e.startState.doc.lines
                  , i = this.decorations
                  , r = this.updateDeco()
                  , o = function(e, t, n) {
                    let i = new _o;
                    return qi.compare(e, t, n, i),
                    i.changes
                }(i, r, e.changes);
                t = Bo.extendWithRanges(t, o);
                let s = e.transactions.some((e=>"pointerselection" == e.annotation(yi.userEvent)));
                return 0 == this.dirty && 0 == t.length && !(12 & e.flags) && e.state.selection.main.from >= this.view.viewport.from && e.state.selection.main.to <= this.view.viewport.to ? (this.updateSelection(n, s),
                !1) : (this.updateInner(t, r, e.startState.doc.length, n, s),
                !0)
            }
            updateInner(e, t, n, i=!1, r=!1) {
                this.updateChildren(e, t, n);
                let {observer: o} = this.view;
                o.ignore((()=>{
                    this.dom.style.height = this.view.viewState.domHeight + "px",
                    this.dom.style.minWidth = this.minWidth ? this.minWidth + "px" : "";
                    let e = Ur.chrome || Ur.ios ? {
                        node: o.selectionRange.focusNode,
                        written: !1
                    } : void 0;
                    this.sync(e),
                    this.dirty = 0,
                    e && (e.written || o.selectionRange.focusNode != e.node) && (i = !0),
                    this.updateSelection(i, r),
                    this.dom.style.height = ""
                }
                ))
            }
            updateChildren(e, t, n) {
                let i = this.childCursor(n);
                for (let n = e.length - 1; ; n--) {
                    let r = n >= 0 ? e[n] : null;
                    if (!r)
                        break;
                    let {fromA: o, toA: s, fromB: a, toB: l} = r
                      , {content: c, breakAtStart: u, openStart: h, openEnd: p} = go.build(this.view.state.doc, a, l, t)
                      , {i: d, off: f} = i.findPos(s, 1)
                      , {i: g, off: m} = i.findPos(o, -1);
                    this.replaceRange(g, m, d, f, c, u, h, p)
                }
            }
            replaceRange(e, t, n, i, r, o, s, a) {
                let l = this.children[e]
                  , c = r.length ? r[r.length - 1] : null
                  , u = c ? c.breakAfter : o;
                if (e == n && !o && !u && r.length < 2 && l.merge(t, i, r.length ? c : null, 0 == t, s, a))
                    return;
                let h = this.children[n];
                for (i < h.length || h.children.length && 0 == h.children[h.children.length - 1].length ? (e == n && (h = h.split(i),
                i = 0),
                !u && c && h.merge(0, i, c, !0, 0, a) ? r[r.length - 1] = h : ((i || h.children.length && 0 == h.children[0].length) && h.merge(0, i, null, !1, 0, a),
                r.push(h))) : h.breakAfter && (c ? c.breakAfter = 1 : o = 1),
                n++,
                l.breakAfter = o,
                t > 0 && (!o && r.length && l.merge(t, l.length, r[0], !1, s, 0) ? l.breakAfter = r.shift().breakAfter : (t < l.length || l.children.length && 0 == l.children[l.children.length - 1].length) && l.merge(t, l.length, null, !1, s, 0),
                e++); e < n && r.length; )
                    if (this.children[n - 1].match(r[r.length - 1]))
                        n--,
                        r.pop();
                    else {
                        if (!this.children[e].match(r[0]))
                            break;
                        e++,
                        r.shift()
                    }
                (e < n || r.length) && this.replaceChildren(e, n, r)
            }
            updateSelection(e=!1, t=!1) {
                if (!t && !this.mayControlSelection() || Ur.ios && this.view.inputState.rapidCompositionStart)
                    return;
                let n = this.view.state.selection.main
                  , i = this.domAtPos(n.anchor)
                  , r = n.empty ? i : this.domAtPos(n.head);
                if (Ur.gecko && n.empty && function(e) {
                    return 1 == e.node.nodeType && e.node.firstChild && (0 == e.offset || "false" == e.node.childNodes[e.offset - 1].contentEditable) && (e.offset == e.node.childNodes.length || "false" == e.node.childNodes[e.offset].contentEditable)
                }(i)) {
                    let t = document.createTextNode("");
                    this.view.observer.ignore((()=>i.node.insertBefore(t, i.node.childNodes[i.offset] || null))),
                    i = r = new Lr(t,0),
                    e = !0
                }
                let o = this.view.observer.selectionRange;
                !e && o.focusNode && dr(i.node, i.offset, o.anchorNode, o.anchorOffset) && dr(r.node, r.offset, o.focusNode, o.focusOffset) || (this.view.observer.ignore((()=>{
                    let e = cr(this.root);
                    if (n.empty) {
                        if (Ur.gecko) {
                            let e = (t = i.node,
                            s = i.offset,
                            1 != t.nodeType ? 0 : (s && "false" == t.childNodes[s - 1].contentEditable ? 1 : 0) | (s < t.childNodes.length && "false" == t.childNodes[s].contentEditable ? 2 : 0));
                            if (e && 3 != e) {
                                let t = Uo(i.node, i.offset, 1 == e ? 1 : -1);
                                t && (i = new Lr(t,1 == e ? 0 : t.nodeValue.length))
                            }
                        }
                        e.collapse(i.node, i.offset),
                        null != n.bidiLevel && null != o.cursorBidiLevel && (o.cursorBidiLevel = n.bidiLevel)
                    } else if (e.extend)
                        e.collapse(i.node, i.offset),
                        e.extend(r.node, r.offset);
                    else {
                        let t = document.createRange();
                        n.anchor > n.head && ([i,r] = [r, i]),
                        t.setEnd(r.node, r.offset),
                        t.setStart(i.node, i.offset),
                        e.removeAllRanges(),
                        e.addRange(t)
                    }
                    var t, s
                }
                )),
                this.view.observer.setSelectionRange(i, r)),
                this.impreciseAnchor = i.precise ? null : new Lr(o.anchorNode,o.anchorOffset),
                this.impreciseHead = r.precise ? null : new Lr(o.focusNode,o.focusOffset)
            }
            enforceCursorAssoc() {
                if (this.view.composing)
                    return;
                let e = this.view.state.selection.main
                  , t = cr(this.root);
                if (!e.empty || !e.assoc || !t.modify)
                    return;
                let n = ho.find(this, e.head);
                if (!n)
                    return;
                let i = n.posAtStart;
                if (e.head == i || e.head == i + n.length)
                    return;
                let r = this.coordsAt(e.head, -1)
                  , o = this.coordsAt(e.head, 1);
                if (!r || !o || r.bottom > o.top)
                    return;
                let s = this.domAtPos(e.head + e.assoc);
                t.collapse(s.node, s.offset),
                t.modify("move", e.assoc < 0 ? "forward" : "backward", "lineboundary")
            }
            mayControlSelection() {
                return this.view.state.facet(So) ? this.root.activeElement == this.dom : hr(this.dom, this.view.observer.selectionRange)
            }
            nearest(e) {
                for (let t = e; t; ) {
                    let e = Mr.get(t);
                    if (e && e.rootView == this)
                        return e;
                    t = t.parentNode
                }
                return null
            }
            posFromDOM(e, t) {
                let n = this.nearest(e);
                if (!n)
                    throw new RangeError("Trying to find position for a DOM position outside of the document");
                return n.localPosFromDOM(e, t) + n.posAtStart
            }
            domAtPos(e) {
                let {i: t, off: n} = this.childCursor().findPos(e, -1);
                for (; t < this.children.length - 1; ) {
                    let e = this.children[t];
                    if (n < e.length || e instanceof ho)
                        break;
                    t++,
                    n = 0
                }
                return this.children[t].domAtPos(n)
            }
            coordsAt(e, t) {
                for (let n = this.length, i = this.children.length - 1; ; i--) {
                    let r = this.children[i]
                      , o = n - r.breakAfter - r.length;
                    if (e > o || e == o && r.type != ro.WidgetBefore && r.type != ro.WidgetAfter && (!i || 2 == t || this.children[i - 1].breakAfter || this.children[i - 1].type == ro.WidgetBefore && t > -2))
                        return r.coordsAt(e - o, t);
                    n = o
                }
            }
            measureVisibleLineHeights() {
                let e = []
                  , {from: t, to: n} = this.view.viewState.viewport
                  , i = Math.max(this.view.scrollDOM.clientWidth, this.minWidth) + 1;
                for (let r = 0, o = 0; o < this.children.length; o++) {
                    let s = this.children[o]
                      , a = r + s.length;
                    if (a > n)
                        break;
                    if (r >= t) {
                        e.push(s.dom.getBoundingClientRect().height);
                        let t = s.dom.scrollWidth;
                        t > i && (this.minWidth = i = t,
                        this.minWidthFrom = r,
                        this.minWidthTo = a)
                    }
                    r = a + s.breakAfter
                }
                return e
            }
            measureTextSize() {
                for (let e of this.children)
                    if (e instanceof ho) {
                        let t = e.measureTextSize();
                        if (t)
                            return t
                    }
                let e, t, n = document.createElement("div");
                return n.className = "cm-line",
                n.textContent = "abc def ghi jkl mno pqr stu",
                this.view.observer.ignore((()=>{
                    this.dom.appendChild(n);
                    let i = pr(n.firstChild)[0];
                    e = n.getBoundingClientRect().height,
                    t = i ? i.width / 27 : 7,
                    n.remove()
                }
                )),
                {
                    lineHeight: e,
                    charWidth: t
                }
            }
            childCursor(e=this.length) {
                let t = this.children.length;
                return t && (e -= this.children[--t].length),
                new Fr(this.children,e,t)
            }
            computeBlockGapDeco() {
                let e = []
                  , t = this.view.viewState;
                for (let n = 0, i = 0; ; i++) {
                    let r = i == t.viewports.length ? null : t.viewports[i]
                      , o = r ? r.from - 1 : this.length;
                    if (o > n) {
                        let i = t.lineAt(o, 0).bottom - t.lineAt(n, 0).top;
                        e.push(oo.replace({
                            widget: new Vo(i),
                            block: !0,
                            inclusive: !0
                        }).range(n, o))
                    }
                    if (!r)
                        break;
                    n = r.to + 1
                }
                return oo.set(e)
            }
            updateDeco() {
                return this.decorations = [...this.view.pluginField(Do.decorations), ...this.view.state.facet(No), this.compositionDeco, this.computeBlockGapDeco(), this.view.viewState.lineGapDeco]
            }
            scrollPosIntoView(e, t) {
                let n = this.coordsAt(e, t);
                if (!n)
                    return;
                let i = 0
                  , r = 0
                  , o = 0
                  , s = 0;
                for (let e of this.view.pluginField(Do.scrollMargins))
                    if (e) {
                        let {left: t, right: n, top: a, bottom: l} = e;
                        null != t && (i = Math.max(i, t)),
                        null != n && (r = Math.max(r, n)),
                        null != a && (o = Math.max(o, a)),
                        null != l && (s = Math.max(s, l))
                    }
                !function(e, t) {
                    let n = e.ownerDocument.defaultView;
                    for (let i = e.parentNode; i; )
                        if (1 == i.nodeType) {
                            let e, r = i == document.body;
                            if (r)
                                e = br(n);
                            else {
                                if (i.scrollHeight <= i.clientHeight && i.scrollWidth <= i.clientWidth) {
                                    i = i.parentNode;
                                    continue
                                }
                                let t = i.getBoundingClientRect();
                                e = {
                                    left: t.left,
                                    right: t.left + i.clientWidth,
                                    top: t.top,
                                    bottom: t.top + i.clientHeight
                                }
                            }
                            let o = 0
                              , s = 0;
                            if (t.top < e.top ? s = -(e.top - t.top + 5) : t.bottom > e.bottom && (s = t.bottom - e.bottom + 5),
                            t.left < e.left ? o = -(e.left - t.left + 5) : t.right > e.right && (o = t.right - e.right + 5),
                            o || s)
                                if (r)
                                    n.scrollBy(o, s);
                                else {
                                    if (s) {
                                        let e = i.scrollTop;
                                        i.scrollTop += s,
                                        s = i.scrollTop - e
                                    }
                                    if (o) {
                                        let e = i.scrollLeft;
                                        i.scrollLeft += o,
                                        o = i.scrollLeft - e
                                    }
                                    t = {
                                        left: t.left - o,
                                        top: t.top - s,
                                        right: t.right - o,
                                        bottom: t.bottom - s
                                    }
                                }
                            if (r)
                                break;
                            i = i.assignedSlot || i.parentNode
                        } else {
                            if (11 != i.nodeType)
                                break;
                            i = i.host
                        }
                }(this.dom, {
                    left: n.left - i,
                    top: n.top - o,
                    right: n.right + r,
                    bottom: n.bottom + s
                })
            }
        }
        class Vo extends io {
            constructor(e) {
                super(),
                this.height = e
            }
            toDOM() {
                let e = document.createElement("div");
                return this.updateDOM(e),
                e
            }
            eq(e) {
                return e.height == this.height
            }
            updateDOM(e) {
                return e.style.height = this.height + "px",
                !0
            }
            get estimatedHeight() {
                return this.height
            }
        }
        class qo extends io {
            constructor(e, t) {
                super(),
                this.top = e,
                this.text = t
            }
            eq(e) {
                return this.top == e.top && this.text == e.text
            }
            toDOM() {
                return this.top
            }
            ignoreEvent() {
                return !1
            }
            get customView() {
                return Kr
            }
        }
        function Uo(e, t, n) {
            for (; ; ) {
                if (3 == e.nodeType)
                    return e;
                if (1 == e.nodeType && t > 0 && n <= 0)
                    t = mr(e = e.childNodes[t - 1]);
                else {
                    if (!(1 == e.nodeType && t < e.childNodes.length && n >= 0))
                        return null;
                    e = e.childNodes[t],
                    t = 0
                }
            }
        }
        class _o {
            constructor() {
                this.changes = []
            }
            compareRange(e, t) {
                uo(e, t, this.changes)
            }
            comparePoint(e, t) {
                uo(e, t, this.changes)
            }
        }
        var jo = function(e) {
            return e[e.LTR = 0] = "LTR",
            e[e.RTL = 1] = "RTL",
            e
        }(jo || (jo = {}));
        const Wo = jo.LTR
          , $o = jo.RTL;
        function Go(e) {
            let t = [];
            for (let n = 0; n < e.length; n++)
                t.push(1 << +e[n]);
            return t
        }
        const Yo = Go("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008")
          , Ko = Go("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333")
          , Qo = Object.create(null)
          , Jo = [];
        for (let e of ["()", "[]", "{}"]) {
            let t = e.charCodeAt(0)
              , n = e.charCodeAt(1);
            Qo[t] = n,
            Qo[n] = -t
        }
        const Xo = /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;
        class Zo {
            constructor(e, t, n) {
                this.from = e,
                this.to = t,
                this.level = n
            }
            get dir() {
                return this.level % 2 ? $o : Wo
            }
            side(e, t) {
                return this.dir == t == e ? this.to : this.from
            }
            static find(e, t, n, i) {
                let r = -1;
                for (let o = 0; o < e.length; o++) {
                    let s = e[o];
                    if (s.from <= t && s.to >= t) {
                        if (s.level == n)
                            return o;
                        (r < 0 || (0 != i ? i < 0 ? s.from < t : s.to > t : e[r].level > s.level)) && (r = o)
                    }
                }
                if (r < 0)
                    throw new RangeError("Index out of range");
                return r
            }
        }
        const es = [];
        function ts(e, t) {
            let n = e.length
              , i = t == Wo ? 1 : 2
              , r = t == Wo ? 2 : 1;
            if (!e || 1 == i && !Xo.test(e))
                return ns(n);
            for (let t = 0, r = i, s = i; t < n; t++) {
                let n = (o = e.charCodeAt(t)) <= 247 ? Yo[o] : 1424 <= o && o <= 1524 ? 2 : 1536 <= o && o <= 1785 ? Ko[o - 1536] : 1774 <= o && o <= 2220 ? 4 : 8192 <= o && o <= 8203 || 8204 == o ? 256 : 1;
                512 == n ? n = r : 8 == n && 4 == s && (n = 16),
                es[t] = 4 == n ? 2 : n,
                7 & n && (s = n),
                r = n
            }
            var o;
            for (let e = 0, t = i, r = i; e < n; e++) {
                let i = es[e];
                if (128 == i)
                    e < n - 1 && t == es[e + 1] && 24 & t ? i = es[e] = t : es[e] = 256;
                else if (64 == i) {
                    let i = e + 1;
                    for (; i < n && 64 == es[i]; )
                        i++;
                    let o = e && 8 == t || i < n && 8 == es[i] ? 1 == r ? 1 : 8 : 256;
                    for (let t = e; t < i; t++)
                        es[t] = o;
                    e = i - 1
                } else
                    8 == i && 1 == r && (es[e] = 1);
                t = i,
                7 & i && (r = i)
            }
            for (let t, o, s, a = 0, l = 0, c = 0; a < n; a++)
                if (o = Qo[t = e.charCodeAt(a)])
                    if (o < 0) {
                        for (let e = l - 3; e >= 0; e -= 3)
                            if (Jo[e + 1] == -o) {
                                let t = Jo[e + 2]
                                  , n = 2 & t ? i : 4 & t ? 1 & t ? r : i : 0;
                                n && (es[a] = es[Jo[e]] = n),
                                l = e;
                                break
                            }
                    } else {
                        if (189 == Jo.length)
                            break;
                        Jo[l++] = a,
                        Jo[l++] = t,
                        Jo[l++] = c
                    }
                else if (2 == (s = es[a]) || 1 == s) {
                    let e = s == i;
                    c = e ? 0 : 1;
                    for (let t = l - 3; t >= 0; t -= 3) {
                        let n = Jo[t + 2];
                        if (2 & n)
                            break;
                        if (e)
                            Jo[t + 2] |= 2;
                        else {
                            if (4 & n)
                                break;
                            Jo[t + 2] |= 4
                        }
                    }
                }
            for (let e = 0; e < n; e++)
                if (256 == es[e]) {
                    let t = e + 1;
                    for (; t < n && 256 == es[t]; )
                        t++;
                    let r = 1 == (e ? es[e - 1] : i)
                      , o = r == (1 == (t < n ? es[t] : i)) ? r ? 1 : 2 : i;
                    for (let n = e; n < t; n++)
                        es[n] = o;
                    e = t - 1
                }
            let s = [];
            if (1 == i)
                for (let e = 0; e < n; ) {
                    let t = e
                      , i = 1 != es[e++];
                    for (; e < n && i == (1 != es[e]); )
                        e++;
                    if (i)
                        for (let n = e; n > t; ) {
                            let e = n
                              , i = 2 != es[--n];
                            for (; n > t && i == (2 != es[n - 1]); )
                                n--;
                            s.push(new Zo(n,e,i ? 2 : 1))
                        }
                    else
                        s.push(new Zo(t,e,0))
                }
            else
                for (let e = 0; e < n; ) {
                    let t = e
                      , i = 2 == es[e++];
                    for (; e < n && i == (2 == es[e]); )
                        e++;
                    s.push(new Zo(t,e,i ? 1 : 2))
                }
            return s
        }
        function ns(e) {
            return [new Zo(0,e,0)]
        }
        let is = "";
        function rs(e, t, n, i, r) {
            var o;
            let s = i.head - e.from
              , a = -1;
            if (0 == s) {
                if (!r || !e.length)
                    return null;
                t[0].level != n && (s = t[0].side(!1, n),
                a = 0)
            } else if (s == e.length) {
                if (r)
                    return null;
                let e = t[t.length - 1];
                e.level != n && (s = e.side(!0, n),
                a = t.length - 1)
            }
            a < 0 && (a = Zo.find(t, s, null !== (o = i.bidiLevel) && void 0 !== o ? o : -1, i.assoc));
            let l = t[a];
            s == l.side(r, n) && (l = t[a += r ? 1 : -1],
            s = l.side(!r, n));
            let c = r == (l.dir == n)
              , u = hn(e.text, s, c);
            if (is = e.text.slice(Math.min(s, u), Math.max(s, u)),
            u != l.side(r, n))
                return Vn.cursor(u + e.from, c ? -1 : 1, l.level);
            let h = a == (r ? t.length - 1 : 0) ? null : t[a + (r ? 1 : -1)];
            return h || l.level == n ? h && h.level < l.level ? Vn.cursor(h.side(!r, n) + e.from, r ? 1 : -1, h.level) : Vn.cursor(u + e.from, r ? -1 : 1, l.level) : Vn.cursor(r ? e.to : e.from, r ? -1 : 1, n)
        }
        function os(e, t) {
            return t.left > e ? t.left - e : Math.max(0, e - t.right)
        }
        function ss(e, t) {
            return t.top > e ? t.top - e : Math.max(0, e - t.bottom)
        }
        function as(e, t) {
            return e.top < t.bottom - 1 && e.bottom > t.top + 1
        }
        function ls(e, t) {
            return t < e.top ? {
                top: t,
                left: e.left,
                right: e.right,
                bottom: e.bottom
            } : e
        }
        function cs(e, t) {
            return t > e.bottom ? {
                top: e.top,
                left: e.left,
                right: e.right,
                bottom: t
            } : e
        }
        function us(e, t, n) {
            let i, r, o, s, a, l, c, u;
            for (let h = e.firstChild; h; h = h.nextSibling) {
                let e = pr(h);
                for (let p = 0; p < e.length; p++) {
                    let d = e[p];
                    r && as(r, d) && (d = ls(cs(d, r.bottom), r.top));
                    let f = os(t, d)
                      , g = ss(n, d);
                    if (0 == f && 0 == g)
                        return 3 == h.nodeType ? hs(h, t, n) : us(h, t, n);
                    (!i || s > g || s == g && o > f) && (i = h,
                    r = d,
                    o = f,
                    s = g),
                    0 == f ? n > d.bottom && (!c || c.bottom < d.bottom) ? (a = h,
                    c = d) : n < d.top && (!u || u.top > d.top) && (l = h,
                    u = d) : c && as(c, d) ? c = cs(c, d.bottom) : u && as(u, d) && (u = ls(u, d.top))
                }
            }
            if (c && c.bottom >= n ? (i = a,
            r = c) : u && u.top <= n && (i = l,
            r = u),
            !i)
                return {
                    node: e,
                    offset: 0
                };
            let h = Math.max(r.left, Math.min(r.right, t));
            return 3 == i.nodeType ? hs(i, h, n) : o || "true" != i.contentEditable ? {
                node: e,
                offset: Array.prototype.indexOf.call(e.childNodes, i) + (t >= (r.left + r.right) / 2 ? 1 : 0)
            } : us(i, h, n)
        }
        function hs(e, t, n) {
            let i = e.nodeValue.length
              , r = -1
              , o = 1e9
              , s = 0;
            for (let a = 0; a < i; a++) {
                let i = Er(e, a, a + 1).getClientRects();
                for (let l = 0; l < i.length; l++) {
                    let c = i[l];
                    if (c.top == c.bottom)
                        continue;
                    s || (s = t - c.left);
                    let u = (c.top > n ? c.top - n : n - c.bottom) - 1;
                    if (c.left - 1 <= t && c.right + 1 >= t && u < o) {
                        let n = t >= (c.left + c.right) / 2
                          , i = n;
                        if (Ur.chrome || Ur.gecko) {
                            Er(e, a).getBoundingClientRect().left == c.right && (i = !n)
                        }
                        if (u <= 0)
                            return {
                                node: e,
                                offset: a + (i ? 1 : 0)
                            };
                        r = a + (i ? 1 : 0),
                        o = u
                    }
                }
            }
            return {
                node: e,
                offset: r > -1 ? r : s > 0 ? e.nodeValue.length : 0
            }
        }
        function ps(e, {x: t, y: n}, i=-1) {
            let r, o = e.contentDOM.getBoundingClientRect(), s = e.defaultLineHeight / 2;
            for (let t = !1; ; ) {
                if (r = e.blockAtHeight(n, o.top),
                r.top > n || r.bottom < n) {
                    if (i = r.top > n ? -1 : 1,
                    n = Math.min(r.bottom - s, Math.max(r.top + s, n)),
                    t)
                        return null;
                    t = !0
                }
                if (r.type == ro.Text)
                    break;
                n = i > 0 ? r.bottom + s : r.top - s
            }
            let a = r.from;
            if (a < e.viewport.from)
                return 0 == e.viewport.from ? 0 : null;
            if (a > e.viewport.to)
                return e.viewport.to == e.state.doc.length ? e.state.doc.length : null;
            t = Math.max(o.left + 1, Math.min(o.right - 1, t));
            let l, c = e.root, u = c.elementFromPoint(t, n), h = -1;
            if (u && e.contentDOM.contains(u) && !(e.docView.nearest(u)instanceof Yr))
                if (c.caretPositionFromPoint) {
                    let e = c.caretPositionFromPoint(t, n);
                    e && ({offsetNode: l, offset: h} = e)
                } else if (c.caretRangeFromPoint) {
                    let e = c.caretRangeFromPoint(t, n);
                    e && (({startContainer: l, startOffset: h} = e),
                    Ur.safari && function(e, t, n) {
                        let i;
                        if (3 != e.nodeType || t != (i = e.nodeValue.length))
                            return !1;
                        for (let t = e.nextSibling; t; t = t.nextSibling)
                            if (1 != t.nodeType || "BR" != t.nodeName)
                                return !1;
                        return Er(e, i - 1, i).getBoundingClientRect().left > n
                    }(l, h, t) && (l = void 0))
                }
            if (!l || !e.docView.dom.contains(l)) {
                let i = ho.find(e.docView, a);
                ({node: l, offset: h} = us(i.dom, t, n))
            }
            return e.docView.posFromDOM(l, h)
        }
        function ds(e, t, n, i) {
            let r = e.state.doc.lineAt(t.head)
              , o = e.bidiSpans(r);
            for (let s = t, a = null; ; ) {
                let t = rs(r, o, e.textDirection, s, n)
                  , l = is;
                if (!t) {
                    if (r.number == (n ? e.state.doc.lines : 1))
                        return s;
                    l = "\n",
                    r = e.state.doc.line(r.number + (n ? 1 : -1)),
                    o = e.bidiSpans(r),
                    t = Vn.cursor(n ? r.from : r.to)
                }
                if (a) {
                    if (!a(l))
                        return s
                } else {
                    if (!i)
                        return t;
                    a = i(l)
                }
                s = t
            }
        }
        function fs(e, t, n) {
            let i = e.pluginField(Do.atomicRanges);
            for (; ; ) {
                let e = !1;
                for (let r of i)
                    r.between(n.from - 1, n.from + 1, ((i,r,o)=>{
                        n.from > i && n.from < r && (n = t.from > n.from ? Vn.cursor(i, 1) : Vn.cursor(r, -1),
                        e = !0)
                    }
                    ));
                if (!e)
                    return n
            }
        }
        class gs {
            constructor(e) {
                this.lastKeyCode = 0,
                this.lastKeyTime = 0,
                this.pendingIOSKey = null,
                this.lastSelectionOrigin = null,
                this.lastSelectionTime = 0,
                this.lastEscPress = 0,
                this.lastContextMenu = 0,
                this.scrollHandlers = [],
                this.registeredEvents = [],
                this.customHandlers = [],
                this.composing = -1,
                this.compositionEndedAt = 0,
                this.rapidCompositionStart = !1,
                this.mouseSelection = null;
                for (let t in bs) {
                    let n = bs[t];
                    e.contentDOM.addEventListener(t, (i=>{
                        "keydown" == t && this.keydown(e, i) || ys(e, i) && !this.ignoreDuringComposition(i) && (this.mustFlushObserver(i) && e.observer.forceFlush(),
                        this.runCustomHandlers(t, e, i) ? i.preventDefault() : n(e, i))
                    }
                    )),
                    this.registeredEvents.push(t)
                }
                this.notifiedFocused = e.hasFocus,
                this.ensureHandlers(e),
                Ur.safari && e.contentDOM.addEventListener("input", (()=>null))
            }
            setSelectionOrigin(e) {
                this.lastSelectionOrigin = e,
                this.lastSelectionTime = Date.now()
            }
            ensureHandlers(e) {
                let t = this.customHandlers = e.pluginField(Fo);
                for (let n of t)
                    for (let t in n.handlers)
                        this.registeredEvents.indexOf(t) < 0 && "scroll" != t && (this.registeredEvents.push(t),
                        e.contentDOM.addEventListener(t, (n=>{
                            ys(e, n) && this.runCustomHandlers(t, e, n) && n.preventDefault()
                        }
                        )))
            }
            runCustomHandlers(e, t, n) {
                for (let i of this.customHandlers) {
                    let r = i.handlers[e]
                      , o = !1;
                    if (r) {
                        try {
                            o = r.call(i.plugin, n, t)
                        } catch (e) {
                            Eo(t.state, e)
                        }
                        if (o || n.defaultPrevented)
                            return Ur.android && "keydown" == e && 13 == n.keyCode && t.observer.flushSoon(),
                            !0
                    }
                }
                return !1
            }
            runScrollHandlers(e, t) {
                for (let n of this.customHandlers) {
                    let i = n.handlers.scroll;
                    if (i)
                        try {
                            i.call(n.plugin, t, e)
                        } catch (t) {
                            Eo(e.state, t)
                        }
                }
            }
            keydown(e, t) {
                return this.lastKeyCode = t.keyCode,
                this.lastKeyTime = Date.now(),
                !!this.screenKeyEvent(e, t) || !(!Ur.ios || 13 != t.keyCode && 8 != t.keyCode || t.ctrlKey || t.altKey || t.metaKey || t.synthetic) && (this.pendingIOSKey = 13 == t.keyCode ? "enter" : "backspace",
                setTimeout((()=>this.flushIOSKey(e)), 250),
                !0)
            }
            flushIOSKey(e) {
                if (!this.pendingIOSKey)
                    return !1;
                let t = e.contentDOM
                  , n = this.pendingIOSKey;
                return this.pendingIOSKey = null,
                "enter" == n ? Sr(t, "Enter", 13) : Sr(t, "Backspace", 8)
            }
            ignoreDuringComposition(e) {
                return !!/^key/.test(e.type) && (this.composing > 0 || !!(Ur.safari && Date.now() - this.compositionEndedAt < 500) && (this.compositionEndedAt = 0,
                !0))
            }
            screenKeyEvent(e, t) {
                let n = 9 == t.keyCode && Date.now() < this.lastEscPress + 2e3;
                return 27 == t.keyCode ? this.lastEscPress = Date.now() : ms.indexOf(t.keyCode) < 0 && (this.lastEscPress = 0),
                n
            }
            mustFlushObserver(e) {
                return "keydown" == e.type && 229 != e.keyCode || "compositionend" == e.type && !Ur.ios
            }
            startMouseSelection(e, t, n) {
                this.mouseSelection && this.mouseSelection.destroy(),
                this.mouseSelection = new vs(this,e,t,n)
            }
            update(e) {
                this.mouseSelection && this.mouseSelection.update(e),
                e.transactions.length && (this.lastKeyCode = this.lastSelectionTime = 0)
            }
            destroy() {
                this.mouseSelection && this.mouseSelection.destroy()
            }
        }
        const ms = [16, 17, 18, 20, 91, 92, 224, 225];
        class vs {
            constructor(e, t, n, i) {
                this.inputState = e,
                this.view = t,
                this.style = i,
                this.lastEvent = n;
                let r = t.contentDOM.ownerDocument;
                r.addEventListener("mousemove", this.move = this.move.bind(this)),
                r.addEventListener("mouseup", this.up = this.up.bind(this)),
                this.extend = n.shiftKey,
                this.multiple = t.state.facet(Ai.allowMultipleSelections) && function(e, t) {
                    let n = e.state.facet(yo);
                    return n.length ? n[0](t) : Ur.mac ? t.metaKey : t.ctrlKey
                }(t, n),
                this.dragMove = function(e, t) {
                    let n = e.state.facet(bo);
                    return n.length ? n[0](t) : Ur.mac ? !t.altKey : !t.ctrlKey
                }(t, n),
                this.dragging = !!function(e, t) {
                    let {main: n} = e.state.selection;
                    if (n.empty)
                        return !1;
                    let i = cr(e.root);
                    if (0 == i.rangeCount)
                        return !0;
                    let r = i.getRangeAt(0).getClientRects();
                    for (let e = 0; e < r.length; e++) {
                        let n = r[e];
                        if (n.left <= t.clientX && n.right >= t.clientX && n.top <= t.clientY && n.bottom >= t.clientY)
                            return !0
                    }
                    return !1
                }(t, n) && null,
                !1 === this.dragging && (n.preventDefault(),
                this.select(n))
            }
            move(e) {
                if (0 == e.buttons)
                    return this.destroy();
                !1 === this.dragging && this.select(this.lastEvent = e)
            }
            up(e) {
                null == this.dragging && this.select(this.lastEvent),
                this.dragging || e.preventDefault(),
                this.destroy()
            }
            destroy() {
                let e = this.view.contentDOM.ownerDocument;
                e.removeEventListener("mousemove", this.move),
                e.removeEventListener("mouseup", this.up),
                this.inputState.mouseSelection = null
            }
            select(e) {
                let t = this.style.get(e, this.extend, this.multiple);
                t.eq(this.view.state.selection) && t.main.assoc == this.view.state.selection.main.assoc || this.view.dispatch({
                    selection: t,
                    annotations: yi.userEvent.of("pointerselection"),
                    scrollIntoView: !0
                })
            }
            update(e) {
                e.docChanged && this.dragging && (this.dragging = this.dragging.map(e.changes)),
                this.style.update(e) && setTimeout((()=>this.select(this.lastEvent)), 20)
            }
        }
        function ys(e, t) {
            if (!t.bubbles)
                return !0;
            if (t.defaultPrevented)
                return !1;
            for (let n, i = t.target; i != e.contentDOM; i = i.parentNode)
                if (!i || 11 == i.nodeType || (n = Mr.get(i)) && n.ignoreEvent(t))
                    return !1;
            return !0
        }
        const bs = Object.create(null)
          , ws = Ur.ie && Ur.ie_version < 15 || Ur.ios && Ur.webkit_version < 604;
        function ks(e, t) {
            let n, {state: i} = e, r = 1, o = i.toText(t), s = o.lines == i.selection.ranges.length;
            if (Os && i.selection.ranges.every((e=>e.empty)) && Os == o.toString()) {
                let e = -1;
                n = i.changeByRange((n=>{
                    let a = i.doc.lineAt(n.from);
                    if (a.from == e)
                        return {
                            range: n
                        };
                    e = a.from;
                    let l = i.toText((s ? o.line(r++).text : t) + i.lineBreak);
                    return {
                        changes: {
                            from: a.from,
                            insert: l
                        },
                        range: Vn.cursor(n.from + l.length)
                    }
                }
                ))
            } else
                n = s ? i.changeByRange((e=>{
                    let t = o.line(r++);
                    return {
                        changes: {
                            from: e.from,
                            to: e.to,
                            insert: t.text
                        },
                        range: Vn.cursor(e.from + t.length)
                    }
                }
                )) : i.replaceSelection(o);
            e.dispatch(n, {
                annotations: yi.userEvent.of("paste"),
                scrollIntoView: !0
            })
        }
        bs.keydown = (e,t)=>{
            e.inputState.setSelectionOrigin("keyboardselection")
        }
        ;
        let Cs = 0;
        function xs(e, t, n, i) {
            if (1 == i)
                return Vn.cursor(t, n);
            if (2 == i)
                return function(e, t, n=1) {
                    let i = e.charCategorizer(t)
                      , r = e.doc.lineAt(t)
                      , o = t - r.from;
                    if (0 == r.length)
                        return Vn.cursor(t);
                    0 == o ? n = 1 : o == r.length && (n = -1);
                    let s = o
                      , a = o;
                    n < 0 ? s = hn(r.text, o, !1) : a = hn(r.text, o);
                    let l = i(r.text.slice(s, a));
                    for (; s > 0; ) {
                        let e = hn(r.text, s, !1);
                        if (i(r.text.slice(e, s)) != l)
                            break;
                        s = e
                    }
                    for (; a < r.length; ) {
                        let e = hn(r.text, a);
                        if (i(r.text.slice(a, e)) != l)
                            break;
                        a = e
                    }
                    return Vn.range(s + r.from, a + r.from)
                }(e.state, t, n);
            {
                let n = ho.find(e.docView, t)
                  , i = e.state.doc.lineAt(n ? n.posAtEnd : t)
                  , r = n ? n.posAtStart : i.from
                  , o = n ? n.posAtEnd : i.to;
                return o < e.state.doc.length && o == i.to && o++,
                Vn.range(r, o)
            }
        }
        bs.touchstart = (e,t)=>{
            Cs = Date.now(),
            e.inputState.setSelectionOrigin("pointerselection")
        }
        ,
        bs.touchmove = e=>{
            e.inputState.setSelectionOrigin("pointerselection")
        }
        ,
        bs.mousedown = (e,t)=>{
            if (e.observer.flush(),
            Cs > Date.now() - 2e3)
                return;
            let n = null;
            for (let i of e.state.facet(wo))
                if (n = i(e, t),
                n)
                    break;
            n || 0 != t.button || (n = function(e, t) {
                let n = Ds(e, t)
                  , i = function(e) {
                    if (!Ms)
                        return e.detail;
                    let t = As
                      , n = Fs;
                    return As = e,
                    Fs = Date.now(),
                    Ts = !t || n > Date.now() - 400 && Math.abs(t.clientX - e.clientX) < 2 && Math.abs(t.clientY - e.clientY) < 2 ? (Ts + 1) % 3 : 1
                }(t)
                  , r = e.state.selection
                  , o = n
                  , s = t;
                return {
                    update(e) {
                        e.changes && (n && (n.pos = e.changes.mapPos(n.pos)),
                        r = r.map(e.changes),
                        s = null)
                    },
                    get(t, a, l) {
                        let c;
                        if (s && t.clientX == s.clientX && t.clientY == s.clientY ? c = o : (c = o = Ds(e, t),
                        s = t),
                        !c || !n)
                            return r;
                        let u = xs(e, c.pos, c.bias, i);
                        if (n.pos != c.pos && !a) {
                            let t = xs(e, n.pos, n.bias, i)
                              , r = Math.min(t.from, u.from)
                              , o = Math.max(t.to, u.to);
                            u = r < u.from ? Vn.range(r, o) : Vn.range(o, r)
                        }
                        return a ? r.replaceRange(r.main.extend(u.from, u.to)) : l ? r.addRange(u) : Vn.create([u])
                    }
                }
            }(e, t)),
            n && (e.root.activeElement != e.contentDOM && e.observer.ignore((()=>xr(e.contentDOM))),
            e.inputState.startMouseSelection(e, t, n))
        }
        ;
        let Es = (e,t)=>e >= t.top && e <= t.bottom
          , Ss = (e,t,n)=>Es(t, n) && e >= n.left && e <= n.right;
        function Ls(e, t, n, i) {
            let r = ho.find(e.docView, t);
            if (!r)
                return 1;
            let o = t - r.posAtStart;
            if (0 == o)
                return 1;
            if (o == r.length)
                return -1;
            let s = r.coordsAt(o, -1);
            if (s && Ss(n, i, s))
                return -1;
            let a = r.coordsAt(o, 1);
            return a && Ss(n, i, a) ? 1 : s && Es(i, s) ? -1 : 1
        }
        function Ds(e, t) {
            let n = e.posAtCoords({
                x: t.clientX,
                y: t.clientY
            });
            return null == n ? null : {
                pos: n,
                bias: Ls(e, n, t.clientX, t.clientY)
            }
        }
        const Ms = Ur.ie && Ur.ie_version <= 11;
        let As = null
          , Ts = 0
          , Fs = 0;
        function Ps(e, t, n, i) {
            let r = e.posAtCoords({
                x: t.clientX,
                y: t.clientY
            });
            if (null == r || !n)
                return;
            t.preventDefault();
            let {mouseSelection: o} = e.inputState
              , s = i && o && o.dragging && o.dragMove ? {
                from: o.dragging.from,
                to: o.dragging.to
            } : null
              , a = {
                from: r,
                insert: n
            }
              , l = e.state.changes(s ? [s, a] : a);
            e.focus(),
            e.dispatch({
                changes: l,
                selection: {
                    anchor: l.mapPos(r, -1),
                    head: l.mapPos(r, 1)
                },
                annotations: yi.userEvent.of("drop")
            })
        }
        bs.dragstart = (e,t)=>{
            let {selection: {main: n}} = e.state
              , {mouseSelection: i} = e.inputState;
            i && (i.dragging = n),
            t.dataTransfer && (t.dataTransfer.setData("Text", e.state.sliceDoc(n.from, n.to)),
            t.dataTransfer.effectAllowed = "copyMove")
        }
        ,
        bs.drop = (e,t)=>{
            if (!t.dataTransfer || !e.state.facet(So))
                return;
            let n = t.dataTransfer.files;
            if (n && n.length) {
                t.preventDefault();
                let i = Array(n.length)
                  , r = 0
                  , o = ()=>{
                    ++r == n.length && Ps(e, t, i.filter((e=>null != e)).join(e.state.lineBreak), !1)
                }
                ;
                for (let e = 0; e < n.length; e++) {
                    let t = new FileReader;
                    t.onerror = o,
                    t.onload = ()=>{
                        /[\x00-\x08\x0e-\x1f]{2}/.test(t.result) || (i[e] = t.result),
                        o()
                    }
                    ,
                    t.readAsText(n[e])
                }
            } else
                Ps(e, t, t.dataTransfer.getData("Text"), !0)
        }
        ,
        bs.paste = (e,t)=>{
            if (!e.state.facet(So))
                return;
            e.observer.flush();
            let n = ws ? null : t.clipboardData
              , i = n && n.getData("text/plain");
            i ? (ks(e, i),
            t.preventDefault()) : function(e) {
                let t = e.dom.parentNode;
                if (!t)
                    return;
                let n = t.appendChild(document.createElement("textarea"));
                n.style.cssText = "position: fixed; left: -10000px; top: 10px",
                n.focus(),
                setTimeout((()=>{
                    e.focus(),
                    n.remove(),
                    ks(e, n.value)
                }
                ), 50)
            }(e)
        }
        ;
        let Os = null;
        function Is(e, t) {
            if (e.docView.compositionDeco.size) {
                e.inputState.rapidCompositionStart = t;
                try {
                    e.update([])
                } finally {
                    e.inputState.rapidCompositionStart = !1
                }
            }
        }
        bs.copy = bs.cut = (e,t)=>{
            let {text: n, ranges: i, linewise: r} = function(e) {
                let t = []
                  , n = []
                  , i = !1;
                for (let i of e.selection.ranges)
                    i.empty || (t.push(e.sliceDoc(i.from, i.to)),
                    n.push(i));
                if (!t.length) {
                    let r = -1;
                    for (let {from: i} of e.selection.ranges) {
                        let o = e.doc.lineAt(i);
                        o.number > r && (t.push(o.text),
                        n.push({
                            from: o.from,
                            to: Math.min(e.doc.length, o.to + 1)
                        })),
                        r = o.number
                    }
                    i = !0
                }
                return {
                    text: t.join(e.lineBreak),
                    ranges: n,
                    linewise: i
                }
            }(e.state);
            if (!n)
                return;
            Os = r ? n : null;
            let o = ws ? null : t.clipboardData;
            o ? (t.preventDefault(),
            o.clearData(),
            o.setData("text/plain", n)) : function(e, t) {
                let n = e.dom.parentNode;
                if (!n)
                    return;
                let i = n.appendChild(document.createElement("textarea"));
                i.style.cssText = "position: fixed; left: -10000px; top: 10px",
                i.value = t,
                i.focus(),
                i.selectionEnd = t.length,
                i.selectionStart = 0,
                setTimeout((()=>{
                    i.remove(),
                    e.focus()
                }
                ), 50)
            }(e, n),
            "cut" == t.type && e.state.facet(So) && e.dispatch({
                changes: i,
                scrollIntoView: !0,
                annotations: yi.userEvent.of("cut")
            })
        }
        ,
        bs.focus = bs.blur = e=>{
            setTimeout((()=>{
                e.hasFocus != e.inputState.notifiedFocused && e.update([])
            }
            ), 10)
        }
        ,
        bs.beforeprint = e=>{
            e.viewState.printing = !0,
            e.requestMeasure(),
            setTimeout((()=>{
                e.viewState.printing = !1,
                e.requestMeasure()
            }
            ), 2e3)
        }
        ,
        bs.compositionstart = bs.compositionupdate = e=>{
            e.inputState.composing < 0 && (e.docView.compositionDeco.size && (e.observer.flush(),
            Is(e, !0)),
            e.inputState.composing = 0)
        }
        ,
        bs.compositionend = e=>{
            e.inputState.composing = -1,
            e.inputState.compositionEndedAt = Date.now(),
            setTimeout((()=>{
                e.inputState.composing < 0 && Is(e, !1)
            }
            ), 50)
        }
        ,
        bs.contextmenu = e=>{
            e.inputState.lastContextMenu = Date.now()
        }
        ;
        const Ns = ["pre-wrap", "normal", "pre-line"];
        class Rs {
            constructor() {
                this.doc = kn.empty,
                this.lineWrapping = !1,
                this.direction = jo.LTR,
                this.heightSamples = {},
                this.lineHeight = 14,
                this.charWidth = 7,
                this.lineLength = 30,
                this.heightChanged = !1
            }
            heightForGap(e, t) {
                let n = this.doc.lineAt(t).number - this.doc.lineAt(e).number + 1;
                return this.lineWrapping && (n += Math.ceil((t - e - n * this.lineLength * .5) / this.lineLength)),
                this.lineHeight * n
            }
            heightForLine(e) {
                if (!this.lineWrapping)
                    return this.lineHeight;
                return (1 + Math.max(0, Math.ceil((e - this.lineLength) / (this.lineLength - 5)))) * this.lineHeight
            }
            setDoc(e) {
                return this.doc = e,
                this
            }
            mustRefresh(e, t, n) {
                let i = !1;
                for (let t = 0; t < e.length; t++) {
                    let n = e[t];
                    n < 0 ? t++ : this.heightSamples[Math.floor(10 * n)] || (i = !0,
                    this.heightSamples[Math.floor(10 * n)] = !0)
                }
                return i || Ns.indexOf(t) > -1 != this.lineWrapping || this.direction != n
            }
            refresh(e, t, n, i, r, o) {
                let s = Ns.indexOf(e) > -1
                  , a = Math.round(n) != Math.round(this.lineHeight) || this.lineWrapping != s || this.direction != t;
                if (this.lineWrapping = s,
                this.direction = t,
                this.lineHeight = n,
                this.charWidth = i,
                this.lineLength = r,
                a) {
                    this.heightSamples = {};
                    for (let e = 0; e < o.length; e++) {
                        let t = o[e];
                        t < 0 ? e++ : this.heightSamples[Math.floor(10 * t)] = !0
                    }
                }
                return a
            }
        }
        class Bs {
            constructor(e, t) {
                this.from = e,
                this.heights = t,
                this.index = 0
            }
            get more() {
                return this.index < this.heights.length
            }
        }
        class zs {
            constructor(e, t, n, i, r) {
                this.from = e,
                this.length = t,
                this.top = n,
                this.height = i,
                this.type = r
            }
            get to() {
                return this.from + this.length
            }
            get bottom() {
                return this.top + this.height
            }
            join(e) {
                let t = (Array.isArray(this.type) ? this.type : [this]).concat(Array.isArray(e.type) ? e.type : [e]);
                return new zs(this.from,this.length + e.length,this.top,this.height + e.height,t)
            }
        }
        var Hs = function(e) {
            return e[e.ByPos = 0] = "ByPos",
            e[e.ByHeight = 1] = "ByHeight",
            e[e.ByPosNoHeight = 2] = "ByPosNoHeight",
            e
        }(Hs || (Hs = {}));
        class Vs {
            constructor(e, t, n=2) {
                this.length = e,
                this.height = t,
                this.flags = n
            }
            get outdated() {
                return (2 & this.flags) > 0
            }
            set outdated(e) {
                this.flags = (e ? 2 : 0) | -3 & this.flags
            }
            setHeight(e, t) {
                this.height != t && (Math.abs(this.height - t) > 1e-4 && (e.heightChanged = !0),
                this.height = t)
            }
            replace(e, t, n) {
                return Vs.of(n)
            }
            decomposeLeft(e, t) {
                t.push(this)
            }
            decomposeRight(e, t) {
                t.push(this)
            }
            applyChanges(e, t, n, i) {
                let r = this;
                for (let o = i.length - 1; o >= 0; o--) {
                    let {fromA: s, toA: a, fromB: l, toB: c} = i[o]
                      , u = r.lineAt(s, Hs.ByPosNoHeight, t, 0, 0)
                      , h = u.to >= a ? u : r.lineAt(a, Hs.ByPosNoHeight, t, 0, 0);
                    for (c += h.to - a,
                    a = h.to; o > 0 && u.from <= i[o - 1].toA; )
                        s = i[o - 1].fromA,
                        l = i[o - 1].fromB,
                        o--,
                        s < u.from && (u = r.lineAt(s, Hs.ByPosNoHeight, t, 0, 0));
                    l += u.from - s,
                    s = u.from;
                    let p = $s.build(n, e, l, c);
                    r = r.replace(s, a, p)
                }
                return r.updateHeight(n, 0)
            }
            static empty() {
                return new Us(0,0)
            }
            static of(e) {
                if (1 == e.length)
                    return e[0];
                let t = 0
                  , n = e.length
                  , i = 0
                  , r = 0;
                for (; ; )
                    if (t == n)
                        if (i > 2 * r) {
                            let r = e[t - 1];
                            r.break ? e.splice(--t, 1, r.left, null, r.right) : e.splice(--t, 1, r.left, r.right),
                            n += 1 + r.break,
                            i -= r.size
                        } else {
                            if (!(r > 2 * i))
                                break;
                            {
                                let t = e[n];
                                t.break ? e.splice(n, 1, t.left, null, t.right) : e.splice(n, 1, t.left, t.right),
                                n += 2 + t.break,
                                r -= t.size
                            }
                        }
                    else if (i < r) {
                        let n = e[t++];
                        n && (i += n.size)
                    } else {
                        let t = e[--n];
                        t && (r += t.size)
                    }
                let o = 0;
                return null == e[t - 1] ? (o = 1,
                t--) : null == e[t] && (o = 1,
                n++),
                new js(Vs.of(e.slice(0, t)),o,Vs.of(e.slice(n)))
            }
        }
        Vs.prototype.size = 1;
        class qs extends Vs {
            constructor(e, t, n) {
                super(e, t),
                this.type = n
            }
            blockAt(e, t, n, i) {
                return new zs(i,this.length,n,this.height,this.type)
            }
            lineAt(e, t, n, i, r) {
                return this.blockAt(0, n, i, r)
            }
            forEachLine(e, t, n, i, r, o) {
                o(this.blockAt(0, n, i, r))
            }
            updateHeight(e, t=0, n=!1, i) {
                return i && i.from <= t && i.more && this.setHeight(e, i.heights[i.index++]),
                this.outdated = !1,
                this
            }
            toString() {
                return `block(${this.length})`
            }
        }
        class Us extends qs {
            constructor(e, t) {
                super(e, t, ro.Text),
                this.collapsed = 0,
                this.widgetHeight = 0
            }
            replace(e, t, n) {
                let i = n[0];
                return 1 == n.length && (i instanceof Us || i instanceof _s && 4 & i.flags) && Math.abs(this.length - i.length) < 10 ? (i instanceof _s ? i = new Us(i.length,this.height) : i.height = this.height,
                this.outdated || (i.outdated = !1),
                i) : Vs.of(n)
            }
            updateHeight(e, t=0, n=!1, i) {
                return i && i.from <= t && i.more ? this.setHeight(e, i.heights[i.index++]) : (n || this.outdated) && this.setHeight(e, Math.max(this.widgetHeight, e.heightForLine(this.length - this.collapsed))),
                this.outdated = !1,
                this
            }
            toString() {
                return `line(${this.length}${this.collapsed ? -this.collapsed : ""}${this.widgetHeight ? ":" + this.widgetHeight : ""})`
            }
        }
        class _s extends Vs {
            constructor(e) {
                super(e, 0)
            }
            lines(e, t) {
                let n = e.lineAt(t).number
                  , i = e.lineAt(t + this.length).number;
                return {
                    firstLine: n,
                    lastLine: i,
                    lineHeight: this.height / (i - n + 1)
                }
            }
            blockAt(e, t, n, i) {
                let {firstLine: r, lastLine: o, lineHeight: s} = this.lines(t, i)
                  , a = Math.max(0, Math.min(o - r, Math.floor((e - n) / s)))
                  , {from: l, length: c} = t.line(r + a);
                return new zs(l,c,n + s * a,s,ro.Text)
            }
            lineAt(e, t, n, i, r) {
                if (t == Hs.ByHeight)
                    return this.blockAt(e, n, i, r);
                if (t == Hs.ByPosNoHeight) {
                    let {from: t, to: i} = n.lineAt(e);
                    return new zs(t,i - t,0,0,ro.Text)
                }
                let {firstLine: o, lineHeight: s} = this.lines(n, r)
                  , {from: a, length: l, number: c} = n.lineAt(e);
                return new zs(a,l,i + s * (c - o),s,ro.Text)
            }
            forEachLine(e, t, n, i, r, o) {
                let {firstLine: s, lineHeight: a} = this.lines(n, r);
                for (let l = Math.max(e, r), c = Math.min(r + this.length, t); l <= c; ) {
                    let t = n.lineAt(l);
                    l == e && (i += a * (t.number - s)),
                    o(new zs(t.from,t.length,i,a,ro.Text)),
                    i += a,
                    l = t.to + 1
                }
            }
            replace(e, t, n) {
                let i = this.length - t;
                if (i > 0) {
                    let e = n[n.length - 1];
                    e instanceof _s ? n[n.length - 1] = new _s(e.length + i) : n.push(null, new _s(i - 1))
                }
                if (e > 0) {
                    let t = n[0];
                    t instanceof _s ? n[0] = new _s(e + t.length) : n.unshift(new _s(e - 1), null)
                }
                return Vs.of(n)
            }
            decomposeLeft(e, t) {
                t.push(new _s(e - 1), null)
            }
            decomposeRight(e, t) {
                t.push(null, new _s(this.length - e - 1))
            }
            updateHeight(e, t=0, n=!1, i) {
                let r = t + this.length;
                if (i && i.from <= t + this.length && i.more) {
                    let n = []
                      , o = Math.max(t, i.from);
                    for (i.from > t && n.push(new _s(i.from - t - 1).updateHeight(e, t)); o <= r && i.more; ) {
                        let t = e.doc.lineAt(o).length;
                        n.length && n.push(null);
                        let r = new Us(t,i.heights[i.index++]);
                        r.outdated = !1,
                        n.push(r),
                        o += t + 1
                    }
                    return o <= r && n.push(null, new _s(r - o).updateHeight(e, o)),
                    e.heightChanged = !0,
                    Vs.of(n)
                }
                return (n || this.outdated) && (this.setHeight(e, e.heightForGap(t, t + this.length)),
                this.outdated = !1),
                this
            }
            toString() {
                return `gap(${this.length})`
            }
        }
        class js extends Vs {
            constructor(e, t, n) {
                super(e.length + t + n.length, e.height + n.height, t | (e.outdated || n.outdated ? 2 : 0)),
                this.left = e,
                this.right = n,
                this.size = e.size + n.size
            }
            get break() {
                return 1 & this.flags
            }
            blockAt(e, t, n, i) {
                let r = n + this.left.height;
                return e < r || 0 == this.right.height ? this.left.blockAt(e, t, n, i) : this.right.blockAt(e, t, r, i + this.left.length + this.break)
            }
            lineAt(e, t, n, i, r) {
                let o = i + this.left.height
                  , s = r + this.left.length + this.break
                  , a = t == Hs.ByHeight ? e < o || 0 == this.right.height : e < s
                  , l = a ? this.left.lineAt(e, t, n, i, r) : this.right.lineAt(e, t, n, o, s);
                if (this.break || (a ? l.to < s : l.from > s))
                    return l;
                let c = t == Hs.ByPosNoHeight ? Hs.ByPosNoHeight : Hs.ByPos;
                return a ? l.join(this.right.lineAt(s, c, n, o, s)) : this.left.lineAt(s, c, n, i, r).join(l)
            }
            forEachLine(e, t, n, i, r, o) {
                let s = i + this.left.height
                  , a = r + this.left.length + this.break;
                if (this.break)
                    e < a && this.left.forEachLine(e, t, n, i, r, o),
                    t >= a && this.right.forEachLine(e, t, n, s, a, o);
                else {
                    let l = this.lineAt(a, Hs.ByPos, n, i, r);
                    e < l.from && this.left.forEachLine(e, l.from - 1, n, i, r, o),
                    l.to >= e && l.from <= t && o(l),
                    t > l.to && this.right.forEachLine(l.to + 1, t, n, s, a, o)
                }
            }
            replace(e, t, n) {
                let i = this.left.length + this.break;
                if (t < i)
                    return this.balanced(this.left.replace(e, t, n), this.right);
                if (e > this.left.length)
                    return this.balanced(this.left, this.right.replace(e - i, t - i, n));
                let r = [];
                e > 0 && this.decomposeLeft(e, r);
                let o = r.length;
                for (let e of n)
                    r.push(e);
                if (e > 0 && Ws(r, o - 1),
                t < this.length) {
                    let e = r.length;
                    this.decomposeRight(t, r),
                    Ws(r, e)
                }
                return Vs.of(r)
            }
            decomposeLeft(e, t) {
                let n = this.left.length;
                if (e <= n)
                    return this.left.decomposeLeft(e, t);
                t.push(this.left),
                this.break && (n++,
                e >= n && t.push(null)),
                e > n && this.right.decomposeLeft(e - n, t)
            }
            decomposeRight(e, t) {
                let n = this.left.length
                  , i = n + this.break;
                if (e >= i)
                    return this.right.decomposeRight(e - i, t);
                e < n && this.left.decomposeRight(e, t),
                this.break && e < i && t.push(null),
                t.push(this.right)
            }
            balanced(e, t) {
                return e.size > 2 * t.size || t.size > 2 * e.size ? Vs.of(this.break ? [e, null, t] : [e, t]) : (this.left = e,
                this.right = t,
                this.height = e.height + t.height,
                this.outdated = e.outdated || t.outdated,
                this.size = e.size + t.size,
                this.length = e.length + this.break + t.length,
                this)
            }
            updateHeight(e, t=0, n=!1, i) {
                let {left: r, right: o} = this
                  , s = t + r.length + this.break
                  , a = null;
                return i && i.from <= t + r.length && i.more ? a = r = r.updateHeight(e, t, n, i) : r.updateHeight(e, t, n),
                i && i.from <= s + o.length && i.more ? a = o = o.updateHeight(e, s, n, i) : o.updateHeight(e, s, n),
                a ? this.balanced(r, o) : (this.height = this.left.height + this.right.height,
                this.outdated = !1,
                this)
            }
            toString() {
                return this.left + (this.break ? " " : "-") + this.right
            }
        }
        function Ws(e, t) {
            let n, i;
            null == e[t] && (n = e[t - 1])instanceof _s && (i = e[t + 1])instanceof _s && e.splice(t - 1, 3, new _s(n.length + 1 + i.length))
        }
        class $s {
            constructor(e, t) {
                this.pos = e,
                this.oracle = t,
                this.nodes = [],
                this.lineStart = -1,
                this.lineEnd = -1,
                this.covering = null,
                this.writtenTo = e
            }
            get isCovered() {
                return this.covering && this.nodes[this.nodes.length - 1] == this.covering
            }
            span(e, t) {
                if (this.lineStart > -1) {
                    let e = Math.min(t, this.lineEnd)
                      , n = this.nodes[this.nodes.length - 1];
                    n instanceof Us ? n.length += e - this.pos : (e > this.pos || !this.isCovered) && this.nodes.push(new Us(e - this.pos,-1)),
                    this.writtenTo = e,
                    t > e && (this.nodes.push(null),
                    this.writtenTo++,
                    this.lineStart = -1)
                }
                this.pos = t
            }
            point(e, t, n) {
                if (e < t || n.heightRelevant) {
                    let i = n.widget ? Math.max(0, n.widget.estimatedHeight) : 0
                      , r = t - e;
                    n.block ? this.addBlock(new qs(r,i,n.type)) : (r || i >= 5) && this.addLineDeco(i, r)
                } else
                    t > e && this.span(e, t);
                this.lineEnd > -1 && this.lineEnd < this.pos && (this.lineEnd = this.oracle.doc.lineAt(this.pos).to)
            }
            enterLine() {
                if (this.lineStart > -1)
                    return;
                let {from: e, to: t} = this.oracle.doc.lineAt(this.pos);
                this.lineStart = e,
                this.lineEnd = t,
                this.writtenTo < e && ((this.writtenTo < e - 1 || null == this.nodes[this.nodes.length - 1]) && this.nodes.push(this.blankContent(this.writtenTo, e - 1)),
                this.nodes.push(null)),
                this.pos > e && this.nodes.push(new Us(this.pos - e,-1)),
                this.writtenTo = this.pos
            }
            blankContent(e, t) {
                let n = new _s(t - e);
                return this.oracle.doc.lineAt(e).to == t && (n.flags |= 4),
                n
            }
            ensureLine() {
                this.enterLine();
                let e = this.nodes.length ? this.nodes[this.nodes.length - 1] : null;
                if (e instanceof Us)
                    return e;
                let t = new Us(0,-1);
                return this.nodes.push(t),
                t
            }
            addBlock(e) {
                this.enterLine(),
                e.type != ro.WidgetAfter || this.isCovered || this.ensureLine(),
                this.nodes.push(e),
                this.writtenTo = this.pos = this.pos + e.length,
                e.type != ro.WidgetBefore && (this.covering = e)
            }
            addLineDeco(e, t) {
                let n = this.ensureLine();
                n.length += t,
                n.collapsed += t,
                n.widgetHeight = Math.max(n.widgetHeight, e),
                this.writtenTo = this.pos = this.pos + t
            }
            finish(e) {
                let t = 0 == this.nodes.length ? null : this.nodes[this.nodes.length - 1];
                !(this.lineStart > -1) || t instanceof Us || this.isCovered ? (this.writtenTo < this.pos || null == t) && this.nodes.push(this.blankContent(this.writtenTo, this.pos)) : this.nodes.push(new Us(0,-1));
                let n = e;
                for (let e of this.nodes)
                    e instanceof Us && e.updateHeight(this.oracle, n),
                    n += e ? e.length : 1;
                return this.nodes
            }
            static build(e, t, n, i) {
                let r = new $s(n,e);
                return qi.spans(t, n, i, r, 0),
                r.finish(n)
            }
        }
        class Gs {
            constructor() {
                this.changes = []
            }
            compareRange() {}
            comparePoint(e, t, n, i) {
                (e < t || n && n.heightRelevant || i && i.heightRelevant) && uo(e, t, this.changes, 5)
            }
        }
        class Ys {
            constructor(e, t, n) {
                this.from = e,
                this.to = t,
                this.size = n
            }
            static same(e, t) {
                if (e.length != t.length)
                    return !1;
                for (let n = 0; n < e.length; n++) {
                    let i = e[n]
                      , r = t[n];
                    if (i.from != r.from || i.to != r.to || i.size != r.size)
                        return !1
                }
                return !0
            }
            draw(e) {
                return oo.replace({
                    widget: new Ks(this.size,e)
                }).range(this.from, this.to)
            }
        }
        class Ks extends io {
            constructor(e, t) {
                super(),
                this.size = e,
                this.vertical = t
            }
            eq(e) {
                return e.size == this.size && e.vertical == this.vertical
            }
            toDOM() {
                let e = document.createElement("div");
                return this.vertical ? e.style.height = this.size + "px" : (e.style.width = this.size + "px",
                e.style.height = "2px",
                e.style.display = "inline-block"),
                e
            }
            get estimatedHeight() {
                return this.vertical ? this.size : -1
            }
        }
        class Qs {
            constructor(e) {
                this.state = e,
                this.pixelViewport = {
                    left: 0,
                    right: window.innerWidth,
                    top: 0,
                    bottom: 0
                },
                this.inView = !0,
                this.paddingTop = 0,
                this.paddingBottom = 0,
                this.contentWidth = 0,
                this.heightOracle = new Rs,
                this.scaler = ta,
                this.scrollTo = null,
                this.printing = !1,
                this.visibleRanges = [],
                this.mustEnforceCursorAssoc = !1,
                this.heightMap = Vs.empty().applyChanges(e.facet(No), kn.empty, this.heightOracle.setDoc(e.doc), [new Bo(0,0,0,e.doc.length)]),
                this.viewport = this.getViewport(0, null),
                this.updateForViewport(),
                this.lineGaps = this.ensureLineGaps([]),
                this.lineGapDeco = oo.set(this.lineGaps.map((e=>e.draw(!1)))),
                this.computeVisibleRanges()
            }
            updateForViewport() {
                let e = [this.viewport]
                  , {main: t} = this.state.selection;
                for (let n = 0; n <= 1; n++) {
                    let i = n ? t.head : t.anchor;
                    if (!e.some((({from: e, to: t})=>i >= e && i <= t))) {
                        let {from: t, to: n} = this.lineAt(i, 0);
                        e.push(new Js(t,n))
                    }
                }
                this.viewports = e.sort(((e,t)=>e.from - t.from)),
                this.scaler = this.heightMap.height <= 7e6 ? ta : new na(this.heightOracle.doc,this.heightMap,this.viewports)
            }
            update(e, t=null) {
                let n = this.state;
                this.state = e.state;
                let i = this.state.facet(No)
                  , r = e.changedRanges
                  , o = Bo.extendWithRanges(r, function(e, t, n) {
                    let i = new Gs;
                    return qi.compare(e, t, n, i, 0),
                    i.changes
                }(e.startState.facet(No), i, e ? e.changes : Pn.empty(this.state.doc.length)))
                  , s = this.heightMap.height;
                this.heightMap = this.heightMap.applyChanges(i, n.doc, this.heightOracle.setDoc(this.state.doc), o),
                this.heightMap.height != s && (e.flags |= 2);
                let a = o.length ? this.mapViewport(this.viewport, e.changes) : this.viewport;
                (t && (t.head < a.from || t.head > a.to) || !this.viewportIsAppropriate(a)) && (a = this.getViewport(0, t)),
                a.eq(this.viewport) || (this.viewport = a,
                e.flags |= 4),
                this.updateForViewport(),
                (this.lineGaps.length || this.viewport.to - this.viewport.from > 15e3) && (e.flags |= this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps, e.changes)))),
                this.computeVisibleRanges(),
                t && (this.scrollTo = t),
                !this.mustEnforceCursorAssoc && e.selectionSet && e.view.lineWrapping && e.state.selection.main.empty && e.state.selection.main.assoc && (this.mustEnforceCursorAssoc = !0)
            }
            measure(e, t) {
                let n = e.dom
                  , i = ""
                  , r = jo.LTR;
                if (!t) {
                    let e = window.getComputedStyle(n);
                    i = e.whiteSpace,
                    r = "rtl" == e.direction ? jo.RTL : jo.LTR,
                    this.paddingTop = parseInt(e.paddingTop) || 0,
                    this.paddingBottom = parseInt(e.paddingBottom) || 0
                }
                let o = this.printing ? {
                    top: -1e8,
                    bottom: 1e8,
                    left: -1e8,
                    right: 1e8
                } : function(e, t) {
                    let n = e.getBoundingClientRect()
                      , i = Math.max(0, n.left)
                      , r = Math.min(innerWidth, n.right)
                      , o = Math.max(0, n.top)
                      , s = Math.min(innerHeight, n.bottom);
                    for (let t = e.parentNode; t; )
                        if (1 == t.nodeType) {
                            let e = window.getComputedStyle(t);
                            if ((t.scrollHeight > t.clientHeight || t.scrollWidth > t.clientWidth) && "visible" != e.overflow) {
                                let e = t.getBoundingClientRect();
                                i = Math.max(i, e.left),
                                r = Math.min(r, e.right),
                                o = Math.max(o, e.top),
                                s = Math.min(s, e.bottom)
                            }
                            t = "absolute" == e.position || "fixed" == e.position ? t.offsetParent : t.parentNode
                        } else {
                            if (11 != t.nodeType)
                                break;
                            t = t.host
                        }
                    return {
                        left: i - n.left,
                        right: r - n.left,
                        top: o - (n.top + t),
                        bottom: s - (n.top + t)
                    }
                }(n, this.paddingTop)
                  , s = o.top - this.pixelViewport.top
                  , a = o.bottom - this.pixelViewport.bottom;
                if (this.pixelViewport = o,
                this.inView = this.pixelViewport.bottom > this.pixelViewport.top && this.pixelViewport.right > this.pixelViewport.left,
                !this.inView)
                    return 0;
                let l = e.measureVisibleLineHeights()
                  , c = !1
                  , u = 0
                  , h = 0
                  , p = this.heightOracle;
                if (!t) {
                    let t = e.dom.clientWidth;
                    if (p.mustRefresh(l, i, r) || p.lineWrapping && Math.abs(t - this.contentWidth) > p.charWidth) {
                        let {lineHeight: n, charWidth: o} = e.measureTextSize();
                        c = p.refresh(i, r, n, o, t / o, l),
                        c && (e.minWidth = 0,
                        h |= 16)
                    }
                    this.contentWidth != t && (this.contentWidth = t,
                    h |= 16),
                    s > 0 && a > 0 ? u = Math.max(s, a) : s < 0 && a < 0 && (u = Math.min(s, a))
                }
                if (p.heightChanged = !1,
                this.heightMap = this.heightMap.updateHeight(p, 0, c, new Bs(this.viewport.from,l)),
                p.heightChanged && (h |= 2),
                !this.viewportIsAppropriate(this.viewport, u) || this.scrollTo && (this.scrollTo.head < this.viewport.from || this.scrollTo.head > this.viewport.to)) {
                    let e = this.getViewport(u, this.scrollTo);
                    e.from == this.viewport.from && e.to == this.viewport.to || (this.viewport = e,
                    h |= 4)
                }
                return this.updateForViewport(),
                (this.lineGaps.length || this.viewport.to - this.viewport.from > 15e3) && (h |= this.updateLineGaps(this.ensureLineGaps(c ? [] : this.lineGaps))),
                this.computeVisibleRanges(),
                this.mustEnforceCursorAssoc && (this.mustEnforceCursorAssoc = !1,
                e.enforceCursorAssoc()),
                h
            }
            get visibleTop() {
                return this.scaler.fromDOM(this.pixelViewport.top, 0)
            }
            get visibleBottom() {
                return this.scaler.fromDOM(this.pixelViewport.bottom, 0)
            }
            getViewport(e, t) {
                let n = .5 - Math.max(-.5, Math.min(.5, e / 1e3 / 2))
                  , i = this.heightMap
                  , r = this.state.doc
                  , {visibleTop: o, visibleBottom: s} = this
                  , a = new Js(i.lineAt(o - 1e3 * n, Hs.ByHeight, r, 0, 0).from,i.lineAt(s + 1e3 * (1 - n), Hs.ByHeight, r, 0, 0).to);
                if (t)
                    if (t.head < a.from) {
                        let {top: e} = i.lineAt(t.head, Hs.ByPos, r, 0, 0);
                        a = new Js(i.lineAt(e - 500, Hs.ByHeight, r, 0, 0).from,i.lineAt(e + (s - o) + 500, Hs.ByHeight, r, 0, 0).to)
                    } else if (t.head > a.to) {
                        let {bottom: e} = i.lineAt(t.head, Hs.ByPos, r, 0, 0);
                        a = new Js(i.lineAt(e - (s - o) - 500, Hs.ByHeight, r, 0, 0).from,i.lineAt(e + 500, Hs.ByHeight, r, 0, 0).to)
                    }
                return a
            }
            mapViewport(e, t) {
                let n = t.mapPos(e.from, -1)
                  , i = t.mapPos(e.to, 1);
                return new Js(this.heightMap.lineAt(n, Hs.ByPos, this.state.doc, 0, 0).from,this.heightMap.lineAt(i, Hs.ByPos, this.state.doc, 0, 0).to)
            }
            viewportIsAppropriate({from: e, to: t}, n=0) {
                let {top: i} = this.heightMap.lineAt(e, Hs.ByPos, this.state.doc, 0, 0)
                  , {bottom: r} = this.heightMap.lineAt(t, Hs.ByPos, this.state.doc, 0, 0)
                  , {visibleTop: o, visibleBottom: s} = this;
                return (0 == e || i <= o - Math.max(10, Math.min(-n, 250))) && (t == this.state.doc.length || r >= s + Math.max(10, Math.min(n, 250))) && i > o - 2e3 && r < s + 2e3
            }
            mapLineGaps(e, t) {
                if (!e.length || t.empty)
                    return e;
                let n = [];
                for (let i of e)
                    t.touchesRange(i.from, i.to) || n.push(new Ys(t.mapPos(i.from),t.mapPos(i.to),i.size));
                return n
            }
            ensureLineGaps(e) {
                let t = [];
                return this.heightOracle.direction != jo.LTR || this.heightMap.forEachLine(this.viewport.from, this.viewport.to, this.state.doc, 0, 0, (n=>{
                    if (n.length < 1e4)
                        return;
                    let i, r, o = function(e, t, n) {
                        let i = []
                          , r = e
                          , o = 0;
                        qi.spans(n.facet(No), e, t, {
                            span() {},
                            point(e, t) {
                                e > r && (i.push({
                                    from: r,
                                    to: e
                                }),
                                o += e - r),
                                r = t
                            }
                        }, 20),
                        r < t && (i.push({
                            from: r,
                            to: t
                        }),
                        o += t - r);
                        return {
                            total: o,
                            ranges: i
                        }
                    }(n.from, n.to, this.state);
                    if (o.total < 1e4)
                        return;
                    if (this.heightOracle.lineWrapping)
                        i = n.from != this.viewport.from ? n.from : Xs(o, (this.visibleTop - n.top) / n.height),
                        r = n.to != this.viewport.to ? n.to : Xs(o, (this.visibleBottom - n.top) / n.height);
                    else {
                        let e = o.total * this.heightOracle.charWidth;
                        i = Xs(o, this.pixelViewport.left / e),
                        r = Xs(o, this.pixelViewport.right / e)
                    }
                    let s = this.state.selection.main;
                    s.from <= i && s.to >= n.from && (i = s.from),
                    s.from <= n.to && s.to >= r && (r = s.to);
                    let a = i - 1e4
                      , l = r + 1e4;
                    a > n.from + 5e3 && t.push(ea(e, (e=>e.from == n.from && e.to > a - 5e3 && e.to < a + 5e3)) || new Ys(n.from,a,this.gapSize(n, a, !0, o))),
                    l < n.to - 5e3 && t.push(ea(e, (e=>e.to == n.to && e.from > l - 5e3 && e.from < l + 5e3)) || new Ys(l,n.to,this.gapSize(n, l, !1, o)))
                }
                )),
                t
            }
            gapSize(e, t, n, i) {
                if (this.heightOracle.lineWrapping) {
                    let r = e.height * Zs(i, t);
                    return n ? r : e.height - r
                }
                {
                    let e = Zs(i, t);
                    return i.total * this.heightOracle.charWidth * (n ? e : 1 - e)
                }
            }
            updateLineGaps(e) {
                return Ys.same(e, this.lineGaps) ? 0 : (this.lineGaps = e,
                this.lineGapDeco = oo.set(e.map((e=>e.draw(this.heightOracle.lineWrapping)))),
                8)
            }
            computeVisibleRanges() {
                let e = this.state.facet(No);
                this.lineGaps.length && (e = e.concat(this.lineGapDeco));
                let t = [];
                qi.spans(e, this.viewport.from, this.viewport.to, {
                    span(e, n) {
                        t.push({
                            from: e,
                            to: n
                        })
                    },
                    point() {}
                }, 20),
                this.visibleRanges = t
            }
            lineAt(e, t) {
                return t += this.paddingTop,
                ia(this.heightMap.lineAt(e, Hs.ByPos, this.state.doc, t, 0), this.scaler, t)
            }
            lineAtHeight(e, t) {
                return t += this.paddingTop,
                ia(this.heightMap.lineAt(this.scaler.fromDOM(e, t), Hs.ByHeight, this.state.doc, t, 0), this.scaler, t)
            }
            blockAtHeight(e, t) {
                return t += this.paddingTop,
                ia(this.heightMap.blockAt(this.scaler.fromDOM(e, t), this.state.doc, t, 0), this.scaler, t)
            }
            forEachLine(e, t, n, i) {
                return i += this.paddingTop,
                this.heightMap.forEachLine(e, t, this.state.doc, i, 0, 1 == this.scaler.scale ? n : e=>n(ia(e, this.scaler, i)))
            }
            get contentHeight() {
                return this.domHeight + this.paddingTop + this.paddingBottom
            }
            get domHeight() {
                return this.scaler.toDOM(this.heightMap.height, this.paddingTop)
            }
        }
        class Js {
            constructor(e, t) {
                this.from = e,
                this.to = t
            }
            eq(e) {
                return this.from == e.from && this.to == e.to
            }
        }
        function Xs({total: e, ranges: t}, n) {
            if (n <= 0)
                return t[0].from;
            if (n >= 1)
                return t[t.length - 1].to;
            let i = Math.floor(e * n);
            for (let e = 0; ; e++) {
                let {from: n, to: r} = t[e]
                  , o = r - n;
                if (i <= o)
                    return n + i;
                i -= o
            }
        }
        function Zs(e, t) {
            let n = 0;
            for (let {from: i, to: r} of e.ranges) {
                if (t <= r) {
                    n += t - i;
                    break
                }
                n += r - i
            }
            return n / e.total
        }
        function ea(e, t) {
            for (let n of e)
                if (t(n))
                    return n
        }
        const ta = {
            toDOM: e=>e,
            fromDOM: e=>e,
            scale: 1
        };
        class na {
            constructor(e, t, n) {
                let i = 0
                  , r = 0
                  , o = 0;
                this.viewports = n.map((({from: n, to: r})=>{
                    let o = t.lineAt(n, Hs.ByPos, e, 0, 0).top
                      , s = t.lineAt(r, Hs.ByPos, e, 0, 0).bottom;
                    return i += s - o,
                    {
                        from: n,
                        to: r,
                        top: o,
                        bottom: s,
                        domTop: 0,
                        domBottom: 0
                    }
                }
                )),
                this.scale = (7e6 - i) / (t.height - i);
                for (let e of this.viewports)
                    e.domTop = o + (e.top - r) * this.scale,
                    o = e.domBottom = e.domTop + (e.bottom - e.top),
                    r = e.bottom
            }
            toDOM(e, t) {
                e -= t;
                for (let n = 0, i = 0, r = 0; ; n++) {
                    let o = n < this.viewports.length ? this.viewports[n] : null;
                    if (!o || e < o.top)
                        return r + (e - i) * this.scale + t;
                    if (e <= o.bottom)
                        return o.domTop + (e - o.top) + t;
                    i = o.bottom,
                    r = o.domBottom
                }
            }
            fromDOM(e, t) {
                e -= t;
                for (let n = 0, i = 0, r = 0; ; n++) {
                    let o = n < this.viewports.length ? this.viewports[n] : null;
                    if (!o || e < o.domTop)
                        return i + (e - r) / this.scale + t;
                    if (e <= o.domBottom)
                        return o.top + (e - o.domTop) + t;
                    i = o.bottom,
                    r = o.domBottom
                }
            }
        }
        function ia(e, t, n) {
            if (1 == t.scale)
                return e;
            let i = t.toDOM(e.top, n)
              , r = t.toDOM(e.bottom, n);
            return new zs(e.from,e.length,i,r - i,Array.isArray(e.type) ? e.type.map((e=>ia(e, t, n))) : e.type)
        }
        const ra = jn.define({
            combine: e=>e.join(" ")
        })
          , oa = jn.define({
            combine: e=>e.indexOf(!0) > -1
        })
          , sa = Ii.newName()
          , aa = Ii.newName()
          , la = Ii.newName()
          , ca = {
            "&light": "." + aa,
            "&dark": "." + la
        };
        function ua(e, t, n) {
            return new Ii(t,{
                finish: t=>/&/.test(t) ? t.replace(/&\w*/, (t=>{
                    if ("&" == t)
                        return e;
                    if (!n || !n[t])
                        throw new RangeError(`Unsupported selector: ${t}`);
                    return n[t]
                }
                )) : e + " " + t
            })
        }
        const ha = ua("." + sa, {
            "&": {
                position: "relative !important",
                boxSizing: "border-box",
                "&.cm-focused": {
                    outline: "1px dotted #212121"
                },
                display: "flex !important",
                flexDirection: "column"
            },
            ".cm-scroller": {
                display: "flex !important",
                alignItems: "flex-start !important",
                fontFamily: "monospace",
                lineHeight: 1.4,
                height: "100%",
                overflowX: "auto",
                position: "relative",
                zIndex: 0
            },
            ".cm-content": {
                margin: 0,
                flexGrow: 2,
                minHeight: "100%",
                display: "block",
                whiteSpace: "pre",
                wordWrap: "normal",
                boxSizing: "border-box",
                padding: "4px 0",
                outline: "none"
            },
            ".cm-lineWrapping": {
                whiteSpace: "pre-wrap",
                overflowWrap: "anywhere"
            },
            "&light .cm-content": {
                caretColor: "black"
            },
            "&dark .cm-content": {
                caretColor: "white"
            },
            ".cm-line": {
                display: "block",
                padding: "0 2px 0 4px"
            },
            ".cm-selectionLayer": {
                zIndex: -1,
                contain: "size style"
            },
            ".cm-selectionBackground": {
                position: "absolute"
            },
            "&light .cm-selectionBackground": {
                background: "#d9d9d9"
            },
            "&dark .cm-selectionBackground": {
                background: "#222"
            },
            "&light.cm-focused .cm-selectionBackground": {
                background: "#d7d4f0"
            },
            "&dark.cm-focused .cm-selectionBackground": {
                background: "#233"
            },
            ".cm-cursorLayer": {
                zIndex: 100,
                contain: "size style",
                pointerEvents: "none"
            },
            "&.cm-focused .cm-cursorLayer": {
                animation: "steps(1) cm-blink 1.2s infinite"
            },
            "@keyframes cm-blink": {
                "0%": {},
                "50%": {
                    visibility: "hidden"
                },
                "100%": {}
            },
            "@keyframes cm-blink2": {
                "0%": {},
                "50%": {
                    visibility: "hidden"
                },
                "100%": {}
            },
            ".cm-cursor": {
                position: "absolute",
                borderLeft: "1.2px solid black",
                marginLeft: "-0.6px",
                pointerEvents: "none",
                display: "none"
            },
            "&dark .cm-cursor": {
                borderLeftColor: "#444"
            },
            "&.cm-focused .cm-cursor": {
                display: "block"
            },
            "&light .cm-activeLine": {
                backgroundColor: "#f3f9ff"
            },
            "&dark .cm-activeLine": {
                backgroundColor: "#223039"
            },
            "&light .cm-specialChar": {
                color: "red"
            },
            "&dark .cm-specialChar": {
                color: "#f78"
            },
            ".cm-tab": {
                display: "inline-block",
                overflow: "hidden",
                verticalAlign: "bottom"
            },
            ".cm-placeholder": {
                color: "#888",
                display: "inline-block"
            },
            ".cm-button": {
                verticalAlign: "middle",
                color: "inherit",
                fontSize: "70%",
                padding: ".2em 1em",
                borderRadius: "3px"
            },
            "&light .cm-button": {
                backgroundImage: "linear-gradient(#eff1f5, #d9d9df)",
                border: "1px solid #888",
                "&:active": {
                    backgroundImage: "linear-gradient(#b4b4b4, #d0d3d6)"
                }
            },
            "&dark .cm-button": {
                backgroundImage: "linear-gradient(#393939, #111)",
                border: "1px solid #888",
                "&:active": {
                    backgroundImage: "linear-gradient(#111, #333)"
                }
            },
            ".cm-textfield": {
                verticalAlign: "middle",
                color: "inherit",
                fontSize: "70%",
                border: "1px solid silver",
                padding: ".2em .5em"
            },
            "&light .cm-textfield": {
                backgroundColor: "white"
            },
            "&dark .cm-textfield": {
                border: "1px solid #555",
                backgroundColor: "inherit"
            }
        }, ca)
          , pa = {
            childList: !0,
            characterData: !0,
            subtree: !0,
            characterDataOldValue: !0
        }
          , da = Ur.ie && Ur.ie_version <= 11;
        class fa {
            constructor(e, t, n) {
                this.view = e,
                this.onChange = t,
                this.onScrollChanged = n,
                this.active = !1,
                this.ignoreSelection = new wr,
                this.delayedFlush = -1,
                this.queue = [],
                this.lastFlush = 0,
                this.scrollTargets = [],
                this.intersection = null,
                this.intersecting = !1,
                this._selectionRange = null,
                this.parentCheck = -1,
                this.dom = e.contentDOM,
                this.observer = new MutationObserver((t=>{
                    for (let e of t)
                        this.queue.push(e);
                    this._selectionRange = null,
                    (Ur.ie && Ur.ie_version <= 11 || Ur.ios && e.composing) && t.some((e=>"childList" == e.type && e.removedNodes.length || "characterData" == e.type && e.oldValue.length > e.target.nodeValue.length)) ? this.flushSoon() : this.flush()
                }
                )),
                da && (this.onCharData = e=>{
                    this.queue.push({
                        target: e.target,
                        type: "characterData",
                        oldValue: e.prevValue
                    }),
                    this.flushSoon()
                }
                ),
                this.onSelectionChange = this.onSelectionChange.bind(this),
                this.start(),
                this.onScroll = this.onScroll.bind(this),
                window.addEventListener("scroll", this.onScroll),
                "function" == typeof IntersectionObserver && (this.intersection = new IntersectionObserver((e=>{
                    this.parentCheck < 0 && (this.parentCheck = setTimeout(this.listenForScroll.bind(this), 1e3)),
                    e[e.length - 1].intersectionRatio > 0 != this.intersecting && (this.intersecting = !this.intersecting,
                    this.intersecting != this.view.inView && this.onScrollChanged(document.createEvent("Event")))
                }
                ),{}),
                this.intersection.observe(this.dom)),
                this.listenForScroll()
            }
            onScroll(e) {
                this.intersecting && this.flush(),
                this.onScrollChanged(e)
            }
            onSelectionChange(e) {
                this.lastFlush < Date.now() - 50 && (this._selectionRange = null);
                let {view: t} = this
                  , n = this.selectionRange;
                if (t.state.facet(So) ? t.root.activeElement != this.dom : !hr(t.dom, n))
                    return;
                let i = n.anchorNode && t.docView.nearest(n.anchorNode);
                i && i.ignoreEvent(e) || (Ur.ie && Ur.ie_version <= 11 && !t.state.selection.main.empty && n.focusNode && dr(n.focusNode, n.focusOffset, n.anchorNode, n.anchorOffset) ? this.flushSoon() : this.flush())
            }
            get selectionRange() {
                if (!this._selectionRange) {
                    let {root: e} = this.view
                      , t = cr(e);
                    Ur.safari && 11 == e.nodeType && function() {
                        let e = document.activeElement;
                        for (; e && e.shadowRoot; )
                            e = e.shadowRoot.activeElement;
                        return e
                    }() == this.view.contentDOM && (t = function(e) {
                        let t = null;
                        function n(e) {
                            e.preventDefault(),
                            e.stopImmediatePropagation(),
                            t = e.getTargetRanges()[0]
                        }
                        if (e.contentDOM.addEventListener("beforeinput", n, !0),
                        document.execCommand("indent"),
                        e.contentDOM.removeEventListener("beforeinput", n, !0),
                        !t)
                            return null;
                        let i = t.startContainer
                          , r = t.startOffset
                          , o = t.endContainer
                          , s = t.endOffset
                          , a = e.docView.domAtPos(e.state.selection.main.anchor);
                        dr(a.node, a.offset, o, s) && ([i,r,o,s] = [o, s, i, r]);
                        return {
                            anchorNode: i,
                            anchorOffset: r,
                            focusNode: o,
                            focusOffset: s
                        }
                    }(this.view) || t),
                    this._selectionRange = t
                }
                return this._selectionRange
            }
            setSelectionRange(e, t) {
                var n;
                (null === (n = this._selectionRange) || void 0 === n ? void 0 : n.type) || (this._selectionRange = {
                    anchorNode: e.node,
                    anchorOffset: e.offset,
                    focusNode: t.node,
                    focusOffset: t.offset
                })
            }
            listenForScroll() {
                this.parentCheck = -1;
                let e = 0
                  , t = null;
                for (let n = this.dom; n; )
                    if (1 == n.nodeType)
                        !t && e < this.scrollTargets.length && this.scrollTargets[e] == n ? e++ : t || (t = this.scrollTargets.slice(0, e)),
                        t && t.push(n),
                        n = n.assignedSlot || n.parentNode;
                    else {
                        if (11 != n.nodeType)
                            break;
                        n = n.host
                    }
                if (e < this.scrollTargets.length && !t && (t = this.scrollTargets.slice(0, e)),
                t) {
                    for (let e of this.scrollTargets)
                        e.removeEventListener("scroll", this.onScroll);
                    for (let e of this.scrollTargets = t)
                        e.addEventListener("scroll", this.onScroll)
                }
            }
            ignore(e) {
                if (!this.active)
                    return e();
                try {
                    return this.stop(),
                    e()
                } finally {
                    this.start(),
                    this.clear()
                }
            }
            start() {
                this.active || (this.observer.observe(this.dom, pa),
                this.dom.ownerDocument.addEventListener("selectionchange", this.onSelectionChange),
                da && this.dom.addEventListener("DOMCharacterDataModified", this.onCharData),
                this.active = !0)
            }
            stop() {
                this.active && (this.active = !1,
                this.observer.disconnect(),
                this.dom.ownerDocument.removeEventListener("selectionchange", this.onSelectionChange),
                da && this.dom.removeEventListener("DOMCharacterDataModified", this.onCharData))
            }
            clearSelection() {
                this.ignoreSelection.set(this.selectionRange)
            }
            clear() {
                this.observer.takeRecords(),
                this.queue.length = 0,
                this.clearSelection()
            }
            flushSoon() {
                this.delayedFlush < 0 && (this.delayedFlush = window.setTimeout((()=>{
                    this.delayedFlush = -1,
                    this.flush()
                }
                ), 20))
            }
            forceFlush() {
                this.delayedFlush >= 0 && (window.clearTimeout(this.delayedFlush),
                this.delayedFlush = -1,
                this.flush())
            }
            flush() {
                if (this.delayedFlush >= 0)
                    return;
                this.lastFlush = Date.now();
                let e = this.queue;
                for (let t of this.observer.takeRecords())
                    e.push(t);
                e.length && (this.queue = []);
                let t = this.selectionRange
                  , n = !this.ignoreSelection.eq(t) && hr(this.dom, t);
                if (0 == e.length && !n)
                    return;
                let i = -1
                  , r = -1
                  , o = !1;
                for (let t of e) {
                    let e = this.readMutation(t);
                    e && (e.typeOver && (o = !0),
                    -1 == i ? ({from: i, to: r} = e) : (i = Math.min(e.from, i),
                    r = Math.max(e.to, r)))
                }
                let s = this.view.state;
                (i > -1 || n) && this.onChange(i, r, o),
                this.view.state == s && (this.view.docView.dirty && (this.ignore((()=>this.view.docView.sync())),
                this.view.docView.dirty = 0),
                this.view.docView.updateSelection()),
                this.clearSelection()
            }
            readMutation(e) {
                let t = this.view.docView.nearest(e.target);
                if (!t || t.ignoreMutation(e))
                    return null;
                if (t.markDirty(),
                "childList" == e.type) {
                    let n = ga(t, e.previousSibling || e.target.previousSibling, -1)
                      , i = ga(t, e.nextSibling || e.target.nextSibling, 1);
                    return {
                        from: n ? t.posAfter(n) : t.posAtStart,
                        to: i ? t.posBefore(i) : t.posAtEnd,
                        typeOver: !1
                    }
                }
                return {
                    from: t.posAtStart,
                    to: t.posAtEnd,
                    typeOver: e.target.nodeValue == e.oldValue
                }
            }
            destroy() {
                this.stop(),
                this.intersection && this.intersection.disconnect();
                for (let e of this.scrollTargets)
                    e.removeEventListener("scroll", this.onScroll);
                window.removeEventListener("scroll", this.onScroll),
                clearTimeout(this.parentCheck)
            }
        }
        function ga(e, t, n) {
            for (; t; ) {
                let i = Mr.get(t);
                if (i && i.parent == e)
                    return i;
                let r = t.parentNode;
                t = r != e.dom ? r : n > 0 ? t.nextSibling : t.previousSibling
            }
            return null
        }
        function ma(e, t, n, i) {
            let r, o, s, a = e.state.selection.main;
            if (t > -1 && (s = e.docView.domBoundsAround(t, n, 0))) {
                let {from: t, to: n} = s
                  , i = e.docView.impreciseHead || e.docView.impreciseAnchor ? [] : function(e) {
                    let t = [];
                    if (e.root.activeElement != e.contentDOM)
                        return t;
                    let {anchorNode: n, anchorOffset: i, focusNode: r, focusOffset: o} = e.observer.selectionRange;
                    n && (t.push(new ba(n,i)),
                    r == n && o == i || t.push(new ba(r,o)));
                    return t
                }(e)
                  , l = new va(i,e);
                l.readRange(s.startDOM, s.endDOM),
                o = function(e, t) {
                    if (0 == e.length)
                        return null;
                    let n = e[0].pos
                      , i = 2 == e.length ? e[1].pos : n;
                    return n > -1 && i > -1 ? Vn.single(n + t, i + t) : null
                }(i, t);
                let c = a.from
                  , u = null;
                (8 === e.inputState.lastKeyCode && e.inputState.lastKeyTime > Date.now() - 100 || Ur.android && l.text.length < n - t) && (c = a.to,
                u = "end");
                let h = function(e, t, n, i) {
                    let r = Math.min(e.length, t.length)
                      , o = 0;
                    for (; o < r && e.charCodeAt(o) == t.charCodeAt(o); )
                        o++;
                    if (o == r && e.length == t.length)
                        return null;
                    let s = e.length
                      , a = t.length;
                    for (; s > 0 && a > 0 && e.charCodeAt(s - 1) == t.charCodeAt(a - 1); )
                        s--,
                        a--;
                    if ("end" == i) {
                        n -= s + Math.max(0, o - Math.min(s, a)) - o
                    }
                    if (s < o && e.length < t.length) {
                        o -= n <= o && n >= s ? o - n : 0,
                        a = o + (a - s),
                        s = o
                    } else if (a < o) {
                        o -= n <= o && n >= a ? o - n : 0,
                        s = o + (s - a),
                        a = o
                    }
                    return {
                        from: o,
                        toA: s,
                        toB: a
                    }
                }(e.state.sliceDoc(t, n), l.text, c - t, u);
                h && (r = {
                    from: t + h.from,
                    to: t + h.toA,
                    insert: e.state.toText(l.text.slice(h.from, h.toB))
                })
            } else if (e.hasFocus || !e.state.facet(So)) {
                let t = e.observer.selectionRange
                  , {impreciseHead: n, impreciseAnchor: i} = e.docView
                  , r = n && n.node == t.focusNode && n.offset == t.focusOffset || !ur(e.contentDOM, t.focusNode) ? e.state.selection.main.head : e.docView.posFromDOM(t.focusNode, t.focusOffset)
                  , s = i && i.node == t.anchorNode && i.offset == t.anchorOffset || !ur(e.contentDOM, t.anchorNode) ? e.state.selection.main.anchor : e.docView.posFromDOM(t.anchorNode, t.anchorOffset);
                r == a.head && s == a.anchor || (o = Vn.single(s, r))
            }
            if (r || o)
                if (!r && i && !a.empty && o && o.main.empty ? r = {
                    from: a.from,
                    to: a.to,
                    insert: e.state.doc.slice(a.from, a.to)
                } : r && r.from >= a.from && r.to <= a.to && (r.from != a.from || r.to != a.to) && a.to - a.from - (r.to - r.from) <= 4 && (r = {
                    from: a.from,
                    to: a.to,
                    insert: e.state.doc.slice(a.from, r.from).append(r.insert).append(e.state.doc.slice(r.to, a.to))
                }),
                r) {
                    let t = e.state;
                    if (Ur.android && (r.from == a.from && r.to == a.to && 1 == r.insert.length && 2 == r.insert.lines && Sr(e.contentDOM, "Enter", 13) || r.from == a.from - 1 && r.to == a.to && 0 == r.insert.length && Sr(e.contentDOM, "Backspace", 8) || r.from == a.from && r.to == a.to + 1 && 0 == r.insert.length && Sr(e.contentDOM, "Delete", 46)) || Ur.ios && e.inputState.flushIOSKey(e))
                        return;
                    let n, i = r.insert.toString();
                    if (e.state.facet(xo).some((t=>t(e, r.from, r.to, i))))
                        return;
                    if (e.inputState.composing >= 0 && e.inputState.composing++,
                    r.from >= a.from && r.to <= a.to && r.to - r.from >= (a.to - a.from) / 3 && (!o || o.main.empty && o.main.from == r.from + r.insert.length)) {
                        let i = a.from < r.from ? t.sliceDoc(a.from, r.from) : ""
                          , o = a.to > r.to ? t.sliceDoc(r.to, a.to) : "";
                        n = t.replaceSelection(e.state.toText(i + r.insert.sliceString(0, void 0, e.state.lineBreak) + o))
                    } else {
                        let e = t.changes(r);
                        n = {
                            changes: e,
                            selection: o && !t.selection.main.eq(o.main) && o.main.to <= e.newLength ? t.selection.replaceRange(o.main) : void 0
                        }
                    }
                    e.dispatch(n, {
                        scrollIntoView: !0,
                        annotations: yi.userEvent.of("input")
                    })
                } else if (o && !o.main.eq(a)) {
                    let t, n = !1;
                    e.inputState.lastSelectionTime > Date.now() - 50 && ("keyboardselection" == e.inputState.lastSelectionOrigin ? n = !0 : t = yi.userEvent.of(e.inputState.lastSelectionOrigin)),
                    e.dispatch({
                        selection: o,
                        scrollIntoView: n,
                        annotations: t
                    })
                }
        }
        class va {
            constructor(e, t) {
                this.points = e,
                this.view = t,
                this.text = "",
                this.lineBreak = t.state.lineBreak
            }
            readRange(e, t) {
                if (!e)
                    return;
                let n = e.parentNode;
                for (let i = e; ; ) {
                    this.findPointBefore(n, i),
                    this.readNode(i);
                    let e = i.nextSibling;
                    if (e == t)
                        break;
                    let r = Mr.get(i)
                      , o = Mr.get(e);
                    ((r ? r.breakAfter : ya(i)) || (o ? o.breakAfter : ya(e)) && ("BR" != i.nodeName || i.cmIgnore)) && (this.text += this.lineBreak),
                    i = e
                }
                this.findPointBefore(n, t)
            }
            readNode(e) {
                if (e.cmIgnore)
                    return;
                let t, n = Mr.get(e), i = n && n.overrideDOMText;
                null != i ? t = i.sliceString(0, void 0, this.lineBreak) : 3 == e.nodeType ? t = e.nodeValue : "BR" == e.nodeName ? t = e.nextSibling ? this.lineBreak : "" : 1 == e.nodeType && this.readRange(e.firstChild, null),
                null != t && (this.findPointIn(e, t.length),
                this.text += t,
                Ur.chrome && 13 == this.view.inputState.lastKeyCode && !e.nextSibling && /\n\n$/.test(this.text) && (this.text = this.text.slice(0, -1)))
            }
            findPointBefore(e, t) {
                for (let n of this.points)
                    n.node == e && e.childNodes[n.offset] == t && (n.pos = this.text.length)
            }
            findPointIn(e, t) {
                for (let n of this.points)
                    n.node == e && (n.pos = this.text.length + Math.min(n.offset, t))
            }
        }
        function ya(e) {
            return 1 == e.nodeType && /^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)
        }
        class ba {
            constructor(e, t) {
                this.node = e,
                this.offset = t,
                this.pos = -1
            }
        }
        class wa {
            constructor(e={}) {
                this.plugins = [],
                this.editorAttrs = {},
                this.contentAttrs = {},
                this.bidiCache = [],
                this.updateState = 2,
                this.measureScheduled = -1,
                this.measureRequests = [],
                this.contentDOM = document.createElement("div"),
                this.scrollDOM = document.createElement("div"),
                this.scrollDOM.tabIndex = -1,
                this.scrollDOM.className = "cm-scroller",
                this.scrollDOM.appendChild(this.contentDOM),
                this.announceDOM = document.createElement("div"),
                this.announceDOM.style.cssText = "position: absolute; top: -10000px",
                this.announceDOM.setAttribute("aria-live", "polite"),
                this.dom = document.createElement("div"),
                this.dom.appendChild(this.announceDOM),
                this.dom.appendChild(this.scrollDOM),
                this._dispatch = e.dispatch || (e=>this.update([e])),
                this.dispatch = this.dispatch.bind(this),
                this.root = e.root || document,
                this.viewState = new Qs(e.state || Ai.create()),
                this.plugins = this.state.facet(Ao).map((e=>new Po(e).update(this))),
                this.observer = new fa(this,((e,t,n)=>{
                    ma(this, e, t, n)
                }
                ),(e=>{
                    this.inputState.runScrollHandlers(this, e),
                    this.observer.intersecting && this.measure()
                }
                )),
                this.inputState = new gs(this),
                this.docView = new Ho(this),
                this.mountStyles(),
                this.updateAttrs(),
                this.updateState = 0,
                window.addEventListener("resize", (()=>{
                    -1 == xa && (xa = setTimeout(Ea, 50))
                }
                )),
                this.requestMeasure(),
                e.parent && e.parent.appendChild(this.dom)
            }
            get state() {
                return this.viewState.state
            }
            get viewport() {
                return this.viewState.viewport
            }
            get visibleRanges() {
                return this.viewState.visibleRanges
            }
            get inView() {
                return this.viewState.inView
            }
            get composing() {
                return this.inputState.composing > 0
            }
            dispatch(...e) {
                this._dispatch(1 == e.length && e[0]instanceof yi ? e[0] : this.state.update(...e))
            }
            update(e) {
                if (0 != this.updateState)
                    throw new Error("Calls to EditorView.update are not allowed while an update is in progress");
                let t, n, i = !1, r = this.state;
                for (let t of e) {
                    if (t.startState != r)
                        throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");
                    r = t.state
                }
                if (r.facet(Ai.phrases) != this.state.facet(Ai.phrases))
                    return this.setState(r);
                t = new zo(this,r,e);
                try {
                    this.updateState = 2,
                    n = e.some((e=>e.scrollIntoView)) ? r.selection.main : null,
                    this.viewState.update(t, n),
                    this.bidiCache = La.update(this.bidiCache, t.changes),
                    t.empty || (this.updatePlugins(t),
                    this.inputState.update(t)),
                    i = this.docView.update(t),
                    this.state.facet(Ro) != this.styleModules && this.mountStyles(),
                    this.updateAttrs(),
                    this.showAnnouncements(e)
                } finally {
                    this.updateState = 0
                }
                if ((i || n || this.viewState.mustEnforceCursorAssoc) && this.requestMeasure(),
                !t.empty)
                    for (let e of this.state.facet(Co))
                        e(t)
            }
            setState(e) {
                if (0 != this.updateState)
                    throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");
                this.updateState = 2;
                try {
                    for (let e of this.plugins)
                        e.destroy(this);
                    this.viewState = new Qs(e),
                    this.plugins = e.facet(Ao).map((e=>new Po(e).update(this))),
                    this.docView = new Ho(this),
                    this.inputState.ensureHandlers(this),
                    this.mountStyles(),
                    this.updateAttrs(),
                    this.bidiCache = []
                } finally {
                    this.updateState = 0
                }
                this.requestMeasure()
            }
            updatePlugins(e) {
                let t = e.startState.facet(Ao)
                  , n = e.state.facet(Ao);
                if (t != n) {
                    let i = [];
                    for (let r of n) {
                        let n = t.indexOf(r);
                        if (n < 0)
                            i.push(new Po(r));
                        else {
                            let t = this.plugins[n];
                            t.mustUpdate = e,
                            i.push(t)
                        }
                    }
                    for (let t of this.plugins)
                        t.mustUpdate != e && t.destroy(this);
                    this.plugins = i,
                    this.inputState.ensureHandlers(this)
                } else
                    for (let t of this.plugins)
                        t.mustUpdate = e;
                for (let e = 0; e < this.plugins.length; e++)
                    this.plugins[e] = this.plugins[e].update(this)
            }
            measure() {
                this.measureScheduled > -1 && cancelAnimationFrame(this.measureScheduled),
                this.measureScheduled = -1;
                let e = null;
                try {
                    for (let t = 0; ; t++) {
                        this.updateState = 1;
                        let n = this.viewState.measure(this.docView, t > 0)
                          , i = this.measureRequests;
                        if (!n && !i.length && null == this.viewState.scrollTo)
                            break;
                        if (this.measureRequests = [],
                        t > 5) {
                            console.warn("Viewport failed to stabilize");
                            break
                        }
                        let r = i.map((e=>{
                            try {
                                return e.read(this)
                            } catch (e) {
                                return Eo(this.state, e),
                                Sa
                            }
                        }
                        ))
                          , o = new zo(this,this.state);
                        o.flags |= n,
                        e ? e.flags |= n : e = o,
                        this.updateState = 2,
                        o.empty || (this.updatePlugins(o),
                        this.inputState.update(o)),
                        this.updateAttrs(),
                        n && this.docView.update(o);
                        for (let e = 0; e < i.length; e++)
                            if (r[e] != Sa)
                                try {
                                    i[e].write(r[e], this)
                                } catch (e) {
                                    Eo(this.state, e)
                                }
                        if (this.viewState.scrollTo && (this.docView.scrollPosIntoView(this.viewState.scrollTo.head, this.viewState.scrollTo.assoc),
                        this.viewState.scrollTo = null),
                        !(4 & n) && 0 == this.measureRequests.length)
                            break
                    }
                } finally {
                    this.updateState = 0
                }
                if (this.measureScheduled = -1,
                e && !e.empty)
                    for (let t of this.state.facet(Co))
                        t(e)
            }
            get themeClasses() {
                return sa + " " + (this.state.facet(oa) ? la : aa) + " " + this.state.facet(ra)
            }
            updateAttrs() {
                let e = eo(this.state.facet(Oo), {
                    class: "cm-editor cm-wrap" + (this.hasFocus ? " cm-focused " : " ") + this.themeClasses
                });
                no(this.dom, this.editorAttrs, e),
                this.editorAttrs = e;
                let t = eo(this.state.facet(Io), {
                    spellcheck: "false",
                    autocorrect: "off",
                    autocapitalize: "off",
                    contenteditable: String(this.state.facet(So)),
                    class: "cm-content",
                    style: `${Ur.tabSize}: ${this.state.tabSize}`,
                    role: "textbox",
                    "aria-multiline": "true"
                });
                no(this.contentDOM, this.contentAttrs, t),
                this.contentAttrs = t
            }
            showAnnouncements(e) {
                let t = !0;
                for (let n of e)
                    for (let e of n.effects)
                        if (e.is(wa.announce)) {
                            t && (this.announceDOM.textContent = ""),
                            t = !1,
                            this.announceDOM.appendChild(document.createElement("div")).textContent = e.value
                        }
            }
            mountStyles() {
                this.styleModules = this.state.facet(Ro),
                Ii.mount(this.root, this.styleModules.concat(ha).reverse())
            }
            readMeasured() {
                if (2 == this.updateState)
                    throw new Error("Reading the editor layout isn't allowed during an update");
                0 == this.updateState && this.measureScheduled > -1 && this.measure()
            }
            requestMeasure(e) {
                if (this.measureScheduled < 0 && (this.measureScheduled = requestAnimationFrame((()=>this.measure()))),
                e) {
                    if (null != e.key)
                        for (let t = 0; t < this.measureRequests.length; t++)
                            if (this.measureRequests[t].key === e.key)
                                return void (this.measureRequests[t] = e);
                    this.measureRequests.push(e)
                }
            }
            pluginField(e) {
                let t = [];
                for (let n of this.plugins)
                    n.update(this).takeField(e, t);
                return t
            }
            plugin(e) {
                for (let t of this.plugins)
                    if (t.spec == e)
                        return t.update(this).value;
                return null
            }
            blockAtHeight(e, t) {
                return this.readMeasured(),
                this.viewState.blockAtHeight(e, Ca(t, this.contentDOM))
            }
            visualLineAtHeight(e, t) {
                return this.readMeasured(),
                this.viewState.lineAtHeight(e, Ca(t, this.contentDOM))
            }
            viewportLines(e, t) {
                let {from: n, to: i} = this.viewport;
                this.viewState.forEachLine(n, i, e, Ca(t, this.contentDOM))
            }
            visualLineAt(e, t=0) {
                return this.viewState.lineAt(e, t)
            }
            get contentHeight() {
                return this.viewState.contentHeight
            }
            moveByChar(e, t, n) {
                return fs(this, e, ds(this, e, t, n))
            }
            moveByGroup(e, t) {
                return fs(this, e, ds(this, e, t, (t=>function(e, t, n) {
                    let i = e.state.charCategorizer(t)
                      , r = i(n);
                    return e=>{
                        let t = i(e);
                        return r == Si.Space && (r = t),
                        r == t
                    }
                }(this, e.head, t))))
            }
            moveToLineBoundary(e, t, n=!0) {
                return function(e, t, n, i) {
                    let r = e.state.doc.lineAt(t.head)
                      , o = i && e.lineWrapping ? e.coordsAtPos(t.assoc < 0 && t.head > r.from ? t.head - 1 : t.head) : null;
                    if (o) {
                        let t = e.dom.getBoundingClientRect()
                          , i = e.posAtCoords({
                            x: n == (e.textDirection == jo.LTR) ? t.right - 1 : t.left + 1,
                            y: (o.top + o.bottom) / 2
                        });
                        if (null != i)
                            return Vn.cursor(i, n ? -1 : 1)
                    }
                    let s = ho.find(e.docView, t.head)
                      , a = s ? n ? s.posAtEnd : s.posAtStart : n ? r.to : r.from;
                    return Vn.cursor(a, n ? -1 : 1)
                }(this, e, t, n)
            }
            moveVertically(e, t, n) {
                return fs(this, e, function(e, t, n, i) {
                    var r;
                    let o = t.head
                      , s = n ? 1 : -1;
                    if (o == (n ? e.state.doc.length : 0))
                        return Vn.cursor(o);
                    let a = e.coordsAtPos(o);
                    if (a) {
                        let n = e.dom.getBoundingClientRect()
                          , l = null !== (r = t.goalColumn) && void 0 !== r ? r : a.left - n.left
                          , c = n.left + l
                          , u = null != i ? i : e.defaultLineHeight >> 1;
                        for (let t = s < 0 ? a.top : a.bottom, n = 0; n < 50; n += 10) {
                            let i = ps(e, {
                                x: c,
                                y: t + (u + n) * s
                            }, s);
                            if (null == i)
                                break;
                            if (i != o)
                                return Vn.cursor(i, void 0, void 0, l)
                        }
                    }
                    let {doc: l} = e.state
                      , c = l.lineAt(o)
                      , u = e.state.tabSize
                      , h = t.goalColumn
                      , p = 0;
                    if (null == h) {
                        for (const e = l.iterRange(c.from, o); !e.next().done; )
                            p = bn(e.value, p, u);
                        h = p * e.defaultCharacterWidth
                    } else
                        p = Math.round(h / e.defaultCharacterWidth);
                    if (s < 0 && 0 == c.from)
                        return Vn.cursor(0);
                    if (s > 0 && c.to == l.length)
                        return Vn.cursor(c.to);
                    let d = l.line(c.number + s)
                      , f = d.from
                      , g = 0;
                    for (const e = l.iterRange(d.from, d.to); g >= p && !e.next().done; ) {
                        const {offset: t, leftOver: n} = wn(e.value, g, p, u);
                        g = p - n,
                        f += t
                    }
                    return Vn.cursor(f, void 0, void 0, h)
                }(this, e, t, n))
            }
            scrollPosIntoView(e) {
                this.viewState.scrollTo = Vn.cursor(e),
                this.requestMeasure()
            }
            domAtPos(e) {
                return this.docView.domAtPos(e)
            }
            posAtDOM(e, t=0) {
                return this.docView.posFromDOM(e, t)
            }
            posAtCoords(e) {
                return this.readMeasured(),
                ps(this, e)
            }
            coordsAtPos(e, t=1) {
                this.readMeasured();
                let n = this.docView.coordsAt(e, t);
                if (!n || n.left == n.right)
                    return n;
                let i = this.state.doc.lineAt(e)
                  , r = this.bidiSpans(i);
                return yr(n, r[Zo.find(r, e - i.from, -1, t)].dir == jo.LTR == t > 0)
            }
            get defaultCharacterWidth() {
                return this.viewState.heightOracle.charWidth
            }
            get defaultLineHeight() {
                return this.viewState.heightOracle.lineHeight
            }
            get textDirection() {
                return this.viewState.heightOracle.direction
            }
            get lineWrapping() {
                return this.viewState.heightOracle.lineWrapping
            }
            bidiSpans(e) {
                if (e.length > ka)
                    return ns(e.length);
                let t = this.textDirection;
                for (let n of this.bidiCache)
                    if (n.from == e.from && n.dir == t)
                        return n.order;
                let n = ts(e.text, this.textDirection);
                return this.bidiCache.push(new La(e.from,e.to,t,n)),
                n
            }
            get hasFocus() {
                var e;
                return (document.hasFocus() || Ur.safari && (null === (e = this.inputState) || void 0 === e ? void 0 : e.lastContextMenu) > Date.now() - 3e4) && this.root.activeElement == this.contentDOM
            }
            focus() {
                this.observer.ignore((()=>{
                    xr(this.contentDOM),
                    this.docView.updateSelection()
                }
                ))
            }
            destroy() {
                for (let e of this.plugins)
                    e.destroy(this);
                this.inputState.destroy(),
                this.dom.remove(),
                this.observer.destroy(),
                this.measureScheduled > -1 && cancelAnimationFrame(this.measureScheduled)
            }
            static domEventHandlers(e) {
                return To.define((()=>({})), {
                    eventHandlers: e
                })
            }
            static theme(e, t) {
                let n = Ii.newName()
                  , i = [ra.of(n), Ro.of(ua(`.${n}`, e))];
                return t && t.dark && i.push(oa.of(!0)),
                i
            }
            static baseTheme(e) {
                return ti.fallback(Ro.of(ua("." + sa, e, ca)))
            }
        }
        wa.styleModule = Ro,
        wa.inputHandler = xo,
        wa.exceptionSink = ko,
        wa.updateListener = Co,
        wa.editable = So,
        wa.mouseSelectionStyle = wo,
        wa.dragMovesSelection = bo,
        wa.clickAddsSelectionRange = yo,
        wa.decorations = No,
        wa.contentAttributes = Io,
        wa.editorAttributes = Oo,
        wa.lineWrapping = wa.contentAttributes.of({
            class: "cm-lineWrapping"
        }),
        wa.announce = vi.define();
        const ka = 4096;
        function Ca(e, t) {
            return null == e ? t.getBoundingClientRect().top : e
        }
        let xa = -1;
        function Ea() {
            xa = -1;
            let e = document.querySelectorAll(".cm-content");
            for (let t = 0; t < e.length; t++) {
                let n = Mr.get(e[t]);
                n && n.editorView.requestMeasure()
            }
        }
        const Sa = {};
        class La {
            constructor(e, t, n, i) {
                this.from = e,
                this.to = t,
                this.dir = n,
                this.order = i
            }
            static update(e, t) {
                if (t.empty)
                    return e;
                let n = []
                  , i = e.length ? e[e.length - 1].dir : jo.LTR;
                for (let r = Math.max(0, e.length - 10); r < e.length; r++) {
                    let o = e[r];
                    o.dir != i || t.touchesRange(o.from, o.to) || n.push(new La(t.mapPos(o.from, 1),t.mapPos(o.to, -1),o.dir,o.order))
                }
                return n
            }
        }
        const Da = "undefined" == typeof navigator ? "key" : /Mac/.test(navigator.platform) ? "mac" : /Win/.test(navigator.platform) ? "win" : /Linux|X11/.test(navigator.platform) ? "linux" : "key";
        function Ma(e, t, n) {
            return t.altKey && (e = "Alt-" + e),
            t.ctrlKey && (e = "Ctrl-" + e),
            t.metaKey && (e = "Meta-" + e),
            !1 !== n && t.shiftKey && (e = "Shift-" + e),
            e
        }
        const Aa = wa.domEventHandlers({
            keydown: (e,t)=>Ia(Pa(t.state), e, t, "editor")
        })
          , Ta = jn.define({
            enables: Aa
        })
          , Fa = new WeakMap;
        function Pa(e) {
            let t = e.facet(Ta)
              , n = Fa.get(t);
            return n || Fa.set(t, n = function(e, t=Da) {
                let n = Object.create(null)
                  , i = Object.create(null)
                  , r = (e,t)=>{
                    let n = i[e];
                    if (null == n)
                        i[e] = t;
                    else if (n != t)
                        throw new Error("Key binding " + e + " is used both as a regular binding and as a multi-stroke prefix")
                }
                  , o = (e,i,o,s)=>{
                    let a = n[e] || (n[e] = Object.create(null))
                      , l = i.split(/ (?!$)/).map((e=>function(e, t) {
                        const n = e.split(/-(?!$)/);
                        let i, r, o, s, a = n[n.length - 1];
                        "Space" == a && (a = " ");
                        for (let e = 0; e < n.length - 1; ++e) {
                            const a = n[e];
                            if (/^(cmd|meta|m)$/i.test(a))
                                s = !0;
                            else if (/^a(lt)?$/i.test(a))
                                i = !0;
                            else if (/^(c|ctrl|control)$/i.test(a))
                                r = !0;
                            else if (/^s(hift)?$/i.test(a))
                                o = !0;
                            else {
                                if (!/^mod$/i.test(a))
                                    throw new Error("Unrecognized modifier name: " + a);
                                "mac" == t ? s = !0 : r = !0
                            }
                        }
                        return i && (a = "Alt-" + a),
                        r && (a = "Ctrl-" + a),
                        s && (a = "Meta-" + a),
                        o && (a = "Shift-" + a),
                        a
                    }(e, t)));
                    for (let t = 1; t < l.length; t++) {
                        let n = l.slice(0, t).join(" ");
                        r(n, !0),
                        a[n] || (a[n] = {
                            preventDefault: !0,
                            commands: [t=>{
                                let i = Oa = {
                                    view: t,
                                    prefix: n,
                                    scope: e
                                };
                                return setTimeout((()=>{
                                    Oa == i && (Oa = null)
                                }
                                ), 4e3),
                                !0
                            }
                            ]
                        })
                    }
                    let c = l.join(" ");
                    r(c, !1);
                    let u = a[c] || (a[c] = {
                        preventDefault: !1,
                        commands: []
                    });
                    u.commands.push(o),
                    s && (u.preventDefault = !0)
                }
                ;
                for (let n of e) {
                    let e = n[t] || n.key;
                    if (e)
                        for (let t of n.scope ? n.scope.split(" ") : ["editor"])
                            o(t, e, n.run, n.preventDefault),
                            n.shift && o(t, "Shift-" + e, n.shift, n.preventDefault)
                }
                return n
            }(t.reduce(((e,t)=>e.concat(t)), []))),
            n
        }
        let Oa = null;
        function Ia(e, t, n, i) {
            let r = function(e) {
                var t = !(sr && (e.ctrlKey || e.altKey || e.metaKey) || (nr || or) && e.shiftKey && e.key && 1 == e.key.length) && e.key || (e.shiftKey ? er : Zi)[e.keyCode] || e.key || "Unidentified";
                return "Esc" == t && (t = "Escape"),
                "Del" == t && (t = "Delete"),
                "Left" == t && (t = "ArrowLeft"),
                "Up" == t && (t = "ArrowUp"),
                "Right" == t && (t = "ArrowRight"),
                "Down" == t && (t = "ArrowDown"),
                t
            }(t)
              , o = 1 == r.length && " " != r
              , s = ""
              , a = !1;
            Oa && Oa.view == n && Oa.scope == i && (s = Oa.prefix + " ",
            (a = ms.indexOf(t.keyCode) < 0) && (Oa = null));
            let l, c = e=>{
                if (e) {
                    for (let t of e.commands)
                        if (t(n))
                            return !0;
                    e.preventDefault && (a = !0)
                }
                return !1
            }
            , u = e[i];
            if (u) {
                if (c(u[s + Ma(r, t, !o)]))
                    return !0;
                if (o && (t.shiftKey || t.altKey || t.metaKey) && (l = Zi[t.keyCode]) && l != r) {
                    if (c(u[s + Ma(l, t, !0)]))
                        return !0
                } else if (o && t.shiftKey && c(u[s + Ma(r, t, !0)]))
                    return !0
            }
            return a
        }
        const Na = !Ur.ios
          , Ra = jn.define({
            combine: e=>Ti(e, {
                cursorBlinkRate: 1200,
                drawRangeCursor: !0
            }, {
                cursorBlinkRate: (e,t)=>Math.min(e, t),
                drawRangeCursor: (e,t)=>e || t
            })
        });
        class Ba {
            constructor(e, t, n, i, r) {
                this.left = e,
                this.top = t,
                this.width = n,
                this.height = i,
                this.className = r
            }
            draw() {
                let e = document.createElement("div");
                return e.className = this.className,
                this.adjust(e),
                e
            }
            adjust(e) {
                e.style.left = this.left + "px",
                e.style.top = this.top + "px",
                this.width >= 0 && (e.style.width = this.width + "px"),
                e.style.height = this.height + "px"
            }
            eq(e) {
                return this.left == e.left && this.top == e.top && this.width == e.width && this.height == e.height && this.className == e.className
            }
        }
        const za = To.fromClass(class {
            constructor(e) {
                this.view = e,
                this.rangePieces = [],
                this.cursors = [],
                this.measureReq = {
                    read: this.readPos.bind(this),
                    write: this.drawSel.bind(this)
                },
                this.selectionLayer = e.scrollDOM.appendChild(document.createElement("div")),
                this.selectionLayer.className = "cm-selectionLayer",
                this.selectionLayer.setAttribute("aria-hidden", "true"),
                this.cursorLayer = e.scrollDOM.appendChild(document.createElement("div")),
                this.cursorLayer.className = "cm-cursorLayer",
                this.cursorLayer.setAttribute("aria-hidden", "true"),
                e.requestMeasure(this.measureReq),
                this.setBlinkRate()
            }
            setBlinkRate() {
                this.cursorLayer.style.animationDuration = this.view.state.facet(Ra).cursorBlinkRate + "ms"
            }
            update(e) {
                let t = e.startState.facet(Ra) != e.state.facet(Ra);
                (t || e.selectionSet || e.geometryChanged || e.viewportChanged) && this.view.requestMeasure(this.measureReq),
                e.transactions.some((e=>e.scrollIntoView)) && (this.cursorLayer.style.animationName = "cm-blink" == this.cursorLayer.style.animationName ? "cm-blink2" : "cm-blink"),
                t && this.setBlinkRate()
            }
            readPos() {
                let {state: e} = this.view
                  , t = e.facet(Ra)
                  , n = e.selection.ranges.map((e=>e.empty ? [] : function(e, t) {
                    if (t.to <= e.viewport.from || t.from >= e.viewport.to)
                        return [];
                    let n = Math.max(t.from, e.viewport.from)
                      , i = Math.min(t.to, e.viewport.to)
                      , r = e.textDirection == jo.LTR
                      , o = e.contentDOM
                      , s = o.getBoundingClientRect()
                      , a = qa(e)
                      , l = window.getComputedStyle(o.firstChild)
                      , c = s.left + parseInt(l.paddingLeft)
                      , u = s.right - parseInt(l.paddingRight)
                      , h = _a(e, n)
                      , p = _a(e, i)
                      , d = h.type == ro.Text ? h : null
                      , f = p.type == ro.Text ? p : null;
                    e.lineWrapping && (d && (d = Ua(e, n, d)),
                    f && (f = Ua(e, i, f)));
                    if (d && f && d.from == f.from)
                        return m(v(t.from, t.to, d));
                    {
                        let n = d ? v(t.from, null, d) : y(h, !1)
                          , i = f ? v(null, t.to, f) : y(p, !0)
                          , r = [];
                        return (d || h).to < (f || p).from - 1 ? r.push(g(c, n.bottom, u, i.top)) : n.bottom < i.top && _a(e, (n.bottom + i.top) / 2).type == ro.Text && (n.bottom = i.top = (n.bottom + i.top) / 2),
                        m(n).concat(r).concat(m(i))
                    }
                    function g(e, t, n, i) {
                        return new Ba(e - a.left,t - a.top,n - e,i - t,"cm-selectionBackground")
                    }
                    function m({top: e, bottom: t, horizontal: n}) {
                        let i = [];
                        for (let r = 0; r < n.length; r += 2)
                            i.push(g(n[r], e, n[r + 1], t));
                        return i
                    }
                    function v(t, n, i) {
                        let o = 1e9
                          , s = -1e9
                          , a = [];
                        function l(t, n, l, h, p) {
                            let d = e.coordsAtPos(t, t == i.to ? -2 : 2)
                              , f = e.coordsAtPos(l, l == i.from ? 2 : -2);
                            o = Math.min(d.top, f.top, o),
                            s = Math.max(d.bottom, f.bottom, s),
                            p == jo.LTR ? a.push(r && n ? c : d.left, r && h ? u : f.right) : a.push(!r && h ? c : f.left, !r && n ? u : d.right)
                        }
                        let h = null != t ? t : i.from
                          , p = null != n ? n : i.to;
                        for (let i of e.visibleRanges)
                            if (i.to > h && i.from < p)
                                for (let r = Math.max(i.from, h), o = Math.min(i.to, p); ; ) {
                                    let i = e.state.doc.lineAt(r);
                                    for (let s of e.bidiSpans(i)) {
                                        let e = s.from + i.from
                                          , a = s.to + i.from;
                                        if (e >= o)
                                            break;
                                        a > r && l(Math.max(e, r), null == t && e <= h, Math.min(a, o), null == n && a >= p, s.dir)
                                    }
                                    if (r = i.to + 1,
                                    r >= o)
                                        break
                                }
                        return 0 == a.length && l(h, null == t, p, null == n, e.textDirection),
                        {
                            top: o,
                            bottom: s,
                            horizontal: a
                        }
                    }
                    function y(e, t) {
                        let n = s.top + (t ? e.top : e.bottom);
                        return {
                            top: n,
                            bottom: n,
                            horizontal: []
                        }
                    }
                }(this.view, e))).reduce(((e,t)=>e.concat(t)))
                  , i = [];
                for (let n of e.selection.ranges) {
                    let r = n == e.selection.main;
                    if (n.empty ? !r || Na : t.drawRangeCursor) {
                        let e = ja(this.view, n, r);
                        e && i.push(e)
                    }
                }
                return {
                    rangePieces: n,
                    cursors: i
                }
            }
            drawSel({rangePieces: e, cursors: t}) {
                if (e.length != this.rangePieces.length || e.some(((e,t)=>!e.eq(this.rangePieces[t])))) {
                    this.selectionLayer.textContent = "";
                    for (let t of e)
                        this.selectionLayer.appendChild(t.draw());
                    this.rangePieces = e
                }
                if (t.length != this.cursors.length || t.some(((e,t)=>!e.eq(this.cursors[t])))) {
                    let e = this.cursorLayer.children;
                    if (e.length !== t.length) {
                        this.cursorLayer.textContent = "";
                        for (const e of t)
                            this.cursorLayer.appendChild(e.draw())
                    } else
                        t.forEach(((t,n)=>t.adjust(e[n])));
                    this.cursors = t
                }
            }
            destroy() {
                this.selectionLayer.remove(),
                this.cursorLayer.remove()
            }
        }
        )
          , Ha = {
            ".cm-line": {
                "& ::selection": {
                    backgroundColor: "transparent !important"
                },
                "&::selection": {
                    backgroundColor: "transparent !important"
                }
            }
        };
        Na && (Ha[".cm-line"].caretColor = "transparent !important");
        const Va = ti.override(wa.theme(Ha));
        function qa(e) {
            let t = e.scrollDOM.getBoundingClientRect();
            return {
                left: (e.textDirection == jo.LTR ? t.left : t.right - e.scrollDOM.clientWidth) - e.scrollDOM.scrollLeft,
                top: t.top - e.scrollDOM.scrollTop
            }
        }
        function Ua(e, t, n) {
            let i = Vn.cursor(t);
            return {
                from: Math.max(n.from, e.moveToLineBoundary(i, !1, !0).from),
                to: Math.min(n.to, e.moveToLineBoundary(i, !0, !0).from),
                type: ro.Text
            }
        }
        function _a(e, t) {
            let n = e.visualLineAt(t);
            if (Array.isArray(n.type))
                for (let e of n.type)
                    if (e.to > t || e.to == t && (e.to == n.to || e.type == ro.Text))
                        return e;
            return n
        }
        function ja(e, t, n) {
            let i = e.coordsAtPos(t.head, t.assoc || 1);
            if (!i)
                return null;
            let r = qa(e);
            return new Ba(i.left - r.left,i.top - r.top,-1,i.bottom - i.top,n ? "cm-cursor cm-cursor-primary" : "cm-cursor cm-cursor-secondary")
        }
        function Wa(e, t, n, i, r) {
            t.lastIndex = 0;
            for (let o, s = e.iterRange(n, i), a = n; !s.next().done; a += s.value.length)
                if (!s.lineBreak)
                    for (; o = t.exec(s.value); )
                        r(a + o.index, a + o.index + o[0].length, o)
        }
        class $a {
            constructor(e) {
                let {regexp: t, decoration: n, boundary: i} = e;
                if (!t.global)
                    throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");
                this.regexp = t,
                this.getDeco = "function" == typeof n ? n : ()=>n,
                this.boundary = i
            }
            createDeco(e) {
                let t = new Ui;
                for (let {from: n, to: i} of e.visibleRanges)
                    Wa(e.state.doc, this.regexp, n, i, ((n,i,r)=>t.add(n, i, this.getDeco(r, e, n))));
                return t.finish()
            }
            updateDeco(e, t) {
                let n = 1e9
                  , i = -1;
                return e.docChanged && e.changes.iterChanges(((t,r,o,s)=>{
                    s > e.view.viewport.from && o < e.view.viewport.to && (n = Math.min(o, n),
                    i = Math.max(s, i))
                }
                )),
                e.viewportChanged || i - n > 1e3 ? this.createDeco(e.view) : i > -1 ? this.updateRange(e.view, t.map(e.changes), n, i) : t
            }
            updateRange(e, t, n, i) {
                for (let r of e.visibleRanges) {
                    let o = Math.max(r.from, n)
                      , s = Math.min(r.to, i);
                    if (s > o) {
                        let n = e.state.doc.lineAt(o)
                          , i = n.to < s ? e.state.doc.lineAt(s) : n
                          , a = Math.max(r.from, n.from)
                          , l = Math.min(r.to, i.to);
                        if (this.boundary) {
                            for (; o > n.from; o--)
                                if (this.boundary.test(n.text[o - 1 - n.from])) {
                                    a = o;
                                    break
                                }
                            for (; s < i.to; s++)
                                if (this.boundary.test(i.text[s - i.from])) {
                                    l = s;
                                    break
                                }
                        }
                        let c, u = [];
                        if (n == i)
                            for (this.regexp.lastIndex = a - n.from; (c = this.regexp.exec(n.text)) && c.index < l - n.from; ) {
                                let t = c.index + n.from;
                                u.push(this.getDeco(c, e, t).range(t, t + c[0].length))
                            }
                        else
                            Wa(e.state.doc, this.regexp, a, l, ((t,n,i)=>u.push(this.getDeco(i, e, t).range(t, n))));
                        t = t.update({
                            filterFrom: a,
                            filterTo: l,
                            filter: ()=>!1,
                            add: u
                        })
                    }
                }
                return t
            }
        }
        const Ga = null != /x/.unicode ? "gu" : "g"
          , Ya = new RegExp("[\0-\b\n--­؜​‎‏\u2028\u2029\ufeff￹-￼]",Ga)
          , Ka = {
            0: "null",
            7: "bell",
            8: "backspace",
            10: "newline",
            11: "vertical tab",
            13: "carriage return",
            27: "escape",
            8203: "zero width space",
            8204: "zero width non-joiner",
            8205: "zero width joiner",
            8206: "left-to-right mark",
            8207: "right-to-left mark",
            8232: "line separator",
            8233: "paragraph separator",
            65279: "zero width no-break space",
            65532: "object replacement"
        };
        let Qa = null;
        const Ja = jn.define({
            combine(e) {
                let t = Ti(e, {
                    render: null,
                    specialChars: Ya,
                    addSpecialChars: null
                });
                return (t.replaceTabs = !function() {
                    var e;
                    if (null == Qa && "undefined" != typeof document && document.body) {
                        let t = document.body.style;
                        Qa = null != (null !== (e = t.tabSize) && void 0 !== e ? e : t.MozTabSize)
                    }
                    return Qa || !1
                }()) && (t.specialChars = new RegExp("\t|" + t.specialChars.source,Ga)),
                t.addSpecialChars && (t.specialChars = new RegExp(t.specialChars.source + "|" + t.addSpecialChars.source,Ga)),
                t
            }
        });
        let Xa = null;
        class Za extends io {
            constructor(e, t) {
                super(),
                this.options = e,
                this.code = t
            }
            eq(e) {
                return e.code == this.code
            }
            toDOM(e) {
                let t = function(e) {
                    return e >= 32 ? "•" : 10 == e ? "␤" : String.fromCharCode(9216 + e)
                }(this.code)
                  , n = e.state.phrase("Control character") + " " + (Ka[this.code] || "0x" + this.code.toString(16))
                  , i = this.options.render && this.options.render(this.code, n, t);
                if (i)
                    return i;
                let r = document.createElement("span");
                return r.textContent = t,
                r.title = n,
                r.setAttribute("aria-label", n),
                r.className = "cm-specialChar",
                r
            }
            ignoreEvent() {
                return !1
            }
        }
        class el extends io {
            constructor(e) {
                super(),
                this.width = e
            }
            eq(e) {
                return e.width == this.width
            }
            toDOM() {
                let e = document.createElement("span");
                return e.textContent = "\t",
                e.className = "cm-tab",
                e.style.width = this.width + "px",
                e
            }
            ignoreEvent() {
                return !1
            }
        }
        const tl = 1024;
        let nl = 0;
        const il = new WeakMap;
        class rl {
            constructor({deserialize: e}={}) {
                this.id = nl++,
                this.deserialize = e || (()=>{
                    throw new Error("This node type doesn't define a deserialize function")
                }
                )
            }
            static string() {
                return new rl({
                    deserialize: e=>e
                })
            }
            static number() {
                return new rl({
                    deserialize: Number
                })
            }
            static flag() {
                return new rl({
                    deserialize: ()=>!0
                })
            }
            set(e, t) {
                return e[this.id] = t,
                e
            }
            add(e) {
                return "function" != typeof e && (e = sl.match(e)),
                t=>{
                    let n = e(t);
                    return void 0 === n ? null : [this, n]
                }
            }
        }
        rl.closedBy = new rl({
            deserialize: e=>e.split(" ")
        }),
        rl.openedBy = new rl({
            deserialize: e=>e.split(" ")
        }),
        rl.group = new rl({
            deserialize: e=>e.split(" ")
        });
        const ol = Object.create(null);
        class sl {
            constructor(e, t, n, i=0) {
                this.name = e,
                this.props = t,
                this.id = n,
                this.flags = i
            }
            static define(e) {
                let t = e.props && e.props.length ? Object.create(null) : ol
                  , n = (e.top ? 1 : 0) | (e.skipped ? 2 : 0) | (e.error ? 4 : 0) | (null == e.name ? 8 : 0)
                  , i = new sl(e.name || "",t,e.id,n);
                if (e.props)
                    for (let n of e.props)
                        Array.isArray(n) || (n = n(i)),
                        n && n[0].set(t, n[1]);
                return i
            }
            prop(e) {
                return this.props[e.id]
            }
            get isTop() {
                return (1 & this.flags) > 0
            }
            get isSkipped() {
                return (2 & this.flags) > 0
            }
            get isError() {
                return (4 & this.flags) > 0
            }
            get isAnonymous() {
                return (8 & this.flags) > 0
            }
            is(e) {
                if ("string" == typeof e) {
                    if (this.name == e)
                        return !0;
                    let t = this.prop(rl.group);
                    return !!t && t.indexOf(e) > -1
                }
                return this.id == e
            }
            static match(e) {
                let t = Object.create(null);
                for (let n in e)
                    for (let i of n.split(" "))
                        t[i] = e[n];
                return e=>{
                    for (let n = e.prop(rl.group), i = -1; i < (n ? n.length : 0); i++) {
                        let r = t[i < 0 ? e.name : n[i]];
                        if (r)
                            return r
                    }
                }
            }
        }
        sl.none = new sl("",Object.create(null),0,8);
        class al {
            constructor(e) {
                this.types = e;
                for (let t = 0; t < e.length; t++)
                    if (e[t].id != t)
                        throw new RangeError("Node type ids should correspond to array positions when creating a node set")
            }
            extend(...e) {
                let t = [];
                for (let n of this.types) {
                    let i = null;
                    for (let t of e) {
                        let e = t(n);
                        e && (i || (i = Object.assign({}, n.props)),
                        e[0].set(i, e[1]))
                    }
                    t.push(i ? new sl(n.name,i,n.id,n.flags) : n)
                }
                return new al(t)
            }
        }
        class ll {
            constructor(e, t, n, i) {
                this.type = e,
                this.children = t,
                this.positions = n,
                this.length = i
            }
            toString() {
                let e = this.children.map((e=>e.toString())).join();
                return this.type.name ? (/\W/.test(this.type.name) && !this.type.isError ? JSON.stringify(this.type.name) : this.type.name) + (e.length ? "(" + e + ")" : "") : e
            }
            cursor(e, t=0) {
                let n = null != e && il.get(this) || this.topNode
                  , i = new gl(n);
                return null != e && (i.moveTo(e, t),
                il.set(this, i._tree)),
                i
            }
            fullCursor() {
                return new gl(this.topNode,!0)
            }
            get topNode() {
                return new hl(this,0,0,null)
            }
            resolve(e, t=0) {
                return this.cursor(e, t).node
            }
            iterate(e) {
                let {enter: t, leave: n, from: i=0, to: r=this.length} = e;
                for (let e = this.cursor(); ; ) {
                    let o = !1;
                    if (e.from <= r && e.to >= i && (e.type.isAnonymous || !1 !== t(e.type, e.from, e.to))) {
                        if (e.firstChild())
                            continue;
                        e.type.isAnonymous || (o = !0)
                    }
                    for (; o && n && n(e.type, e.from, e.to),
                    o = e.type.isAnonymous,
                    !e.nextSibling(); ) {
                        if (!e.parent())
                            return;
                        o = !0
                    }
                }
            }
            balance(e=tl) {
                return this.children.length <= yl ? this : bl(this.type, sl.none, this.children, this.positions, 0, this.children.length, 0, e, this.length, 0)
            }
            static build(e) {
                return function(e) {
                    var t;
                    let {buffer: n, nodeSet: i, topID: r=0, maxBufferLength: o=tl, reused: s=[], minRepeatType: a=i.types.length} = e
                      , l = Array.isArray(n) ? new vl(n,n.length) : n
                      , c = i.types
                      , u = 0;
                    function h(e, t, n, r, f) {
                        let {id: g, start: m, end: v, size: y} = l
                          , b = m - e;
                        if (y < 0)
                            return -1 == y ? (n.push(s[g]),
                            r.push(b)) : u = g,
                            void l.next();
                        let w, k, C = c[g];
                        if (v - m <= o && (k = p(l.pos - t, f))) {
                            let t = new Uint16Array(k.size - k.skip)
                              , n = l.pos - k.size
                              , r = t.length;
                            for (; l.pos > n; )
                                r = d(k.start, t, r, f);
                            w = new ul(t,v - k.start,i,f < 0 ? sl.none : c[f]),
                            b = k.start - e
                        } else {
                            let e = l.pos - y;
                            l.next();
                            let t = []
                              , n = []
                              , i = g >= a ? g : -1;
                            for (; l.pos > e; )
                                l.id == i ? l.next() : h(m, e, t, n, i);
                            t.reverse(),
                            n.reverse(),
                            w = i > -1 && t.length > yl ? bl(C, C, t, n, 0, t.length, 0, o, v - m, u) : cl(new ll(C,t,n,v - m), u)
                        }
                        n.push(w),
                        r.push(b)
                    }
                    function p(e, t) {
                        let n = l.fork()
                          , i = 0
                          , r = 0
                          , s = 0
                          , c = n.end - o
                          , u = {
                            size: 0,
                            start: 0,
                            skip: 0
                        };
                        e: for (let o = n.pos - e; n.pos > o; ) {
                            if (n.id == t) {
                                u.size = i,
                                u.start = r,
                                u.skip = s,
                                s += 4,
                                i += 4,
                                n.next();
                                continue
                            }
                            let e = n.size
                              , l = n.pos - e;
                            if (e < 0 || l < o || n.start < c)
                                break;
                            let h = n.id >= a ? 4 : 0
                              , p = n.start;
                            for (n.next(); n.pos > l; ) {
                                if (n.size < 0)
                                    break e;
                                n.id >= a && (h += 4),
                                n.next()
                            }
                            r = p,
                            i += e,
                            s += h
                        }
                        return (t < 0 || i == e) && (u.size = i,
                        u.start = r,
                        u.skip = s),
                        u.size > 4 ? u : void 0
                    }
                    function d(e, t, n, i) {
                        let {id: r, start: o, end: s, size: c} = l;
                        if (l.next(),
                        r == i)
                            return n;
                        let u = n;
                        if (c > 4) {
                            let r = l.pos - (c - 4);
                            for (; l.pos > r; )
                                n = d(e, t, n, i)
                        }
                        return r < a && (t[--n] = u,
                        t[--n] = s - e,
                        t[--n] = o - e,
                        t[--n] = r),
                        n
                    }
                    let f = []
                      , g = [];
                    for (; l.pos > 0; )
                        h(e.start || 0, 0, f, g, -1);
                    let m = null !== (t = e.length) && void 0 !== t ? t : f.length ? g[0] + f[0].length : 0;
                    return new ll(c[r],f.reverse(),g.reverse(),m)
                }(e)
            }
        }
        function cl(e, t) {
            return t && (e.contextHash = t),
            e
        }
        ll.empty = new ll(sl.none,[],[],0);
        class ul {
            constructor(e, t, n, i=sl.none) {
                this.buffer = e,
                this.length = t,
                this.set = n,
                this.type = i
            }
            toString() {
                let e = [];
                for (let t = 0; t < this.buffer.length; )
                    e.push(this.childString(t)),
                    t = this.buffer[t + 3];
                return e.join(",")
            }
            childString(e) {
                let t = this.buffer[e]
                  , n = this.buffer[e + 3]
                  , i = this.set.types[t]
                  , r = i.name;
                if (/\W/.test(r) && !i.isError && (r = JSON.stringify(r)),
                n == (e += 4))
                    return r;
                let o = [];
                for (; e < n; )
                    o.push(this.childString(e)),
                    e = this.buffer[e + 3];
                return r + "(" + o.join(",") + ")"
            }
            findChild(e, t, n, i) {
                let {buffer: r} = this
                  , o = -1;
                for (let s = e; s != t; s = r[s + 3])
                    if (-1e8 != i) {
                        let e = r[s + 1]
                          , t = r[s + 2];
                        if (n > 0) {
                            if (t > i && (o = s),
                            t > i)
                                break
                        } else if (e < i && (o = s),
                        t >= i)
                            break
                    } else if (o = s,
                    n > 0)
                        break;
                return o
            }
        }
        class hl {
            constructor(e, t, n, i) {
                this.node = e,
                this.from = t,
                this.index = n,
                this._parent = i
            }
            get type() {
                return this.node.type
            }
            get name() {
                return this.node.type.name
            }
            get to() {
                return this.from + this.node.length
            }
            nextChild(e, t, n, i=!1) {
                for (let r = this; ; ) {
                    for (let {children: o, positions: s} = r.node, a = t > 0 ? o.length : -1; e != a; e += t) {
                        let a = o[e]
                          , l = s[e] + r.from;
                        if (-1e8 == n || !(t < 0 ? l >= n : l + a.length <= n))
                            if (a instanceof ul) {
                                let i = a.findChild(0, a.buffer.length, t, -1e8 == n ? -1e8 : n - l);
                                if (i > -1)
                                    return new fl(new dl(r,a,e,l),null,i)
                            } else if (i || !a.type.isAnonymous || ml(a)) {
                                let o = new hl(a,l,e,r);
                                return i || !o.type.isAnonymous ? o : o.nextChild(t < 0 ? a.children.length - 1 : 0, t, n)
                            }
                    }
                    if (i || !r.type.isAnonymous)
                        return null;
                    if (e = r.index + t,
                    r = r._parent,
                    !r)
                        return null
                }
            }
            get firstChild() {
                return this.nextChild(0, 1, -1e8)
            }
            get lastChild() {
                return this.nextChild(this.node.children.length - 1, -1, -1e8)
            }
            childAfter(e) {
                return this.nextChild(0, 1, e)
            }
            childBefore(e) {
                return this.nextChild(this.node.children.length - 1, -1, e)
            }
            nextSignificantParent() {
                let e = this;
                for (; e.type.isAnonymous && e._parent; )
                    e = e._parent;
                return e
            }
            get parent() {
                return this._parent ? this._parent.nextSignificantParent() : null
            }
            get nextSibling() {
                return this._parent ? this._parent.nextChild(this.index + 1, 1, -1) : null
            }
            get prevSibling() {
                return this._parent ? this._parent.nextChild(this.index - 1, -1, -1) : null
            }
            get cursor() {
                return new gl(this)
            }
            resolve(e, t=0) {
                return this.cursor.moveTo(e, t).node
            }
            getChild(e, t=null, n=null) {
                let i = pl(this, e, t, n);
                return i.length ? i[0] : null
            }
            getChildren(e, t=null, n=null) {
                return pl(this, e, t, n)
            }
            toString() {
                return this.node.toString()
            }
        }
        function pl(e, t, n, i) {
            let r = e.cursor
              , o = [];
            if (!r.firstChild())
                return o;
            if (null != n)
                for (; !r.type.is(n); )
                    if (!r.nextSibling())
                        return o;
            for (; ; ) {
                if (null != i && r.type.is(i))
                    return o;
                if (r.type.is(t) && o.push(r.node),
                !r.nextSibling())
                    return null == i ? o : []
            }
        }
        class dl {
            constructor(e, t, n, i) {
                this.parent = e,
                this.buffer = t,
                this.index = n,
                this.start = i
            }
        }
        class fl {
            constructor(e, t, n) {
                this.context = e,
                this._parent = t,
                this.index = n,
                this.type = e.buffer.set.types[e.buffer.buffer[n]]
            }
            get name() {
                return this.type.name
            }
            get from() {
                return this.context.start + this.context.buffer.buffer[this.index + 1]
            }
            get to() {
                return this.context.start + this.context.buffer.buffer[this.index + 2]
            }
            child(e, t) {
                let {buffer: n} = this.context
                  , i = n.findChild(this.index + 4, n.buffer[this.index + 3], e, -1e8 == t ? -1e8 : t - this.context.start);
                return i < 0 ? null : new fl(this.context,this,i)
            }
            get firstChild() {
                return this.child(1, -1e8)
            }
            get lastChild() {
                return this.child(-1, -1e8)
            }
            childAfter(e) {
                return this.child(1, e)
            }
            childBefore(e) {
                return this.child(-1, e)
            }
            get parent() {
                return this._parent || this.context.parent.nextSignificantParent()
            }
            externalSibling(e) {
                return this._parent ? null : this.context.parent.nextChild(this.context.index + e, e, -1)
            }
            get nextSibling() {
                let {buffer: e} = this.context
                  , t = e.buffer[this.index + 3];
                return t < (this._parent ? e.buffer[this._parent.index + 3] : e.buffer.length) ? new fl(this.context,this._parent,t) : this.externalSibling(1)
            }
            get prevSibling() {
                let {buffer: e} = this.context
                  , t = this._parent ? this._parent.index + 4 : 0;
                return this.index == t ? this.externalSibling(-1) : new fl(this.context,this._parent,e.findChild(t, this.index, -1, -1e8))
            }
            get cursor() {
                return new gl(this)
            }
            resolve(e, t=0) {
                return this.cursor.moveTo(e, t).node
            }
            toString() {
                return this.context.buffer.childString(this.index)
            }
            getChild(e, t=null, n=null) {
                let i = pl(this, e, t, n);
                return i.length ? i[0] : null
            }
            getChildren(e, t=null, n=null) {
                return pl(this, e, t, n)
            }
        }
        class gl {
            constructor(e, t=!1) {
                if (this.full = t,
                this.buffer = null,
                this.stack = [],
                this.index = 0,
                this.bufferNode = null,
                e instanceof hl)
                    this.yieldNode(e);
                else {
                    this._tree = e.context.parent,
                    this.buffer = e.context;
                    for (let t = e._parent; t; t = t._parent)
                        this.stack.unshift(t.index);
                    this.bufferNode = e,
                    this.yieldBuf(e.index)
                }
            }
            get name() {
                return this.type.name
            }
            yieldNode(e) {
                return !!e && (this._tree = e,
                this.type = e.type,
                this.from = e.from,
                this.to = e.to,
                !0)
            }
            yieldBuf(e, t) {
                this.index = e;
                let {start: n, buffer: i} = this.buffer;
                return this.type = t || i.set.types[i.buffer[e]],
                this.from = n + i.buffer[e + 1],
                this.to = n + i.buffer[e + 2],
                !0
            }
            yield(e) {
                return !!e && (e instanceof hl ? (this.buffer = null,
                this.yieldNode(e)) : (this.buffer = e.context,
                this.yieldBuf(e.index, e.type)))
            }
            toString() {
                return this.buffer ? this.buffer.buffer.childString(this.index) : this._tree.toString()
            }
            enter(e, t) {
                if (!this.buffer)
                    return this.yield(this._tree.nextChild(e < 0 ? this._tree.node.children.length - 1 : 0, e, t, this.full));
                let {buffer: n} = this.buffer
                  , i = n.findChild(this.index + 4, n.buffer[this.index + 3], e, -1e8 == t ? -1e8 : t - this.buffer.start);
                return !(i < 0) && (this.stack.push(this.index),
                this.yieldBuf(i))
            }
            firstChild() {
                return this.enter(1, -1e8)
            }
            lastChild() {
                return this.enter(-1, -1e8)
            }
            childAfter(e) {
                return this.enter(1, e)
            }
            childBefore(e) {
                return this.enter(-1, e)
            }
            parent() {
                if (!this.buffer)
                    return this.yieldNode(this.full ? this._tree._parent : this._tree.parent);
                if (this.stack.length)
                    return this.yieldBuf(this.stack.pop());
                let e = this.full ? this.buffer.parent : this.buffer.parent.nextSignificantParent();
                return this.buffer = null,
                this.yieldNode(e)
            }
            sibling(e) {
                if (!this.buffer)
                    return !!this._tree._parent && this.yield(this._tree._parent.nextChild(this._tree.index + e, e, -1e8, this.full));
                let {buffer: t} = this.buffer
                  , n = this.stack.length - 1;
                if (e < 0) {
                    let e = n < 0 ? 0 : this.stack[n] + 4;
                    if (this.index != e)
                        return this.yieldBuf(t.findChild(e, this.index, -1, -1e8))
                } else {
                    let e = t.buffer[this.index + 3];
                    if (e < (n < 0 ? t.buffer.length : t.buffer[this.stack[n] + 3]))
                        return this.yieldBuf(e)
                }
                return n < 0 && this.yield(this.buffer.parent.nextChild(this.buffer.index + e, e, -1e8, this.full))
            }
            nextSibling() {
                return this.sibling(1)
            }
            prevSibling() {
                return this.sibling(-1)
            }
            atLastNode(e) {
                let t, n, {buffer: i} = this;
                if (i) {
                    if (e > 0) {
                        if (this.index < i.buffer.buffer.length)
                            return !1
                    } else
                        for (let e = 0; e < this.index; e++)
                            if (i.buffer.buffer[e + 3] < this.index)
                                return !1;
                    ({index: t, parent: n} = i)
                } else
                    ({index: t, _parent: n} = this._tree);
                for (; n; ({index: t, _parent: n} = n))
                    for (let i = t + e, r = e < 0 ? -1 : n.node.children.length; i != r; i += e) {
                        let e = n.node.children[i];
                        if (this.full || !e.type.isAnonymous || e instanceof ul || ml(e))
                            return !1
                    }
                return !0
            }
            move(e) {
                if (this.enter(e, -1e8))
                    return !0;
                for (; ; ) {
                    if (this.sibling(e))
                        return !0;
                    if (this.atLastNode(e) || !this.parent())
                        return !1
                }
            }
            next() {
                return this.move(1)
            }
            prev() {
                return this.move(-1)
            }
            moveTo(e, t=0) {
                for (; (this.from == this.to || (t < 1 ? this.from >= e : this.from > e) || (t > -1 ? this.to <= e : this.to < e)) && this.parent(); )
                    ;
                for (; t < 0 ? this.childBefore(e) : this.childAfter(e); )
                    if (this.from == this.to || (t < 1 ? this.from >= e : this.from > e) || (t > -1 ? this.to <= e : this.to < e)) {
                        this.parent();
                        break
                    }
                return this
            }
            get node() {
                if (!this.buffer)
                    return this._tree;
                let e = this.bufferNode
                  , t = null
                  , n = 0;
                if (e && e.context == this.buffer)
                    e: for (let i = this.index, r = this.stack.length; r >= 0; ) {
                        for (let o = e; o; o = o._parent)
                            if (o.index == i) {
                                if (i == this.index)
                                    return o;
                                t = o,
                                n = r + 1;
                                break e
                            }
                        i = this.stack[--r]
                    }
                for (let e = n; e < this.stack.length; e++)
                    t = new fl(this.buffer,t,this.stack[e]);
                return this.bufferNode = new fl(this.buffer,t,this.index)
            }
            get tree() {
                return this.buffer ? null : this._tree.node
            }
        }
        function ml(e) {
            return e.children.some((e=>!e.type.isAnonymous || e instanceof ul || ml(e)))
        }
        class vl {
            constructor(e, t) {
                this.buffer = e,
                this.index = t
            }
            get id() {
                return this.buffer[this.index - 4]
            }
            get start() {
                return this.buffer[this.index - 3]
            }
            get end() {
                return this.buffer[this.index - 2]
            }
            get size() {
                return this.buffer[this.index - 1]
            }
            get pos() {
                return this.index
            }
            next() {
                this.index -= 4
            }
            fork() {
                return new vl(this.buffer,this.index)
            }
        }
        const yl = 8;
        function bl(e, t, n, i, r, o, s, a, l, c) {
            let u = []
              , h = [];
            if (l <= a)
                for (let e = r; e < o; e++)
                    u.push(n[e]),
                    h.push(i[e] - s);
            else {
                let e = Math.max(a, Math.ceil(1.5 * l / yl));
                for (let l = r; l < o; ) {
                    let r = l
                      , p = i[l];
                    for (l++; l < o; l++) {
                        if (i[l] + n[l].length - p > e)
                            break
                    }
                    if (l == r + 1) {
                        let i = n[r];
                        if (i instanceof ll && i.type == t && i.length > e << 1) {
                            for (let e = 0; e < i.children.length; e++)
                                u.push(i.children[e]),
                                h.push(i.positions[e] + p - s);
                            continue
                        }
                        u.push(i)
                    } else if (l == r + 1)
                        u.push(n[r]);
                    else {
                        let e = bl(t, t, n, i, r, l, p, a, i[l - 1] + n[l - 1].length - p, c);
                        t == sl.none || wl(e.children, t) || (e = cl(new ll(sl.none,e.children,e.positions,e.length), c)),
                        u.push(e)
                    }
                    h.push(p - s)
                }
            }
            return cl(new ll(e,u,h,l), c)
        }
        function wl(e, t) {
            for (let n of e)
                if (n.type == t)
                    return !0;
            return !1
        }
        class kl {
            constructor(e, t, n, i, r) {
                this.from = e,
                this.to = t,
                this.tree = n,
                this.offset = i,
                this.open = r
            }
            get openStart() {
                return (1 & this.open) > 0
            }
            get openEnd() {
                return (2 & this.open) > 0
            }
            static applyChanges(e, t, n=128) {
                if (!t.length)
                    return e;
                let i = []
                  , r = 1
                  , o = e.length ? e[0] : null
                  , s = 0
                  , a = 0
                  , l = 0;
                for (; ; ) {
                    let c = s < t.length ? t[s++] : null
                      , u = c ? c.fromA : 1e9;
                    if (u - a >= n)
                        for (; o && o.from < u; ) {
                            let t = o;
                            if (a >= t.from || u <= t.to || l) {
                                let e = Math.max(t.from, a) - l
                                  , n = Math.min(t.to, u) - l;
                                t = e >= n ? null : new kl(e,n,t.tree,t.offset + l,(s > 0 ? 1 : 0) | (c ? 2 : 0))
                            }
                            if (t && i.push(t),
                            o.to > u)
                                break;
                            o = r < e.length ? e[r++] : null
                        }
                    if (!c)
                        break;
                    a = c.toA,
                    l = c.toA - c.toB
                }
                return i
            }
            static addTree(e, t=[], n=!1) {
                let i = [new kl(0,e.length,e,0,n ? 2 : 0)];
                for (let n of t)
                    n.to > e.length && i.push(n);
                return i
            }
        }
        const Cl = new rl;
        function xl(e) {
            return jn.define({
                combine: e ? t=>t.concat(e) : void 0
            })
        }
        class El {
            constructor(e, t, n, i=[]) {
                this.data = e,
                this.topNode = n,
                Ai.prototype.hasOwnProperty("tree") || Object.defineProperty(Ai.prototype, "tree", {
                    get() {
                        return Ll(this)
                    }
                }),
                this.parser = t,
                this.extension = [Il.of(this), Ai.languageData.of(((e,t)=>e.facet(Sl(e, t))))].concat(i)
            }
            isActiveAt(e, t) {
                return Sl(e, t) == this.data
            }
            findRegions(e) {
                let t = e.facet(Il);
                if ((null == t ? void 0 : t.data) == this.data)
                    return [{
                        from: 0,
                        to: e.doc.length
                    }];
                if (!t || !t.allowsNesting)
                    return [];
                let n = [];
                return Ll(e).iterate({
                    enter: (e,t,i)=>{
                        if (e.isTop && e.prop(Cl) == this.data)
                            return n.push({
                                from: t,
                                to: i
                            }),
                            !1
                    }
                }),
                n
            }
            get allowsNesting() {
                return !0
            }
            parseString(e) {
                let t, n = kn.of(e.split("\n")), i = this.parser.startParse(new Dl(n), 0, new Ml(this.parser,Ai.create({
                    doc: n
                }),[],ll.empty,{
                    from: 0,
                    to: e.length
                },[],null));
                for (; !(t = i.advance()); )
                    ;
                return t
            }
        }
        function Sl(e, t) {
            let n = e.facet(Il);
            if (!n)
                return null;
            if (!n.allowsNesting)
                return n.data;
            let i = Ll(e).resolve(t, -1);
            for (; i; ) {
                let e = i.type.prop(Cl);
                if (e)
                    return e;
                i = i.parent
            }
            return n.data
        }
        El.setState = vi.define();
        function Ll(e) {
            let t = e.field(El.state, !1);
            return t ? t.tree : ll.empty
        }
        class Dl {
            constructor(e, t=e.length) {
                this.doc = e,
                this.length = t,
                this.cursorPos = 0,
                this.string = "",
                this.prevString = "",
                this.cursor = e.iter()
            }
            syncTo(e) {
                return e < this.cursorPos && (this.cursor = this.doc.iter(),
                this.cursorPos = 0),
                this.prevString = e == this.cursorPos ? this.string : "",
                this.string = this.cursor.next(e - this.cursorPos).value,
                this.cursorPos = e + this.string.length,
                this.cursorPos - this.string.length
            }
            get(e) {
                if (e >= this.length)
                    return -1;
                let t = this.cursorPos - this.string.length;
                if (e < t || e >= this.cursorPos) {
                    if (e < t && e >= t - this.prevString.length)
                        return this.prevString.charCodeAt(e - (t - this.prevString.length));
                    t = this.syncTo(e)
                }
                return this.string.charCodeAt(e - t)
            }
            lineAfter(e) {
                if (e >= this.length || e < 0)
                    return "";
                let t = this.cursorPos - this.string.length;
                return (e < t || e >= this.cursorPos) && (t = this.syncTo(e)),
                this.cursor.lineBreak ? "" : this.string.slice(e - t, Math.min(this.length - t, this.string.length))
            }
            read(e, t) {
                let n = this.cursorPos - this.string.length;
                return e < n || t >= this.cursorPos ? this.doc.sliceString(e, t) : this.string.slice(e - n, t - n)
            }
            clip(e) {
                return new Dl(this.doc,e)
            }
        }
        class Ml {
            constructor(e, t, n=[], i, r, o, s) {
                this.parser = e,
                this.state = t,
                this.fragments = n,
                this.tree = i,
                this.viewport = r,
                this.skipped = o,
                this.scheduleOn = s,
                this.parse = null,
                this.tempSkipped = []
            }
            work(e, t) {
                if (this.tree != ll.empty && (null == t ? this.tree.length == this.state.doc.length : this.tree.length >= t))
                    return this.takeTree(),
                    !0;
                this.parse || (this.parse = this.parser.startParse(new Dl(this.state.doc), 0, this));
                let n = Date.now() + e;
                for (; ; ) {
                    let e = this.parse.advance();
                    if (e)
                        return this.fragments = this.withoutTempSkipped(kl.addTree(e)),
                        this.parse = null,
                        this.tree = e,
                        !0;
                    if (null != t && this.parse.pos >= t)
                        return this.takeTree(),
                        !0;
                    if (Date.now() > n)
                        return !1
                }
            }
            takeTree() {
                this.parse && this.parse.pos > this.tree.length && (this.tree = this.parse.forceFinish(),
                this.fragments = this.withoutTempSkipped(kl.addTree(this.tree, this.fragments, !0)))
            }
            withoutTempSkipped(e) {
                for (let t; t = this.tempSkipped.pop(); )
                    e = Al(e, t.from, t.to);
                return e
            }
            changes(e, t) {
                let {fragments: n, tree: i, viewport: r, skipped: o} = this;
                if (this.takeTree(),
                !e.empty) {
                    let t = [];
                    if (e.iterChangedRanges(((e,n,i,r)=>t.push({
                        fromA: e,
                        toA: n,
                        fromB: i,
                        toB: r
                    }))),
                    n = kl.applyChanges(n, t),
                    i = ll.empty,
                    r = {
                        from: e.mapPos(r.from, -1),
                        to: e.mapPos(r.to, 1)
                    },
                    this.skipped.length) {
                        o = [];
                        for (let t of this.skipped) {
                            let n = e.mapPos(t.from, 1)
                              , i = e.mapPos(t.to, -1);
                            n < i && o.push({
                                from: n,
                                to: i
                            })
                        }
                    }
                }
                return new Ml(this.parser,t,n,i,r,o,this.scheduleOn)
            }
            updateViewport(e) {
                this.viewport = e;
                let t = this.skipped.length;
                for (let t = 0; t < this.skipped.length; t++) {
                    let {from: n, to: i} = this.skipped[t];
                    n < e.to && i > e.from && (this.fragments = Al(this.fragments, n, i),
                    this.skipped.splice(t--, 1))
                }
                return this.skipped.length < t
            }
            reset() {
                this.parse && (this.takeTree(),
                this.parse = null)
            }
            skipUntilInView(e, t) {
                this.skipped.push({
                    from: e,
                    to: t
                })
            }
            static getSkippingParser(e) {
                return {
                    startParse: (t,n,i)=>({
                        pos: n,
                        advance() {
                            let r = i;
                            return r.tempSkipped.push({
                                from: n,
                                to: t.length
                            }),
                            e && (r.scheduleOn = r.scheduleOn ? Promise.all([r.scheduleOn, e]) : e),
                            this.pos = t.length,
                            new ll(sl.none,[],[],t.length - n)
                        },
                        forceFinish() {
                            return this.advance()
                        }
                    })
                }
            }
            movedPast(e) {
                return this.tree.length < e && this.parse && this.parse.pos >= e
            }
        }
        function Al(e, t, n) {
            return kl.applyChanges(e, [{
                fromA: t,
                toA: n,
                fromB: t,
                toB: n
            }])
        }
        Ml.skippingParser = Ml.getSkippingParser();
        class Tl {
            constructor(e) {
                this.context = e,
                this.tree = e.tree
            }
            apply(e) {
                if (!e.docChanged)
                    return this;
                let t = this.context.changes(e.changes, e.state)
                  , n = this.context.tree.length == e.startState.doc.length ? void 0 : Math.max(e.changes.mapPos(this.context.tree.length), t.viewport.to);
                return t.work(25, n) || t.takeTree(),
                new Tl(t)
            }
            static init(e) {
                let t = new Ml(e.facet(Il).parser,e,[],ll.empty,{
                    from: 0,
                    to: e.doc.length
                },[],null);
                return t.work(25) || t.takeTree(),
                new Tl(t)
            }
        }
        El.state = Qn.define({
            create: Tl.init,
            update(e, t) {
                for (let e of t.effects)
                    if (e.is(El.setState))
                        return e.value;
                return t.startState.facet(Il) != t.state.facet(Il) ? Tl.init(t.state) : e.apply(t)
            }
        });
        let Fl = "undefined" != typeof window && window.requestIdleCallback || ((e,{timeout: t})=>setTimeout(e, t))
          , Pl = "undefined" != typeof window && window.cancelIdleCallback || clearTimeout;
        const Ol = To.fromClass(class {
            constructor(e) {
                this.view = e,
                this.working = -1,
                this.chunkEnd = -1,
                this.chunkBudget = -1,
                this.work = this.work.bind(this),
                this.scheduleWork()
            }
            update(e) {
                let t = this.view.state.field(El.state).context;
                e.viewportChanged && (t.updateViewport(e.view.viewport) && t.reset(),
                this.view.viewport.to > t.tree.length && this.scheduleWork()),
                e.docChanged && (this.view.hasFocus && (this.chunkBudget += 50),
                this.scheduleWork()),
                this.checkAsyncSchedule(t)
            }
            scheduleWork() {
                if (this.working > -1)
                    return;
                let {state: e} = this.view
                  , t = e.field(El.state)
                  , n = t.context.fragments;
                t.tree.length >= e.doc.length && n.length && 0 == n[0].from && n[0].to >= e.doc.length || (this.working = Fl(this.work, {
                    timeout: 500
                }))
            }
            work(e) {
                this.working = -1;
                let t = Date.now();
                if (this.chunkEnd < t && (this.chunkEnd < 0 || this.view.hasFocus) && (this.chunkEnd = t + 3e4,
                this.chunkBudget = 3e3),
                this.chunkBudget <= 0)
                    return;
                let {state: n, viewport: {to: i}} = this.view
                  , r = n.field(El.state);
                if (r.tree.length >= i + 1e6)
                    return;
                let o = Math.min(this.chunkBudget, e ? Math.max(25, e.timeRemaining()) : 100)
                  , s = r.context.work(o, i + 1e6);
                this.chunkBudget -= Date.now() - t,
                (s || this.chunkBudget <= 0 || r.context.movedPast(i)) && (r.context.takeTree(),
                this.view.dispatch({
                    effects: El.setState.of(new Tl(r.context))
                })),
                !s && this.chunkBudget > 0 && this.scheduleWork(),
                this.checkAsyncSchedule(r.context)
            }
            checkAsyncSchedule(e) {
                e.scheduleOn && (e.scheduleOn.then((()=>this.scheduleWork())),
                e.scheduleOn = null)
            }
            destroy() {
                this.working >= 0 && Pl(this.working)
            }
        }
        , {
            eventHandlers: {
                focus() {
                    this.scheduleWork()
                }
            }
        })
          , Il = jn.define({
            combine: e=>e.length ? e[0] : null,
            enables: [El.state, Ol]
        });
        const Nl = jn.define()
          , Rl = jn.define({
            combine: e=>{
                if (!e.length)
                    return "  ";
                if (!/^(?: +|\t+)$/.test(e[0]))
                    throw new Error("Invalid indent unit: " + JSON.stringify(e[0]));
                return e[0]
            }
        });
        function Bl(e) {
            let t = e.facet(Rl);
            return 9 == t.charCodeAt(0) ? e.tabSize * t.length : t.length
        }
        function zl(e, t) {
            let n = ""
              , i = e.tabSize;
            if (9 == e.facet(Rl).charCodeAt(0))
                for (; t >= i; )
                    n += "\t",
                    t -= i;
            for (let e = 0; e < t; e++)
                n += " ";
            return n
        }
        function Hl(e, t) {
            e instanceof Ai && (e = new Vl(e));
            for (let n of e.state.facet(Nl)) {
                let i = n(e, t);
                if (null != i)
                    return i
            }
            let n = Ll(e.state);
            return n ? function(e, t, n) {
                let i = t.resolve(n);
                for (let e = i, t = n; ; ) {
                    let n = e.childBefore(t);
                    if (!n)
                        break;
                    n.type.isError && n.from == n.to ? (i = e,
                    t = n.from) : (e = n,
                    t = e.to + 1)
                }
                return _l(i, n, e)
            }(e, n, t) : null
        }
        class Vl {
            constructor(e, t={}) {
                this.state = e,
                this.options = t,
                this.unit = Bl(e)
            }
            textAfterPos(e) {
                var t, n;
                let i = null === (t = this.options) || void 0 === t ? void 0 : t.simulateBreak;
                return e == i && (null === (n = this.options) || void 0 === n ? void 0 : n.simulateDoubleBreak) ? "" : this.state.sliceDoc(e, Math.min(e + 100, null != i && i > e ? i : 1e9, this.state.doc.lineAt(e).to))
            }
            column(e) {
                var t;
                let n = this.state.doc.lineAt(e)
                  , i = n.text.slice(0, e - n.from)
                  , r = this.countColumn(i, e - n.from)
                  , o = (null === (t = this.options) || void 0 === t ? void 0 : t.overrideIndentation) ? this.options.overrideIndentation(n.from) : -1;
                return o > -1 && (r += o - this.countColumn(i, i.search(/\S/))),
                r
            }
            countColumn(e, t) {
                return bn(t < 0 ? e : e.slice(0, t), 0, this.state.tabSize)
            }
            lineIndent(e) {
                var t;
                let n = null === (t = this.options) || void 0 === t ? void 0 : t.overrideIndentation;
                if (n) {
                    let t = n(e.from);
                    if (t > -1)
                        return t
                }
                return this.countColumn(e.text, e.text.search(/\S/))
            }
        }
        const ql = new rl;
        function Ul(e) {
            let t = e.type.prop(ql);
            if (t)
                return t;
            let n, i = e.firstChild;
            if (i && (n = i.type.prop(rl.closedBy))) {
                let t = e.lastChild
                  , i = t && n.indexOf(t.name) > -1;
                return e=>Gl(e, !0, 1, void 0, i && !function(e) {
                    var t, n;
                    return e.pos == (null === (t = e.options) || void 0 === t ? void 0 : t.simulateBreak) && (null === (n = e.options) || void 0 === n ? void 0 : n.simulateDoubleBreak)
                }(e) ? t.from : void 0)
            }
            return null == e.parent ? jl : null
        }
        function _l(e, t, n) {
            for (; e; e = e.parent) {
                let i = Ul(e);
                if (i)
                    return i(new Wl(n,t,e))
            }
            return null
        }
        function jl() {
            return 0
        }
        class Wl extends Vl {
            constructor(e, t, n) {
                super(e.state, e.options),
                this.base = e,
                this.pos = t,
                this.node = n
            }
            get textAfter() {
                return this.textAfterPos(this.pos)
            }
            get baseIndent() {
                let e = this.state.doc.lineAt(this.node.from);
                for (; ; ) {
                    let t = this.node.resolve(e.from);
                    for (; t.parent && t.parent.from == t.from; )
                        t = t.parent;
                    if ($l(t, this.node))
                        break;
                    e = this.state.doc.lineAt(t.from)
                }
                return this.lineIndent(e)
            }
            continue() {
                let e = this.node.parent;
                return e ? _l(e, this.pos, this.base) : 0
            }
        }
        function $l(e, t) {
            for (let n = t; n; n = n.parent)
                if (e == n)
                    return !0;
            return !1
        }
        function Gl(e, t, n, i, r) {
            let o = e.textAfter
              , s = o.match(/^\s*/)[0].length
              , a = i && o.slice(s, s + i.length) == i || r == e.pos + s
              , l = t ? function(e) {
                var t;
                let n = e.node
                  , i = n.childAfter(n.from)
                  , r = n.lastChild;
                if (!i)
                    return null;
                let o = null === (t = e.options) || void 0 === t ? void 0 : t.simulateBreak
                  , s = e.state.doc.lineAt(i.from)
                  , a = null == o || o <= s.from ? s.to : Math.min(s.to, o);
                for (let e = i.to; ; ) {
                    let t = n.childAfter(e);
                    if (!t || t == r)
                        return null;
                    if (!t.type.isSkipped)
                        return t.from < a ? i : null;
                    e = t.to
                }
            }(e) : null;
            return l ? a ? e.column(l.from) : e.column(l.to) : e.baseIndent + (a ? 0 : e.unit * n)
        }
        const Yl = jn.define()
          , Kl = new rl;
        function Ql(e, t, n) {
            for (let i of e.facet(Yl)) {
                let r = i(e, t, n);
                if (r)
                    return r
            }
            return function(e, t, n) {
                let i = Ll(e);
                if (0 == i.length)
                    return null;
                let r = null;
                for (let o = i.resolve(n); o; o = o.parent) {
                    if (o.to <= n || o.from > n)
                        continue;
                    if (r && o.from < t)
                        break;
                    let i = o.type.prop(Kl);
                    if (i) {
                        let s = i(o, e);
                        s && s.from <= n && s.from >= t && s.to > n && (r = s)
                    }
                }
                return r
            }(e, t, n)
        }
        const Jl = {
            brackets: ["(", "[", "{", "'", '"'],
            before: ")]}'\":;>"
        }
          , Xl = vi.define({
            map(e, t) {
                let n = t.mapPos(e, -1, Tn.TrackAfter);
                return null == n ? void 0 : n
            }
        })
          , Zl = vi.define({
            map: (e,t)=>t.mapPos(e)
        })
          , ec = new class extends Bi {
        }
        ;
        ec.startSide = 1,
        ec.endSide = -1;
        const tc = Qn.define({
            create: ()=>qi.empty,
            update(e, t) {
                if (t.selection) {
                    let n = t.state.doc.lineAt(t.selection.main.head).from
                      , i = t.startState.doc.lineAt(t.startState.selection.main.head).from;
                    n != t.changes.mapPos(i, -1) && (e = qi.empty)
                }
                e = e.map(t.changes);
                for (let n of t.effects)
                    n.is(Xl) ? e = e.update({
                        add: [ec.range(n.value, n.value + 1)]
                    }) : n.is(Zl) && (e = e.update({
                        filter: e=>e != n.value
                    }));
                return e
            }
        });
        const nc = "()[]{}<>";
        function ic(e) {
            for (let t = 0; t < nc.length; t += 2)
                if (nc.charCodeAt(t) == e)
                    return nc.charAt(t + 1);
            return vn(e < 128 ? e : e + 1)
        }
        function rc(e, t) {
            return e.languageDataAt("closeBrackets", t)[0] || Jl
        }
        function oc(e, t, n, i) {
            if (e.composing)
                return !1;
            let r = e.state.selection.main;
            if (i.length > 2 || 2 == i.length && 1 == yn(mn(i, 0)) || t != r.from || n != r.to)
                return !1;
            let o = function(e, t) {
                let n = rc(e, e.selection.main.head)
                  , i = n.brackets || Jl.brackets;
                for (let r of i) {
                    let o = ic(mn(r, 0));
                    if (t == r)
                        return o == r ? hc(e, r, i.indexOf(r + r + r) > -1) : cc(e, r, o, n.before || Jl.before);
                    if (t == o && ac(e, e.selection.main.from))
                        return uc(e, r, o)
                }
                return null
            }(e.state, i);
            return !!o && (e.dispatch(o),
            !0)
        }
        const sc = [{
            key: "Backspace",
            run: ({state: e, dispatch: t})=>{
                let n = rc(e, e.selection.main.head).brackets || Jl.brackets
                  , i = null
                  , r = e.changeByRange((t=>{
                    if (t.empty) {
                        let i = function(e, t) {
                            let n = e.sliceString(t - 2, t);
                            return yn(mn(n, 0)) == n.length ? n : n.slice(1)
                        }(e.doc, t.head);
                        for (let r of n)
                            if (r == i && lc(e.doc, t.head) == ic(mn(r, 0)))
                                return {
                                    changes: {
                                        from: t.head - r.length,
                                        to: t.head + r.length
                                    },
                                    range: Vn.cursor(t.head - r.length),
                                    annotations: yi.userEvent.of("delete")
                                }
                    }
                    return {
                        range: i = t
                    }
                }
                ));
                return i || t(e.update(r, {
                    scrollIntoView: !0
                })),
                !i
            }
        }];
        function ac(e, t) {
            let n = !1;
            return e.field(tc).between(0, e.doc.length, (e=>{
                e == t && (n = !0)
            }
            )),
            n
        }
        function lc(e, t) {
            let n = e.sliceString(t, t + 2);
            return n.slice(0, yn(mn(n, 0)))
        }
        function cc(e, t, n, i) {
            let r = null
              , o = e.changeByRange((o=>{
                if (!o.empty)
                    return {
                        changes: [{
                            insert: t,
                            from: o.from
                        }, {
                            insert: n,
                            from: o.to
                        }],
                        effects: Xl.of(o.to + t.length),
                        range: Vn.range(o.anchor + t.length, o.head + t.length)
                    };
                let s = lc(e.doc, o.head);
                return !s || /\s/.test(s) || i.indexOf(s) > -1 ? {
                    changes: {
                        insert: t + n,
                        from: o.head
                    },
                    effects: Xl.of(o.head + t.length),
                    range: Vn.cursor(o.head + t.length)
                } : {
                    range: r = o
                }
            }
            ));
            return r ? null : e.update(o, {
                scrollIntoView: !0,
                annotations: yi.userEvent.of("input")
            })
        }
        function uc(e, t, n) {
            let i = null
              , r = e.selection.ranges.map((t=>t.empty && lc(e.doc, t.head) == n ? Vn.cursor(t.head + n.length) : i = t));
            return i ? null : e.update({
                selection: Vn.create(r, e.selection.mainIndex),
                scrollIntoView: !0,
                effects: e.selection.ranges.map((({from: e})=>Zl.of(e)))
            })
        }
        function hc(e, t, n) {
            let i = null
              , r = e.changeByRange((r=>{
                if (!r.empty)
                    return {
                        changes: [{
                            insert: t,
                            from: r.from
                        }, {
                            insert: t,
                            from: r.to
                        }],
                        effects: Xl.of(r.to + t.length),
                        range: Vn.range(r.anchor + t.length, r.head + t.length)
                    };
                let o = r.head
                  , s = lc(e.doc, o);
                if (s == t) {
                    if (pc(e, o))
                        return {
                            changes: {
                                insert: t + t,
                                from: o
                            },
                            effects: Xl.of(o + t.length),
                            range: Vn.cursor(o + t.length)
                        };
                    if (ac(e, o)) {
                        let i = n && e.sliceDoc(o, o + 3 * t.length) == t + t + t;
                        return {
                            range: Vn.cursor(o + t.length * (i ? 3 : 1)),
                            effects: Zl.of(o)
                        }
                    }
                } else {
                    if (n && e.sliceDoc(o - 2 * t.length, o) == t + t && pc(e, o - 2 * t.length))
                        return {
                            changes: {
                                insert: t + t + t + t,
                                from: o
                            },
                            effects: Xl.of(o + t.length),
                            range: Vn.cursor(o + t.length)
                        };
                    if (e.charCategorizer(o)(s) != Si.Word) {
                        let n = e.sliceDoc(o - 1, o);
                        if (n != t && e.charCategorizer(o)(n) != Si.Word)
                            return {
                                changes: {
                                    insert: t + t,
                                    from: o
                                },
                                effects: Xl.of(o + t.length),
                                range: Vn.cursor(o + t.length)
                            }
                    }
                }
                return {
                    range: i = r
                }
            }
            ));
            return i ? null : e.update(r, {
                scrollIntoView: !0,
                annotations: yi.userEvent.of("input")
            })
        }
        function pc(e, t) {
            let n = Ll(e).resolve(t + 1);
            return n.parent && n.from == t
        }
        const dc = wa.baseTheme({
            ".cm-matchingBracket": {
                color: "#0b0"
            },
            ".cm-nonmatchingBracket": {
                color: "#a22"
            }
        })
          , fc = "()[]{}"
          , gc = jn.define({
            combine: e=>Ti(e, {
                afterCursor: !0,
                brackets: fc,
                maxScanDistance: 1e4
            })
        })
          , mc = oo.mark({
            class: "cm-matchingBracket"
        })
          , vc = oo.mark({
            class: "cm-nonmatchingBracket"
        });
        Qn.define({
            create: ()=>oo.none,
            update(e, t) {
                if (!t.docChanged && !t.selection)
                    return e;
                let n = []
                  , i = t.state.facet(gc);
                for (let e of t.state.selection.ranges) {
                    if (!e.empty)
                        continue;
                    let r = bc(t.state, e.head, -1, i) || e.head > 0 && bc(t.state, e.head - 1, 1, i) || i.afterCursor && (bc(t.state, e.head, 1, i) || e.head < t.state.doc.length && bc(t.state, e.head + 1, -1, i));
                    if (!r)
                        continue;
                    let o = r.matched ? mc : vc;
                    n.push(o.range(r.start.from, r.start.to)),
                    r.end && n.push(o.range(r.end.from, r.end.to))
                }
                return oo.set(n, !0)
            },
            provide: e=>wa.decorations.from(e)
        });
        function yc(e, t, n) {
            let i = e.prop(t < 0 ? rl.openedBy : rl.closedBy);
            if (i)
                return i;
            if (1 == e.name.length) {
                let i = n.indexOf(e.name);
                if (i > -1 && i % 2 == (t < 0 ? 1 : 0))
                    return [n[i + t]]
            }
            return null
        }
        function bc(e, t, n, i={}) {
            let r, o = i.maxScanDistance || 1e4, s = i.brackets || fc, a = Ll(e), l = a.resolve(t, n);
            return (r = yc(l.type, n, s)) ? function(e, t, n, i, r, o) {
                let s = i.parent
                  , a = {
                    from: i.from,
                    to: i.to
                }
                  , l = 0
                  , c = null == s ? void 0 : s.cursor;
                if (c && (n < 0 ? c.childBefore(i.from) : c.childAfter(i.to)))
                    do {
                        if (n < 0 ? c.to <= i.from : c.from >= i.to) {
                            if (0 == l && r.indexOf(c.type.name) > -1)
                                return {
                                    start: a,
                                    end: {
                                        from: c.from,
                                        to: c.to
                                    },
                                    matched: !0
                                };
                            if (yc(c.type, n, o))
                                l++;
                            else if (yc(c.type, -n, o) && (l--,
                            0 == l))
                                return {
                                    start: a,
                                    end: {
                                        from: c.from,
                                        to: c.to
                                    },
                                    matched: !1
                                }
                        }
                    } while (n < 0 ? c.prevSibling() : c.nextSibling());
                return {
                    start: a,
                    matched: !1
                }
            }(0, 0, n, l, r, s) : function(e, t, n, i, r, o, s) {
                let a = n < 0 ? e.sliceDoc(t - 1, t) : e.sliceDoc(t, t + 1)
                  , l = s.indexOf(a);
                if (l < 0 || l % 2 == 0 != n > 0)
                    return null;
                let c = {
                    from: n < 0 ? t - 1 : t,
                    to: n > 0 ? t + 1 : t
                }
                  , u = e.doc.iterRange(t, n > 0 ? e.doc.length : 0)
                  , h = 0;
                for (let e = 0; !u.next().done && e <= o; ) {
                    let o = u.value;
                    n < 0 && (e += o.length);
                    let a = t + e * n;
                    for (let e = n > 0 ? 0 : o.length - 1, t = n > 0 ? o.length : -1; e != t; e += n) {
                        let t = s.indexOf(o[e]);
                        if (!(t < 0 || i.resolve(a + e, 1).type != r))
                            if (t % 2 == 0 == n > 0)
                                h++;
                            else {
                                if (1 == h)
                                    return {
                                        start: c,
                                        end: {
                                            from: a + e,
                                            to: a + e + 1
                                        },
                                        matched: t >> 1 == l >> 1
                                    };
                                h--
                            }
                    }
                    n > 0 && (e += o.length)
                }
                return u.done ? {
                    start: c,
                    matched: !1
                } : null
            }(e, t, n, a, l.type, o, s)
        }
        function wc(e, t) {
            return Vn.create(e.ranges.map(t), e.mainIndex)
        }
        function kc(e, t) {
            return e.update({
                selection: t,
                scrollIntoView: !0,
                annotations: yi.userEvent.of("keyboardselection")
            })
        }
        function Cc({state: e, dispatch: t}, n) {
            let i = wc(e.selection, n);
            return !i.eq(e.selection) && (t(kc(e, i)),
            !0)
        }
        function xc(e, t) {
            return Vn.cursor(t ? e.to : e.from)
        }
        function Ec(e, t) {
            return Cc(e, (n=>n.empty ? e.moveByChar(n, t) : xc(n, t)))
        }
        const Sc = e=>Ec(e, e.textDirection != jo.LTR)
          , Lc = e=>Ec(e, e.textDirection == jo.LTR);
        function Dc(e, t) {
            return Cc(e, (n=>n.empty ? e.moveByGroup(n, t) : xc(n, t)))
        }
        function Mc(e, t, n) {
            if (t.type.prop(n))
                return !0;
            let i = t.to - t.from;
            return i && (i > 2 || /[^\s,.;:]/.test(e.sliceDoc(t.from, t.to))) || t.firstChild
        }
        function Ac(e, t, n) {
            let i, r, o = Ll(e).resolve(t.head), s = n ? rl.closedBy : rl.openedBy;
            for (let i = t.head; ; ) {
                let t = n ? o.childAfter(i) : o.childBefore(i);
                if (!t)
                    break;
                Mc(e, t, s) ? o = t : i = n ? t.to : t.from
            }
            return r = o.type.prop(s) && (i = n ? bc(e, o.from, 1) : bc(e, o.to, -1)) && i.matched ? n ? i.end.to : i.end.from : n ? o.to : o.from,
            Vn.cursor(r, n ? -1 : 1)
        }
        function Tc(e, t) {
            return Cc(e, (n=>n.empty ? e.moveVertically(n, t) : xc(n, t)))
        }
        const Fc = e=>Tc(e, !1)
          , Pc = e=>Tc(e, !0);
        function Oc(e, t) {
            return Cc(e, (n=>n.empty ? e.moveVertically(n, t, e.dom.clientHeight) : xc(n, t)))
        }
        const Ic = e=>Oc(e, !1)
          , Nc = e=>Oc(e, !0);
        function Rc(e, t, n) {
            let i = e.visualLineAt(t.head)
              , r = e.moveToLineBoundary(t, n);
            if (r.head == t.head && r.head != (n ? i.to : i.from) && (r = e.moveToLineBoundary(t, n, !1)),
            !n && r.head == i.from && i.length) {
                let n = /^\s*/.exec(e.state.sliceDoc(i.from, Math.min(i.from + 100, i.to)))[0].length;
                n && t.head != i.from + n && (r = Vn.cursor(i.from + n))
            }
            return r
        }
        const Bc = e=>Cc(e, (t=>Rc(e, t, !0)))
          , zc = e=>Cc(e, (t=>Rc(e, t, !1)));
        function Hc(e, t, n) {
            let i = !1
              , r = wc(e.selection, (t=>{
                let r = bc(e, t.head, -1) || bc(e, t.head, 1) || t.head > 0 && bc(e, t.head - 1, 1) || t.head < e.doc.length && bc(e, t.head + 1, -1);
                if (!r || !r.end)
                    return t;
                i = !0;
                let o = r.start.from == t.head ? r.end.to : r.end.from;
                return n ? Vn.range(t.anchor, o) : Vn.cursor(o)
            }
            ));
            return !!i && (t(kc(e, r)),
            !0)
        }
        function Vc(e, t) {
            let n = wc(e.state.selection, (e=>{
                let n = t(e);
                return Vn.range(e.anchor, n.head, n.goalColumn)
            }
            ));
            return !n.eq(e.state.selection) && (e.dispatch(kc(e.state, n)),
            !0)
        }
        function qc(e, t) {
            return Vc(e, (n=>e.moveByChar(n, t)))
        }
        const Uc = e=>qc(e, e.textDirection != jo.LTR)
          , _c = e=>qc(e, e.textDirection == jo.LTR);
        function jc(e, t) {
            return Vc(e, (n=>e.moveByGroup(n, t)))
        }
        function Wc(e, t) {
            return Vc(e, (n=>e.moveVertically(n, t)))
        }
        const $c = e=>Wc(e, !1)
          , Gc = e=>Wc(e, !0);
        function Yc(e, t) {
            return Vc(e, (n=>e.moveVertically(n, t, e.dom.clientHeight)))
        }
        const Kc = e=>Yc(e, !1)
          , Qc = e=>Yc(e, !0)
          , Jc = e=>Vc(e, (t=>Rc(e, t, !0)))
          , Xc = e=>Vc(e, (t=>Rc(e, t, !1)))
          , Zc = ({state: e, dispatch: t})=>(t(kc(e, {
            anchor: 0
        })),
        !0)
          , eu = ({state: e, dispatch: t})=>(t(kc(e, {
            anchor: e.doc.length
        })),
        !0)
          , tu = ({state: e, dispatch: t})=>(t(kc(e, {
            anchor: e.selection.main.anchor,
            head: 0
        })),
        !0)
          , nu = ({state: e, dispatch: t})=>(t(kc(e, {
            anchor: e.selection.main.anchor,
            head: e.doc.length
        })),
        !0);
        function iu({state: e, dispatch: t}, n) {
            let i = e.changeByRange((e=>{
                let {from: t, to: i} = e;
                if (t == i) {
                    let e = n(t);
                    t = Math.min(t, e),
                    i = Math.max(i, e)
                }
                return t == i ? {
                    range: e
                } : {
                    changes: {
                        from: t,
                        to: i
                    },
                    range: Vn.cursor(t)
                }
            }
            ));
            return !i.changes.empty && (t(e.update(i, {
                scrollIntoView: !0,
                annotations: yi.userEvent.of("delete")
            })),
            !0)
        }
        const ru = (e,t,n)=>iu(e, (i=>{
            let r, o, {state: s} = e, a = s.doc.lineAt(i);
            if (!t && i > a.from && i < a.from + 200 && !/[^ \t]/.test(r = a.text.slice(0, i - a.from))) {
                if ("\t" == r[r.length - 1])
                    return i - 1;
                let e = bn(r, 0, s.tabSize) % Bl(s) || Bl(s);
                for (let t = 0; t < e && " " == r[r.length - 1 - t]; t++)
                    i--;
                return i
            }
            if (n) {
                let e = a.text.slice(i - a.from + (t ? 0 : -2), i - a.from + (t ? 2 : 0))
                  , n = e ? yn(mn(e, 0)) : 1;
                o = t ? Math.min(s.doc.length, i + n) : Math.max(0, i - n)
            } else
                o = hn(a.text, i - a.from, t) + a.from;
            return o == i && a.number != (t ? s.doc.lines : 1) && (o += t ? 1 : -1),
            o
        }
        ))
          , ou = e=>ru(e, !1, !0)
          , su = e=>ru(e, !0, !1)
          , au = (e,t)=>iu(e, (n=>{
            let i = n
              , {state: r} = e
              , o = r.doc.lineAt(i)
              , s = r.charCategorizer(i);
            for (let e = null; ; ) {
                if (i == (t ? o.to : o.from)) {
                    i == n && o.number != (t ? r.doc.lines : 1) && (i += t ? 1 : -1);
                    break
                }
                let a = hn(o.text, i - o.from, t) + o.from
                  , l = o.text.slice(Math.min(i, a) - o.from, Math.max(i, a) - o.from)
                  , c = s(l);
                if (null != e && c != e)
                    break;
                " " == l && i == n || (e = c),
                i = a
            }
            return i
        }
        ))
          , lu = e=>au(e, !1)
          , cu = e=>au(e, !0)
          , uu = e=>iu(e, (t=>{
            let n = e.visualLineAt(t).to;
            return t < n ? n : Math.min(e.state.doc.length, t + 1)
        }
        ));
        function hu(e) {
            let t = []
              , n = -1;
            for (let i of e.selection.ranges) {
                let r = e.doc.lineAt(i.from)
                  , o = e.doc.lineAt(i.to);
                n == r.number ? t[t.length - 1].to = o.to : t.push({
                    from: r.from,
                    to: o.to
                }),
                n = o.number
            }
            return t
        }
        function pu(e, t, n) {
            let i = [];
            for (let t of hu(e)) {
                if (n ? t.to == e.doc.length : 0 == t.from)
                    continue;
                let r = e.doc.lineAt(n ? t.to + 1 : t.from - 1);
                n ? i.push({
                    from: t.to,
                    to: r.to
                }, {
                    from: t.from,
                    insert: r.text + e.lineBreak
                }) : i.push({
                    from: r.from,
                    to: t.from
                }, {
                    from: t.to,
                    insert: e.lineBreak + r.text
                })
            }
            return !!i.length && (t(e.update({
                changes: i,
                scrollIntoView: !0
            })),
            !0)
        }
        const du = ({state: e, dispatch: t})=>pu(e, t, !1)
          , fu = ({state: e, dispatch: t})=>pu(e, t, !0);
        function gu(e, t, n) {
            let i = [];
            for (let t of hu(e))
                n ? i.push({
                    from: t.from,
                    insert: e.doc.slice(t.from, t.to) + e.lineBreak
                }) : i.push({
                    from: t.to,
                    insert: e.lineBreak + e.doc.slice(t.from, t.to)
                });
            return t(e.update({
                changes: i,
                scrollIntoView: !0
            })),
            !0
        }
        const mu = e=>{
            let {state: t} = e
              , n = t.changes(hu(t).map((({from: e, to: n})=>(e > 0 ? e-- : n < t.doc.length && n++,
            {
                from: e,
                to: n
            }))))
              , i = wc(t.selection, (t=>e.moveVertically(t, !0))).map(n);
            return e.dispatch({
                changes: n,
                selection: i,
                scrollIntoView: !0
            }),
            !0
        }
        ;
        const vu = ({state: e, dispatch: t})=>{
            let n = e.changeByRange((({from: t, to: n})=>{
                let i = t == n && function(e, t) {
                    if (/\(\)|\[\]|\{\}/.test(e.sliceDoc(t - 1, t + 1)))
                        return {
                            from: t,
                            to: t
                        };
                    let n, i = Ll(e).resolve(t), r = i.childBefore(t), o = i.childAfter(t);
                    return r && o && r.to <= t && o.from >= t && (n = r.type.prop(rl.closedBy)) && n.indexOf(o.name) > -1 && e.doc.lineAt(r.to).from == e.doc.lineAt(o.from).from ? {
                        from: r.to,
                        to: o.from
                    } : null
                }(e, t)
                  , r = new Vl(e,{
                    simulateBreak: t,
                    simulateDoubleBreak: !!i
                })
                  , o = Hl(r, t);
                null == o && (o = /^\s*/.exec(e.doc.lineAt(t).text)[0].length);
                let s = e.doc.lineAt(t);
                for (; n < s.to && /\s/.test(s.text.slice(n - s.from, n + 1 - s.from)); )
                    n++;
                i ? ({from: t, to: n} = i) : t > s.from && t < s.from + 100 && !/\S/.test(s.text.slice(0, t)) && (t = s.from);
                let a = ["", zl(e, o)];
                return i && a.push(zl(e, r.lineIndent(s))),
                {
                    changes: {
                        from: t,
                        to: n,
                        insert: kn.of(a)
                    },
                    range: Vn.cursor(t + 1 + a[1].length)
                }
            }
            ));
            return t(e.update(n, {
                scrollIntoView: !0
            })),
            !0
        }
        ;
        function yu(e, t) {
            let n = -1;
            return e.changeByRange((i=>{
                let r = [];
                for (let o = i.from; o <= i.to; ) {
                    let s = e.doc.lineAt(o);
                    s.number > n && (i.empty || i.to > s.from) && (t(s, r, i),
                    n = s.number),
                    o = s.to + 1
                }
                let o = e.changes(r);
                return {
                    changes: r,
                    range: Vn.range(o.mapPos(i.anchor, 1), o.mapPos(i.head, 1))
                }
            }
            ))
        }
        const bu = ({state: e, dispatch: t})=>{
            let n = Object.create(null)
              , i = new Vl(e,{
                overrideIndentation: e=>{
                    let t = n[e];
                    return null == t ? -1 : t
                }
            })
              , r = yu(e, ((t,r,o)=>{
                let s = Hl(i, t.from);
                if (null == s)
                    return;
                let a = /^\s*/.exec(t.text)[0]
                  , l = zl(e, s);
                (a != l || o.from < t.from + a.length) && (n[t.from] = s,
                r.push({
                    from: t.from,
                    to: t.from + a.length,
                    insert: l
                }))
            }
            ));
            return r.changes.empty || t(e.update(r)),
            !0
        }
          , wu = ({state: e, dispatch: t})=>(t(e.update(yu(e, ((t,n)=>{
            n.push({
                from: t.from,
                insert: e.facet(Rl)
            })
        }
        )))),
        !0)
          , ku = ({state: e, dispatch: t})=>(t(e.update(yu(e, ((t,n)=>{
            let i = /^\s*/.exec(t.text)[0];
            if (!i)
                return;
            let r = bn(i, 0, e.tabSize)
              , o = 0
              , s = zl(e, Math.max(0, r - Bl(e)));
            for (; o < i.length && o < s.length && i.charCodeAt(o) == s.charCodeAt(o); )
                o++;
            n.push({
                from: t.from + o,
                to: t.from + i.length,
                insert: s.slice(o)
            })
        }
        )))),
        !0)
          , Cu = [{
            key: "Alt-ArrowLeft",
            mac: "Ctrl-ArrowLeft",
            run: e=>Cc(e, (t=>Ac(e.state, t, e.textDirection != jo.LTR))),
            shift: e=>Vc(e, (t=>Ac(e.state, t, e.textDirection != jo.LTR)))
        }, {
            key: "Alt-ArrowRight",
            mac: "Ctrl-ArrowRight",
            run: e=>Cc(e, (t=>Ac(e.state, t, e.textDirection == jo.LTR))),
            shift: e=>Vc(e, (t=>Ac(e.state, t, e.textDirection == jo.LTR)))
        }, {
            key: "Alt-ArrowUp",
            run: du
        }, {
            key: "Shift-Alt-ArrowUp",
            run: ({state: e, dispatch: t})=>gu(e, t, !1)
        }, {
            key: "Alt-ArrowDown",
            run: fu
        }, {
            key: "Shift-Alt-ArrowDown",
            run: ({state: e, dispatch: t})=>gu(e, t, !0)
        }, {
            key: "Escape",
            run: ({state: e, dispatch: t})=>{
                let n = e.selection
                  , i = null;
                return n.ranges.length > 1 ? i = Vn.create([n.main]) : n.main.empty || (i = Vn.create([Vn.cursor(n.main.head)])),
                !!i && (t(kc(e, i)),
                !0)
            }
        }, {
            key: "Alt-l",
            mac: "Ctrl-l",
            run: ({state: e, dispatch: t})=>{
                let n = hu(e).map((({from: t, to: n})=>Vn.range(t, Math.min(n + 1, e.doc.length))));
                return t(e.update({
                    selection: Vn.create(n),
                    annotations: yi.userEvent.of("keyboardselection")
                })),
                !0
            }
        }, {
            key: "Mod-i",
            run: ({state: e, dispatch: t})=>{
                let n = wc(e.selection, (t=>{
                    var n;
                    let i = Ll(e).resolve(t.head, 1);
                    for (; !(i.from < t.from && i.to >= t.to || i.to > t.to && i.from <= t.from) && (null === (n = i.parent) || void 0 === n ? void 0 : n.parent); )
                        i = i.parent;
                    return Vn.range(i.to, i.from)
                }
                ));
                return t(kc(e, n)),
                !0
            }
            ,
            preventDefault: !0
        }, {
            key: "Mod-[",
            run: ku
        }, {
            key: "Mod-]",
            run: wu
        }, {
            key: "Mod-Alt-\\",
            run: bu
        }, {
            key: "Shift-Mod-k",
            run: mu
        }, {
            key: "Shift-Mod-\\",
            run: ({state: e, dispatch: t})=>Hc(e, t, !1)
        }].concat([{
            key: "ArrowLeft",
            run: Sc,
            shift: Uc
        }, {
            key: "Mod-ArrowLeft",
            mac: "Alt-ArrowLeft",
            run: e=>Dc(e, e.textDirection != jo.LTR),
            shift: e=>jc(e, e.textDirection != jo.LTR)
        }, {
            mac: "Cmd-ArrowLeft",
            run: zc,
            shift: Xc
        }, {
            key: "ArrowRight",
            run: Lc,
            shift: _c
        }, {
            key: "Mod-ArrowRight",
            mac: "Alt-ArrowRight",
            run: e=>Dc(e, e.textDirection == jo.LTR),
            shift: e=>jc(e, e.textDirection == jo.LTR)
        }, {
            mac: "Cmd-ArrowRight",
            run: Bc,
            shift: Jc
        }, {
            key: "ArrowUp",
            run: Fc,
            shift: $c
        }, {
            mac: "Cmd-ArrowUp",
            run: Zc,
            shift: tu
        }, {
            mac: "Ctrl-ArrowUp",
            run: Ic,
            shift: Kc
        }, {
            key: "ArrowDown",
            run: Pc,
            shift: Gc
        }, {
            mac: "Cmd-ArrowDown",
            run: eu,
            shift: nu
        }, {
            mac: "Ctrl-ArrowDown",
            run: Nc,
            shift: Qc
        }, {
            key: "PageUp",
            run: Ic,
            shift: Kc
        }, {
            key: "PageDown",
            run: Nc,
            shift: Qc
        }, {
            key: "Home",
            run: zc,
            shift: Xc
        }, {
            key: "Mod-Home",
            run: Zc,
            shift: tu
        }, {
            key: "End",
            run: Bc,
            shift: Jc
        }, {
            key: "Mod-End",
            run: eu,
            shift: nu
        }, {
            key: "Enter",
            run: vu
        }, {
            key: "Mod-a",
            run: ({state: e, dispatch: t})=>(t(e.update({
                selection: {
                    anchor: 0,
                    head: e.doc.length
                },
                annotations: yi.userEvent.of("keyboardselection")
            })),
            !0)
        }, {
            key: "Backspace",
            run: ou,
            shift: ou
        }, {
            key: "Delete",
            run: su,
            shift: su
        }, {
            key: "Mod-Backspace",
            mac: "Alt-Backspace",
            run: lu
        }, {
            key: "Mod-Delete",
            mac: "Alt-Delete",
            run: cu
        }, {
            mac: "Mod-Backspace",
            run: e=>iu(e, (t=>{
                let n = e.visualLineAt(t).from;
                return t > n ? n : Math.max(0, t - 1)
            }
            ))
        }, {
            mac: "Mod-Delete",
            run: uu
        }].concat([{
            key: "Ctrl-b",
            run: Sc,
            shift: Uc,
            preventDefault: !0
        }, {
            key: "Ctrl-f",
            run: Lc,
            shift: _c
        }, {
            key: "Ctrl-p",
            run: Fc,
            shift: $c
        }, {
            key: "Ctrl-n",
            run: Pc,
            shift: Gc
        }, {
            key: "Ctrl-a",
            run: e=>Cc(e, (t=>Vn.cursor(e.visualLineAt(t.head).from, 1))),
            shift: e=>Vc(e, (t=>Vn.cursor(e.visualLineAt(t.head).from)))
        }, {
            key: "Ctrl-e",
            run: e=>Cc(e, (t=>Vn.cursor(e.visualLineAt(t.head).to, -1))),
            shift: e=>Vc(e, (t=>Vn.cursor(e.visualLineAt(t.head).to)))
        }, {
            key: "Ctrl-d",
            run: su
        }, {
            key: "Ctrl-h",
            run: e=>ru(e, !1, !1)
        }, {
            key: "Ctrl-k",
            run: uu
        }, {
            key: "Alt-d",
            run: cu
        }, {
            key: "Ctrl-Alt-h",
            run: lu
        }, {
            key: "Ctrl-o",
            run: ({state: e, dispatch: t})=>{
                let n = e.changeByRange((e=>({
                    changes: {
                        from: e.from,
                        to: e.to,
                        insert: kn.of(["", ""])
                    },
                    range: Vn.cursor(e.from)
                })));
                return t(e.update(n, {
                    scrollIntoView: !0,
                    annotations: yi.userEvent.of("input")
                })),
                !0
            }
        }, {
            key: "Ctrl-t",
            run: ({state: e, dispatch: t})=>{
                let n = e.changeByRange((t=>{
                    if (!t.empty || 0 == t.from || t.from == e.doc.length)
                        return {
                            range: t
                        };
                    let n = t.from
                      , i = e.doc.lineAt(n)
                      , r = n == i.from ? n - 1 : hn(i.text, n - i.from, !1) + i.from
                      , o = n == i.to ? n + 1 : hn(i.text, n - i.from, !0) + i.from;
                    return {
                        changes: {
                            from: r,
                            to: o,
                            insert: e.doc.slice(n, o).append(e.doc.slice(r, n))
                        },
                        range: Vn.cursor(o)
                    }
                }
                ));
                return !n.changes.empty && (t(e.update(n, {
                    scrollIntoView: !0
                })),
                !0)
            }
        }, {
            key: "Alt-f",
            run: e=>Dc(e, !0),
            shift: e=>jc(e, !0)
        }, {
            key: "Alt-b",
            run: e=>Dc(e, !1),
            shift: e=>jc(e, !1)
        }, {
            key: "Alt-<",
            run: Zc
        }, {
            key: "Alt->",
            run: eu
        }, {
            key: "Ctrl-v",
            run: Nc
        }, {
            key: "Alt-v",
            run: Ic
        }].map((e=>({
            mac: e.key,
            run: e.run,
            shift: e.shift
        })))));
        function xu(e, t) {
            return ({state: n, dispatch: i})=>{
                let r = e(t, n.selection.ranges, n);
                return !!r && (i(n.update(r)),
                !0)
            }
        }
        const Eu = xu(Au, 0)
          , Su = xu(Mu, 0)
          , Lu = [{
            key: "Mod-/",
            run: e=>{
                let t = Du(e.state);
                return t.line ? Eu(e) : !!t.block && Su(e)
            }
        }, {
            key: "Alt-A",
            run: Su
        }];
        function Du(e, t=e.selection.main.head) {
            let n = e.languageDataAt("commentTokens", t);
            return n.length ? n[0] : {}
        }
        function Mu(e, t, n) {
            let i = t.map((e=>Du(n, e.from).block));
            if (!i.every((e=>e)))
                return null;
            let r = t.map(((e,t)=>function(e, {open: t, close: n}, i, r) {
                let o, s, a = e.sliceDoc(i - 50, i), l = e.sliceDoc(r, r + 50), c = /\s*$/.exec(a)[0].length, u = /^\s*/.exec(l)[0].length, h = a.length - c;
                if (a.slice(h - t.length, h) == t && l.slice(u, u + n.length) == n)
                    return {
                        open: {
                            pos: i - c,
                            margin: c && 1
                        },
                        close: {
                            pos: r + u,
                            margin: u && 1
                        }
                    };
                r - i <= 100 ? o = s = e.sliceDoc(i, r) : (o = e.sliceDoc(i, i + 50),
                s = e.sliceDoc(r - 50, r));
                let p = /^\s*/.exec(o)[0].length
                  , d = /\s*$/.exec(s)[0].length
                  , f = s.length - d - n.length;
                return o.slice(p, p + t.length) == t && s.slice(f, f + n.length) == n ? {
                    open: {
                        pos: i + p + t.length,
                        margin: /\s/.test(o.charAt(p + t.length)) ? 1 : 0
                    },
                    close: {
                        pos: r - d - n.length,
                        margin: /\s/.test(s.charAt(f - 1)) ? 1 : 0
                    }
                } : null
            }(n, i[t], e.from, e.to)));
            if (2 != e && !r.every((e=>e))) {
                let e = 0;
                return n.changeByRange((t=>{
                    let {open: n, close: o} = i[e++];
                    if (r[e])
                        return {
                            range: t
                        };
                    let s = n.length + 1;
                    return {
                        changes: [{
                            from: t.from,
                            insert: n + " "
                        }, {
                            from: t.to,
                            insert: " " + o
                        }],
                        range: Vn.range(t.anchor + s, t.head + s)
                    }
                }
                ))
            }
            if (1 != e && r.some((e=>e))) {
                let e = [];
                for (let t, n = 0; n < r.length; n++)
                    if (t = r[n]) {
                        let r = i[n]
                          , {open: o, close: s} = t;
                        e.push({
                            from: o.pos - r.open.length,
                            to: o.pos + o.margin
                        }, {
                            from: s.pos - s.margin,
                            to: s.pos + r.close.length
                        })
                    }
                return {
                    changes: e
                }
            }
            return null
        }
        function Au(e, t, n) {
            let i = []
              , r = -1;
            for (let {from: e, to: o} of t) {
                let t = i.length
                  , s = 1e9;
                for (let t = e; t <= o; ) {
                    let a = n.doc.lineAt(t);
                    if (a.from > r && (e == o || o > a.from)) {
                        r = a.from;
                        let e = Du(n, t).line;
                        if (!e)
                            continue;
                        let o = /^\s*/.exec(a.text)[0].length
                          , l = o == a.length
                          , c = a.text.slice(o, o + e.length) == e ? o : -1;
                        o < a.text.length && o < s && (s = o),
                        i.push({
                            line: a,
                            comment: c,
                            token: e,
                            indent: o,
                            empty: l,
                            single: !1
                        })
                    }
                    t = a.to + 1
                }
                if (s < 1e9)
                    for (let e = t; e < i.length; e++)
                        i[e].indent < i[e].line.text.length && (i[e].indent = s);
                i.length == t + 1 && (i[t].single = !0)
            }
            if (2 != e && i.some((e=>e.comment < 0 && (!e.empty || e.single)))) {
                let e = [];
                for (let {line: t, token: n, indent: r, empty: o, single: s} of i)
                    !s && o || e.push({
                        from: t.from + r,
                        insert: n + " "
                    });
                let t = n.changes(e);
                return {
                    changes: t,
                    selection: n.selection.map(t, 1)
                }
            }
            if (1 != e && i.some((e=>e.comment >= 0))) {
                let e = [];
                for (let {line: t, comment: n, token: r} of i)
                    if (n >= 0) {
                        let i = t.from + n
                          , o = i + r.length;
                        " " == t.text[o - t.from] && o++,
                        e.push({
                            from: i,
                            to: o
                        })
                    }
                return {
                    changes: e
                }
            }
            return null
        }
        class Tu extends Bi {
            compare(e) {
                return this == e || this.constructor == e.constructor && this.eq(e)
            }
            eq(e) {
                return !1
            }
            at(e) {
                return this.range(e)
            }
        }
        Tu.prototype.elementClass = "",
        Tu.prototype.toDOM = void 0,
        Tu.prototype.mapMode = Tn.TrackBefore,
        Tu.prototype.point = !0;
        const Fu = jn.define()
          , Pu = {
            class: "",
            renderEmptyElements: !1,
            elementStyle: "",
            markers: ()=>qi.empty,
            lineMarker: ()=>null,
            initialSpacer: null,
            updateSpacer: null,
            domEventHandlers: {}
        }
          , Ou = jn.define();
        function Iu(e) {
            return [Bu(), Ou.of(Object.assign(Object.assign({}, Pu), e))]
        }
        const Nu = wa.baseTheme({
            ".cm-gutters": {
                display: "flex",
                height: "100%",
                boxSizing: "border-box",
                left: 0,
                zIndex: 200
            },
            "&light .cm-gutters": {
                backgroundColor: "#f5f5f5",
                color: "#999",
                borderRight: "1px solid #ddd"
            },
            "&dark .cm-gutters": {
                backgroundColor: "#333338",
                color: "#ccc"
            },
            ".cm-gutter": {
                display: "flex !important",
                flexDirection: "column",
                flexShrink: 0,
                boxSizing: "border-box",
                height: "100%",
                overflow: "hidden"
            },
            ".cm-gutterElement": {
                boxSizing: "border-box"
            },
            ".cm-lineNumbers .cm-gutterElement": {
                padding: "0 3px 0 5px",
                minWidth: "20px",
                textAlign: "right",
                whiteSpace: "nowrap"
            },
            "&light .cm-activeLineGutter": {
                backgroundColor: "#e2f2ff"
            },
            "&dark .cm-activeLineGutter": {
                backgroundColor: "#222227"
            }
        })
          , Ru = jn.define({
            combine: e=>e.some((e=>e))
        });
        function Bu(e) {
            let t = [zu, Nu];
            return e && !1 === e.fixed && t.push(Ru.of(!0)),
            t
        }
        const zu = To.fromClass(class {
            constructor(e) {
                this.view = e,
                this.dom = document.createElement("div"),
                this.dom.className = "cm-gutters",
                this.dom.setAttribute("aria-hidden", "true"),
                this.gutters = e.state.facet(Ou).map((t=>new Uu(e,t)));
                for (let e of this.gutters)
                    this.dom.appendChild(e.dom);
                this.fixed = !e.state.facet(Ru),
                this.fixed && (this.dom.style.position = "sticky"),
                e.scrollDOM.insertBefore(this.dom, e.contentDOM),
                this.syncGutters()
            }
            update(e) {
                this.updateGutters(e) && this.syncGutters()
            }
            syncGutters() {
                let e = qi.iter(this.view.state.facet(Fu), this.view.viewport.from)
                  , t = []
                  , n = this.gutters.map((e=>new qu(e,this.view.viewport)));
                this.view.viewportLines((i=>{
                    let r;
                    if (Array.isArray(i.type)) {
                        for (let e of i.type)
                            if (e.type == ro.Text) {
                                r = e;
                                break
                            }
                    } else
                        r = i.type == ro.Text ? i : void 0;
                    if (r) {
                        t.length && (t = []),
                        Vu(e, t, i.from);
                        for (let e of n)
                            e.line(this.view, r, t)
                    }
                }
                ), 0);
                for (let e of n)
                    e.finish();
                this.dom.style.minHeight = this.view.contentHeight + "px",
                this.view.state.facet(Ru) != !this.fixed && (this.fixed = !this.fixed,
                this.dom.style.position = this.fixed ? "sticky" : "")
            }
            updateGutters(e) {
                let t = e.startState.facet(Ou)
                  , n = e.state.facet(Ou)
                  , i = e.docChanged || e.heightChanged || e.viewportChanged || !qi.eq(e.startState.facet(Fu), e.state.facet(Fu), e.view.viewport.from, e.view.viewport.to);
                if (t == n)
                    for (let t of this.gutters)
                        t.update(e) && (i = !0);
                else {
                    i = !0;
                    let r = [];
                    for (let i of n) {
                        let n = t.indexOf(i);
                        n < 0 ? r.push(new Uu(this.view,i)) : (this.gutters[n].update(e),
                        r.push(this.gutters[n]))
                    }
                    for (let e of this.gutters)
                        e.dom.remove();
                    for (let e of r)
                        this.dom.appendChild(e.dom);
                    this.gutters = r
                }
                return i
            }
            destroy() {
                this.dom.remove()
            }
        }
        , {
            provide: Do.scrollMargins.from((e=>0 != e.gutters.length && e.fixed ? e.view.textDirection == jo.LTR ? {
                left: e.dom.offsetWidth
            } : {
                right: e.dom.offsetWidth
            } : null))
        });
        function Hu(e) {
            return Array.isArray(e) ? e : [e]
        }
        function Vu(e, t, n) {
            for (; e.value && e.from <= n; )
                e.from == n && t.push(e.value),
                e.next()
        }
        class qu {
            constructor(e, t) {
                this.gutter = e,
                this.localMarkers = [],
                this.i = 0,
                this.height = 0,
                this.cursor = qi.iter(e.markers, t.from)
            }
            line(e, t, n) {
                this.localMarkers.length && (this.localMarkers = []),
                Vu(this.cursor, this.localMarkers, t.from);
                let i = n.length ? this.localMarkers.concat(n) : this.localMarkers
                  , r = this.gutter.config.lineMarker(e, t, i);
                r && i.unshift(r);
                let o = this.gutter;
                if (0 == i.length && !o.config.renderEmptyElements)
                    return;
                let s = t.top - this.height;
                if (this.i == o.elements.length) {
                    let n = new _u(e,t.height,s,i);
                    o.elements.push(n),
                    o.dom.appendChild(n.dom)
                } else {
                    let n = o.elements[this.i];
                    (function(e, t) {
                        if (e.length != t.length)
                            return !1;
                        for (let n = 0; n < e.length; n++)
                            if (!e[n].compare(t[n]))
                                return !1;
                        return !0
                    }
                    )(i, n.markers) && (i = n.markers),
                    n.update(e, t.height, s, i)
                }
                this.height = t.bottom,
                this.i++
            }
            finish() {
                let e = this.gutter;
                for (; e.elements.length > this.i; )
                    e.dom.removeChild(e.elements.pop().dom)
            }
        }
        class Uu {
            constructor(e, t) {
                this.view = e,
                this.config = t,
                this.elements = [],
                this.spacer = null,
                this.dom = document.createElement("div"),
                this.dom.className = "cm-gutter" + (this.config.class ? " " + this.config.class : "");
                for (let n in t.domEventHandlers)
                    this.dom.addEventListener(n, (i=>{
                        let r = e.visualLineAtHeight(i.clientY, e.contentDOM.getBoundingClientRect().top);
                        t.domEventHandlers[n](e, r, i) && i.preventDefault()
                    }
                    ));
                this.markers = Hu(t.markers(e)),
                t.initialSpacer && (this.spacer = new _u(e,0,0,[t.initialSpacer(e)]),
                this.dom.appendChild(this.spacer.dom),
                this.spacer.dom.style.cssText += "visibility: hidden; pointer-events: none")
            }
            update(e) {
                let t = this.markers;
                if (this.markers = Hu(this.config.markers(e.view)),
                this.spacer && this.config.updateSpacer) {
                    let t = this.config.updateSpacer(this.spacer.markers[0], e);
                    t != this.spacer.markers[0] && this.spacer.update(e.view, 0, 0, [t])
                }
                let n = e.view.viewport;
                return !qi.eq(this.markers, t, n.from, n.to)
            }
        }
        class _u {
            constructor(e, t, n, i) {
                this.height = -1,
                this.above = 0,
                this.dom = document.createElement("div"),
                this.update(e, t, n, i)
            }
            update(e, t, n, i) {
                if (this.height != t && (this.dom.style.height = (this.height = t) + "px"),
                this.above != n && (this.dom.style.marginTop = (this.above = n) ? n + "px" : ""),
                this.markers != i) {
                    this.markers = i;
                    for (let e; e = this.dom.lastChild; )
                        e.remove();
                    let t = "cm-gutterElement";
                    for (let n of i) {
                        n.toDOM && this.dom.appendChild(n.toDOM(e));
                        let i = n.elementClass;
                        i && (t += " " + i)
                    }
                    this.dom.className = t
                }
            }
        }
        const ju = jn.define()
          , Wu = jn.define({
            combine: e=>Ti(e, {
                formatNumber: String,
                domEventHandlers: {}
            }, {
                domEventHandlers(e, t) {
                    let n = Object.assign({}, e);
                    for (let e in t) {
                        let i = n[e]
                          , r = t[e];
                        n[e] = i ? (e,t,n)=>i(e, t, n) || r(e, t, n) : r
                    }
                    return n
                }
            })
        });
        class $u extends Tu {
            constructor(e) {
                super(),
                this.number = e
            }
            eq(e) {
                return this.number == e.number
            }
            toDOM(e) {
                return document.createTextNode(this.number)
            }
        }
        function Gu(e, t) {
            return e.state.facet(Wu).formatNumber(t, e.state)
        }
        const Yu = Iu({
            class: "cm-lineNumbers",
            markers: e=>e.state.facet(ju),
            lineMarker: (e,t,n)=>n.some((e=>e.toDOM)) ? null : new $u(Gu(e, e.state.doc.lineAt(t.from).number)),
            initialSpacer: e=>new $u(Gu(e, Ku(e.state.doc.lines))),
            updateSpacer(e, t) {
                let n = Gu(t.view, Ku(t.view.state.doc.lines));
                return n == e.number ? e : new $u(n)
            }
        });
        function Ku(e) {
            let t = 9;
            for (; t < e; )
                t = 10 * t + 9;
            return t
        }
        function Qu(e, t) {
            let n = t.mapPos(e.from, 1)
              , i = t.mapPos(e.to, -1);
            return n >= i ? void 0 : {
                from: n,
                to: i
            }
        }
        const Ju = vi.define({
            map: Qu
        })
          , Xu = vi.define({
            map: Qu
        });
        function Zu(e) {
            let t = [];
            for (let {head: n} of e.state.selection.ranges)
                t.some((e=>e.from <= n && e.to >= n)) || t.push(e.visualLineAt(n));
            return t
        }
        const eh = Qn.define({
            create: ()=>oo.none,
            update(e, t) {
                e = e.map(t.changes);
                for (let n of t.effects)
                    n.is(Ju) && !nh(e, n.value.from, n.value.to) ? e = e.update({
                        add: [dh.range(n.value.from, n.value.to)]
                    }) : n.is(Xu) && (e = e.update({
                        filter: (e,t)=>n.value.from != e || n.value.to != t,
                        filterFrom: n.value.from,
                        filterTo: n.value.to
                    }));
                if (t.selection) {
                    let n = !1
                      , {head: i} = t.selection.main;
                    e.between(i, i, ((e,t)=>{
                        e < i && t > i && (n = !0)
                    }
                    )),
                    n && (e = e.update({
                        filterFrom: i,
                        filterTo: i,
                        filter: (e,t)=>t <= i || e >= i
                    }))
                }
                return e
            },
            provide: e=>wa.decorations.compute([e], (t=>t.field(e)))
        });
        function th(e, t, n) {
            var i;
            let r = null;
            return null === (i = e.field(eh, !1)) || void 0 === i || i.between(t, n, ((e,t)=>{
                (!r || r.from > e) && (r = {
                    from: e,
                    to: t
                })
            }
            )),
            r
        }
        function nh(e, t, n) {
            let i = !1;
            return e.between(t, t, ((e,r)=>{
                e == t && r == n && (i = !0)
            }
            )),
            i
        }
        function ih(e, t) {
            return e.field(eh, !1) ? t : t.concat(vi.appendConfig.of(ph()))
        }
        const rh = e=>{
            for (let t of Zu(e)) {
                let n = Ql(e.state, t.from, t.to);
                if (n)
                    return e.dispatch({
                        effects: ih(e.state, [Ju.of(n), sh(e, n)])
                    }),
                    !0
            }
            return !1
        }
          , oh = e=>{
            if (!e.state.field(eh, !1))
                return !1;
            let t = [];
            for (let n of Zu(e)) {
                let i = th(e.state, n.from, n.to);
                i && t.push(Xu.of(i), sh(e, i, !1))
            }
            return t.length && e.dispatch({
                effects: t
            }),
            t.length > 0
        }
        ;
        function sh(e, t, n=!0) {
            let i = e.state.doc.lineAt(t.from).number
              , r = e.state.doc.lineAt(t.to).number;
            return wa.announce.of(`${e.state.phrase(n ? "Folded lines" : "Unfolded lines")} ${i} ${e.state.phrase("to")} ${r}.`)
        }
        const ah = e=>{
            let {state: t} = e
              , n = [];
            for (let i = 0; i < t.doc.length; ) {
                let r = e.visualLineAt(i)
                  , o = Ql(t, r.from, r.to);
                o && n.push(Ju.of(o)),
                i = (o ? e.visualLineAt(o.to) : r).to + 1
            }
            return n.length && e.dispatch({
                effects: ih(e.state, n)
            }),
            !!n.length
        }
          , lh = e=>{
            let t = e.state.field(eh, !1);
            if (!t || !t.size)
                return !1;
            let n = [];
            return t.between(0, e.state.doc.length, ((e,t)=>{
                n.push(Xu.of({
                    from: e,
                    to: t
                }))
            }
            )),
            e.dispatch({
                effects: n
            }),
            !0
        }
          , ch = [{
            key: "Ctrl-Shift-[",
            mac: "Cmd-Alt-[",
            run: rh
        }, {
            key: "Ctrl-Shift-]",
            mac: "Cmd-Alt-]",
            run: oh
        }, {
            key: "Ctrl-Alt-[",
            run: ah
        }, {
            key: "Ctrl-Alt-]",
            run: lh
        }]
          , uh = {
            placeholderDOM: null,
            placeholderText: "…"
        }
          , hh = jn.define({
            combine: e=>Ti(e, uh)
        });
        function ph(e) {
            let t = [eh, mh];
            return e && t.push(hh.of(e)),
            t
        }
        const dh = oo.replace({
            widget: new class extends io {
                ignoreEvents() {
                    return !1
                }
                toDOM(e) {
                    let {state: t} = e
                      , n = t.facet(hh);
                    if (n.placeholderDOM)
                        return n.placeholderDOM();
                    let i = document.createElement("span");
                    return i.textContent = n.placeholderText,
                    i.setAttribute("aria-label", t.phrase("folded code")),
                    i.title = t.phrase("unfold"),
                    i.className = "cm-foldPlaceholder",
                    i.onclick = t=>{
                        let n = e.visualLineAt(e.posAtDOM(t.target))
                          , i = th(e.state, n.from, n.to);
                        i && e.dispatch({
                            effects: Xu.of(i)
                        }),
                        t.preventDefault()
                    }
                    ,
                    i
                }
            }
        })
          , fh = {
            openText: "⌄",
            closedText: "›"
        };
        class gh extends Tu {
            constructor(e, t) {
                super(),
                this.config = e,
                this.open = t
            }
            eq(e) {
                return this.config == e.config && this.open == e.open
            }
            toDOM(e) {
                let t = document.createElement("span");
                return t.textContent = this.open ? this.config.openText : this.config.closedText,
                t.title = e.state.phrase(this.open ? "Fold line" : "Unfold line"),
                t
            }
        }
        const mh = wa.baseTheme({
            ".cm-foldPlaceholder": {
                backgroundColor: "#eee",
                border: "1px solid #ddd",
                color: "#888",
                borderRadius: ".2em",
                margin: "0 1px",
                padding: "0 1px",
                cursor: "pointer"
            },
            ".cm-foldGutter .cm-gutterElement": {
                padding: "0 1px",
                cursor: "pointer"
            }
        })
          , vh = fi.define()
          , yh = fi.define()
          , bh = jn.define()
          , wh = jn.define({
            combine: e=>Ti(e, {
                minDepth: 100,
                newGroupDelay: 500
            }, {
                minDepth: Math.max,
                newGroupDelay: Math.min
            })
        })
          , kh = Qn.define({
            create: ()=>Rh.empty,
            update(e, t) {
                let n = t.state.facet(wh)
                  , i = t.annotation(vh);
                if (i) {
                    let r = Mh.fromTransaction(t)
                      , o = i.side
                      , s = 0 == o ? e.undone : e.done;
                    return s = r ? Ah(s, s.length, n.minDepth, r) : Ph(s, t.startState.selection),
                    new Rh(0 == o ? i.rest : s,0 == o ? s : i.rest)
                }
                let r = t.annotation(yh);
                if ("full" != r && "before" != r || (e = e.isolate()),
                !1 === t.annotation(yi.addToHistory))
                    return t.changes.empty ? e : e.addMapping(t.changes.desc);
                let o = Mh.fromTransaction(t)
                  , s = t.annotation(yi.time)
                  , a = t.annotation(yi.userEvent);
                return o ? e = e.addChanges(o, s, a, n.newGroupDelay, n.minDepth) : t.selection && (e = e.addSelection(t.startState.selection, s, a, n.newGroupDelay)),
                "full" != r && "after" != r || (e = e.isolate()),
                e
            },
            toJSON: e=>({
                done: e.done.map((e=>e.toJSON())),
                undone: e.undone.map((e=>e.toJSON()))
            }),
            fromJSON: e=>new Rh(e.done.map(Mh.fromJSON),e.undone.map(Mh.fromJSON))
        });
        function Ch(e, t) {
            return function({state: n, dispatch: i}) {
                let r = n.field(kh, !1);
                if (!r)
                    return !1;
                let o = r.pop(e, n, t);
                return !!o && (i(o),
                !0)
            }
        }
        const xh = Ch(0, !1)
          , Eh = Ch(1, !1)
          , Sh = Ch(0, !0)
          , Lh = Ch(1, !0);
        function Dh(e) {
            return function(t) {
                let n = t.field(kh, !1);
                if (!n)
                    return 0;
                let i = 0 == e ? n.done : n.undone;
                return i.length - (i.length && !i[0].changes ? 1 : 0)
            }
        }
        Dh(0),
        Dh(1);
        class Mh {
            constructor(e, t, n, i, r) {
                this.changes = e,
                this.effects = t,
                this.mapped = n,
                this.startSelection = i,
                this.selectionsAfter = r
            }
            setSelAfter(e) {
                return new Mh(this.changes,this.effects,this.mapped,this.startSelection,e)
            }
            toJSON() {
                var e, t, n;
                return {
                    changes: null === (e = this.changes) || void 0 === e ? void 0 : e.toJSON(),
                    mapped: null === (t = this.mapped) || void 0 === t ? void 0 : t.toJSON(),
                    startSelection: null === (n = this.startSelection) || void 0 === n ? void 0 : n.toJSON(),
                    selectionsAfter: this.selectionsAfter.map((e=>e.toJSON()))
                }
            }
            static fromJSON(e) {
                return new Mh(e.changes && Pn.fromJSON(e.changes),[],e.mapped && Fn.fromJSON(e.mapped),e.startSelection && Vn.fromJSON(e.startSelection),e.selectionsAfter.map(Vn.fromJSON))
            }
            static fromTransaction(e) {
                let t = Fh;
                for (let n of e.startState.facet(bh)) {
                    let i = n(e);
                    i.length && (t = t.concat(i))
                }
                return !t.length && e.changes.empty ? null : new Mh(e.changes.invert(e.startState.doc),t,void 0,e.startState.selection,Fh)
            }
            static selection(e) {
                return new Mh(void 0,Fh,void 0,void 0,e)
            }
        }
        function Ah(e, t, n, i) {
            let r = t + 1 > n + 20 ? t - n - 1 : 0
              , o = e.slice(r, t);
            return o.push(i),
            o
        }
        function Th(e, t) {
            return e.length ? t.length ? e.concat(t) : e : t
        }
        const Fh = [];
        function Ph(e, t) {
            if (e.length) {
                let n = e[e.length - 1]
                  , i = n.selectionsAfter.slice(Math.max(0, n.selectionsAfter.length - 200));
                return i.length && i[i.length - 1].eq(t) ? e : (i.push(t),
                Ah(e, e.length - 1, 1e9, n.setSelAfter(i)))
            }
            return [Mh.selection([t])]
        }
        function Oh(e) {
            let t = e[e.length - 1]
              , n = e.slice();
            return n[e.length - 1] = t.setSelAfter(t.selectionsAfter.slice(0, t.selectionsAfter.length - 1)),
            n
        }
        function Ih(e, t) {
            if (!e.length)
                return e;
            let n = e.length
              , i = Fh;
            for (; n; ) {
                let r = Nh(e[n - 1], t, i);
                if (r.changes && !r.changes.empty || r.effects.length) {
                    let t = e.slice(0, n);
                    return t[n - 1] = r,
                    t
                }
                t = r.mapped,
                n--,
                i = r.selectionsAfter
            }
            return i.length ? [Mh.selection(i)] : Fh
        }
        function Nh(e, t, n) {
            let i = Th(e.selectionsAfter.length ? e.selectionsAfter.map((e=>e.map(t))) : Fh, n);
            if (!e.changes)
                return Mh.selection(i);
            let r = e.changes.map(t)
              , o = t.mapDesc(e.changes, !0)
              , s = e.mapped ? e.mapped.composeDesc(o) : o;
            return new Mh(r,vi.mapEffects(e.effects, t),s,e.startSelection.map(o),i)
        }
        class Rh {
            constructor(e, t, n=0, i) {
                this.done = e,
                this.undone = t,
                this.prevTime = n,
                this.prevUserEvent = i
            }
            isolate() {
                return this.prevTime ? new Rh(this.done,this.undone) : this
            }
            addChanges(e, t, n, i, r) {
                let o = this.done
                  , s = o[o.length - 1];
                return o = s && s.changes && t - this.prevTime < i && !s.selectionsAfter.length && !s.changes.empty && e.changes && function(e, t) {
                    let n = []
                      , i = !1;
                    return e.iterChangedRanges(((e,t)=>n.push(e, t))),
                    t.iterChangedRanges(((e,t,r,o)=>{
                        for (let e = 0; e < n.length; ) {
                            let t = n[e++]
                              , s = n[e++];
                            o >= t && r <= s && (i = !0)
                        }
                    }
                    )),
                    i
                }(s.changes, e.changes) ? Ah(o, o.length - 1, r, new Mh(e.changes.compose(s.changes),Th(e.effects, s.effects),s.mapped,s.startSelection,Fh)) : Ah(o, o.length, r, e),
                new Rh(o,Fh,t,n)
            }
            addSelection(e, t, n, i) {
                let r = this.done.length ? this.done[this.done.length - 1].selectionsAfter : Fh;
                return r.length > 0 && t - this.prevTime < i && "keyboardselection" == n && this.prevUserEvent == n && (o = r[r.length - 1],
                s = e,
                o.ranges.length == s.ranges.length && 0 === o.ranges.filter(((e,t)=>e.empty != s.ranges[t].empty)).length) ? this : new Rh(Ph(this.done, e),this.undone,t,n);
                var o, s
            }
            addMapping(e) {
                return new Rh(Ih(this.done, e),Ih(this.undone, e),this.prevTime,this.prevUserEvent)
            }
            pop(e, t, n) {
                let i = 0 == e ? this.done : this.undone;
                if (0 == i.length)
                    return null;
                let r = i[i.length - 1];
                if (n && r.selectionsAfter.length)
                    return t.update({
                        selection: r.selectionsAfter[r.selectionsAfter.length - 1],
                        annotations: vh.of({
                            side: e,
                            rest: Oh(i)
                        })
                    });
                if (r.changes) {
                    let n = 1 == i.length ? Fh : i.slice(0, i.length - 1);
                    return r.mapped && (n = Ih(n, r.mapped)),
                    t.update({
                        changes: r.changes,
                        selection: r.startSelection,
                        effects: r.effects,
                        annotations: vh.of({
                            side: e,
                            rest: n
                        }),
                        filter: !1
                    })
                }
                return null
            }
        }
        Rh.empty = new Rh(Fh,Fh);
        const Bh = [{
            key: "Mod-z",
            run: xh,
            preventDefault: !0
        }, {
            key: "Mod-y",
            mac: "Mod-Shift-z",
            run: Eh,
            preventDefault: !0
        }, {
            key: "Mod-u",
            run: Sh,
            preventDefault: !0
        }, {
            key: "Alt-u",
            mac: "Mod-Shift-u",
            run: Lh,
            preventDefault: !0
        }]
          , zh = "undefined" != typeof navigator && !/Edge\/(\d+)/.exec(navigator.userAgent) && /Apple Computer/.test(navigator.vendor) && (/Mobile\/\w+/.test(navigator.userAgent) || navigator.maxTouchPoints > 2)
          , Hh = "-10000px"
          , Vh = To.fromClass(class {
            constructor(e) {
                this.view = e,
                this.inView = !0,
                this.measureReq = {
                    read: this.readMeasure.bind(this),
                    write: this.writeMeasure.bind(this),
                    key: this
                },
                this.input = e.state.facet(Uh),
                this.tooltips = this.input.filter((e=>e)),
                this.tooltipViews = this.tooltips.map((e=>this.createTooltip(e)))
            }
            update(e) {
                let t = e.state.facet(Uh);
                if (t == this.input)
                    for (let t of this.tooltipViews)
                        t.update && t.update(e);
                else {
                    let n = t.filter((e=>e))
                      , i = [];
                    for (let t = 0; t < n.length; t++) {
                        let r = n[t]
                          , o = -1;
                        if (r) {
                            for (let e = 0; e < this.tooltips.length; e++) {
                                let t = this.tooltips[e];
                                t && t.create == r.create && (o = e)
                            }
                            if (o < 0)
                                i[t] = this.createTooltip(r);
                            else {
                                let n = i[t] = this.tooltipViews[o];
                                n.update && n.update(e)
                            }
                        }
                    }
                    for (let e of this.tooltipViews)
                        i.indexOf(e) < 0 && e.dom.remove();
                    this.input = t,
                    this.tooltips = n,
                    this.tooltipViews = i,
                    this.maybeMeasure()
                }
            }
            createTooltip(e) {
                let t = e.create(this.view);
                return t.dom.classList.add("cm-tooltip"),
                e.class && t.dom.classList.add(e.class),
                t.dom.style.top = Hh,
                this.view.dom.appendChild(t.dom),
                t.mount && t.mount(this.view),
                t
            }
            destroy() {
                for (let {dom: e} of this.tooltipViews)
                    e.remove()
            }
            readMeasure() {
                return {
                    editor: this.view.dom.getBoundingClientRect(),
                    pos: this.tooltips.map((e=>this.view.coordsAtPos(e.pos))),
                    size: this.tooltipViews.map((({dom: e})=>e.getBoundingClientRect())),
                    innerWidth: window.innerWidth,
                    innerHeight: window.innerHeight
                }
            }
            writeMeasure(e) {
                let {editor: t} = e;
                for (let n = 0; n < this.tooltipViews.length; n++) {
                    let i = this.tooltips[n]
                      , r = this.tooltipViews[n]
                      , {dom: o} = r
                      , s = e.pos[n]
                      , a = e.size[n];
                    if (!s || s.bottom <= t.top || s.top >= t.bottom || s.right <= t.left || s.left >= t.right) {
                        o.style.top = Hh;
                        continue
                    }
                    let l = a.right - a.left
                      , c = a.bottom - a.top
                      , u = this.view.textDirection == jo.LTR ? Math.min(s.left, e.innerWidth - l) : Math.max(0, s.left - l)
                      , h = !!i.above;
                    !i.strictSide && (h ? s.top - (a.bottom - a.top) < 0 : s.bottom + (a.bottom - a.top) > e.innerHeight) && (h = !h),
                    zh ? (o.style.top = (h ? s.top - c : s.bottom) - t.top + "px",
                    o.style.left = u - t.left + "px",
                    o.style.position = "absolute") : (o.style.top = (h ? s.top - c : s.bottom) + "px",
                    o.style.left = u + "px"),
                    o.classList.toggle("cm-tooltip-above", h),
                    o.classList.toggle("cm-tooltip-below", !h),
                    r.positioned && r.positioned()
                }
            }
            maybeMeasure() {
                this.tooltips.length && ((this.view.inView || this.inView) && this.view.requestMeasure(this.measureReq),
                this.inView = this.view.inView)
            }
        }
        , {
            eventHandlers: {
                scroll() {
                    this.maybeMeasure()
                }
            }
        })
          , qh = wa.baseTheme({
            ".cm-tooltip": {
                position: "fixed",
                zIndex: 100
            },
            "&light .cm-tooltip": {
                border: "1px solid #ddd",
                backgroundColor: "#f5f5f5"
            },
            "&dark .cm-tooltip": {
                backgroundColor: "#333338",
                color: "white"
            }
        });
        const Uh = jn.define({
            enables: [Vh, qh]
        });
        class _h {
            constructor(e, t, n, i) {
                this.view = e,
                this.source = t,
                this.field = n,
                this.setHover = i,
                this.lastMouseMove = null,
                this.hoverTimeout = -1,
                this.restartTimeout = -1,
                this.pending = null,
                this.checkHover = this.checkHover.bind(this),
                e.dom.addEventListener("mouseleave", this.mouseleave = this.mouseleave.bind(this)),
                e.dom.addEventListener("mousemove", this.mousemove = this.mousemove.bind(this))
            }
            update() {
                this.pending && (this.pending = null,
                clearTimeout(this.restartTimeout),
                this.restartTimeout = setTimeout((()=>this.startHover()), 20))
            }
            get active() {
                return this.view.state.field(this.field)
            }
            checkHover() {
                if (this.hoverTimeout = -1,
                this.active)
                    return;
                let e = Date.now()
                  , t = this.lastMouseMove;
                e - t.timeStamp < 750 ? this.hoverTimeout = setTimeout(this.checkHover, 750 - (e - t.timeStamp)) : this.startHover()
            }
            startHover() {
                var e;
                clearTimeout(this.restartTimeout);
                let t = this.lastMouseMove
                  , n = {
                    x: t.clientX,
                    y: t.clientY
                }
                  , i = this.view.contentDOM.contains(t.target) ? this.view.posAtCoords(n) : null;
                if (null == i)
                    return;
                let r = this.view.coordsAtPos(i);
                if (null == r || n.y < r.top || n.y > r.bottom || n.x < r.left - this.view.defaultCharacterWidth || n.x > r.right + this.view.defaultCharacterWidth)
                    return;
                let o = this.view.bidiSpans(this.view.state.doc.lineAt(i)).find((e=>e.from <= i && e.to >= i))
                  , s = o && o.dir == jo.RTL ? -1 : 1
                  , a = this.source(this.view, i, n.x < r.left ? -s : s);
                if (null === (e = a) || void 0 === e ? void 0 : e.then) {
                    let e = this.pending = {
                        pos: i
                    };
                    a.then((t=>{
                        this.pending == e && (this.pending = null,
                        t && this.view.dispatch({
                            effects: this.setHover.of(t)
                        }))
                    }
                    ), (e=>Eo(this.view.state, e, "hover tooltip")))
                } else
                    a && this.view.dispatch({
                        effects: this.setHover.of(a)
                    })
            }
            mousemove(e) {
                var t;
                this.lastMouseMove = e,
                this.hoverTimeout < 0 && (this.hoverTimeout = setTimeout(this.checkHover, 750));
                let n = this.active;
                if (n && !function(e) {
                    for (let t = e; t; t = t.parentNode)
                        if (1 == t.nodeType && t.classList.contains("cm-tooltip"))
                            return !0;
                    return !1
                }(e.target) || this.pending) {
                    let {pos: i} = n || this.pending
                      , r = null !== (t = null == n ? void 0 : n.end) && void 0 !== t ? t : i;
                    (i == r ? this.view.posAtCoords({
                        x: e.clientX,
                        y: e.clientY
                    }) == i : function(e, t, n, i, r, o) {
                        let s = document.createRange()
                          , a = e.domAtPos(t)
                          , l = e.domAtPos(n);
                        s.setEnd(l.node, l.offset),
                        s.setStart(a.node, a.offset);
                        let c = s.getClientRects();
                        s.detach();
                        for (let e = 0; e < c.length; e++) {
                            let t = c[e];
                            if (Math.max(t.top - r, r - t.bottom, t.left - i, i - t.right) <= o)
                                return !0
                        }
                        return !1
                    }(this.view, i, r, e.clientX, e.clientY, 6)) || (this.view.dispatch({
                        effects: this.setHover.of(null)
                    }),
                    this.pending = null)
                }
            }
            mouseleave() {
                clearTimeout(this.hoverTimeout),
                this.hoverTimeout = -1,
                this.active && this.view.dispatch({
                    effects: this.setHover.of(null)
                })
            }
            destroy() {
                clearTimeout(this.hoverTimeout),
                this.view.dom.removeEventListener("mouseleave", this.mouseleave),
                this.view.dom.removeEventListener("mousemove", this.mousemove)
            }
        }
        function jh(e, t={}) {
            const n = vi.define()
              , i = Qn.define({
                create: ()=>null,
                update(e, i) {
                    if (e && t.hideOnChange && (i.docChanged || i.selection))
                        return null;
                    for (let e of i.effects)
                        if (e.is(n))
                            return e.value;
                    if (e && i.docChanged) {
                        let t = i.changes.mapPos(e.pos, -1, Tn.TrackDel);
                        if (null == t)
                            return null;
                        let n = Object.assign(Object.create(null), e);
                        return n.pos = t,
                        null != e.end && (n.end = i.changes.mapPos(e.end)),
                        n
                    }
                    return e
                },
                provide: e=>Uh.from(e)
            });
            return [i, To.define((t=>new _h(t,e,i,n)))]
        }
        const Wh = jn.define({
            combine(e) {
                let t, n;
                for (let i of e)
                    t = t || i.topContainer,
                    n = n || i.bottomContainer;
                return {
                    topContainer: t,
                    bottomContainer: n
                }
            }
        });
        function $h(e, t) {
            let n = e.plugin(Gh)
              , i = n ? n.specs.indexOf(t) : -1;
            return i > -1 ? n.panels[i] : null
        }
        const Gh = To.fromClass(class {
            constructor(e) {
                this.input = e.state.facet(Jh),
                this.specs = this.input.filter((e=>e)),
                this.panels = this.specs.map((t=>t(e)));
                let t = e.state.facet(Wh);
                this.top = new Yh(e,!0,t.topContainer),
                this.bottom = new Yh(e,!1,t.bottomContainer),
                this.top.sync(this.panels.filter((e=>e.top))),
                this.bottom.sync(this.panels.filter((e=>!e.top)));
                for (let e of this.panels)
                    e.dom.classList.add("cm-panel"),
                    e.class && e.dom.classList.add(e.class),
                    e.mount && e.mount()
            }
            update(e) {
                let t = e.state.facet(Wh);
                this.top.container != t.topContainer && (this.top.sync([]),
                this.top = new Yh(e.view,!0,t.topContainer)),
                this.bottom.container != t.bottomContainer && (this.bottom.sync([]),
                this.bottom = new Yh(e.view,!1,t.bottomContainer)),
                this.top.syncClasses(),
                this.bottom.syncClasses();
                let n = e.state.facet(Jh);
                if (n != this.input) {
                    let t = n.filter((e=>e))
                      , i = []
                      , r = []
                      , o = []
                      , s = [];
                    for (let n of t) {
                        let t, a = this.specs.indexOf(n);
                        a < 0 ? (t = n(e.view),
                        s.push(t)) : (t = this.panels[a],
                        t.update && t.update(e)),
                        i.push(t),
                        (t.top ? r : o).push(t)
                    }
                    this.specs = t,
                    this.panels = i,
                    this.top.sync(r),
                    this.bottom.sync(o);
                    for (let e of s)
                        e.dom.classList.add("cm-panel"),
                        e.class && e.dom.classList.add(e.class),
                        e.mount && e.mount()
                } else
                    for (let t of this.panels)
                        t.update && t.update(e)
            }
            destroy() {
                this.top.sync([]),
                this.bottom.sync([])
            }
        }
        , {
            provide: Do.scrollMargins.from((e=>({
                top: e.top.scrollMargin(),
                bottom: e.bottom.scrollMargin()
            })))
        });
        class Yh {
            constructor(e, t, n) {
                this.view = e,
                this.top = t,
                this.container = n,
                this.dom = void 0,
                this.classes = "",
                this.panels = [],
                this.syncClasses()
            }
            sync(e) {
                this.panels = e,
                this.syncDOM()
            }
            syncDOM() {
                if (0 == this.panels.length)
                    return void (this.dom && (this.dom.remove(),
                    this.dom = void 0));
                if (!this.dom) {
                    this.dom = document.createElement("div"),
                    this.dom.className = this.top ? "cm-panels cm-panels-top" : "cm-panels cm-panels-bottom",
                    this.dom.style[this.top ? "top" : "bottom"] = "0";
                    let e = this.container || this.view.dom;
                    e.insertBefore(this.dom, this.top ? e.firstChild : null)
                }
                let e = this.dom.firstChild;
                for (let t of this.panels)
                    if (t.dom.parentNode == this.dom) {
                        for (; e != t.dom; )
                            e = Kh(e);
                        e = e.nextSibling
                    } else
                        this.dom.insertBefore(t.dom, e);
                for (; e; )
                    e = Kh(e)
            }
            scrollMargin() {
                return !this.dom || this.container ? 0 : Math.max(0, this.top ? this.dom.getBoundingClientRect().bottom - this.view.scrollDOM.getBoundingClientRect().top : this.view.scrollDOM.getBoundingClientRect().bottom - this.dom.getBoundingClientRect().top)
            }
            syncClasses() {
                if (this.container && this.classes != this.view.themeClasses) {
                    for (let e of this.classes.split(" "))
                        e && this.container.classList.remove(e);
                    for (let e of (this.classes = this.view.themeClasses).split(" "))
                        e && this.container.classList.add(e)
                }
            }
        }
        function Kh(e) {
            let t = e.nextSibling;
            return e.remove(),
            t
        }
        const Qh = wa.baseTheme({
            ".cm-panels": {
                boxSizing: "border-box",
                position: "sticky",
                left: 0,
                right: 0
            },
            "&light .cm-panels": {
                backgroundColor: "#f5f5f5",
                color: "black"
            },
            "&light .cm-panels-top": {
                borderBottom: "1px solid #ddd"
            },
            "&light .cm-panels-bottom": {
                borderTop: "1px solid #ddd"
            },
            "&dark .cm-panels": {
                backgroundColor: "#333338",
                color: "white"
            }
        })
          , Jh = jn.define({
            enables: [Gh, Qh]
        });
        function Xh() {
            var e = arguments[0];
            "string" == typeof e && (e = document.createElement(e));
            var t = 1
              , n = arguments[1];
            if (n && "object" == typeof n && null == n.nodeType && !Array.isArray(n)) {
                for (var i in n)
                    if (Object.prototype.hasOwnProperty.call(n, i)) {
                        var r = n[i];
                        "string" == typeof r ? e.setAttribute(i, r) : null != r && (e[i] = r)
                    }
                t++
            }
            for (; t < arguments.length; t++)
                Zh(e, arguments[t]);
            return e
        }
        function Zh(e, t) {
            if ("string" == typeof t)
                e.appendChild(document.createTextNode(t));
            else if (null == t)
                ;
            else if (null != t.nodeType)
                e.appendChild(t);
            else {
                if (!Array.isArray(t))
                    throw new RangeError("Unsupported child node: " + t);
                for (var n = 0; n < t.length; n++)
                    Zh(e, t[n])
            }
        }
        class ep {
            constructor(e, t, n) {
                this.from = e,
                this.to = t,
                this.diagnostic = n
            }
        }
        class tp {
            constructor(e, t, n) {
                this.diagnostics = e,
                this.panel = t,
                this.selected = n
            }
            static init(e, t) {
                let n = oo.set(e.map((e=>e.from < e.to ? oo.mark({
                    attributes: {
                        class: "cm-lintRange cm-lintRange-" + e.severity
                    },
                    diagnostic: e
                }).range(e.from, e.to) : oo.widget({
                    widget: new fp(e),
                    diagnostic: e
                }).range(e.from))));
                return new tp(n,t,np(n))
            }
        }
        function np(e, t=null, n=0) {
            let i = null;
            return e.between(n, 1e9, ((e,n,{spec: r})=>{
                if (!t || r.diagnostic == t)
                    return i = new ep(e,n,r.diagnostic),
                    !1
            }
            )),
            i
        }
        function ip(e, t, n) {
            return e.field(ap, !1) ? t : t.concat(vi.appendConfig.of([n ? ap.init((()=>tp.init(n, null))) : ap, wa.decorations.compute([ap], (e=>{
                let {selected: t, panel: n} = e.field(ap);
                return t && n && t.from != t.to ? oo.set([lp.range(t.from, t.to)]) : oo.none
            }
            )), jh(cp), yp]))
        }
        const rp = vi.define()
          , op = vi.define()
          , sp = vi.define()
          , ap = Qn.define({
            create: ()=>new tp(oo.none,null,null),
            update(e, t) {
                if (t.docChanged) {
                    let n = e.diagnostics.map(t.changes)
                      , i = null;
                    if (e.selected) {
                        let r = t.changes.mapPos(e.selected.from, 1);
                        i = np(n, e.selected.diagnostic, r) || np(n, null, r)
                    }
                    e = new tp(n,e.panel,i)
                }
                for (let n of t.effects)
                    n.is(rp) ? e = tp.init(n.value, e.panel) : n.is(op) ? e = new tp(e.diagnostics,n.value ? mp.open : null,e.selected) : n.is(sp) && (e = new tp(e.diagnostics,e.panel,n.value));
                return e
            },
            provide: e=>[Jh.from(e, (e=>e.panel)), wa.decorations.from(e, (e=>e.diagnostics))]
        })
          , lp = oo.mark({
            class: "cm-lintRange cm-lintRange-active"
        });
        function cp(e, t, n) {
            let {diagnostics: i} = e.state.field(ap)
              , r = []
              , o = 2e8
              , s = 0;
            return i.between(t - (n < 0 ? 1 : 0), t + (n > 0 ? 1 : 0), ((e,i,{spec: a})=>{
                t >= e && t <= i && (e == i || (t > e || n > 0) && (t < i || n < 0)) && (r.push(a.diagnostic),
                o = Math.min(e, o),
                s = Math.max(i, s))
            }
            )),
            r.length ? {
                pos: o,
                end: s,
                above: e.state.doc.lineAt(o).to < s,
                create: ()=>({
                    dom: Xh("ul", {
                        class: "cm-tooltip-lint"
                    }, r.map((t=>dp(e, t, !1))))
                })
            } : null
        }
        const up = e=>{
            let t = e.state.field(ap, !1);
            return !(!t || !t.panel) && (e.dispatch({
                effects: op.of(!1)
            }),
            !0)
        }
          , hp = [{
            key: "Mod-Shift-m",
            run: e=>{
                let t = e.state.field(ap, !1);
                t && t.panel || e.dispatch({
                    effects: ip(e.state, [op.of(!0)])
                });
                let n = $h(e, mp.open);
                return n && n.dom.querySelector(".cm-panel-lint ul").focus(),
                !0
            }
        }, {
            key: "F8",
            run: e=>{
                let t = e.state.field(ap, !1);
                if (!t)
                    return !1;
                let n = e.state.selection.main
                  , i = t.diagnostics.iter(n.to + 1);
                return !(!i.value && (i = t.diagnostics.iter(0),
                !i.value || i.from == n.from && i.to == n.to)) && (e.dispatch({
                    selection: {
                        anchor: i.from,
                        head: i.to
                    },
                    scrollIntoView: !0
                }),
                !0)
            }
        }];
        function pp(e) {
            let t = [];
            if (e)
                e: for (let {name: n} of e) {
                    for (let e = 0; e < n.length; e++) {
                        let i = n[e];
                        if (/[a-zA-Z]/.test(i) && !t.some((e=>e.toLowerCase() == i.toLowerCase()))) {
                            t.push(i);
                            continue e
                        }
                    }
                    t.push("")
                }
            return t
        }
        function dp(e, t, n) {
            var i;
            let r = n ? pp(t.actions) : [];
            return Xh("li", {
                class: "cm-diagnostic cm-diagnostic-" + t.severity
            }, Xh("span", {
                class: "cm-diagnosticText"
            }, t.message), null === (i = t.actions) || void 0 === i ? void 0 : i.map(((n,i)=>{
                let o = i=>{
                    i.preventDefault();
                    let r = np(e.state.field(ap).diagnostics, t);
                    r && n.apply(e, r.from, r.to)
                }
                  , {name: s} = n
                  , a = r[i] ? s.indexOf(r[i]) : -1
                  , l = a < 0 ? s : [s.slice(0, a), Xh("u", s.slice(a, a + 1)), s.slice(a + 1)];
                return Xh("button", {
                    class: "cm-diagnosticAction",
                    onclick: o,
                    onmousedown: o,
                    "aria-label": ` Action: ${s}${a < 0 ? "" : ` (access key "${r[i]})"`}.`
                }, l)
            }
            )), t.source && Xh("div", {
                class: "cm-diagnosticSource"
            }, t.source))
        }
        class fp extends io {
            constructor(e) {
                super(),
                this.diagnostic = e
            }
            eq(e) {
                return e.diagnostic == this.diagnostic
            }
            toDOM() {
                return Xh("span", {
                    class: "cm-lintPoint cm-lintPoint-" + this.diagnostic.severity
                })
            }
        }
        class gp {
            constructor(e, t) {
                this.diagnostic = t,
                this.id = "item_" + Math.floor(4294967295 * Math.random()).toString(16),
                this.dom = dp(e, t, !0),
                this.dom.id = this.id,
                this.dom.setAttribute("role", "option")
            }
        }
        class mp {
            constructor(e) {
                this.view = e,
                this.items = [];
                this.list = Xh("ul", {
                    tabIndex: 0,
                    role: "listbox",
                    "aria-label": this.view.state.phrase("Diagnostics"),
                    onkeydown: t=>{
                        if (27 == t.keyCode)
                            up(this.view),
                            this.view.focus();
                        else if (38 == t.keyCode || 33 == t.keyCode)
                            this.moveSelection((this.selectedIndex - 1 + this.items.length) % this.items.length);
                        else if (40 == t.keyCode || 34 == t.keyCode)
                            this.moveSelection((this.selectedIndex + 1) % this.items.length);
                        else if (36 == t.keyCode)
                            this.moveSelection(0);
                        else if (35 == t.keyCode)
                            this.moveSelection(this.items.length - 1);
                        else if (13 == t.keyCode)
                            this.view.focus();
                        else {
                            if (!(t.keyCode >= 65 && t.keyCode <= 90 && this.items.length))
                                return;
                            {
                                let {diagnostic: n} = this.items[this.selectedIndex]
                                  , i = pp(n.actions);
                                for (let r = 0; r < i.length; r++)
                                    if (i[r].toUpperCase().charCodeAt(0) == t.keyCode) {
                                        let t = np(this.view.state.field(ap).diagnostics, n);
                                        t && n.actions[r].apply(e, t.from, t.to)
                                    }
                            }
                        }
                        t.preventDefault()
                    }
                    ,
                    onclick: e=>{
                        for (let t = 0; t < this.items.length; t++)
                            this.items[t].dom.contains(e.target) && this.moveSelection(t)
                    }
                }),
                this.dom = Xh("div", {
                    class: "cm-panel-lint"
                }, this.list, Xh("button", {
                    name: "close",
                    "aria-label": this.view.state.phrase("close"),
                    onclick: ()=>up(this.view)
                }, "×")),
                this.update()
            }
            get selectedIndex() {
                let e = this.view.state.field(ap).selected;
                if (!e)
                    return -1;
                for (let t = 0; t < this.items.length; t++)
                    if (this.items[t].diagnostic == e.diagnostic)
                        return t;
                return -1
            }
            update() {
                let {diagnostics: e, selected: t} = this.view.state.field(ap)
                  , n = 0
                  , i = !1
                  , r = null;
                for (e.between(0, this.view.state.doc.length, ((e,o,{spec: s})=>{
                    let a, l = -1;
                    for (let e = n; e < this.items.length; e++)
                        if (this.items[e].diagnostic == s.diagnostic) {
                            l = e;
                            break
                        }
                    l < 0 ? (a = new gp(this.view,s.diagnostic),
                    this.items.splice(n, 0, a),
                    i = !0) : (a = this.items[l],
                    l > n && (this.items.splice(n, l - n),
                    i = !0)),
                    t && a.diagnostic == t.diagnostic ? a.dom.hasAttribute("aria-selected") || (a.dom.setAttribute("aria-selected", "true"),
                    r = a) : a.dom.hasAttribute("aria-selected") && a.dom.removeAttribute("aria-selected"),
                    n++
                }
                )); n < this.items.length && !(1 == this.items.length && this.items[0].diagnostic.from < 0); )
                    i = !0,
                    this.items.pop();
                0 == this.items.length && (this.items.push(new gp(this.view,{
                    from: -1,
                    to: -1,
                    severity: "info",
                    message: this.view.state.phrase("No diagnostics")
                })),
                i = !0),
                r ? (this.list.setAttribute("aria-activedescendant", r.id),
                this.view.requestMeasure({
                    key: this,
                    read: ()=>({
                        sel: r.dom.getBoundingClientRect(),
                        panel: this.list.getBoundingClientRect()
                    }),
                    write: ({sel: e, panel: t})=>{
                        e.top < t.top ? this.list.scrollTop -= t.top - e.top : e.bottom > t.bottom && (this.list.scrollTop += e.bottom - t.bottom)
                    }
                })) : this.items.length || this.list.removeAttribute("aria-activedescendant"),
                i && this.sync()
            }
            sync() {
                let e = this.list.firstChild;
                function t() {
                    let t = e;
                    e = t.nextSibling,
                    t.remove()
                }
                for (let n of this.items)
                    if (n.dom.parentNode == this.list) {
                        for (; e != n.dom; )
                            t();
                        e = n.dom.nextSibling
                    } else
                        this.list.insertBefore(n.dom, e);
                for (; e; )
                    t()
            }
            moveSelection(e) {
                if (0 == this.items.length)
                    return;
                let t = np(this.view.state.field(ap).diagnostics, this.items[e].diagnostic);
                t && this.view.dispatch({
                    selection: {
                        anchor: t.from,
                        head: t.to
                    },
                    scrollIntoView: !0,
                    effects: sp.of(t)
                })
            }
            static open(e) {
                return new mp(e)
            }
        }
        function vp(e) {
            if ("function" != typeof btoa)
                return "none";
            return `url('data:image/svg+xml;base64,${btoa(`<svg xmlns="http://www.w3.org/2000/svg" width="6" height="3">\n    <path d="m0 3 l2 -2 l1 0 l2 2 l1 0" stroke="${e}" fill="none" stroke-width=".7"/>\n  </svg>`)}')`
        }
        const yp = wa.baseTheme({
            ".cm-diagnostic": {
                padding: "3px 6px 3px 8px",
                marginLeft: "-1px",
                display: "block",
                whiteSpace: "pre-wrap"
            },
            ".cm-diagnostic-error": {
                borderLeft: "5px solid #d11"
            },
            ".cm-diagnostic-warning": {
                borderLeft: "5px solid orange"
            },
            ".cm-diagnostic-info": {
                borderLeft: "5px solid #999"
            },
            ".cm-diagnosticAction": {
                font: "inherit",
                border: "none",
                padding: "2px 4px",
                backgroundColor: "#444",
                color: "white",
                borderRadius: "3px",
                marginLeft: "8px"
            },
            ".cm-diagnosticSource": {
                fontSize: "70%",
                opacity: .7
            },
            ".cm-lintRange": {
                backgroundPosition: "left bottom",
                backgroundRepeat: "repeat-x"
            },
            ".cm-lintRange-error": {
                backgroundImage: vp("#d11")
            },
            ".cm-lintRange-warning": {
                backgroundImage: vp("orange")
            },
            ".cm-lintRange-info": {
                backgroundImage: vp("#999")
            },
            ".cm-lintRange-active": {
                backgroundColor: "#ffdd9980"
            },
            ".cm-lintPoint": {
                position: "relative",
                "&:after": {
                    content: '""',
                    position: "absolute",
                    bottom: 0,
                    left: "-2px",
                    borderLeft: "3px solid transparent",
                    borderRight: "3px solid transparent",
                    borderBottom: "4px solid #d11"
                }
            },
            ".cm-lintPoint-warning": {
                "&:after": {
                    borderBottomColor: "orange"
                }
            },
            ".cm-lintPoint-info": {
                "&:after": {
                    borderBottomColor: "#999"
                }
            },
            ".cm-panel.cm-panel-lint": {
                position: "relative",
                "& ul": {
                    maxHeight: "100px",
                    overflowY: "auto",
                    "& [aria-selected]": {
                        backgroundColor: "#ddd",
                        "& u": {
                            textDecoration: "underline"
                        }
                    },
                    "&:focus [aria-selected]": {
                        background_fallback: "#bdf",
                        backgroundColor: "Highlight",
                        color_fallback: "white",
                        color: "HighlightText"
                    },
                    "& u": {
                        textDecoration: "none"
                    },
                    padding: 0,
                    margin: 0
                },
                "& [name=close]": {
                    position: "absolute",
                    top: "0",
                    right: "2px",
                    background: "inherit",
                    border: "none",
                    font: "inherit",
                    padding: 0,
                    margin: 0
                }
            }
        })
          , bp = 2e3;
        function wp(e, t) {
            let n = e.posAtCoords({
                x: t.clientX,
                y: t.clientY
            });
            if (null == n)
                return null;
            let i = e.state.doc.lineAt(n)
              , r = n - i.from
              , o = r > bp ? -1 : r == i.length ? function(e, t) {
                let n = e.coordsAtPos(e.viewport.from);
                return n ? Math.round(Math.abs((n.left - t) / e.defaultCharacterWidth)) : -1
            }(e, t.clientX) : bn(i.text.slice(0, n - i.from), 0, e.state.tabSize);
            return {
                line: i.number,
                col: o,
                off: r
            }
        }
        function kp(e, t) {
            let n = wp(e, t)
              , i = e.state.selection;
            return n ? {
                update(e) {
                    if (e.docChanged) {
                        let t = e.changes.mapPos(e.startState.doc.line(n.line).from)
                          , r = e.state.doc.lineAt(t);
                        n = {
                            line: r.number,
                            col: n.col,
                            off: Math.min(n.off, r.length)
                        },
                        i = i.map(e.changes)
                    }
                },
                get(t, r, o) {
                    let s = wp(e, t);
                    if (!s)
                        return i;
                    let a = function(e, t, n) {
                        let i = Math.min(t.line, n.line)
                          , r = Math.max(t.line, n.line)
                          , o = [];
                        if (t.off > bp || n.off > bp || t.col < 0 || n.col < 0) {
                            let s = Math.min(t.off, n.off)
                              , a = Math.max(t.off, n.off);
                            for (let t = i; t <= r; t++) {
                                let n = e.doc.line(t);
                                n.length <= a && o.push(Vn.range(n.from + s, n.to + a))
                            }
                        } else {
                            let s = Math.min(t.col, n.col)
                              , a = Math.max(t.col, n.col);
                            for (let t = i; t <= r; t++) {
                                let n = e.doc.line(t)
                                  , i = n.length > bp ? n.text.slice(0, 2 * a) : n.text
                                  , r = wn(i, 0, s, e.tabSize)
                                  , l = wn(i, 0, a, e.tabSize);
                                r.leftOver || o.push(Vn.range(n.from + r.offset, n.from + l.offset))
                            }
                        }
                        return o
                    }(e.state, n, s);
                    return a.length ? o ? Vn.create(a.concat(i.ranges)) : Vn.create(a) : i
                }
            } : null
        }
        const Cp = "function" == typeof String.prototype.normalize ? e=>e.normalize("NFKD") : e=>e;
        class xp {
            constructor(e, t, n=0, i=e.length, r) {
                this.value = {
                    from: 0,
                    to: 0
                },
                this.done = !1,
                this.matches = [],
                this.buffer = "",
                this.bufferPos = 0,
                this.iter = e.iterRange(n, i),
                this.bufferStart = n,
                this.normalize = r ? e=>r(Cp(e)) : Cp,
                this.query = this.normalize(t)
            }
            peek() {
                if (this.bufferPos == this.buffer.length) {
                    if (this.bufferStart += this.buffer.length,
                    this.iter.next(),
                    this.iter.done)
                        return -1;
                    this.bufferPos = 0,
                    this.buffer = this.iter.value
                }
                return mn(this.buffer, this.bufferPos)
            }
            next() {
                for (; this.matches.length; )
                    this.matches.pop();
                return this.nextOverlapping()
            }
            nextOverlapping() {
                for (; ; ) {
                    let e = this.peek();
                    if (e < 0)
                        return this.done = !0,
                        this;
                    let t = vn(e)
                      , n = this.bufferStart + this.bufferPos;
                    this.bufferPos += yn(e);
                    let i = this.normalize(t);
                    for (let e = 0, r = n; ; e++) {
                        let o = i.charCodeAt(e)
                          , s = this.match(o, r);
                        if (s)
                            return this.value = s,
                            this;
                        if (e == i.length - 1)
                            break;
                        r == n && e < t.length && t.charCodeAt(e) == o && r++
                    }
                }
            }
            match(e, t) {
                let n = null;
                for (let i = 0; i < this.matches.length; i += 2) {
                    let r = this.matches[i]
                      , o = !1;
                    this.query.charCodeAt(r) == e && (r == this.query.length - 1 ? n = {
                        from: this.matches[i + 1],
                        to: t + 1
                    } : (this.matches[i]++,
                    o = !0)),
                    o || (this.matches.splice(i, 2),
                    i -= 2)
                }
                return this.query.charCodeAt(0) == e && (1 == this.query.length ? n = {
                    from: t,
                    to: t + 1
                } : this.matches.push(1, t)),
                n
            }
        }
        const Ep = {
            from: -1,
            to: -1,
            match: /.*/.exec("")
        }
          , Sp = "gm" + (null == /x/.unicode ? "" : "u");
        class Lp {
            constructor(e, t, n, i=0, r=e.length) {
                if (this.to = r,
                this.curLine = "",
                this.done = !1,
                this.value = Ep,
                /\\[sWDnr]|\n|\r|\[\^/.test(t))
                    return new Ap(e,t,n,i,r);
                this.re = new RegExp(t,Sp + ((null == n ? void 0 : n.ignoreCase) ? "i" : "")),
                this.iter = e.iter();
                let o = e.lineAt(i);
                this.curLineStart = o.from,
                this.matchPos = i,
                this.getLine(this.curLineStart)
            }
            getLine(e) {
                this.iter.next(e),
                this.iter.lineBreak ? this.curLine = "" : (this.curLine = this.iter.value,
                this.curLineStart + this.curLine.length > this.to && (this.curLine = this.curLine.slice(0, this.to - this.curLineStart)),
                this.iter.next())
            }
            nextLine() {
                this.curLineStart = this.curLineStart + this.curLine.length + 1,
                this.curLineStart > this.to ? this.curLine = "" : this.getLine(0)
            }
            next() {
                for (let e = this.matchPos - this.curLineStart; ; ) {
                    this.re.lastIndex = e;
                    let t = this.matchPos <= this.to && this.re.exec(this.curLine);
                    if (t) {
                        let n = this.curLineStart + t.index
                          , i = n + t[0].length;
                        if (this.matchPos = i + (n == i ? 1 : 0),
                        n == this.curLine.length && this.nextLine(),
                        n < i || n > this.value.to)
                            return this.value = {
                                from: n,
                                to: i,
                                match: t
                            },
                            this;
                        e = this.matchPos - this.curLineStart
                    } else {
                        if (!(this.curLineStart + this.curLine.length < this.to))
                            return this.done = !0,
                            this;
                        this.nextLine(),
                        e = 0
                    }
                }
            }
        }
        const Dp = new WeakMap;
        class Mp {
            constructor(e, t) {
                this.from = e,
                this.text = t
            }
            get to() {
                return this.from + this.text.length
            }
            static get(e, t, n) {
                let i = Dp.get(e);
                if (!i || i.from >= n || i.to <= t) {
                    let i = new Mp(t,e.sliceString(t, n));
                    return Dp.set(e, i),
                    i
                }
                if (i.from == t && i.to == n)
                    return i;
                let {text: r, from: o} = i;
                return o > t && (r = e.sliceString(t, o) + r,
                o = t),
                i.to < n && (r += e.sliceString(i.to, n)),
                Dp.set(e, new Mp(o,r)),
                new Mp(t,r.slice(t - o, n - o))
            }
        }
        class Ap {
            constructor(e, t, n, i, r) {
                this.text = e,
                this.to = r,
                this.done = !1,
                this.value = Ep,
                this.matchPos = i,
                this.re = new RegExp(t,Sp + ((null == n ? void 0 : n.ignoreCase) ? "i" : "")),
                this.flat = Mp.get(e, i, this.chunkEnd(i + 5e3))
            }
            chunkEnd(e) {
                return e >= this.to ? this.to : this.text.lineAt(e).to
            }
            next() {
                for (; ; ) {
                    let e = this.re.lastIndex = this.matchPos - this.flat.from
                      , t = this.re.exec(this.flat.text);
                    if (t && !t[0] && t.index == e && (this.re.lastIndex = e + 1,
                    t = this.re.exec(this.flat.text)),
                    t && this.flat.to < this.to && t.index + t[0].length > this.flat.text.length - 10 && (t = null),
                    t) {
                        let e = this.flat.from + t.index
                          , n = e + t[0].length;
                        return this.value = {
                            from: e,
                            to: n,
                            match: t
                        },
                        this.matchPos = n + (e == n ? 1 : 0),
                        this
                    }
                    if (this.flat.to == this.to)
                        return this.done = !0,
                        this;
                    this.flat = Mp.get(this.text, this.flat.from, this.chunkEnd(this.flat.from + 2 * this.flat.text.length))
                }
            }
        }
        function Tp(e) {
            let t = Xh("input", {
                class: "cm-textfield",
                name: "line"
            });
            function n() {
                let n = /^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);
                if (!n)
                    return;
                let {state: i} = e
                  , r = i.doc.lineAt(i.selection.main.head)
                  , [,o,s,a,l] = n
                  , c = a ? +a.slice(1) : 0
                  , u = s ? +s : r.number;
                if (s && l) {
                    let e = u / 100;
                    o && (e = e * ("-" == o ? -1 : 1) + r.number / i.doc.lines),
                    u = Math.round(i.doc.lines * e)
                } else
                    s && o && (u = u * ("-" == o ? -1 : 1) + r.number);
                let h = i.doc.line(Math.max(1, Math.min(i.doc.lines, u)));
                e.dispatch({
                    effects: Fp.of(!1),
                    selection: Vn.cursor(h.from + Math.max(0, Math.min(c, h.length))),
                    scrollIntoView: !0
                }),
                e.focus()
            }
            return {
                dom: Xh("form", {
                    class: "cm-gotoLine",
                    onkeydown: t=>{
                        27 == t.keyCode ? (t.preventDefault(),
                        e.dispatch({
                            effects: Fp.of(!1)
                        }),
                        e.focus()) : 13 == t.keyCode && (t.preventDefault(),
                        n())
                    }
                    ,
                    onsubmit: e=>{
                        e.preventDefault(),
                        n()
                    }
                }, Xh("label", e.state.phrase("Go to line"), ": ", t), " ", Xh("button", {
                    class: "cm-button",
                    type: "submit"
                }, e.state.phrase("go"))),
                pos: -10
            }
        }
        const Fp = vi.define()
          , Pp = Qn.define({
            create: ()=>!0,
            update(e, t) {
                for (let n of t.effects)
                    n.is(Fp) && (e = n.value);
                return e
            },
            provide: e=>Jh.from(e, (e=>e ? Tp : null))
        })
          , Op = wa.baseTheme({
            ".cm-panel.cm-gotoLine": {
                padding: "2px 6px 4px",
                "& label": {
                    fontSize: "80%"
                }
            }
        });
        const Ip = jn.define({
            combine: e=>({
                top: e.some((e=>e.top))
            })
        });
        class Np {
            constructor(e, t, n) {
                this.search = e,
                this.replace = t,
                this.caseInsensitive = n
            }
            eq(e) {
                return this.search == e.search && this.replace == e.replace && this.caseInsensitive == e.caseInsensitive && this.constructor == e.constructor
            }
        }
        class Rp extends Np {
            constructor(e, t, n) {
                super(e, t, n),
                this.unquoted = e.replace(/\\([nrt\\])/g, ((e,t)=>"n" == t ? "\n" : "r" == t ? "\r" : "t" == t ? "\t" : "\\"))
            }
            cursor(e, t=0, n=e.length) {
                return new xp(e,this.unquoted,t,n,this.caseInsensitive ? e=>e.toLowerCase() : void 0)
            }
            nextMatch(e, t, n) {
                let i = this.cursor(e, n).nextOverlapping();
                return i.done && (i = this.cursor(e, 0, t).nextOverlapping()),
                i.done ? null : i.value
            }
            prevMatchInRange(e, t, n) {
                for (let i = n; ; ) {
                    let n = Math.max(t, i - 1e4 - this.unquoted.length)
                      , r = this.cursor(e, n, i)
                      , o = null;
                    for (; !r.nextOverlapping().done; )
                        o = r.value;
                    if (o)
                        return o;
                    if (n == t)
                        return null;
                    i -= 1e4
                }
            }
            prevMatch(e, t, n) {
                return this.prevMatchInRange(e, 0, t) || this.prevMatchInRange(e, n, e.length)
            }
            getReplacement(e) {
                return this.replace
            }
            matchAll(e, t) {
                let n = this.cursor(e)
                  , i = [];
                for (; !n.next().done; ) {
                    if (i.length >= t)
                        return null;
                    i.push(n.value)
                }
                return i
            }
            highlight(e, t, n, i) {
                let r = this.cursor(e, Math.max(0, t - this.unquoted.length), Math.min(n + this.unquoted.length, e.length));
                for (; !r.next().done; )
                    i(r.value.from, r.value.to)
            }
            get valid() {
                return !!this.search
            }
        }
        class Bp extends Np {
            constructor(e, t, n) {
                super(e, t, n),
                this.valid = !!e && function(e) {
                    try {
                        return new RegExp(e,Sp),
                        !0
                    } catch (e) {
                        return !1
                    }
                }(e)
            }
            cursor(e, t=0, n=e.length) {
                return new Lp(e,this.search,this.caseInsensitive ? {
                    ignoreCase: !0
                } : void 0,t,n)
            }
            nextMatch(e, t, n) {
                let i = this.cursor(e, n).next();
                return i.done && (i = this.cursor(e, 0, t).next()),
                i.done ? null : i.value
            }
            prevMatchInRange(e, t, n) {
                for (let i = 1; ; i++) {
                    let r = Math.max(t, n - 1e4 * i)
                      , o = this.cursor(e, r, n)
                      , s = null;
                    for (; !o.next().done; )
                        s = o.value;
                    if (s && (r == t || s.from > r + 10))
                        return s;
                    if (r == t)
                        return null
                }
            }
            prevMatch(e, t, n) {
                return this.prevMatchInRange(e, 0, t) || this.prevMatchInRange(e, n, e.length)
            }
            getReplacement(e) {
                return this.replace.replace(/\$([$&\d+])/g, ((t,n)=>"$" == n ? "$" : "&" == n ? e.match[0] : "0" != n && +n < e.match.length ? e.match[n] : t))
            }
            matchAll(e, t) {
                let n = this.cursor(e)
                  , i = [];
                for (; !n.next().done; ) {
                    if (i.length >= t)
                        return null;
                    i.push(n.value)
                }
                return i
            }
            highlight(e, t, n, i) {
                let r = this.cursor(e, Math.max(0, t - 250), Math.min(n + 250, e.length));
                for (; !r.next().done; )
                    i(r.value.from, r.value.to)
            }
        }
        const zp = vi.define()
          , Hp = vi.define()
          , Vp = Qn.define({
            create: e=>new qp(Xp(e),Jp),
            update(e, t) {
                for (let n of t.effects)
                    n.is(zp) ? e = new qp(n.value,e.panel) : n.is(Hp) && (e = new qp(e.query,n.value ? Jp : null));
                return e
            },
            provide: e=>Jh.from(e, (e=>e.panel))
        });
        class qp {
            constructor(e, t) {
                this.query = e,
                this.panel = t
            }
        }
        const Up = oo.mark({
            class: "cm-searchMatch"
        })
          , _p = oo.mark({
            class: "cm-searchMatch cm-searchMatch-selected"
        })
          , jp = To.fromClass(class {
            constructor(e) {
                this.view = e,
                this.decorations = this.highlight(e.state.field(Vp))
            }
            update(e) {
                let t = e.state.field(Vp);
                (t != e.startState.field(Vp) || e.docChanged || e.selectionSet) && (this.decorations = this.highlight(t))
            }
            highlight({query: e, panel: t}) {
                if (!t || !e.valid)
                    return oo.none;
                let {view: n} = this
                  , i = new Ui;
                for (let t = 0, r = n.visibleRanges, o = r.length; t < o; t++) {
                    let {from: s, to: a} = r[t];
                    for (; t < o - 1 && a > r[t + 1].from - 500; )
                        a = r[++t].to;
                    e.highlight(n.state.doc, s, a, ((e,t)=>{
                        let r = n.state.selection.ranges.some((n=>n.from == e && n.to == t));
                        i.add(e, t, r ? _p : Up)
                    }
                    ))
                }
                return i.finish()
            }
        }
        , {
            decorations: e=>e.decorations
        });
        function Wp(e) {
            return t=>{
                let n = t.state.field(Vp, !1);
                return n && n.query.valid ? e(t, n) : Zp(t)
            }
        }
        const $p = Wp(((e,{query: t})=>{
            let {from: n, to: i} = e.state.selection.main
              , r = t.nextMatch(e.state.doc, n, i);
            return !(!r || r.from == n && r.to == i) && (e.dispatch({
                selection: {
                    anchor: r.from,
                    head: r.to
                },
                scrollIntoView: !0,
                effects: rd(e, r)
            }),
            !0)
        }
        ))
          , Gp = Wp(((e,{query: t})=>{
            let {state: n} = e
              , {from: i, to: r} = n.selection.main
              , o = t.prevMatch(n.doc, i, r);
            return !!o && (e.dispatch({
                selection: {
                    anchor: o.from,
                    head: o.to
                },
                scrollIntoView: !0,
                effects: rd(e, o)
            }),
            !0)
        }
        ))
          , Yp = Wp(((e,{query: t})=>{
            let n = t.matchAll(e.state.doc, 1e3);
            return !(!n || !n.length) && (e.dispatch({
                selection: Vn.create(n.map((e=>Vn.range(e.from, e.to))))
            }),
            !0)
        }
        ))
          , Kp = Wp(((e,{query: t})=>{
            let {state: n} = e
              , {from: i, to: r} = n.selection.main
              , o = t.nextMatch(n.doc, i, i);
            if (!o)
                return !1;
            let s, a, l = [];
            if (o.from == i && o.to == r && (a = n.toText(t.getReplacement(o)),
            l.push({
                from: o.from,
                to: o.to,
                insert: a
            }),
            o = t.nextMatch(n.doc, o.from, o.to)),
            o) {
                let e = 0 == l.length || l[0].from >= o.to ? 0 : o.to - o.from - a.length;
                s = {
                    anchor: o.from - e,
                    head: o.to - e
                }
            }
            return e.dispatch({
                changes: l,
                selection: s,
                scrollIntoView: !!s,
                effects: o ? rd(e, o) : void 0
            }),
            !0
        }
        ))
          , Qp = Wp(((e,{query: t})=>{
            let n = t.matchAll(e.state.doc, 1e9).map((e=>{
                let {from: n, to: i} = e;
                return {
                    from: n,
                    to: i,
                    insert: t.getReplacement(e)
                }
            }
            ));
            return !!n.length && (e.dispatch({
                changes: n
            }),
            !0)
        }
        ));
        function Jp(e) {
            let {query: t} = e.state.field(Vp);
            return {
                dom: nd({
                    view: e,
                    query: t,
                    updateQuery(n) {
                        t.eq(n) || (t = n,
                        e.dispatch({
                            effects: zp.of(t)
                        }))
                    }
                }),
                mount() {
                    this.dom.querySelector("[name=search]").select()
                },
                pos: 80,
                top: e.state.facet(Ip).top
            }
        }
        function Xp(e, t) {
            let n = e.selection.main
              , i = n.empty || n.to > n.from + 100 ? "" : e.sliceDoc(n.from, n.to);
            return t && !i ? t : new Rp(i.replace(/\n/g, "\\n"),"",(null == t ? void 0 : t.caseInsensitive) || !1)
        }
        const Zp = e=>{
            let t = e.state.field(Vp, !1);
            if (t && t.panel) {
                let t = $h(e, Jp);
                if (!t)
                    return !1;
                t.dom.querySelector("[name=search]").focus()
            } else
                e.dispatch({
                    effects: [Hp.of(!0), t ? zp.of(Xp(e.state, t.query)) : vi.appendConfig.of(sd)]
                });
            return !0
        }
          , ed = e=>{
            let t = e.state.field(Vp, !1);
            if (!t || !t.panel)
                return !1;
            let n = $h(e, Jp);
            return n && n.dom.contains(e.root.activeElement) && e.focus(),
            e.dispatch({
                effects: Hp.of(!1)
            }),
            !0
        }
          , td = [{
            key: "Mod-f",
            run: Zp,
            scope: "editor search-panel"
        }, {
            key: "F3",
            run: $p,
            shift: Gp,
            scope: "editor search-panel"
        }, {
            key: "Mod-g",
            run: $p,
            shift: Gp,
            scope: "editor search-panel"
        }, {
            key: "Escape",
            run: ed,
            scope: "editor search-panel"
        }, {
            key: "Mod-Shift-l",
            run: ({state: e, dispatch: t})=>{
                let n = e.selection;
                if (n.ranges.length > 1 || n.main.empty)
                    return !1;
                let {from: i, to: r} = n.main
                  , o = []
                  , s = 0;
                for (let t = new xp(e.doc,e.sliceDoc(i, r)); !t.next().done; ) {
                    if (o.length > 1e3)
                        return !1;
                    t.value.from == i && (s = o.length),
                    o.push(Vn.range(t.value.from, t.value.to))
                }
                return t(e.update({
                    selection: Vn.create(o, s)
                })),
                !0
            }
        }, {
            key: "Alt-g",
            run: e=>{
                let t = $h(e, Tp);
                if (!t) {
                    let n = [Fp.of(!0)];
                    null == e.state.field(Pp, !1) && n.push(vi.appendConfig.of([Pp, Op])),
                    e.dispatch({
                        effects: n
                    }),
                    t = $h(e, Tp)
                }
                return t && t.dom.querySelector("input").focus(),
                !0
            }
        }, {
            key: "Mod-d",
            run: ({state: e, dispatch: t})=>{
                let {ranges: n} = e.selection;
                if (n.some((e=>e.from === e.to)))
                    return (({state: e, dispatch: t})=>{
                        let {selection: n} = e
                          , i = Vn.create(n.ranges.map((t=>e.wordAt(t.head) || Vn.cursor(t.head))), n.mainIndex);
                        return !i.eq(n) && (t(e.update({
                            selection: i
                        })),
                        !0)
                    }
                    )({
                        state: e,
                        dispatch: t
                    });
                let i = e.sliceDoc(n[0].from, n[0].to);
                if (e.selection.ranges.some((t=>e.sliceDoc(t.from, t.to) != i)))
                    return !1;
                let r = function(e, t) {
                    let {ranges: n} = e.selection
                      , i = new xp(e.doc,t,n[n.length - 1].to).next();
                    if (!i.done)
                        return i.value;
                    let r = new xp(e.doc,t,0,Math.max(0, n[n.length - 1].from - 1));
                    for (; !r.next().done; )
                        if (!n.some((e=>e.from === r.value.from)))
                            return r.value;
                    return null
                }(e, i);
                return !!r && (t(e.update({
                    selection: e.selection.addRange(Vn.range(r.from, r.to)),
                    scrollIntoView: !0
                })),
                !0)
            }
        }];
        function nd(e) {
            function t(t) {
                return e.view.state.phrase(t)
            }
            let n = Xh("input", {
                value: e.query.search,
                placeholder: t("Find"),
                "aria-label": t("Find"),
                class: "cm-textfield",
                name: "search",
                onchange: s,
                onkeyup: s
            })
              , i = Xh("input", {
                value: e.query.replace,
                placeholder: t("Replace"),
                "aria-label": t("Replace"),
                class: "cm-textfield",
                name: "replace",
                onchange: s,
                onkeyup: s
            })
              , r = Xh("input", {
                type: "checkbox",
                name: "case",
                checked: !e.query.caseInsensitive,
                onchange: s
            })
              , o = Xh("input", {
                type: "checkbox",
                name: "re",
                checked: e.query instanceof Bp,
                onchange: s
            });
            function s() {
                e.updateQuery(new (o.checked ? Bp : Rp)(n.value,i.value,!r.checked))
            }
            function a(e, t, n) {
                return Xh("button", {
                    class: "cm-button",
                    name: e,
                    onclick: t
                }, n)
            }
            return Xh("div", {
                onkeydown: function(t) {
                    var r, o, s;
                    r = e.view,
                    o = t,
                    s = "search-panel",
                    Ia(Pa(r.state), o, r, s) ? t.preventDefault() : 13 == t.keyCode && t.target == n ? (t.preventDefault(),
                    (t.shiftKey ? Gp : $p)(e.view)) : 13 == t.keyCode && t.target == i && (t.preventDefault(),
                    Kp(e.view))
                },
                class: "cm-search"
            }, [n, a("next", (()=>$p(e.view)), [t("next")]), a("prev", (()=>Gp(e.view)), [t("previous")]), a("select", (()=>Yp(e.view)), [t("all")]), Xh("label", null, [r, t("match case")]), Xh("label", null, [o, t("regexp")]), Xh("br"), i, a("replace", (()=>Kp(e.view)), [t("replace")]), a("replaceAll", (()=>Qp(e.view)), [t("replace all")]), Xh("button", {
                name: "close",
                onclick: ()=>ed(e.view),
                "aria-label": t("close")
            }, ["×"])])
        }
        const id = /[\s\.,:;?!]/;
        function rd(e, {from: t, to: n}) {
            let i = e.state.doc.lineAt(t).from
              , r = e.state.doc.lineAt(n).to
              , o = Math.max(i, t - 30)
              , s = Math.min(r, n + 30)
              , a = e.state.sliceDoc(o, s);
            if (o != i)
                for (let e = 0; e < 30; e++)
                    if (!id.test(a[e + 1]) && id.test(a[e])) {
                        a = a.slice(e);
                        break
                    }
            if (s != r)
                for (let e = a.length - 1; e > a.length - 30; e--)
                    if (!id.test(a[e - 1]) && id.test(a[e])) {
                        a = a.slice(0, e);
                        break
                    }
            return wa.announce.of(`${e.state.phrase("current match")}. ${a} ${e.state.phrase("on line")} ${e.state.doc.lineAt(t).number}`)
        }
        const od = wa.baseTheme({
            ".cm-panel.cm-search": {
                padding: "2px 6px 4px",
                position: "relative",
                "& [name=close]": {
                    position: "absolute",
                    top: "0",
                    right: "4px",
                    backgroundColor: "inherit",
                    border: "none",
                    font: "inherit",
                    padding: 0,
                    margin: 0
                },
                "& input, & button, & label": {
                    margin: ".2em .6em .2em 0"
                },
                "& input[type=checkbox]": {
                    marginRight: ".2em"
                },
                "& label": {
                    fontSize: "80%",
                    whiteSpace: "pre"
                }
            },
            "&light .cm-searchMatch": {
                backgroundColor: "#ffff0054"
            },
            "&dark .cm-searchMatch": {
                backgroundColor: "#00ffff8a"
            },
            "&light .cm-searchMatch-selected": {
                backgroundColor: "#ff6a0054"
            },
            "&dark .cm-searchMatch-selected": {
                backgroundColor: "#ff00ff8a"
            }
        })
          , sd = [Vp, ti.override(jp), od];
        function ad(e, t, n, i=0, r=0) {
            return null == t && -1 == (t = e.search(/[^\s\u00a0]/)) && (t = e.length),
            bn(e.slice(i, t), r, n)
        }
        class ld {
            constructor(e, t, n, i) {
                this.string = e,
                this.tabSize = t,
                this.indentUnit = n,
                this.lookAhead = i,
                this.pos = 0,
                this.start = 0,
                this.lastColumnPos = 0,
                this.lastColumnValue = 0
            }
            eol() {
                return this.pos >= this.string.length
            }
            sol() {
                return 0 == this.pos
            }
            peek() {
                return this.string.charAt(this.pos) || void 0
            }
            next() {
                if (this.pos < this.string.length)
                    return this.string.charAt(this.pos++)
            }
            eat(e) {
                let t, n = this.string.charAt(this.pos);
                if (t = "string" == typeof e ? n == e : n && (e instanceof RegExp ? e.test(n) : e(n)),
                t)
                    return ++this.pos,
                    n
            }
            eatWhile(e) {
                let t = this.pos;
                for (; this.eat(e); )
                    ;
                return this.pos > t
            }
            eatSpace() {
                let e = this.pos;
                for (; /[\s\u00a0]/.test(this.string.charAt(this.pos)); )
                    ++this.pos;
                return this.pos > e
            }
            skipToEnd() {
                this.pos = this.string.length
            }
            skipTo(e) {
                let t = this.string.indexOf(e, this.pos);
                if (t > -1)
                    return this.pos = t,
                    !0
            }
            backUp(e) {
                this.pos -= e
            }
            column() {
                return this.lastColumnPos < this.start && (this.lastColumnValue = ad(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue),
                this.lastColumnPos = this.start),
                this.lastColumnValue
            }
            indentation() {
                return ad(this.string, null, this.tabSize)
            }
            match(e, t, n) {
                if ("string" == typeof e) {
                    let i = e=>n ? e.toLowerCase() : e;
                    return i(this.string.substr(this.pos, e.length)) == i(e) ? (!1 !== t && (this.pos += e.length),
                    !0) : null
                }
                {
                    let n = this.string.slice(this.pos).match(e);
                    return n && n.index > 0 ? null : (n && !1 !== t && (this.pos += n[0].length),
                    n)
                }
            }
            current() {
                return this.string.slice(this.start, this.pos)
            }
        }
        function cd(e) {
            if ("object" != typeof e)
                return e;
            let t = {};
            for (let n in e) {
                let i = e[n];
                t[n] = i instanceof Array ? i.slice() : i
            }
            return t
        }
        class ud extends El {
            constructor(e) {
                let t = xl(e.languageData)
                  , n = {
                    token: (i = e).token,
                    blankLine: i.blankLine || (()=>{}
                    ),
                    startState: i.startState || (()=>!0),
                    copyState: i.copyState || cd,
                    indent: i.indent || (()=>null),
                    languageData: i.languageData || {}
                };
                var i;
                super(t, {
                    startParse: (e,t,n)=>new dd(this,e,t,n)
                }, function(e) {
                    let t = sl.define({
                        id: md.length,
                        name: "Document",
                        props: [Cl.add((()=>e))]
                    });
                    return md.push(t),
                    t
                }(t), [Nl.of(((e,t)=>this.getIndent(e, t)))]),
                this.streamParser = n,
                this.stateAfter = new WeakMap
            }
            static define(e) {
                return new ud(e)
            }
            getIndent(e, t) {
                let n = Ll(e.state)
                  , i = n.resolve(t);
                for (; i && i.type != this.topNode; )
                    i = i.parent;
                if (!i)
                    return null;
                let r, o, s = hd(this, n, 0, i.from, t);
                if (s ? (o = s.state,
                r = s.pos + 1) : (o = this.streamParser.startState(e.unit),
                r = 0),
                t - r > 1e4)
                    return null;
                for (; r < t; ) {
                    let n = e.state.doc.lineAt(r)
                      , i = Math.min(t, n.to);
                    if (n.length) {
                        let t = t=>e.state.doc.line(t + n.number).text
                          , r = new ld(n.text,e.state.tabSize,e.unit,t);
                        for (; r.pos < i - n.from; )
                            fd(this.streamParser.token, r, o)
                    } else
                        this.streamParser.blankLine(o, e.unit);
                    if (i == t)
                        break;
                    r = n.to + 1
                }
                let {text: a} = e.state.doc.lineAt(t);
                return this.streamParser.indent(o, /^\s*(.*)/.exec(a)[1], e)
            }
            get allowsNesting() {
                return !1
            }
        }
        function hd(e, t, n, i, r) {
            let o = n >= i && n + t.length <= r && e.stateAfter.get(t);
            if (o)
                return {
                    state: e.streamParser.copyState(o),
                    pos: n + t.length
                };
            for (let o = t.children.length - 1; o >= 0; o--) {
                let s = t.children[o]
                  , a = n + t.positions[o]
                  , l = s instanceof ll && a < r && hd(e, s, a, i, r);
                if (l)
                    return l
            }
            return null
        }
        function pd(e, t, n, i, r) {
            if (r && n <= 0 && i >= t.length)
                return t;
            r || t.type != e.topNode || (r = !0);
            for (let o = t.children.length - 1; o >= 0; o--) {
                let s, a = t.positions[o] + n, l = t.children[o];
                if (a < i && l instanceof ll) {
                    if (!(s = pd(e, l, n - a, i - a, r)))
                        break;
                    return r ? new ll(t.type,t.children.slice(0, o).concat(s),t.positions.slice(0, o + 1),a + s.length) : s
                }
            }
            return null
        }
        class dd {
            constructor(e, t, n, i) {
                this.lang = e,
                this.input = t,
                this.startPos = n,
                this.context = i,
                this.chunks = [],
                this.chunkPos = [],
                this.chunk = [];
                let {state: r, tree: o} = function(e, t, n, i) {
                    for (let i of t) {
                        let t, r = i.from <= n && i.to > n && hd(e, i.tree, 0 - i.offset, n, i.to);
                        if (r && (t = pd(e, i.tree, n + i.offset, r.pos + i.offset, !1)))
                            return {
                                state: r.state,
                                tree: t
                            }
                    }
                    return {
                        state: e.streamParser.startState(Bl(i)),
                        tree: ll.empty
                    }
                }(e, i.fragments, n, i.state);
                this.state = r,
                this.pos = this.chunkStart = n + o.length,
                o.length && (this.chunks.push(o),
                this.chunkPos.push(0)),
                this.pos < i.viewport.from - 1e5 && (this.state = this.lang.streamParser.startState(Bl(i.state)),
                i.skipUntilInView(this.pos, i.viewport.from),
                this.pos = i.viewport.from)
            }
            advance() {
                let e = Math.min(this.context.viewport.to, this.input.length, this.chunkStart + 2048);
                for (; this.pos < e; )
                    this.parseLine();
                return this.chunkStart < this.pos && this.finishChunk(),
                e < this.input.length && this.pos < this.context.viewport.to ? null : (this.context.skipUntilInView(this.pos, this.input.length),
                this.finish())
            }
            parseLine() {
                let e = this.input.lineAfter(this.pos)
                  , {streamParser: t} = this.lang
                  , n = new ld(e,this.context ? this.context.state.tabSize : 4,Bl(this.context.state),(e=>{
                    let t = this.pos;
                    for (let n = 0; n < e; n++)
                        t += this.input.lineAfter(t).length,
                        t < this.input.length && t++;
                    return this.input.lineAfter(t)
                }
                ));
                if (n.eol())
                    t.blankLine(this.state, n.indentUnit);
                else {
                    let i = []
                      , r = []
                      , o = null;
                    for (; !n.eol(); ) {
                        let e = fd(t.token, n, this.state);
                        if (e) {
                            let t = e.split(" ").filter((e=>{
                                if (!e)
                                    return !1;
                                let t = e.match(/(?:^|\s+)line-(background-)?(\S+)/);
                                return !t || (i.push(t[2]),
                                !1)
                            }
                            )).sort().join(" ")
                              , s = this.pos + n.start
                              , a = this.pos + n.pos;
                            o && o.cls === t && o.to === s ? o.to = a : (o = {
                                cls: t,
                                from: s,
                                to: a
                            },
                            r.push(o))
                        }
                    }
                    for (let e of r)
                        this.chunk.push(yd(e.cls), e.from, e.to, 4);
                    i.length > 0 && this.chunk.push(yd(i.join(" "), !0), this.pos, this.pos + e.length, 4 * (r.length + 1))
                }
                this.pos += e.length,
                this.pos < this.input.length && this.pos++
            }
            finishChunk() {
                let e = ll.build({
                    buffer: this.chunk,
                    start: this.chunkStart,
                    length: this.pos - this.chunkStart,
                    nodeSet: vd,
                    topID: 0,
                    maxBufferLength: 2048
                });
                this.lang.stateAfter.set(e, this.lang.streamParser.copyState(this.state)),
                this.chunks.push(e),
                this.chunkPos.push(this.chunkStart - this.startPos),
                this.chunk = [],
                this.chunkStart = this.pos
            }
            finish() {
                return new ll(this.lang.topNode,this.chunks,this.chunkPos,this.pos - this.startPos).balance()
            }
            forceFinish() {
                return this.finish()
            }
        }
        function fd(e, t, n) {
            t.start = t.pos;
            for (let i = 0; i < 10; i++) {
                let i = e(t, n);
                if (t.pos > t.start)
                    return i
            }
            throw new Error("Stream parser failed to advance stream.")
        }
        const gd = Object.create(null)
          , md = [sl.none]
          , vd = new al(md);
        function yd(e, t) {
            return e ? gd[e] || (gd[e] = function(e, t) {
                let n = e.replace(/ /g, "_")
                  , i = sl.define({
                    id: md.length,
                    name: n,
                    props: [t ? wd.add({
                        [n]: e
                    }) : bd.add({
                        [n]: e
                    })]
                });
                return md.push(i),
                i.id
            }(e, t)) : 0
        }
        const bd = new rl
          , wd = new rl;
        class kd {
            constructor(e) {
                this.lineCache = Object.create(null),
                this.tokenCache = Object.create(null),
                this.tree = Ll(e.state),
                this.decorations = this.buildDeco(e)
            }
            update(e) {
                let t = Ll(e.state);
                t.length < e.view.viewport.to ? this.decorations = this.decorations.map(e.changes) : (t != this.tree || e.viewportChanged) && (this.tree = t,
                this.decorations = this.buildDeco(e.view))
            }
            buildDeco(e) {
                if (!this.tree.length)
                    return oo.none;
                let t = new Ui
                  , n = 0;
                for (let {from: i, to: r} of e.visibleRanges)
                    this.tree.iterate({
                        from: i,
                        to: r,
                        enter: (i,r,o)=>{
                            let s = i.prop(wd);
                            if (s) {
                                let i = this.lineCache[s] || (this.lineCache[s] = oo.line({
                                    attributes: {
                                        class: s
                                    }
                                }))
                                  , o = e.visualLineAt(r).from;
                                if (n > o)
                                    return;
                                t.add(o, o, i),
                                n = o
                            }
                            let a = i.prop(bd);
                            if (a) {
                                let e = this.tokenCache[a] || (this.tokenCache[a] = oo.mark({
                                    class: a.split(" ").map((e=>"cm-" + e)).join(" ")
                                }));
                                t.add(r, o, e),
                                n = o
                            }
                        }
                    });
                return t.finish()
            }
        }
        const Cd = ti.fallback(To.define((e=>new kd(e)), {
            decorations: e=>e.decorations
        }));
        function xd(e) {
            if (!e)
                return "";
            var t = e.indexOf("|");
            return -1 !== t && ("\\" === e.charAt(t - 1) && t--,
            e = e.slice(0, t)),
            e = e.trim()
        }
        function Ed(e) {
            return !(!e.startsWith("./") && !e.startsWith("../")) || -1 === e.indexOf(":")
        }
        var Sd = /\u00A0/g;
        function Ld(e) {
            return e.replace(Sd, " ")
        }
        var Dd = /[!"#$%&()*+,.:;<=>?@^`{|}~\/\[\]\\]/g;
        function Md(e) {
            return e.replace(/[\\\x00\x08\x0B\x0C\x0E-\x1F ]/g, (function(e) {
                return encodeURIComponent(e)
            }
            ))
        }
        function Ad(e, t) {
            for (var n in t)
                if (t.hasOwnProperty(n)) {
                    var i = t[n];
                    e = e.replace(new RegExp("{{" + n + "}}","gi"), i)
                }
            var r = (0,
            window.moment)();
            return e = e.replace(/{{(date|time):(.*?)}}/gi, (function(e, t, n) {
                return r.format(n)
            }
            ))
        }
        function Td(e, t) {
            return void 0 === t && (t = 0),
            {
                line: e,
                ch: t
            }
        }
        function Fd(e, t) {
            return {
                line: e.line,
                ch: e.ch + t
            }
        }
        var Pd, Od = /^([>\s]*)(([*+-] |(\d+)([.)] ))(?:\[(.)\] )?)?/, Id = /^([>\s]*)(#{1,6} )?(.*)/, Nd = function() {
            function e() {}
            return e.prototype.getDoc = function() {
                return this
            }
            ,
            e.prototype.setLine = function(e, t) {
                this.replaceRange(t, Td(e, 0), Td(e, this.getLine(e).length))
            }
            ,
            e.prototype.somethingSelected = function() {
                return !!this.getSelection()
            }
            ,
            e.prototype.setCursor = function(e, t) {
                return Number.isNumber(e) ? this.setSelection({
                    line: e,
                    ch: t
                }) : this.setSelection(e)
            }
            ,
            e.prototype.posAtMouse = function(e) {
                return this.posAtCoords(e.clientX, e.clientY)
            }
            ,
            e.prototype.getSpellcheckStatus = function(e, t) {
                return null
            }
            ,
            e.prototype.toggleSurroundingMarkdown = function(e) {
                var t = this
                  , n = this.getSelection()
                  , i = this.getCursor("from")
                  , r = this.getCursor("to")
                  , o = function(e) {
                    var n = e.length
                      , o = t.getRange(Fd(i, -n), i)
                      , s = t.getRange(r, Fd(r, n));
                    return o === e && s === e
                }
                  , s = function(e, o) {
                    var s = o.length
                      , a = o + n + o;
                    t.replaceRange(a, Fd(i, -e), Fd(r, e)),
                    i.ch += s - e,
                    r.line === i.line && (r.ch += s - e),
                    t.setSelection(i, r)
                };
                if ("*" === e) {
                    if (o("***"))
                        return s(3, "**");
                    if (o("___"))
                        return s(3, "__");
                    if (!o("**") && !o("__") && (o("*") || o("_")))
                        return s(1, "")
                } else if ("**" === e) {
                    if (o("**") || o("__"))
                        return s(2, "")
                } else if (("==" === e || "%%" === e) && o(e))
                    return s(2, "");
                this.replaceSelection("" + e + n + e),
                i.ch += e.length,
                r.line === i.line && (r.ch += e.length),
                this.setSelection(i, r)
            }
            ,
            e.prototype.insertMarkdownLink = function() {
                var e = this.getSelection()
                  , t = this.getCursor("from")
                  , n = this.getCursor("to");
                e ? (this.replaceSelection("[" + e + "]()"),
                this.setSelection(Fd(t, e.length + 3))) : t.line === n.line && t.ch === n.ch && (this.replaceSelection("[]()"),
                this.setSelection(Fd(t, 1)))
            }
            ,
            e.prototype.triggerWikilink = function(e) {
                var t = this.getSelection()
                  , n = this.getCursor("from")
                  , i = this.getCursor("to");
                t ? (this.replaceSelection(e ? "![[" + t + "]]" : "[[" + t + "]]"),
                this.setSelection(Fd(n, t.length + 2))) : n.line === i.line && n.ch === i.ch && (this.replaceSelection(e ? "![[]]" : "[[]]"),
                this.setSelection(Fd(n, e ? 3 : 2)))
            }
            ,
            e.prototype.insertText = function(e) {
                var t = this.getSelection()
                  , n = this.getCursor("from")
                  , i = this.getCursor("to");
                t ? (this.replaceSelection("" + e + t),
                this.setSelection(Fd(n, t.length + e.length))) : n.line === i.line && n.ch === i.ch && (this.replaceSelection(e),
                this.setSelection(Fd(n, e.length)))
            }
            ,
            e.prototype.processLines = function(e, t, n) {
                void 0 === n && (n = !0);
                for (var i = this.listSelections(), r = function(e) {
                    for (var t = [], n = 0, i = e; n < i.length; n++)
                        for (var r = i[n], o = Math.min(r.anchor.line, r.head.line), s = Math.max(r.anchor.line, r.head.line), a = o; a <= s; a++)
                            t.push(a);
                    return Array.from(new Set(t)).sort()
                }(i), o = [], s = 0, a = r; s < a.length; s++) {
                    var l = a[s]
                      , c = this.getLine(l);
                    if (n && r.length > 1 && !c.trim())
                        o.push(null);
                    else {
                        var u = e(l, c);
                        o.push(u)
                    }
                }
                for (var h = [], p = 0; p < r.length; p++) {
                    l = r[p],
                    u = o[p];
                    if (!n || null !== u)
                        (d = t(l, c = this.getLine(l), u)) && h.push(d)
                }
                if (0 !== h.length) {
                    if (1 === i.length) {
                        var d = h[0]
                          , f = i[0]
                          , g = f.anchor;
                        if (0 === g.ch && (v = g,
                        y = f.head,
                        v.line === y.line && v.ch === y.ch) && g.line === d.from.line) {
                            var m = d.text.length - (d.to ? d.to.ch - d.from.ch : 0);
                            return g.ch += m,
                            g.ch < 0 && (g.ch = 0),
                            void this.transaction({
                                changes: h,
                                selection: {
                                    from: g
                                }
                            })
                        }
                    }
                    var v, y;
                    this.transaction({
                        changes: h
                    })
                }
            }
            ,
            e.prototype.setHeading = function(e) {
                this.processLines((function(e, t) {
                    return t.match(Id)
                }
                ), (function(t, n, i) {
                    var r = 0 === e ? "" : Array(e).fill("#").join("") + " ";
                    return {
                        from: Td(t, i[1].length),
                        to: Td(t, n.length - i[3].length),
                        text: r
                    }
                }
                ))
            }
            ,
            e.prototype.toggleBlockquote = function() {
                var e = /^\s*>\s*/
                  , t = !1;
                this.processLines((function(n, i) {
                    var r = i.match(e);
                    return r || (t = !0),
                    r
                }
                ), (function(e, n, i) {
                    var r = i;
                    if (t && !r)
                        return {
                            from: Td(e, 0),
                            text: "> "
                        };
                    if (!t && r) {
                        var o = r[0].length;
                        return {
                            from: Td(e, 0),
                            to: Td(e, o),
                            text: ""
                        }
                    }
                }
                ), !1)
            }
            ,
            e.prototype.toggleBulletList = function() {
                var e = !1;
                this.processLines((function(t, n) {
                    var i = n.match(Od);
                    return i[3] && !i[4] || (e = !0),
                    i
                }
                ), (function(t, n, i) {
                    return i ? {
                        from: Td(t, 0),
                        to: Td(t, i[0].length),
                        text: i[1] + (e ? "- " : "")
                    } : null
                }
                ))
            }
            ,
            e.prototype.toggleNumberList = function() {
                var e = !1;
                this.processLines((function(t, n) {
                    var i = n.match(Od);
                    return i[4] || (e = !0),
                    i
                }
                ), (function(t, n, i) {
                    return i ? {
                        from: Td(t, 0),
                        to: Td(t, i[0].length),
                        text: i[1] + (e ? "1. " : "")
                    } : null
                }
                ))
            }
            ,
            e.prototype.toggleCheckList = function() {
                var e = 3;
                this.processLines((function(t, n) {
                    var i = n.match(Od);
                    return e > 2 && " " === i[6] && (e = 2),
                    e > 1 && !i[6] && (e = 1),
                    e > 0 && !i[3] && (e = 0),
                    i
                }
                ), (function(t, n, i) {
                    if (!i)
                        return null;
                    var r = {
                        from: Td(t, 0),
                        to: Td(t, i[0].length),
                        text: n.substr(0, i[0].length)
                    };
                    return 0 === e ? i[3] || (r.text = i[1] + "- ") : 1 === e ? i[6] || (r.text = i[1] + i[3] + "[ ] ") : 2 === e ? r.text = i[1] + i[3] + "[x] " : 3 === e && (r.text = i[1] + i[3] + "[ ] "),
                    r
                }
                ))
            }
            ,
            e.prototype.indentList = function() {
                this.exec("indentMore"),
                this.afterIndent()
            }
            ,
            e.prototype.unindentList = function() {
                this.exec("indentLess"),
                this.afterIndent()
            }
            ,
            e.prototype.afterIndent = function() {
                for (var e = 0, t = this.listSelections(); e < t.length; e++) {
                    var n = t[e].head.line;
                    this.fixMarkdownListNumbers(n),
                    this.fixMarkdownListNumbers(n + 1)
                }
            }
            ,
            e.prototype.fixMarkdownListNumbers = function(e) {
                var t = this.getLine(e);
                if (t) {
                    var n = Od.exec(t);
                    if (n && n[4]) {
                        for (var i = n[1], r = n[5], o = e - 1, s = 0, a = null; o >= 0; ) {
                            var l = this.getLine(o)
                              , c = Od.exec(l);
                            if (!c)
                                break;
                            var u = c[1];
                            if (u === i) {
                                c[4] ? s = parseInt(c[4], 10) : a = c;
                                break
                            }
                            if (u.length < i.length)
                                break;
                            o--
                        }
                        var h = i.length + n[2].length;
                        if (a)
                            this.replaceRange(i + a[2], Td(e), Td(e, h));
                        else {
                            s++,
                            this.replaceRange(i + s + r, Td(e), Td(e, h));
                            for (var p = e + 1, d = this.lineCount(); p < d; ) {
                                var f = this.getLine(p);
                                if (f) {
                                    var g = Od.exec(f);
                                    if (!g || !g[2])
                                        break;
                                    var m = g[1];
                                    if (m === i && g[4] && (s++,
                                    this.replaceRange(i + s + g[5], Td(p), Td(p, m.length + g[2].length))),
                                    m.length < i.length)
                                        break;
                                    p++
                                } else
                                    p++
                            }
                        }
                    }
                }
            }
            ,
            e.prototype.newlineAndIndentContinueMarkdownList = function() {
                for (var e = [], t = 0, n = this.listSelections(); t < n.length; t++) {
                    var i = n[t]
                      , r = i.head;
                    if (i.head.line !== i.anchor.line || i.head.ch !== i.anchor.ch)
                        return void this.exec("newlineAndIndent");
                    var o = this.getLine(r.line)
                      , s = Od.exec(o);
                    if (!s || r.ch < s[0].length || !s[2] && !s[1].contains(">"))
                        return void this.exec("newlineAndIndent");
                    if ("" === o.substr(s[0].length).trim())
                        e.push({
                            text: "\n",
                            from: Td(r.line),
                            to: r
                        });
                    else if (s[2]) {
                        var a = s[4]
                          , l = a ? parseInt(s[4], 10) + 1 + s[5] : s[2].replace("x", " ");
                        e.push({
                            text: o.charAt(r.ch - 1) + "\n" + s[1] + l,
                            from: Td(r.line, r.ch - 1),
                            to: r
                        })
                    } else
                        e.push({
                            text: o.charAt(r.ch - 1) + "\n" + s[1],
                            from: Td(r.line, r.ch - 1),
                            to: r
                        })
                }
                this.transaction({
                    changes: e
                })
            }
            ,
            e.prototype.insertTemplate = function(e, t) {
                this.replaceSelection(Ad(e, t)),
                this.focus()
            }
            ,
            e
        }();
        function Rd(e, t) {
            for (var n = [], i = 0, r = t; i < r.length; i++) {
                var o = r[i];
                n.push(o[0], o[1])
            }
            for (var s = Bd(e, n), a = [], l = 0; l < t.length; l++)
                a.push({
                    from: s[2 * l],
                    to: s[2 * l + 1]
                });
            return a
        }
        function Bd(e, t) {
            for (var n = 0, i = 0, r = e.indexOf("\n"), o = [], s = 0, a = t; s < a.length; s++) {
                for (var l = a[s]; r < l; ) {
                    if (-1 === r) {
                        r = e.length;
                        break
                    }
                    n++,
                    i = r + 1,
                    r = e.indexOf("\n", i)
                }
                o.push({
                    line: n,
                    ch: l - i
                })
            }
            return o
        }
        var zd, Hd, Vd = window.CodeMirror, qd = /[^\\][$|]/, Ud = /^(?:[*\-+]|^[0-9]+([.)]))\s+/, _d = /^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i, jd = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/, Wd = /^\.{0,2}\/[^\>\s]+/, $d = /^(?:[^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s])+/;
        !function(e) {
            e[e.NONE = 0] = "NONE",
            e[e.NORMAL = 1] = "NORMAL",
            e[e.WITH_SPACE = 2] = "WITH_SPACE"
        }(zd || (zd = {})),
        function(e) {
            e[e.NONE = 0] = "NONE",
            e[e.SIMPLE = 1] = "SIMPLE",
            e[e.NORMAL = 2] = "NORMAL"
        }(Hd || (Hd = {}));
        var Gd, Yd, Kd = /^\s*[^\|].*?\|.*[^|]\s*$/, Qd = /^\s*[^\|].*\|/, Jd = /^\s*\|[^\|]+\|.+\|\s*$/, Xd = /^\s*\|/, Zd = /^\s*-+\s*:\s*$/, ef = /^\s*:\s*-+\s*$/, tf = /^\s*:\s*-+\s*:\s*$/, nf = /^\s*-+\s*$/;
        !function(e) {
            e[e.NONE = 0] = "NONE",
            e[e.FRONT_MATTER = 1] = "FRONT_MATTER",
            e[e.FRONT_MATTER_END = 2] = "FRONT_MATTER_END"
        }(Gd || (Gd = {})),
        function(e) {
            e[e.NONE = 0] = "NONE",
            e[e.BARELINK = 1] = "BARELINK",
            e[e.FOOTREF = 2] = "FOOTREF",
            e[e.NORMAL = 3] = "NORMAL",
            e[e.FOOTNOTE = 4] = "FOOTNOTE",
            e[e.MAYBE_FOOTNOTE_URL = 5] = "MAYBE_FOOTNOTE_URL",
            e[e.BARELINK2 = 6] = "BARELINK2",
            e[e.FOOTREF2 = 7] = "FOOTREF2",
            e[e.INTERNAL_LINK = 8] = "INTERNAL_LINK",
            e[e.EMBED = 9] = "EMBED"
        }(Yd || (Yd = {}));
        var rf = ((Pd = {})[Yd.BARELINK] = "hmd-barelink",
        Pd[Yd.BARELINK2] = "hmd-barelink2",
        Pd[Yd.FOOTREF] = "hmd-barelink footref",
        Pd[Yd.FOOTNOTE] = "hmd-footnote line-HyperMD-footnote",
        Pd[Yd.FOOTREF2] = "hmd-footref2",
        Pd[Yd.INTERNAL_LINK] = "hmd-internal-link",
        Pd[Yd.EMBED] = "hmd-embed",
        Pd);
        function of(e) {
            e.hmdTable = Hd.NONE,
            e.hmdTableColumns = [],
            e.hmdTableID = null,
            e.hmdTableCol = e.hmdTableRow = 0
        }
        var sf = /^\s+((\d+[).]|[-*+])\s+)?/
          , af = {
            hr: "line-HyperMD-hr line-background-HyperMD-hr-bg hr",
            list1: "list-1",
            list2: "list-2",
            list3: "list-3",
            code: "inline-code",
            hashtag: "hashtag meta"
        };
        window.CodeMirror.defineMode("hypermd", (function(e, t) {
            var n = {
                front_matter: !0,
                math: !0,
                table: !0,
                toc: !0,
                orgModeMarkup: !0,
                hashtag: !0,
                fencedCodeBlockHighlighting: !0,
                name: "markdown",
                highlightFormatting: !0,
                taskLists: !0,
                strikethrough: !0,
                emoji: !1,
                highlight: !0,
                tokenTypeOverrides: af
            };
            Object.assign(n, t),
            n.tokenTypeOverrides !== af && (n.tokenTypeOverrides = Object.assign({}, af, n.tokenTypeOverrides)),
            n.name = "markdown";
            var i = {
                htmlBlock: null
            }
              , o = Vd.getMode(e, n)
              , s = r({}, o);
            function a(e, t) {
                var n = t.hmdInnerExitChecker(e, t)
                  , i = t.hmdInnerStyle
                  , r = (!n || !n.skipInnerMode) && t.hmdInnerMode.token(e, t.hmdInnerState) || "";
                return i && (r += " " + i),
                n ? (n.style && (r += " " + n.style),
                n.endPos && (e.pos = n.endPos),
                t.hmdInnerExitChecker = null,
                t.hmdInnerMode = null,
                t.hmdInnerState = null,
                t.hmdOverride = null) : e.start === e.pos && e.skipToEnd(),
                r.trim() || null
            }
            function l(e) {
                return {
                    token: function(t) {
                        var n = t.string.indexOf(e, t.start);
                        return -1 === n ? t.skipToEnd() : 0 === n ? t.pos += e.length : (t.pos = n,
                        "\\" === t.string.charAt(n - 1) && t.pos++),
                        null
                    }
                }
            }
            function c(e, t) {
                return t || (t = {}),
                function(n, i) {
                    return n.string.substr(n.start, e.length) === e ? (t.endPos = n.start + e.length,
                    t) : null
                }
            }
            function u(t, n, i, r) {
                if ("string" == typeof i && (i = Vd.getMode(e, i)),
                !(i && "null" !== i.name || (i = "endTag"in r ? l(r.endTag) : "function" == typeof r.fallbackMode && r.fallbackMode())))
                    throw new Error("no mode");
                n.hmdInnerExitChecker = "endTag"in r ? c(r.endTag) : r.exitChecker,
                n.hmdInnerStyle = r.style,
                n.hmdInnerMode = i,
                n.hmdOverride = a,
                n.hmdInnerState = Vd.startState(i);
                var o = r.style || "";
                return r.skipFirstToken || (o += " " + i.token(t, n.hmdInnerState)),
                o.trim()
            }
            return s.startState = function() {
                var e = o.startState();
                return of(e),
                e.hmdOverride = null,
                e.hmdInnerExitChecker = null,
                e.hmdInnerMode = null,
                e.hmdLinkType = Yd.NONE,
                e.hmdNextMaybe = n.front_matter ? Gd.FRONT_MATTER : Gd.NONE,
                e.hmdNextState = null,
                e.hmdNextStyle = null,
                e.hmdNextPos = null,
                e.hmdHashtag = !1,
                e
            }
            ,
            s.copyState = function(e) {
                for (var t = o.copyState(e), n = 0, i = ["hmdLinkType", "hmdNextMaybe", "hmdTable", "hmdTableID", "hmdTableCol", "hmdTableRow", "hmdOverride", "hmdInnerMode", "hmdInnerStyle", "hmdInnerExitChecker", "hmdNextPos", "hmdNextState", "hmdNextStyle", "hmdHashtag", "comment"]; n < i.length; n++) {
                    var r = i[n];
                    t[r] = e[r]
                }
                return t.hmdTableColumns = e.hmdTableColumns.slice(0),
                e.hmdInnerMode && (t.hmdInnerState = Vd.copyState(e.hmdInnerMode, e.hmdInnerState)),
                t
            }
            ,
            s.blankLine = function(e) {
                var t, n = e.hmdInnerMode;
                return n ? n.blankLine && (t = n.blankLine(e.hmdInnerState)) : t = o.blankLine(e),
                t || (t = ""),
                -1 === e.code && (t += " line-HyperMD-codeblock line-background-HyperMD-codeblock-bg"),
                of(e),
                t.trim() || null
            }
            ,
            s.indent = function(e, t) {
                var n = e.hmdInnerMode || o
                  , i = n.indent;
                return "function" == typeof i ? i.apply(n, arguments) : Vd.Pass
            }
            ,
            s.innerMode = function(e) {
                return e.hmdInnerMode ? {
                    mode: e.hmdInnerMode,
                    state: e.hmdInnerState
                } : o.innerMode(e)
            }
            ,
            s.token = function(t, r) {
                if (r.hmdOverride)
                    return r.hmdOverride(t, r);
                if (r.hmdNextMaybe === Gd.FRONT_MATTER) {
                    if ("---" === t.string)
                        return r.hmdNextMaybe = Gd.FRONT_MATTER_END,
                        u(t, r, "yaml", {
                            style: "hmd-frontmatter",
                            fallbackMode: function() {
                                return l("---")
                            },
                            exitChecker: function(e, t) {
                                return "---" === e.string ? (t.hmdNextMaybe = Gd.NONE,
                                {
                                    endPos: 3
                                }) : null
                            }
                        });
                    r.hmdNextMaybe = Gd.NONE
                }
                var s, a = r.f === i.htmlBlock, h = -1 === r.code, p = 0 === t.start, d = r.linkText, f = r.linkHref, g = !(h || a), m = g && !(r.code || r.indentedCode || r.linkHref), v = "", y = -1, b = null;
                if (g) {
                    if (n.math && m) {
                        var w = t.match(/^(\$)[^\s$]/, !1)
                          , k = t.match(/^(\${2})/, !1)
                          , C = w ? "$" : "$$"
                          , x = t.string.slice(t.pos)
                          , E = w && x.match(/[^\s\\]\$/);
                        if (E || k) {
                            var S = Vd.getMode(e, {
                                name: "stex"
                            })
                              , L = "stex" !== S.name;
                            return v += u(t, r, S, {
                                style: "math",
                                skipFirstToken: L,
                                fallbackMode: function() {
                                    return l(C)
                                },
                                exitChecker: c(C, {
                                    style: "formatting formatting-math formatting-math-end math-"
                                })
                            }),
                            E ? (L && (t.pos += w[1].length),
                            v += " formatting formatting-math formatting-math-begin") : (L && (t.pos += k[1].length),
                            v += " formatting formatting-math formatting-math-begin math-block")
                        }
                    }
                    if (m) {
                        r.internalLink ? (r.hmdLinkType = Yd.INTERNAL_LINK,
                        r.internalLink = !1) : (s = t.match(/^\[\[.+\]\]/, !1)) ? (r.internalLink = !0,
                        y = t.pos + 2,
                        v += " formatting-link") : r.hmdLinkType === Yd.INTERNAL_LINK && t.match(/^\]\]/, !1) && (r.hmdLinkType = Yd.NONE,
                        r.linkText = !1,
                        y = t.pos + 2,
                        v += " formatting-link"),
                        t.match(/^\^([a-zA-Z0-9\-]+)$/) && (v += " blockid");
                        var D = t.pos;
                        b = function(e) {
                            var n = t.string.slice(D, e).match(/^(.+?)%%/);
                            return n ? D + n[1].length : e
                        }
                        ,
                        r.comment ? (v += " comment",
                        t.match(/^%%/, !1) && (r.comment = !1,
                        y = t.pos + 2)) : t.match(/^%%/, !1) && (r.comment = !0,
                        v += " comment",
                        y = t.pos + 2)
                    }
                    if (p && n.orgModeMarkup && (s = t.match(/^\#\+(\w+\:?)\s*/)))
                        return t.eol() || (r.hmdOverride = function(e, t) {
                            return e.skipToEnd(),
                            t.hmdOverride = null,
                            "string hmd-orgmode-markup"
                        }
                        ),
                        "meta formatting-hmd-orgmode-markup hmd-orgmode-markup line-HyperMD-orgmode-markup";
                    if (p && n.toc && t.match(/^\[TOCM?\]\s*$/i))
                        return "meta line-HyperMD-toc hmd-toc";
                    if (m && !r.hmdLinkType && (t.match(_d) || t.match(jd)))
                        return "url"
                }
                r.hmdNextState ? (t.pos = r.hmdNextPos,
                v += " " + (r.hmdNextStyle || ""),
                Object.assign(r, r.hmdNextState),
                r.hmdNextState = null,
                r.hmdNextStyle = null,
                r.hmdNextPos = null) : v += " " + (o.token(t, r) || ""),
                -1 !== y && (t.pos = y),
                b && (t.pos = b(t.pos)),
                r.hmdHashtag && (v += " " + n.tokenTypeOverrides.hashtag),
                !i.htmlBlock && r.htmlState && (i.htmlBlock = r.f);
                var M = r.f === i.htmlBlock
                  , A = -1 === r.code;
                g = g && !(M || A),
                (m = m && g && !(r.code || r.indentedCode || r.linkHref)) && (s = t.current().match(qd)) && (t.pos = t.start + s.index + 1);
                var T = t.current();
                if (M !== a && (M ? (v += " hmd-html-begin",
                i.htmlBlock = r.f) : v += " hmd-html-end"),
                (h || A) && (r.localMode && h || (v = v.replace("inline-code", "")),
                v += " line-HyperMD-codeblock line-background-HyperMD-codeblock-bg hmd-codeblock",
                A !== h && (A ? h || (v += " line-HyperMD-codeblock-begin line-background-HyperMD-codeblock-begin-bg") : v += " line-HyperMD-codeblock-end line-background-HyperMD-codeblock-end-bg")),
                g) {
                    var F = r.hmdTable;
                    if (p && F)
                        (F == Hd.SIMPLE ? Qd : Xd).test(t.string) ? (r.hmdTableCol = 0,
                        r.hmdTableRow++) : of(r);
                    if (p && r.header && (/^(?:---+|===+)\s*$/.test(t.string) && r.prevLine && r.prevLine.header ? v += " line-HyperMD-header-line line-HyperMD-header-line-" + r.header : v += " line-HyperMD-header line-HyperMD-header-" + r.header),
                    r.indentedCode && (v += " hmd-indented-code"),
                    r.quote) {
                        if (t.eol() && (v += " line-HyperMD-quote line-HyperMD-quote-" + r.quote,
                        /^ {0,3}\>/.test(t.string) || (v += " line-HyperMD-quote-lazy")),
                        p && (s = T.match(/^\s+/)))
                            return t.pos = s[0].length,
                            (v += " hmd-indent-in-quote").trim();
                        /^>\s+$/.test(T) && ">" != t.peek() && (t.pos = t.start + 1,
                        T = ">",
                        r.hmdOverride = function(e, t) {
                            return e.match(sf),
                            t.hmdOverride = null,
                            "hmd-indent-in-quote line-HyperMD-quote line-HyperMD-quote-" + t.quote
                        }
                        )
                    }
                    var P = (r.listStack[r.listStack.length - 1] || 0) + 3
                      , O = p && /^\s+$/.test(T) && (!1 !== r.list || t.indentation() <= P)
                      , I = r.list && /formatting-list/.test(v);
                    if (I || O && (!1 !== r.list || t.match(Ud, !1))) {
                        var N = r.listStack && r.listStack.length || 0;
                        if (O) {
                            if (t.match(Ud, !1))
                                !1 === r.list && N++;
                            else {
                                for (; N > 0 && t.pos < r.listStack[N - 1]; )
                                    N--;
                                if (!N)
                                    return v.trim() || null;
                                v += " line-HyperMD-list-line-nobullet line-HyperMD-list-line line-HyperMD-list-line-" + N
                            }
                            v += " hmd-list-indent hmd-list-indent-" + N
                        } else
                            I && (v += " line-HyperMD-list-line line-HyperMD-list-line-" + N)
                    }
                    if (d !== r.linkText && (d || r.internalLink ? (r.hmdLinkType in rf && (v += " " + rf[r.hmdLinkType]),
                    r.hmdLinkType === Yd.FOOTNOTE ? r.hmdLinkType = Yd.MAYBE_FOOTNOTE_URL : r.hmdLinkType = Yd.NONE) : (s = t.match(/^([^\]]+)\](\(| ?\[|\:)?/, !1)) ? s[2] ? ":" === s[2] ? r.hmdLinkType = Yd.FOOTNOTE : "[" !== s[2] && " [" !== s[2] || "]" !== t.string.charAt(t.pos + s[0].length) ? r.hmdLinkType = Yd.NORMAL : r.hmdLinkType = Yd.BARELINK2 : "^" === s[1].charAt(0) ? r.hmdLinkType = Yd.FOOTREF : r.hmdLinkType = Yd.BARELINK : r.hmdLinkType = Yd.BARELINK),
                    f !== r.linkHref && (f ? r.hmdLinkType && (v += " " + rf[r.hmdLinkType],
                    r.hmdLinkType = Yd.NONE) : "[" === T && "]" !== t.peek() && (r.hmdLinkType = Yd.FOOTREF2)),
                    r.hmdLinkType !== Yd.NONE && (r.hmdLinkType in rf && (v += " " + rf[r.hmdLinkType]),
                    r.hmdLinkType === Yd.MAYBE_FOOTNOTE_URL && (/^(?:\]\:)?\s*$/.test(T) || (_d.test(T) || Wd.test(T) ? v += " hmd-footnote-url" : v = v.replace("string url", ""),
                    r.hmdLinkType = Yd.NONE))),
                    /formatting-escape/.test(v) && T.length > 1) {
                        var R = T.length - 1
                          , B = v.replace("formatting-escape", "escape") + " hmd-escape-char";
                        return r.hmdOverride = function(e, t) {
                            return e.pos += R,
                            t.hmdOverride = null,
                            B.trim()
                        }
                        ,
                        v += " hmd-escape-backslash",
                        t.pos -= R,
                        v
                    }
                    if (!v.trim() && n.table) {
                        var z = !1;
                        if ("|" === T.charAt(0) && (t.pos = t.start + 1,
                        T = "|",
                        z = !0),
                        z) {
                            if (!F) {
                                Kd.test(t.string) ? F = Hd.SIMPLE : Jd.test(t.string) && (F = Hd.NORMAL);
                                var H = void 0;
                                if (F) {
                                    var V = t.lookAhead(1);
                                    if (F === Hd.NORMAL ? Jd.test(V) ? V = V.replace(/^\s*\|/, "").replace(/\|\s*$/, "") : F = Hd.NONE : F === Hd.SIMPLE && (Kd.test(V) || (F = Hd.NONE)),
                                    F) {
                                        H = V.split("|");
                                        for (var q = 0; q < H.length; q++) {
                                            var U = H[q];
                                            if (Zd.test(U))
                                                U = "right";
                                            else if (ef.test(U))
                                                U = "left";
                                            else if (tf.test(U))
                                                U = "center";
                                            else {
                                                if (!nf.test(U)) {
                                                    F = Hd.NONE;
                                                    break
                                                }
                                                U = "default"
                                            }
                                            H[q] = U
                                        }
                                    }
                                }
                                F && (r.hmdTable = F,
                                r.hmdTableColumns = H,
                                r.hmdTableRow = r.hmdTableCol = 0)
                            }
                            if (F) {
                                var _ = r.hmdTableColumns.length - 1;
                                if (F === Hd.NORMAL && (0 === r.hmdTableCol && /^\s*\|$/.test(t.string.slice(0, t.pos)) || t.match(/^\s*$/, !1)))
                                    v += " hmd-table-sep hmd-table-sep-dummy";
                                else if (r.hmdTableCol < _) {
                                    U = r.hmdTableRow;
                                    var j = r.hmdTableCol++;
                                    0 == j && (v += " line-HyperMD-table-" + F + " line-HyperMD-table-row line-HyperMD-table-row-" + U),
                                    v += " hmd-table-sep hmd-table-sep-" + j
                                }
                            }
                        }
                    }
                    if (F && 1 === r.hmdTableRow && /emoji/.test(v) && (v = ""),
                    m && "<" === T) {
                        var W = null;
                        if (t.match(/^\![A-Z]+/) ? W = ">" : t.match("?") ? W = "?>" : t.match("![CDATA[") && (W = "]]>"),
                        null != W)
                            return u(t, r, null, {
                                endTag: W,
                                style: (v + " comment hmd-cdata-html").trim()
                            })
                    }
                    if (n.hashtag && m)
                        if (r.hmdHashtag) {
                            var $ = !1;
                            if (!/formatting/.test(v) && !/^\s*$/.test(T)) {
                                s = T.match($d);
                                var G = T.length - (s ? s[0].length : 0);
                                G > 0 && (t.backUp(G),
                                $ = !0)
                            }
                            if ($ || ($ = t.eol()),
                            $ || ($ = !$d.test(t.peek())),
                            $)
                                v += " hashtag-end " + (Q = "tag-" + (Q = t.current()).replace(/[^_a-zA-Z0-9\-]/g, "")),
                                r.hmdHashtag = !1
                        } else if ("#" === T && !r.linkText && !r.image && (p || /^\s*$/.test(t.string.charAt(t.start - 1)))) {
                            var Y = t.string.slice(t.pos).replace(/\\./g, "")
                              , K = $d.exec(Y);
                            if (K && /[^0-9]/.test(K[0])) {
                                var Q = "tag-" + K[0].replace(/[^_a-zA-Z0-9\-]/g, "");
                                r.hmdHashtag = !0,
                                v += " formatting formatting-hashtag hashtag-begin " + n.tokenTypeOverrides.hashtag + " " + Q
                            }
                        }
                }
                return v.trim() || null
            }
            ,
            s
        }
        ), "hypermd"),
        Vd.defineMIME("text/x-hypermd", "hypermd");
        var lf = ["theme", "cssTheme", "enabledCssSnippets", "obsidianCss", "translucency", "baseFontSize", "baseFontSizeAction"]
          , cf = {
            alwaysUpdateLinks: !1,
            spellcheck: !1,
            readableLineLength: !0,
            strictLineBreaks: !1,
            showFrontmatter: !1,
            useMarkdownLinks: !1,
            showUnsupportedFiles: !1,
            autoPairBrackets: !0,
            autoPairMarkdown: !0,
            smartIndentList: !0,
            foldHeading: !1,
            foldIndent: !1,
            showLineNumber: !1,
            useTab: !0,
            tabSize: 4,
            lineWrap: !0,
            autoConvertHtml: !0,
            vimMode: !1,
            emacsyKeys: !0,
            attachmentFolderPath: "/",
            newFileLocation: "root",
            newFileFolderPath: "/",
            newLinkFormat: "shortest",
            fileSortOrder: "alphabetical",
            hotkeys: {},
            defaultViewMode: "source",
            promptDelete: !0,
            trashOption: "system",
            spellcheckDictionary: [],
            pdfExportSettings: {
                pageSize: "Letter",
                landscape: !1,
                margin: "0",
                downscalePercent: 100
            },
            mobilePullAction: "command-palette:open",
            mobileToolbarCommands: ["editor:insert-wikilink", "editor:insert-embed", "editor:insert-tag", "editor:attach-file", "editor:set-heading", "editor:toggle-bold", "editor:toggle-italics", "editor:toggle-strikethrough", "editor:toggle-highlight", "editor:toggle-code", "editor:toggle-blockquote", "editor:toggle-comment", "editor:insert-link", "editor:toggle-bullet-list", "editor:toggle-numbered-list", "editor:toggle-checklist-status", "editor:indent-list", "editor:unindent-list", "editor:undo", "editor:redo", "editor:toggle-keyboard", "editor:configure-toolbar"],
            communityPluginSortOrder: "download",
            pluginEnabledStatus: {},
            enabledPlugins: [],
            theme: "obsidian",
            cssTheme: "",
            enabledCssSnippets: [],
            obsidianCss: !1,
            translucency: !1,
            baseFontSize: 16,
            baseFontSizeAction: !0
        };
        var uf = Object.prototype.hasOwnProperty;
        function hf(e, t) {
            return uf.call(e, t)
        }
        var pf = /&(amp|lt|gt|quot);/g
          , df = {
            "&amp;": "&",
            "&lt;": "<",
            "&gt;": ">",
            "&quot;": '"'
        };
        function ff(e) {
            return df[e]
        }
        function gf(e) {
            return e.replace(pf, ff)
        }
        var mf = /[.?*+^$[\]\\(){}|-]/g;
        function vf(e) {
            return e.replace(mf, "\\$&")
        }
        function yf(e, t) {
            if (e === t)
                return !0;
            if (null == e || null == t)
                return !1;
            if (e.length !== t.length)
                return !1;
            for (var n = 0; n < e.length; ++n)
                if (e[n] !== t[n])
                    return !1;
            return !0
        }
        var bf = /[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/;
        var wf = function() {
            function e() {
                this.data = {}
            }
            return e.prototype.add = function(e, t) {
                var n = this.data
                  , i = n[e];
                i || (i = [],
                n[e] = i),
                i.contains(t) || i.push(t)
            }
            ,
            e.prototype.remove = function(e, t) {
                var n = this.data
                  , i = n[e];
                i && (i.remove(t),
                0 === i.length && delete n[e])
            }
            ,
            e.prototype.get = function(e) {
                return this.data.hasOwnProperty(e) ? this.data[e] : null
            }
            ,
            e.prototype.keys = function() {
                return Object.keys(this.data)
            }
            ,
            e.prototype.clear = function(e) {
                delete this.data[e]
            }
            ,
            e.prototype.clearAll = function() {
                this.data = {}
            }
            ,
            e.prototype.contains = function(e, t) {
                var n = this.data[e];
                return n && n.contains(t)
            }
            ,
            e.prototype.count = function() {
                var e = this.data
                  , t = 0;
                for (var n in e)
                    e.hasOwnProperty(n) && (t += e[n].length);
                return t
            }
            ,
            e
        }();
        function kf(e) {
            for (var t = [], n = 0; n < e; n++)
                t.push((16 * Math.random() | 0).toString(16));
            return t.join("")
        }
        function Cf(e, t) {
            for (var n = 0, i = 0; i < t && -1 !== (i = e.indexOf("\n", i)) && !(i >= t); )
                i++,
                n++;
            return n
        }
        var xf = "#^[]|"
          , Ef = ae ? '*"\\/<>:|?' : "\\/:"
          , Sf = Ef.split("").join(" ")
          , Lf = xf.split("").join(" ")
          , Df = new RegExp("[" + vf(Ef) + "]")
          , Mf = new RegExp("[" + vf(xf) + "]");
        function Af(e) {
            return e.split("/").every((function(e) {
                return !Df.test(e)
            }
            ))
        }
        function Tf(e, t) {
            return e.length > t - 3 ? e.substring(0, t - 3) + "..." : e
        }
        var Ff = /\u00A0/g;
        function Pf(e) {
            return e.replace(Ff, " ")
        }
        function Of(e) {
            if (!e || "string" != typeof e)
                return null;
            var t = !0
              , n = e.split(".").map((function(e) {
                var n = parseInt(e);
                return isNaN(n) && (t = !1),
                n
            }
            ));
            return t ? n : null
        }
        function If(e, t) {
            var n = Of(e)
              , i = Of(t);
            return !!i && (!n || function(e, t) {
                for (var n = Math.min(e.length, t.length), i = 0; i < n; i++) {
                    if (e[i] < t[i])
                        return !0;
                    if (e[i] > t[i])
                        return !1
                }
                return e.length < t.length || (e.length,
                t.length,
                !1)
            }(n, i))
        }
        function Nf(e, t, n) {
            return n < 0 && (n += 1),
            n > 1 && (n -= 1),
            n < 1 / 6 ? e + 6 * (t - e) * n : n < .5 ? t : n < 2 / 3 ? e + (t - e) * (2 / 3 - n) * 6 : e
        }
        function Rf(e, t, n) {
            return (e = Math.round(255 * e)) << 16 | (t = Math.round(255 * t)) << 8 | (n = Math.round(255 * n))
        }
        var Bf = function() {
            function e() {
                this._ = {}
            }
            return e.prototype.on = function(e, t, n) {
                var i = this._
                  , r = i[e];
                r || (i[e] = r = []);
                var o = {
                    e: this,
                    name: e,
                    fn: t,
                    ctx: n
                };
                return r.push(o),
                o
            }
            ,
            e.prototype.off = function(e, t) {
                var n = this._
                  , i = n[e]
                  , r = [];
                if (i && t)
                    for (var o = 0; o < i.length; o++)
                        i[o].fn !== t && r.push(i[o]);
                r.length > 0 ? n[e] = r : delete n[e]
            }
            ,
            e.prototype.offref = function(e) {
                if (e) {
                    var t = e.name
                      , n = this._
                      , i = n[t]
                      , r = [];
                    if (i && e)
                        for (var o = 0; o < i.length; o++)
                            i[o] !== e && r.push(i[o]);
                    r.length ? n[t] = r : delete n[t]
                }
            }
            ,
            e.prototype.trigger = function(e) {
                for (var t = [], n = 1; n < arguments.length; n++)
                    t[n - 1] = arguments[n];
                var i = this._
                  , r = i[e];
                if (r) {
                    r = r.slice();
                    for (var o = 0; o < r.length; o++)
                        this.tryTrigger(r[o], t)
                }
            }
            ,
            e.prototype.tryTrigger = function(e, t) {
                try {
                    e.fn.apply(e.ctx, t)
                } catch (e) {
                    setTimeout((function() {
                        throw e
                    }
                    ), 0)
                }
            }
            ,
            e
        }()
          , zf = ".obsidian"
          , Hf = function() {
            function e(e, t) {
                this.vault = e,
                this.setPath(t)
            }
            return e.prototype.setPath = function(e) {
                this.path = e,
                this.name = W(e)
            }
            ,
            e.prototype.getNewPathAfterRename = function(e) {
                return e = e.replace(/[\x00-\x1F]/g, " ").trim(),
                this.parent ? this.parent.isRoot() ? e : this.parent.path + "/" + e : ""
            }
            ,
            e
        }()
          , Vf = function(e) {
            function t(t, n) {
                var i = e.call(this, t, n) || this;
                return i.saving = !1,
                i.unsafeCachedData = null,
                i.stat = null,
                i
            }
            return i(t, e),
            t.prototype.setPath = function(t) {
                e.prototype.setPath.call(this, t),
                this.basename = Y(this.name),
                this.extension = Q(this.name)
            }
            ,
            t.prototype.getNewPathAfterRename = function(t) {
                return e.prototype.getNewPathAfterRename.call(this, J(t, this.extension))
            }
            ,
            t.prototype.cache = function(e) {
                if (null != e) {
                    var t = this.vault.cacheLimit;
                    e.length <= t ? this.unsafeCachedData = e : this.unsafeCachedData = null
                } else
                    this.unsafeCachedData = null
            }
            ,
            t.prototype.updateCacheLimit = function() {
                var e = this.vault.cacheLimit;
                this.unsafeCachedData && this.unsafeCachedData.length > e && (this.unsafeCachedData = null)
            }
            ,
            t
        }(Hf)
          , qf = function(e) {
            function t(t, n) {
                var i = e.call(this, t, n) || this;
                return i.children = [],
                i
            }
            return i(t, e),
            t.prototype.isRoot = function() {
                return "/" === this.path
            }
            ,
            t.prototype.getParentPrefix = function() {
                return this.isRoot() ? "" : this.path + "/"
            }
            ,
            t.prototype.getFileCount = function() {
                for (var e = 0, n = 0, i = this.children; n < i.length; n++) {
                    var r = i[n];
                    e += r instanceof t ? r.getFileCount() : 1
                }
                return e
            }
            ,
            t.prototype.getFolderCount = function() {
                for (var e = 0, n = 0, i = this.children; n < i.length; n++) {
                    var r = i[n];
                    r instanceof t && (e += 1 + r.getFolderCount())
                }
                return e
            }
            ,
            t
        }(Hf)
          , Uf = function(e) {
            function t(t) {
                var n = e.call(this) || this;
                return n.fileMap = {},
                n.config = {},
                n.configDir = zf,
                n.requestSaveConfig = Pe(n.saveConfig.bind(n), 1e3, !0),
                n.cacheLimit = 65536,
                n.adapter = t,
                n.root = new qf(n,""),
                n.onChange("folder-created", "/"),
                n.root = n.fileMap["/"],
                n
            }
            return i(t, e),
            t.prototype.getName = function() {
                return this.adapter.getName()
            }
            ,
            t.prototype.setFileCacheLimit = function(e) {
                this.cacheLimit = e;
                var t = this.fileMap;
                for (var n in t)
                    if (t.hasOwnProperty(n)) {
                        var i = t[n];
                        i instanceof Vf && i.updateCacheLimit()
                    }
            }
            ,
            t.validateConfigDir = function(e) {
                return "." !== e && e.startsWith(".") && !Df.test(e)
            }
            ,
            t.prototype.setConfigDir = function(e) {
                t.validateConfigDir(e) || (e = zf),
                this.configDir = e
            }
            ,
            t.prototype.setupConfig = function() {
                return o(this, void 0, void 0, (function() {
                    var e, t, n, i, r, o;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return t = (e = this).adapter,
                            n = e.configDir,
                            [4, t.exists(n)];
                        case 1:
                            return s.sent() ? [3, 3] : [4, t.mkdir(n)];
                        case 2:
                            s.sent(),
                            s.label = 3;
                        case 3:
                            return i = null,
                            [4, this.readConfigJson("app")];
                        case 4:
                            return r = s.sent(),
                            [4, this.readConfigJson("appearance")];
                        case 5:
                            return o = s.sent(),
                            r ? [3, 7] : [4, this.readJson(n + "/config")];
                        case 6:
                            i = s.sent(),
                            s.label = 7;
                        case 7:
                            return this.config = Object.assign({}, i, o, r),
                            i ? [4, this.saveConfig()] : [3, 12];
                        case 8:
                            s.sent(),
                            s.label = 9;
                        case 9:
                            return s.trys.push([9, 11, , 12]),
                            [4, this.adapter.remove(n + "/config")];
                        case 10:
                            return s.sent(),
                            [3, 12];
                        case 11:
                            return s.sent(),
                            [3, 12];
                        case 12:
                            return this.requestSaveConfig(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.saveConfig = function() {
                return o(this, void 0, void 0, (function() {
                    var e, t, n, i, r, o, a, l;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return t = (e = this).adapter,
                            n = e.configDir,
                            [4, t.exists(n)];
                        case 1:
                            return s.sent() ? [3, 3] : [4, t.mkdir(n)];
                        case 2:
                            s.sent(),
                            s.label = 3;
                        case 3:
                            for (a in i = this.config,
                            r = {},
                            o = {},
                            i)
                                l = a,
                                i.hasOwnProperty(l) && (lf.contains(l) ? o[l] = i[l] : r[l] = i[l]);
                            return [4, this.writeConfigJson("app", r)];
                        case 4:
                            return s.sent(),
                            [4, this.writeConfigJson("appearance", o)];
                        case 5:
                            return s.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.getConfig = function(e) {
                var t = this.config[e];
                return void 0 === t ? cf[e] : t
            }
            ,
            t.prototype.setConfig = function(e, t) {
                void 0 !== t ? this.config[e] = t : delete this.config[e],
                this.requestSaveConfig(),
                this.trigger("config-changed")
            }
            ,
            t.prototype.readPluginData = function(e) {
                var t = ee(e + "/data.json");
                return this.readJson(t)
            }
            ,
            t.prototype.writePluginData = function(e, t) {
                var n = ee(e + "/data.json");
                return this.writeJson(n, t, !0)
            }
            ,
            t.prototype.readConfigJson = function(e) {
                return this.readJson(this.configDir + "/" + e + ".json")
            }
            ,
            t.prototype.writeConfigJson = function(e, t) {
                return this.writeJson(this.configDir + "/" + e + ".json", t, !0)
            }
            ,
            t.prototype.deleteConfigJson = function(e) {
                var t = ee(this.configDir + "/" + e + ".json");
                return this.adapter.remove(t)
            }
            ,
            t.prototype.readJson = function(e) {
                return o(this, void 0, Promise, (function() {
                    var t, n, i, r;
                    return s(this, (function(o) {
                        switch (o.label) {
                        case 0:
                            t = ee(e),
                            o.label = 1;
                        case 1:
                            return o.trys.push([1, 3, , 4]),
                            i = (n = JSON).parse,
                            [4, this.adapter.read(t)];
                        case 2:
                            return [2, i.apply(n, [o.sent()])];
                        case 3:
                            return "ENOENT" === (r = o.sent()).code || console.error(r),
                            [3, 4];
                        case 4:
                            return [2, null]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.writeJson = function(e, t, n) {
                return o(this, void 0, Promise, (function() {
                    var i;
                    return s(this, (function(r) {
                        switch (r.label) {
                        case 0:
                            i = ee(e),
                            r.label = 1;
                        case 1:
                            return r.trys.push([1, 3, , 4]),
                            [4, this.adapter.write(i, JSON.stringify(t, void 0, n ? 2 : void 0))];
                        case 2:
                            return r.sent(),
                            [3, 4];
                        case 3:
                            return r.sent(),
                            [3, 4];
                        case 4:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.load = function() {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(e) {
                        switch (e.label) {
                        case 0:
                            return [4, this.adapter.watch(this.onChange.bind(this))];
                        case 1:
                            return e.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.getAbstractFileByPath = function(e) {
                return this.fileMap.hasOwnProperty(e) ? this.fileMap[e] : null
            }
            ,
            t.prototype.getAbstractFileByPathInsensitive = function(e) {
                var t = this.fileMap;
                if (t.hasOwnProperty(e))
                    return t[e];
                var n = e.toLowerCase();
                for (var i in t)
                    if (t.hasOwnProperty(i) && i.toLowerCase() === n)
                        return t[i];
                return null
            }
            ,
            t.prototype.isEmpty = function() {
                return 1 === Object.keys(this.fileMap).length
            }
            ,
            t.prototype.getRoot = function() {
                return this.root
            }
            ,
            t.prototype.checkForDuplicate = function(e, t) {
                var n = e.getNewPathAfterRename(t)
                  , i = this.fileMap[n];
                return i && i !== e
            }
            ,
            t.prototype.checkPath = function(e) {
                if (!Af(e))
                    throw new Error("File name cannot contain any of the following characters: " + Sf)
            }
            ,
            t.prototype.onChange = function(e, t, n, i) {
                if ("folder-created" === e) {
                    var r = new qf(this,t);
                    this.fileMap[t] = r,
                    this.addChild(r),
                    this.trigger("create", this.fileMap[t])
                } else if ("file-created" === e) {
                    var o = new Vf(this,t);
                    o.stat = i,
                    this.fileMap[t] = o,
                    this.addChild(o),
                    this.trigger("create", this.fileMap[t])
                } else if ("modified" === e) {
                    if (!this.fileMap.hasOwnProperty(t))
                        return;
                    (s = this.fileMap[t])instanceof Vf && (s.stat = i,
                    s.saving || s.cache(null)),
                    this.trigger("modify", s)
                } else if ("file-removed" === e || "folder-removed" === e) {
                    if (this.fileMap.hasOwnProperty(t)) {
                        var s = this.fileMap[t];
                        this.removeChild(s),
                        delete this.fileMap[t],
                        this.trigger("delete", s)
                    }
                } else if ("renamed" === e) {
                    if (this.fileMap.hasOwnProperty(n)) {
                        var a = this.fileMap[n];
                        this.removeChild(a),
                        a.setPath(t),
                        this.addChild(a),
                        this.fileMap[t] = a,
                        delete this.fileMap[n],
                        this.trigger("rename", a, n)
                    }
                } else
                    "closed" === e ? this.trigger("closed") : "raw" === e && this.trigger("raw", t)
            }
            ,
            t.prototype.getDirectParent = function(e) {
                var t = e.path
                  , n = t.lastIndexOf("/");
                if (-1 === n)
                    return this.fileMap["/"];
                var i = t.slice(0, n)
                  , r = this.fileMap[i];
                return r && r instanceof qf ? r : null
            }
            ,
            t.prototype.addChild = function(e) {
                var t = e.parent
                  , n = this.getDirectParent(e);
                n && n !== t && (t && t.children.remove(e),
                n.children.push(e),
                e.parent = n)
            }
            ,
            t.prototype.removeChild = function(e) {
                var t = e.parent;
                t && (t.children.remove(e),
                e.parent = null)
            }
            ,
            t.prototype.exists = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    var n;
                    return s(this, (function(i) {
                        switch (i.label) {
                        case 0:
                            return n = ee(e),
                            [4, this.adapter.exists(n, t)];
                        case 1:
                            return [2, i.sent()]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.create = function(e, t, n) {
                return o(this, void 0, Promise, (function() {
                    var i, r;
                    return s(this, (function(o) {
                        switch (o.label) {
                        case 0:
                            return i = ee(e),
                            this.checkPath(i),
                            [4, this.adapter.exists(i)];
                        case 1:
                            if (o.sent())
                                throw new Error("File already exists.");
                            return [4, this.adapter.write(i, t, n)];
                        case 2:
                            return o.sent(),
                            (r = this.getAbstractFileByPath(i))instanceof Vf ? [2, r] : [2, null]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.createBinary = function(e, t, n) {
                return o(this, void 0, Promise, (function() {
                    var i, r;
                    return s(this, (function(o) {
                        switch (o.label) {
                        case 0:
                            return i = ee(e),
                            this.checkPath(i),
                            [4, this.adapter.exists(i)];
                        case 1:
                            if (o.sent())
                                throw new Error("File already exists.");
                            return [4, this.adapter.writeBinary(i, t, n)];
                        case 2:
                            return o.sent(),
                            (r = this.getAbstractFileByPath(i))instanceof Vf ? [2, r] : [2, null]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.createFolder = function(e) {
                return o(this, void 0, Promise, (function() {
                    var t;
                    return s(this, (function(n) {
                        switch (n.label) {
                        case 0:
                            return t = ee(e),
                            this.checkPath(t),
                            [4, this.adapter.exists(t)];
                        case 1:
                            if (n.sent())
                                throw new Error("Folder already exists.");
                            return [2, this.adapter.mkdir(t)]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.read = function(e) {
                return o(this, void 0, Promise, (function() {
                    var t;
                    return s(this, (function(n) {
                        switch (n.label) {
                        case 0:
                            return [4, this.adapter.read(e.path)];
                        case 1:
                            return t = n.sent(),
                            e.cache(t),
                            [2, t]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.cachedRead = function(e) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(t) {
                        return null !== e.unsafeCachedData ? [2, e.unsafeCachedData] : [2, this.read(e)]
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.readBinary = function(e) {
                return o(this, void 0, Promise, (function() {
                    var t;
                    return s(this, (function(n) {
                        switch (n.label) {
                        case 0:
                            return [4, this.adapter.readBinary(e.path)];
                        case 1:
                            t = n.sent();
                            try {
                                "md" === e.extension && t.byteLength <= this.cacheLimit && e.cache((new TextDecoder).decode(t))
                            } catch (e) {}
                            return [2, t]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.readRaw = function(e) {
                return o(this, void 0, Promise, (function() {
                    var t;
                    return s(this, (function(n) {
                        return t = ee(e),
                        [2, this.adapter.read(t)]
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.getResourcePath = function(e) {
                return this.adapter.getResourcePath(e.path)
            }
            ,
            t.prototype.delete = function(e, t) {
                return void 0 === t && (t = !1),
                o(this, void 0, Promise, (function() {
                    return s(this, (function(n) {
                        switch (n.label) {
                        case 0:
                            return e ? e instanceof Vf ? [4, this.adapter.remove(e.path)] : [3, 2] : [3, 4];
                        case 1:
                            return n.sent(),
                            [3, 4];
                        case 2:
                            return e instanceof qf ? [4, this.adapter.rmdir(e.path, t)] : [3, 4];
                        case 3:
                            n.sent(),
                            n.label = 4;
                        case 4:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.trash = function(e, t) {
                return o(this, void 0, void 0, (function() {
                    return s(this, (function(n) {
                        switch (n.label) {
                        case 0:
                            return e ? t ? [4, this.adapter.trashSystem(e.path)] : [3, 2] : [2];
                        case 1:
                            if (n.sent())
                                return [2];
                            n.label = 2;
                        case 2:
                            return [4, this.adapter.trashLocal(e.path)];
                        case 3:
                            return n.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.rename = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    var n;
                    return s(this, (function(i) {
                        switch (i.label) {
                        case 0:
                            return n = ee(t),
                            e.path === n ? [2] : (this.checkPath(n),
                            [4, this.adapter.rename(e.path, n)]);
                        case 1:
                            return i.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.modify = function(e, t, n) {
                return o(this, void 0, Promise, (function() {
                    var i, r;
                    return s(this, (function(o) {
                        switch (o.label) {
                        case 0:
                            i = e.saving,
                            e.saving = !0,
                            o.label = 1;
                        case 1:
                            return o.trys.push([1, 3, 4, 5]),
                            (n = n || {}).immediate = function() {
                                return e.cache(t)
                            }
                            ,
                            [4, this.adapter.write(e.path, t, n)];
                        case 2:
                            return o.sent(),
                            [3, 5];
                        case 3:
                            throw r = o.sent(),
                            e.cache(null),
                            r;
                        case 4:
                            return e.saving = i,
                            [7];
                        case 5:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.modifyBinary = function(e, t, n) {
                return o(this, void 0, Promise, (function() {
                    var i;
                    return s(this, (function(r) {
                        switch (r.label) {
                        case 0:
                            i = e.saving,
                            e.saving = !0,
                            r.label = 1;
                        case 1:
                            return r.trys.push([1, , 3, 4]),
                            (n = n || {}).immediate = function() {
                                return e.cache(null)
                            }
                            ,
                            [4, this.adapter.writeBinary(e.path, t, n)];
                        case 2:
                            return r.sent(),
                            [3, 4];
                        case 3:
                            return e.saving = i,
                            [7];
                        case 4:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.copy = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    var n, i;
                    return s(this, (function(r) {
                        switch (r.label) {
                        case 0:
                            return n = (n = ee(t)).normalize("NFC"),
                            this.checkPath(n),
                            [4, this.adapter.copy(e.path, n)];
                        case 1:
                            return r.sent(),
                            (i = this.getAbstractFileByPath(n))instanceof Vf ? [2, i] : [2, null]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.getAllLoadedFiles = function() {
                var e = [];
                for (var t in this.fileMap)
                    if (this.fileMap.hasOwnProperty(t)) {
                        var n = this.fileMap[t];
                        e.push(n)
                    }
                return e
            }
            ,
            t.prototype.getAvailablePath = function(e, t) {
                for (var n = 1, i = J(e, t); this.getAbstractFileByPathInsensitive(i); )
                    i = J(e + " " + n, t),
                    n++;
                return i
            }
            ,
            t.prototype.getAvailablePathForAttachments = function(e, t, n) {
                return o(this, void 0, Promise, (function() {
                    var i, r, o, a;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return i = this.getConfig("attachmentFolderPath"),
                            r = "." === i || "./" === i,
                            o = null,
                            i.startsWith("./") && (o = i.slice(2)),
                            r ? i = n.parent.path : o && (i = n.parent.getParentPrefix() + o),
                            (a = this.getAbstractFileByPathInsensitive(i)) || !o ? [3, 2] : [4, this.createFolder(i)];
                        case 1:
                            s.sent(),
                            a = this.getAbstractFileByPathInsensitive(i),
                            s.label = 2;
                        case 2:
                            return a instanceof qf ? [2, this.getAvailablePath(a.getParentPrefix() + e, t)] : [2, this.getAvailablePath(e, t)]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.recurseChildren = function(e, t) {
                for (var n = [e]; n.length > 0; ) {
                    var i = n.pop();
                    if (i && (t(i),
                    i instanceof qf)) {
                        var r = i.children;
                        n = n.concat(r)
                    }
                }
            }
            ,
            t.prototype.getMarkdownFiles = function() {
                var e = []
                  , n = this.getRoot();
                return t.recurseChildren(n, (function(t) {
                    t instanceof Vf && "md" === t.extension && e.push(t)
                }
                )),
                e
            }
            ,
            t.prototype.getFiles = function() {
                var e = []
                  , n = this.getRoot();
                return t.recurseChildren(n, (function(t) {
                    t instanceof Vf && e.push(t)
                }
                )),
                e
            }
            ,
            t.prototype.iterateFiles = function(e, t) {
                return u(this, arguments, (function() {
                    var n, i, r, o;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            n = 0,
                            s.label = 1;
                        case 1:
                            return n < e.length ? (i = e[n],
                            r = "",
                            "md" !== i.extension ? [3, 6] : t ? [4, c(this.cachedRead(i))] : [3, 3]) : [3, 10];
                        case 2:
                            return o = s.sent(),
                            [3, 5];
                        case 3:
                            return [4, c(this.read(i))];
                        case 4:
                            o = s.sent(),
                            s.label = 5;
                        case 5:
                            r = o,
                            s.label = 6;
                        case 6:
                            return [4, c({
                                file: i,
                                content: r
                            })];
                        case 7:
                            return [4, s.sent()];
                        case 8:
                            s.sent(),
                            s.label = 9;
                        case 9:
                            return n++,
                            [3, 1];
                        case 10:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.generateFiles = function(e, t) {
                return u(this, arguments, (function() {
                    var n, i, r, o, a, l, u, p;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            s.trys.push([0, 12, 13, 18]),
                            n = h(e),
                            s.label = 1;
                        case 1:
                            return [4, c(n.next())];
                        case 2:
                            return (i = s.sent()).done ? [3, 11] : (r = i.value,
                            o = "",
                            "md" !== r.extension ? [3, 7] : t ? [4, c(this.cachedRead(r))] : [3, 4]);
                        case 3:
                            return a = s.sent(),
                            [3, 6];
                        case 4:
                            return [4, c(this.read(r))];
                        case 5:
                            a = s.sent(),
                            s.label = 6;
                        case 6:
                            o = a,
                            s.label = 7;
                        case 7:
                            return [4, c({
                                file: r,
                                content: o
                            })];
                        case 8:
                            return [4, s.sent()];
                        case 9:
                            s.sent(),
                            s.label = 10;
                        case 10:
                            return [3, 1];
                        case 11:
                            return [3, 18];
                        case 12:
                            return l = s.sent(),
                            u = {
                                error: l
                            },
                            [3, 18];
                        case 13:
                            return s.trys.push([13, , 16, 17]),
                            i && !i.done && (p = n.return) ? [4, c(p.call(n))] : [3, 15];
                        case 14:
                            s.sent(),
                            s.label = 15;
                        case 15:
                            return [3, 17];
                        case 16:
                            if (u)
                                throw u.error;
                            return [7];
                        case 17:
                            return [7];
                        case 18:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.trigger = function(t) {
                for (var n = [], i = 1; i < arguments.length; i++)
                    n[i - 1] = arguments[i];
                e.prototype.trigger.apply(this, l([t], n))
            }
            ,
            t.prototype.on = function(t, n, i) {
                return e.prototype.on.call(this, t, n, i)
            }
            ,
            t
        }(Bf)
          , _f = function() {
            function e(e, t, n) {
                var i = this;
                this.chooser = e,
                this.containerEl = t,
                this.values = [],
                this.suggestions = [],
                this.selectedItem = 0,
                t.on("click", ".suggestion-item", this.onSuggestionClick.bind(this)),
                t.on("mousemove", ".suggestion-item", this.onSuggestionMouseover.bind(this)),
                n.register([], "ArrowUp", (function(e) {
                    if (!e.isComposing)
                        return i.setSelectedItem(i.selectedItem - 1, !0),
                        !1
                }
                )),
                n.register([], "ArrowDown", (function(e) {
                    if (!e.isComposing)
                        return i.setSelectedItem(i.selectedItem + 1, !0),
                        !1
                }
                )),
                n.register([], "Enter", (function(e) {
                    if (!e.isComposing)
                        return i.useSelectedItem(e),
                        !1
                }
                ))
            }
            return e.prototype.setSuggestions = function(e) {
                var t = this.containerEl;
                t.empty();
                var n = [];
                if (e)
                    for (var i = 0, r = e; i < r.length; i++) {
                        var o = r[i]
                          , s = t.createDiv("suggestion-item");
                        this.chooser.renderSuggestion(o, s),
                        n.push(s)
                    }
                this.values = e,
                this.suggestions = n,
                this.setSelectedItem(0)
            }
            ,
            e.prototype.addMessage = function(e) {
                this.containerEl.createDiv({
                    cls: "suggestion-empty",
                    text: e
                })
            }
            ,
            e.prototype.setSelectedItem = function(e, t) {
                void 0 === t && (t = !1);
                var n = this.suggestions;
                0 !== n.length && (e < 0 ? e = n.length - 1 : e >= n.length && (e = 0),
                this.forceSetSelectedItem(e, t))
            }
            ,
            e.prototype.forceSetSelectedItem = function(e, t) {
                void 0 === t && (t = !1);
                var n = this.suggestions
                  , i = n[this.selectedItem];
                i && i.removeClass("is-selected"),
                this.selectedItem = e;
                var r = n[this.selectedItem];
                r && (r.addClass("is-selected"),
                t && r.scrollIntoView(!1))
            }
            ,
            e.prototype.onSuggestionClick = function(e, t) {
                e.preventDefault();
                var n = this.suggestions.indexOf(t);
                this.setSelectedItem(n),
                this.useSelectedItem(e)
            }
            ,
            e.prototype.onSuggestionMouseover = function(e, t) {
                var n = this.suggestions.indexOf(t);
                this.setSelectedItem(n)
            }
            ,
            e.prototype.useSelectedItem = function(e) {
                if (!this.values)
                    return !1;
                var t = this.values[this.selectedItem];
                return void 0 !== t && (this.chooser.selectSuggestion(t, e),
                !0)
            }
            ,
            e
        }()
          , jf = function() {
            function e(e, t) {
                var n = this;
                this.dimBackground = !1,
                this.isOpen = !1,
                this.app = e,
                this.scope = new nn(t || e.scope),
                this.suggestEl = createDiv("suggestion-container");
                var i = this.suggestEl.createDiv("suggestion");
                this.suggestions = new _f(this,i,this.scope),
                this.scope.register([], "Escape", (function() {
                    return n.close(),
                    !1
                }
                ))
            }
            return e.prototype.open = function() {
                var e = this.app
                  , t = this.suggestEl;
                if (!this.isOpen) {
                    if (this.isOpen = !0,
                    e.keymap.pushScope(this.scope),
                    Dt(t, !0),
                    document.body.appendChild(t),
                    on.isMobile) {
                        var n = t.offsetHeight - 1;
                        At(t, new Et({
                            duration: 300
                        }).addProp("transform", "translateY(" + n + "px)", ""))
                    }
                    e.workspace.pushClosable(this)
                }
            }
            ,
            e.prototype.close = function() {
                var e = this
                  , t = this.app
                  , n = this.suggestEl;
                if (this.autoDestroy && (this.autoDestroy(),
                this.autoDestroy = null),
                t.keymap.popScope(this.scope),
                this.isOpen) {
                    if (this.isOpen = !1,
                    on.isMobile) {
                        var i = n.offsetHeight - 1;
                        At(n, new Et({
                            duration: 300
                        }).addProp("transform", "", "translateY(" + i + "px)"), (function() {
                            e.suggestions.setSuggestions([]),
                            n.detach()
                        }
                        ))
                    } else
                        this.suggestions.setSuggestions([]),
                        n.detach();
                    t.workspace.popClosable(this)
                }
            }
            ,
            e.prototype.reposition = function(e) {
                var t = this.suggestEl;
                t.style.left = "0",
                t.style.top = "0",
                Ht(e, t, {
                    gap: 5
                })
            }
            ,
            e.prototype.setAutoDestroy = function(e) {
                var t = this;
                this.autoDestroy && this.autoDestroy(),
                e && (this.autoDestroy = function(e, t, n) {
                    var i = setInterval((function() {
                        document.body.contains(e) || (clearInterval(i),
                        n())
                    }
                    ), t);
                    return function() {
                        clearInterval(i)
                    }
                }(e, 500, (function() {
                    t.close()
                }
                )))
            }
            ,
            e
        }()
          , Wf = function(e) {
            function t(t, n, i) {
                var r = e.call(this, t, n) || this;
                return r.editor = i,
                r.suggestEl.addEventListener("mousedown", (function(e) {
                    return e.preventDefault()
                }
                )),
                r
            }
            return i(t, e),
            t.prototype.trigger = function(e, t) {
                return this.file = e,
                !1
            }
            ,
            t.prototype.populateSuggestions = function(e) {
                var t = this.getSuggestions(e);
                0 !== t.length ? (t.length > 500 && (t = t.slice(0, 500)),
                this.suggestions.setSuggestions(t),
                this.updatePosition(!0)) : this.close()
            }
            ,
            t.prototype.updatePosition = function(e) {
                var t = this.editor;
                if (this.open(),
                on.isMobile) {
                    if (e) {
                        var n = this.editor
                          , i = n.getCursor()
                          , r = n.coordsAtPos(i, !0)
                          , o = n.getScrollInfo();
                        Math.abs(o.top - r.top) > 10 && n.scrollTo(null, r.top + 3)
                    }
                } else {
                    var s = t.coordsAtPos(this.textStart)
                      , a = t.coordsAtPos(this.textEnd);
                    this.reposition({
                        top: s.top,
                        left: Math.min(s.left, a.left),
                        right: Math.max(s.right, a.right),
                        bottom: a.bottom
                    })
                }
            }
            ,
            t
        }(jf)
          , $f = n(773)
          , Gf = n.n($f)
          , Yf = n(6630)
          , Kf = n.n(Yf)
          , Qf = n(939)
          , Jf = n.n(Qf);
        const Xf = Symbol.for("yaml.alias")
          , Zf = Symbol.for("yaml.document")
          , eg = Symbol.for("yaml.map")
          , tg = Symbol.for("yaml.pair")
          , ng = Symbol.for("yaml.scalar")
          , ig = Symbol.for("yaml.seq")
          , rg = Symbol.for("yaml.node.type")
          , og = e=>!!e && "object" == typeof e && e[rg] === Xf
          , sg = e=>!!e && "object" == typeof e && e[rg] === Zf
          , ag = e=>!!e && "object" == typeof e && e[rg] === eg
          , lg = e=>!!e && "object" == typeof e && e[rg] === tg
          , cg = e=>!!e && "object" == typeof e && e[rg] === ng
          , ug = e=>!!e && "object" == typeof e && e[rg] === ig;
        function hg(e) {
            if (e && "object" == typeof e)
                switch (e[rg]) {
                case eg:
                case ig:
                    return !0
                }
            return !1
        }
        function pg(e) {
            if (e && "object" == typeof e)
                switch (e[rg]) {
                case Xf:
                case eg:
                case ng:
                case ig:
                    return !0
                }
            return !1
        }
        class dg {
            constructor(e) {
                Object.defineProperty(this, rg, {
                    value: e
                })
            }
        }
        const fg = Symbol("break visit")
          , gg = Symbol("skip children")
          , mg = Symbol("remove node");
        function vg(e, t) {
            if (sg(e)) {
                yg(null, e.contents, t, Object.freeze([e])) === mg && (e.contents = null)
            } else
                yg(null, e, t, Object.freeze([]))
        }
        function yg(e, t, n, i) {
            let r;
            if ("function" == typeof n ? r = n(e, t, i) : ag(t) ? n.Map && (r = n.Map(e, t, i)) : ug(t) ? n.Seq && (r = n.Seq(e, t, i)) : lg(t) ? n.Pair && (r = n.Pair(e, t, i)) : cg(t) ? n.Scalar && (r = n.Scalar(e, t, i)) : og(t) && n.Alias && (r = n.Alias(e, t, i)),
            pg(r) || lg(r)) {
                const t = i[i.length - 1];
                if (hg(t))
                    t.items[e] = r;
                else if (lg(t))
                    "key" === e ? t.key = r : t.value = r;
                else {
                    if (!sg(t)) {
                        const e = og(t) ? "alias" : "scalar";
                        throw new Error(`Cannot replace node with ${e} parent`)
                    }
                    t.contents = r
                }
                return yg(e, r, n, i)
            }
            if ("symbol" != typeof r)
                if (hg(t)) {
                    i = Object.freeze(i.concat(t));
                    for (let e = 0; e < t.items.length; ++e) {
                        const r = yg(e, t.items[e], n, i);
                        if ("number" == typeof r)
                            e = r - 1;
                        else {
                            if (r === fg)
                                return fg;
                            r === mg && (t.items.splice(e, 1),
                            e -= 1)
                        }
                    }
                } else if (lg(t)) {
                    i = Object.freeze(i.concat(t));
                    const e = yg("key", t.key, n, i);
                    if (e === fg)
                        return fg;
                    e === mg && (t.key = null);
                    const r = yg("value", t.value, n, i);
                    if (r === fg)
                        return fg;
                    r === mg && (t.value = null)
                }
            return r
        }
        vg.BREAK = fg,
        vg.SKIP = gg,
        vg.REMOVE = mg;
        const bg = {
            "!": "%21",
            ",": "%2C",
            "[": "%5B",
            "]": "%5D",
            "{": "%7B",
            "}": "%7D"
        };
        class wg {
            constructor(e, t) {
                this.marker = null,
                this.yaml = Object.assign({}, wg.defaultYaml, e),
                this.tags = Object.assign({}, wg.defaultTags, t)
            }
            atDocument() {
                const e = new wg(this.yaml,this.tags);
                switch (this.yaml.version) {
                case "1.1":
                    this.atNextDocument = !0;
                    break;
                case "1.2":
                    this.atNextDocument = !1,
                    this.yaml = {
                        explicit: wg.defaultYaml.explicit,
                        version: "1.2"
                    },
                    this.tags = Object.assign({}, wg.defaultTags)
                }
                return e
            }
            add(e, t) {
                this.atNextDocument && (this.yaml = {
                    explicit: wg.defaultYaml.explicit,
                    version: "1.1"
                },
                this.tags = Object.assign({}, wg.defaultTags),
                this.atNextDocument = !1);
                const n = e.trim().split(/[ \t]+/)
                  , i = n.shift();
                switch (i) {
                case "%TAG":
                    {
                        if (2 !== n.length && (t(0, "%TAG directive should contain exactly two parts"),
                        n.length < 2))
                            return !1;
                        const [e,i] = n;
                        return this.tags[e] = i,
                        !0
                    }
                case "%YAML":
                    {
                        if (this.yaml.explicit = !0,
                        n.length < 1)
                            return t(0, "%YAML directive should contain exactly one part"),
                            !1;
                        const [e] = n;
                        return "1.1" === e || "1.2" === e ? (this.yaml.version = e,
                        !0) : (t(6, `Unsupported YAML version ${e}`, !0),
                        !1)
                    }
                default:
                    return t(0, `Unknown directive ${i}`, !0),
                    !1
                }
            }
            tagName(e, t) {
                if ("!" === e)
                    return "!";
                if ("!" !== e[0])
                    return t(`Not a valid tag: ${e}`),
                    null;
                if ("<" === e[1]) {
                    const n = e.slice(2, -1);
                    return "!" === n || "!!" === n ? (t(`Verbatim tags aren't resolved, so ${e} is invalid.`),
                    null) : (">" !== e[e.length - 1] && t("Verbatim tags must end with a >"),
                    n)
                }
                const [,n,i] = e.match(/^(.*!)([^!]*)$/);
                i || t(`The ${e} tag has no suffix`);
                const r = this.tags[n];
                return r ? r + decodeURIComponent(i) : "!" === n ? e : (t(`Could not resolve tag: ${e}`),
                null)
            }
            tagString(e) {
                for (const [t,n] of Object.entries(this.tags))
                    if (e.startsWith(n))
                        return t + e.substring(n.length).replace(/[!,[\]{}]/g, (e=>bg[e]));
                return "!" === e[0] ? e : `!<${e}>`
            }
            toString(e) {
                const t = this.yaml.explicit ? [`%YAML ${this.yaml.version || "1.2"}`] : []
                  , n = Object.entries(this.tags);
                let i;
                if (e && n.length > 0 && pg(e.contents)) {
                    const t = {};
                    vg(e.contents, ((e,n)=>{
                        pg(n) && n.tag && (t[n.tag] = !0)
                    }
                    )),
                    i = Object.keys(t)
                } else
                    i = [];
                for (const [r,o] of n)
                    "!!" === r && "tag:yaml.org,2002:" === o || e && !i.some((e=>e.startsWith(o))) || t.push(`%TAG ${r} ${o}`);
                return t.join("\n")
            }
        }
        function kg(e, t, n) {
            if (Array.isArray(e))
                return e.map(((e,t)=>kg(e, String(t), n)));
            if (e && "function" == typeof e.toJSON) {
                if (!n)
                    return e.toJSON(t);
                const i = n.anchors && n.anchors.get(e);
                i && (n.onCreate = e=>{
                    i.res = e,
                    delete n.onCreate
                }
                );
                const r = e.toJSON(t, n);
                return i && n.onCreate && n.onCreate(r),
                r
            }
            return n && n.keep || "bigint" != typeof e ? e : Number(e)
        }
        wg.defaultYaml = {
            explicit: !1,
            version: "1.2"
        },
        wg.defaultTags = {
            "!!": "tag:yaml.org,2002:"
        };
        class Cg extends dg {
            constructor(e) {
                super(Xf),
                this.source = e,
                Object.defineProperty(this, "tag", {
                    set() {
                        throw new Error("Alias nodes cannot have tags")
                    }
                })
            }
            toJSON(e, t) {
                if (!t)
                    return kg(this.source, "string" == typeof e ? e : null, t);
                const {anchors: n, maxAliasCount: i} = t
                  , r = n && n.get(this.source);
                if (!r || void 0 === r.res) {
                    throw new ReferenceError("This should not happen: Alias anchor was not resolved?")
                }
                if (i >= 0 && (r.count += 1,
                0 === r.aliasCount && (r.aliasCount = xg(this.source, n)),
                r.count * r.aliasCount > i)) {
                    throw new ReferenceError("Excessive alias count indicates a resource exhaustion attack")
                }
                return r.res
            }
            toString({anchors: e, doc: t, implicitKey: n, inStringifyKey: i}, r, o) {
                let s = Object.keys(e).find((t=>e[t] === this.source));
                if (!s && i && (s = t.anchors.getName(this.source) || t.anchors.newName()),
                s)
                    return `*${s}${n ? " " : ""}`;
                const a = t.anchors.getName(this.source) ? "Alias node must be after source node" : "Source node not found for alias node";
                throw new Error(`${a} [${this.range}]`)
            }
        }
        function xg(e, t) {
            if (og(e)) {
                const n = t && t.get(e.source);
                return n ? n.count * n.aliasCount : 0
            }
            if (hg(e)) {
                let n = 0;
                for (const i of e.items) {
                    const e = xg(i, t);
                    e > n && (n = e)
                }
                return n
            }
            if (lg(e)) {
                const n = xg(e.key, t)
                  , i = xg(e.value, t);
                return Math.max(n, i)
            }
            return 1
        }
        const Eg = e=>!e || "function" != typeof e && "object" != typeof e;
        class Sg extends dg {
            constructor(e) {
                super(ng),
                this.value = e
            }
            toJSON(e, t) {
                return t && t.keep ? this.value : kg(this.value, e, t)
            }
            toString() {
                return String(this.value)
            }
        }
        Sg.BLOCK_FOLDED = "BLOCK_FOLDED",
        Sg.BLOCK_LITERAL = "BLOCK_LITERAL",
        Sg.PLAIN = "PLAIN",
        Sg.QUOTE_DOUBLE = "QUOTE_DOUBLE",
        Sg.QUOTE_SINGLE = "QUOTE_SINGLE";
        function Lg(e, t, n) {
            var i, r;
            if (pg(e))
                return e;
            if (lg(e)) {
                const t = null === (r = (i = n.schema.map).createNode) || void 0 === r ? void 0 : r.call(i, n.schema, null, n);
                return t.items.push(e),
                t
            }
            (e instanceof String || e instanceof Number || e instanceof Boolean || "function" == typeof BigInt && e instanceof BigInt) && (e = e.valueOf());
            const {onAlias: o, onTagObj: s, prevObjects: a} = n
              , {map: l, seq: c, tags: u} = n.schema;
            t && t.startsWith("!!") && (t = "tag:yaml.org,2002:" + t.slice(2));
            let h = function(e, t, n) {
                if (t) {
                    const e = n.filter((e=>e.tag === t))
                      , i = e.find((e=>!e.format)) || e[0];
                    if (!i)
                        throw new Error(`Tag ${t} not found`);
                    return i
                }
                return n.find((t=>t.identify && t.identify(e) && !t.format))
            }(e, t, u);
            if (!h) {
                if (e && "function" == typeof e.toJSON && (e = e.toJSON()),
                !e || "object" != typeof e)
                    return new Sg(e);
                h = e instanceof Map ? l : Symbol.iterator in Object(e) ? c : l
            }
            s && (s(h),
            delete n.onTagObj);
            const p = {
                value: void 0,
                node: void 0
            };
            if (e && "object" == typeof e) {
                const t = a.get(e);
                if (t)
                    return o(t);
                p.value = e,
                a.set(e, p)
            }
            const d = (null == h ? void 0 : h.createNode) ? h.createNode(n.schema, e, n) : new Sg(e);
            return t && (d.tag = t),
            p.node = d,
            d
        }
        function Dg(e, t, n) {
            return n ? n.includes("\n") ? `${e}\n` + n.replace(/^/gm, `${t || ""}#`) : e.endsWith(" ") ? `${e}#${n}` : `${e} #${n}` : e
        }
        const Mg = "flow"
          , Ag = "block"
          , Tg = "quoted";
        function Fg(e, t, n="flow", {indentAtStart: i, lineWidth: r=80, minContentWidth: o=20, onFold: s, onOverflow: a}={}) {
            if (!r || r < 0)
                return e;
            const l = Math.max(1 + o, 1 + r - t.length);
            if (e.length <= l)
                return e;
            const c = []
              , u = {};
            let h, p, d = r - t.length;
            "number" == typeof i && (i > r - Math.max(2, o) ? c.push(0) : d = r - i);
            let f, g = !1, m = -1, v = -1, y = -1;
            for (n === Ag && (m = Pg(e, m),
            -1 !== m && (d = m + l)); f = e[m += 1]; ) {
                if (n === Tg && "\\" === f) {
                    switch (v = m,
                    e[m + 1]) {
                    case "x":
                        m += 3;
                        break;
                    case "u":
                        m += 5;
                        break;
                    case "U":
                        m += 9;
                        break;
                    default:
                        m += 1
                    }
                    y = m
                }
                if ("\n" === f)
                    n === Ag && (m = Pg(e, m)),
                    d = m + l,
                    h = void 0;
                else {
                    if (" " === f && p && " " !== p && "\n" !== p && "\t" !== p) {
                        const t = e[m + 1];
                        t && " " !== t && "\n" !== t && "\t" !== t && (h = m)
                    }
                    if (m >= d)
                        if (h)
                            c.push(h),
                            d = h + l,
                            h = void 0;
                        else if (n === Tg) {
                            for (; " " === p || "\t" === p; )
                                p = f,
                                f = e[m += 1],
                                g = !0;
                            const t = m > y + 1 ? m - 2 : v - 1;
                            if (u[t])
                                return e;
                            c.push(t),
                            u[t] = !0,
                            d = t + l,
                            h = void 0
                        } else
                            g = !0
                }
                p = f
            }
            if (g && a && a(),
            0 === c.length)
                return e;
            s && s();
            let b = e.slice(0, c[0]);
            for (let i = 0; i < c.length; ++i) {
                const r = c[i]
                  , o = c[i + 1] || e.length;
                0 === r ? b = `\n${t}${e.slice(0, o)}` : (n === Tg && u[r] && (b += `${e[r]}\\`),
                b += `\n${t}${e.slice(r + 1, o)}`)
            }
            return b
        }
        function Pg(e, t) {
            let n = e[t + 1];
            for (; " " === n || "\t" === n; ) {
                do {
                    n = e[t += 1]
                } while (n && "\n" !== n);
                n = e[t + 1]
            }
            return t
        }
        const Og = e=>({
            indentAtStart: e.indentAtStart,
            lineWidth: e.options.lineWidth,
            minContentWidth: e.options.minContentWidth
        })
          , Ig = e=>/^(%|---|\.\.\.)/m.test(e);
        function Ng(e, t) {
            const n = JSON.stringify(e);
            if (t.options.doubleQuotedAsJSON)
                return n;
            const {implicitKey: i} = t
              , r = t.options.doubleQuotedMinMultiLineLength
              , o = t.indent || (Ig(e) ? "  " : "");
            let s = ""
              , a = 0;
            for (let e = 0, t = n[e]; t; t = n[++e])
                if (" " === t && "\\" === n[e + 1] && "n" === n[e + 2] && (s += n.slice(a, e) + "\\ ",
                e += 1,
                a = e,
                t = "\\"),
                "\\" === t)
                    switch (n[e + 1]) {
                    case "u":
                        {
                            s += n.slice(a, e);
                            const t = n.substr(e + 2, 4);
                            switch (t) {
                            case "0000":
                                s += "\\0";
                                break;
                            case "0007":
                                s += "\\a";
                                break;
                            case "000b":
                                s += "\\v";
                                break;
                            case "001b":
                                s += "\\e";
                                break;
                            case "0085":
                                s += "\\N";
                                break;
                            case "00a0":
                                s += "\\_";
                                break;
                            case "2028":
                                s += "\\L";
                                break;
                            case "2029":
                                s += "\\P";
                                break;
                            default:
                                "00" === t.substr(0, 2) ? s += "\\x" + t.substr(2) : s += n.substr(e, 6)
                            }
                            e += 5,
                            a = e + 1
                        }
                        break;
                    case "n":
                        if (i || '"' === n[e + 2] || n.length < r)
                            e += 1;
                        else {
                            for (s += n.slice(a, e) + "\n\n"; "\\" === n[e + 2] && "n" === n[e + 3] && '"' !== n[e + 4]; )
                                s += "\n",
                                e += 2;
                            s += o,
                            " " === n[e + 2] && (s += "\\"),
                            e += 1,
                            a = e + 1
                        }
                        break;
                    default:
                        e += 1
                    }
            return s = a ? s + n.slice(a) : n,
            i ? s : Fg(s, o, Tg, Og(t))
        }
        function Rg(e, t) {
            if (t.implicitKey) {
                if (/\n/.test(e))
                    return Ng(e, t)
            } else if (/[ \t]\n|\n[ \t]/.test(e))
                return Ng(e, t);
            const n = t.indent || (Ig(e) ? "  " : "")
              , i = "'" + e.replace(/'/g, "''").replace(/\n+/g, `$&\n${n}`) + "'";
            return t.implicitKey ? i : Fg(i, n, Mg, Og(t))
        }
        function Bg({comment: e, type: t, value: n}, i, r, o) {
            if (/\n[\t ]+$/.test(n) || /^\s*$/.test(n))
                return Ng(n, i);
            const s = i.indent || (i.forceBlockIndent || Ig(n) ? "  " : "")
              , a = s ? "2" : "1"
              , l = t !== Sg.BLOCK_FOLDED && (t === Sg.BLOCK_LITERAL || !function(e, t, n) {
                if (!t || t < 0)
                    return !1;
                const i = t - n
                  , r = e.length;
                if (r <= i)
                    return !1;
                for (let t = 0, n = 0; t < r; ++t)
                    if ("\n" === e[t]) {
                        if (t - n > i)
                            return !0;
                        if (n = t + 1,
                        r - n <= i)
                            return !1
                    }
                return !0
            }(n, i.options.lineWidth, s.length));
            let c = l ? "|" : ">";
            if (!n)
                return c + "\n";
            let u = ""
              , h = "";
            if (n = n.replace(/[\n\t ]*$/, (e=>{
                const t = e.indexOf("\n");
                return -1 === t ? c += "-" : n !== e && t === e.length - 1 || (c += "+",
                o && o()),
                h = e.replace(/\n$/, ""),
                ""
            }
            )).replace(/^[\n ]*/, (e=>{
                -1 !== e.indexOf(" ") && (c += a);
                const t = e.match(/ +$/);
                return t ? (u = e.slice(0, -t[0].length),
                t[0]) : (u = e,
                "")
            }
            )),
            h && (h = h.replace(/\n+(?!\n|$)/g, `$&${s}`)),
            u && (u = u.replace(/\n+/g, `$&${s}`)),
            e && (c += " #" + e.replace(/ ?[\r\n]+/g, " "),
            r && r()),
            !n)
                return `${c}${a}\n${s}${h}`;
            if (l)
                return n = n.replace(/\n+/g, `$&${s}`),
                `${c}\n${s}${u}${n}${h}`;
            n = n.replace(/\n+/g, "\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g, "$1$2").replace(/\n+/g, `$&${s}`);
            const p = Fg(`${u}${n}${h}`, s, Ag, Og(i));
            return `${c}\n${s}${p}`
        }
        function zg(e, t, n, i) {
            const {implicitKey: r, inFlow: o} = t
              , s = "string" == typeof e.value ? e : Object.assign({}, e, {
                value: String(e.value)
            });
            let {type: a} = e;
            a !== Sg.QUOTE_DOUBLE && /[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(s.value) && (a = Sg.QUOTE_DOUBLE);
            const l = e=>{
                switch (e) {
                case Sg.BLOCK_FOLDED:
                case Sg.BLOCK_LITERAL:
                    return r || o ? Ng(s.value, t) : Bg(s, t, n, i);
                case Sg.QUOTE_DOUBLE:
                    return Ng(s.value, t);
                case Sg.QUOTE_SINGLE:
                    return Rg(s.value, t);
                case Sg.PLAIN:
                    return function(e, t, n, i) {
                        var r;
                        const {comment: o, type: s, value: a} = e
                          , {actualString: l, implicitKey: c, indent: u, inFlow: h} = t;
                        if (c && /[\n[\]{},]/.test(a) || h && /[[\]{},]/.test(a))
                            return Ng(a, t);
                        if (!a || /^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(a)) {
                            const r = -1 !== a.indexOf('"')
                              , o = -1 !== a.indexOf("'");
                            let s;
                            return s = r && !o ? Rg : o && !r ? Ng : t.options.singleQuote ? Rg : Ng,
                            c || h || -1 === a.indexOf("\n") ? s(a, t) : Bg(e, t, n, i)
                        }
                        if (!c && !h && s !== Sg.PLAIN && -1 !== a.indexOf("\n"))
                            return Bg(e, t, n, i);
                        if ("" === u && Ig(a))
                            return t.forceBlockIndent = !0,
                            Bg(e, t, n, i);
                        const p = a.replace(/\n+/g, `$&\n${u}`);
                        if (l)
                            for (const e of t.doc.schema.tags)
                                if (e.default && "tag:yaml.org,2002:str" !== e.tag && (null === (r = e.test) || void 0 === r ? void 0 : r.test(p)))
                                    return Ng(a, t);
                        const d = c ? p : Fg(p, u, Mg, Og(t));
                        return !o || h || -1 === d.indexOf("\n") && -1 === o.indexOf("\n") ? d : (n && n(),
                        function(e, t, n) {
                            return n ? `#${n.replace(/[\s\S]^/gm, `$&${t}#`)}\n${t}${e}` : e
                        }(d, u, o))
                    }(s, t, n, i);
                default:
                    return null
                }
            }
            ;
            let c = l(a);
            if (null === c) {
                const {defaultKeyType: e, defaultStringType: n} = t.options
                  , i = r && e || n;
                if (c = l(i),
                null === c)
                    throw new Error(`Unsupported default string type ${i}`)
            }
            return c
        }
        const Hg = (e,t)=>({
            anchors: Object.create(null),
            doc: e,
            indent: "",
            indentStep: "number" == typeof t.indent ? " ".repeat(t.indent) : "  ",
            options: Object.assign({
                defaultKeyType: null,
                defaultStringType: "PLAIN",
                directives: null,
                doubleQuotedAsJSON: !1,
                doubleQuotedMinMultiLineLength: 40,
                falseStr: "false",
                indentSeq: !0,
                lineWidth: 80,
                minContentWidth: 20,
                nullStr: "null",
                simpleKeys: !1,
                singleQuote: !1,
                trueStr: "true"
            }, t)
        });
        function Vg(e, t, n, i) {
            if (lg(e))
                return e.toString(t, n, i);
            if (og(e))
                return e.toString(t);
            let r;
            const o = pg(e) ? e : t.doc.createNode(e, {
                onTagObj: e=>r = e
            });
            r || (r = function(e, t) {
                if (t.tag) {
                    const n = e.filter((e=>e.tag === t.tag));
                    if (n.length > 0)
                        return n.find((e=>e.format === t.format)) || n[0]
                }
                let n, i;
                if (cg(t)) {
                    i = t.value;
                    const r = e.filter((e=>e.identify && e.identify(i)));
                    n = r.find((e=>e.format === t.format)) || r.find((e=>!e.format))
                } else
                    i = t,
                    n = e.find((e=>e.nodeClass && i instanceof e.nodeClass));
                if (!n) {
                    const e = i && i.constructor ? i.constructor.name : typeof i;
                    throw new Error(`Tag not resolved for ${e} value`)
                }
                return n
            }(t.doc.schema.tags, o));
            const s = function(e, t, {anchors: n, doc: i}) {
                const r = []
                  , o = i.anchors.getName(e);
                return o && (n[o] = e,
                r.push(`&${o}`)),
                e.tag ? r.push(i.directives.tagString(e.tag)) : t.default || r.push(i.directives.tagString(t.tag)),
                r.join(" ")
            }(o, r, t);
            s.length > 0 && (t.indentAtStart = (t.indentAtStart || 0) + s.length + 1);
            const a = "function" == typeof r.stringify ? r.stringify(o, t, n, i) : cg(o) ? zg(o, t, n, i) : o.toString(t, n, i);
            return s ? cg(o) || "{" === a[0] || "[" === a[0] ? `${s} ${a}` : `${s}\n${t.indent}${a}` : a
        }
        function qg(e, t, n) {
            let i = n;
            for (let e = t.length - 1; e >= 0; --e) {
                const n = t[e];
                if ("number" == typeof n && Number.isInteger(n) && n >= 0) {
                    const e = [];
                    e[n] = i,
                    i = e
                } else {
                    const e = {};
                    Object.defineProperty(e, "symbol" == typeof n ? n : String(n), {
                        value: i,
                        writable: !0,
                        enumerable: !0,
                        configurable: !0
                    }),
                    i = e
                }
            }
            return Lg(i, void 0, {
                onAlias() {
                    throw new Error("Repeated objects are not supported here")
                },
                prevObjects: new Map,
                schema: e
            })
        }
        const Ug = e=>null == e || "object" == typeof e && !!e[Symbol.iterator]().next().done;
        class _g extends dg {
            constructor(e, t) {
                super(e),
                Object.defineProperty(this, "schema", {
                    value: t,
                    configurable: !0,
                    enumerable: !1,
                    writable: !0
                })
            }
            addIn(e, t) {
                if (Ug(e))
                    this.add(t);
                else {
                    const [n,...i] = e
                      , r = this.get(n, !0);
                    if (hg(r))
                        r.addIn(i, t);
                    else {
                        if (void 0 !== r || !this.schema)
                            throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`);
                        this.set(n, qg(this.schema, i, t))
                    }
                }
            }
            deleteIn([e,...t]) {
                if (0 === t.length)
                    return this.delete(e);
                const n = this.get(e, !0);
                if (hg(n))
                    return n.deleteIn(t);
                throw new Error(`Expected YAML collection at ${e}. Remaining path: ${t}`)
            }
            getIn([e,...t], n) {
                const i = this.get(e, !0);
                return 0 === t.length ? !n && cg(i) ? i.value : i : hg(i) ? i.getIn(t, n) : void 0
            }
            hasAllNullValues(e) {
                return this.items.every((t=>{
                    if (!t || pg(t))
                        return !1;
                    const n = t.value;
                    return null == n || e && cg(n) && null == n.value && !n.commentBefore && !n.comment && !n.tag
                }
                ))
            }
            hasIn([e,...t]) {
                if (0 === t.length)
                    return this.has(e);
                const n = this.get(e, !0);
                return !!hg(n) && n.hasIn(t)
            }
            setIn([e,...t], n) {
                if (0 === t.length)
                    this.set(e, n);
                else {
                    const i = this.get(e, !0);
                    if (hg(i))
                        i.setIn(t, n);
                    else {
                        if (void 0 !== i || !this.schema)
                            throw new Error(`Expected YAML collection at ${e}. Remaining path: ${t}`);
                        this.set(e, qg(this.schema, t, n))
                    }
                }
            }
            _toString(e, {blockItem: t, flowChars: n, itemIndent: i}, r, o) {
                const {indent: s, indentStep: a} = e
                  , l = this.flow || e.inFlow;
                l && (i += a),
                e = Object.assign({}, e, {
                    indent: i,
                    inFlow: l,
                    type: null
                });
                let c = !1
                  , u = !1;
                const h = this.items.reduce(((t,n,r)=>{
                    let o = null;
                    if (pg(n) || lg(n)) {
                        if (!c && n.spaceBefore && t.push({
                            type: "comment",
                            str: ""
                        }),
                        n.commentBefore)
                            for (const e of n.commentBefore.match(/^.*$/gm))
                                t.push({
                                    type: "comment",
                                    str: `#${e}`
                                });
                        n.comment && (o = n.comment);
                        const e = n;
                        l && (!c && n.spaceBefore || n.commentBefore || n.comment || e.key && (e.key.commentBefore || e.key.comment) || e.value && (e.value.commentBefore || e.value.comment)) && (u = !0)
                    }
                    c = !1;
                    let s = Vg(n, e, (()=>o = null), (()=>c = !0));
                    return l && !u && s.includes("\n") && (u = !0),
                    l && r < this.items.length - 1 && (s += ","),
                    s = Dg(s, i, o),
                    c && (o || l) && (c = !1),
                    t.push({
                        type: "item",
                        str: s
                    }),
                    t
                }
                ), []);
                let p;
                if (0 === h.length)
                    p = n.start + n.end;
                else if (l) {
                    const {start: e, end: t} = n
                      , i = h.map((e=>e.str));
                    if (u || i.reduce(((e,t)=>e + t.length + 2), 2) > _g.maxFlowStringSingleLineLength) {
                        p = e;
                        for (const e of i)
                            p += e ? `\n${a}${s}${e}` : "\n";
                        p += `\n${s}${t}`
                    } else
                        p = `${e} ${i.join(" ")} ${t}`
                } else {
                    const e = h.map(t);
                    p = e.shift() || "";
                    for (const t of e)
                        p += t ? `\n${s}${t}` : "\n"
                }
                return this.comment ? (p += "\n" + this.comment.replace(/^/gm, `${s}#`),
                r && r()) : c && o && o(),
                p
            }
        }
        function jg(e, t) {
            "debug" !== e && "warn" !== e || ("undefined" != typeof process && process.emitWarning ? process.emitWarning(t) : console.warn(t))
        }
        function Wg(e, t, n) {
            const i = Lg(e, void 0, n)
              , r = Lg(t, void 0, n);
            return new Gg(i,r)
        }
        _g.maxFlowStringSingleLineLength = 60;
        function $g(e, t, n) {
            if (!og(n) || !ag(n.source))
                throw new Error("Merge sources must be map aliases");
            const i = n.source.toJSON(null, e, Map);
            for (const [e,n] of i)
                t instanceof Map ? t.has(e) || t.set(e, n) : t instanceof Set ? t.add(e) : Object.prototype.hasOwnProperty.call(t, e) || Object.defineProperty(t, e, {
                    value: n,
                    writable: !0,
                    enumerable: !0,
                    configurable: !0
                });
            return t
        }
        class Gg extends dg {
            constructor(e, t=null) {
                super(tg),
                this.key = e,
                this.value = t
            }
            get commentBefore() {
                return pg(this.key) ? this.key.commentBefore : void 0
            }
            set commentBefore(e) {
                if (null == this.key && (this.key = new Sg(null)),
                !pg(this.key)) {
                    throw new Error("Pair.commentBefore is an alias for Pair.key.commentBefore. To set it, the key must be a Node.")
                }
                this.key.commentBefore = e
            }
            get spaceBefore() {
                return pg(this.key) ? this.key.spaceBefore : void 0
            }
            set spaceBefore(e) {
                if (null == this.key && (this.key = new Sg(null)),
                !pg(this.key)) {
                    throw new Error("Pair.spaceBefore is an alias for Pair.key.spaceBefore. To set it, the key must be a Node.")
                }
                this.key.spaceBefore = e
            }
            addToJSMap(e, t) {
                if (e && e.doc.schema.merge && (e=>e === Gg.MERGE_KEY || cg(e) && e.value === Gg.MERGE_KEY && (!e.type || e.type === Sg.PLAIN))(this.key))
                    if (ug(this.value))
                        for (const n of this.value.items)
                            $g(e, t, n);
                    else if (Array.isArray(this.value))
                        for (const n of this.value)
                            $g(e, t, n);
                    else
                        $g(e, t, this.value);
                else {
                    const n = kg(this.key, "", e);
                    if (t instanceof Map) {
                        const i = kg(this.value, n, e);
                        t.set(n, i)
                    } else if (t instanceof Set)
                        t.add(n);
                    else {
                        const i = function(e, t, n) {
                            if (null === t)
                                return "";
                            if ("object" != typeof t)
                                return String(t);
                            if (pg(e) && n && n.doc) {
                                const t = Hg(n.doc, {});
                                t.inFlow = !0,
                                t.inStringifyKey = !0;
                                const i = e.toString(t);
                                if (!n.mapKeyWarned) {
                                    let e = JSON.stringify(i);
                                    e.length > 40 && (e = e.substring(0, 36) + '..."'),
                                    jg(n.doc.options.logLevel, `Keys with collection values will be stringified due to JS Object restrictions: ${e}. Set mapAsMap: true to use object keys.`),
                                    n.mapKeyWarned = !0
                                }
                                return i
                            }
                            return JSON.stringify(t)
                        }(this.key, n, e)
                          , r = kg(this.value, i, e);
                        i in t ? Object.defineProperty(t, i, {
                            value: r,
                            writable: !0,
                            enumerable: !0,
                            configurable: !0
                        }) : t[i] = r
                    }
                }
                return t
            }
            toJSON(e, t) {
                const n = t && t.mapAsMap ? new Map : {};
                return this.addToJSMap(t, n)
            }
            toString(e, t, n) {
                if (!e || !e.doc)
                    return JSON.stringify(this);
                const {allNullValues: i, doc: r, indent: o, indentStep: s, options: {indentSeq: a, simpleKeys: l}} = e;
                let {key: c, value: u} = this
                  , h = pg(c) && c.comment || null;
                if (l) {
                    if (h)
                        throw new Error("With simple keys, key nodes cannot have comments");
                    if (hg(c)) {
                        throw new Error("With simple keys, collection cannot be used as a key value")
                    }
                }
                let p = !l && (!c || h && null == u || hg(c) || (cg(c) ? c.type === Sg.BLOCK_FOLDED || c.type === Sg.BLOCK_LITERAL : "object" == typeof c));
                e = Object.assign({}, e, {
                    allNullValues: !1,
                    implicitKey: !p && (l || !i),
                    indent: o + s
                });
                let d = !1
                  , f = Vg(c, e, (()=>h = null), (()=>d = !0));
                if (!p && !e.inFlow && f.length > 1024) {
                    if (l)
                        throw new Error("With simple keys, single line scalar must not span more than 1024 characters");
                    p = !0
                }
                if (i && (!l || e.inFlow) || null == u && (p || e.inFlow))
                    return f = Dg(f, e.indent, h),
                    this.comment ? (h && !this.comment.includes("\n") ? f += `\n${e.indent || ""}#${this.comment}` : f = Dg(f, e.indent, this.comment),
                    t && t()) : d && !h && n && n(),
                    e.inFlow && !p ? f : `? ${f}`;
                f = p ? `? ${Dg(f, e.indent, h)}\n${o}:` : Dg(`${f}:`, e.indent, h),
                this.comment && (!h || p || this.comment.includes("\n") ? f = Dg(f, e.indent, this.comment) : f += `\n${e.indent || ""}#${this.comment}`,
                t && t());
                let g = ""
                  , m = null;
                if (pg(u)) {
                    if (u.spaceBefore && (g = "\n"),
                    u.commentBefore) {
                        g += `\n${u.commentBefore.replace(/^/gm, `${e.indent}#`)}`
                    }
                    m = u.comment
                } else
                    u && "object" == typeof u && (u = r.createNode(u));
                e.implicitKey = !1,
                p || h || this.comment || !cg(u) || (e.indentAtStart = f.length + 1),
                d = !1,
                a || !(s.length >= 2) || e.inFlow || p || !ug(u) || u.flow || u.tag || r.anchors.getName(u) || (e.indent = e.indent.substr(2));
                const v = Vg(u, e, (()=>m = null), (()=>d = !0));
                let y = " ";
                if (g || h || this.comment)
                    y = `${g}\n${e.indent}`;
                else if (!p && hg(u)) {
                    ("[" === v[0] || "{" === v[0]) && !v.includes("\n") || (y = `\n${e.indent}`)
                } else
                    "\n" === v[0] && (y = "");
                return d && !m && n && n(),
                Dg(f + y + v, e.indent, m)
            }
        }
        Gg.MERGE_KEY = "<<";
        const Yg = {
            anchorPrefix: "a",
            intAsBigInt: !1,
            keepUndefined: !1,
            logLevel: "warn",
            prettyErrors: !0,
            strict: !0,
            version: "1.2"
        };
        class Kg extends _g {
            constructor(e) {
                super(ig, e),
                this.items = []
            }
            static get tagName() {
                return "tag:yaml.org,2002:seq"
            }
            add(e) {
                this.items.push(e)
            }
            delete(e) {
                const t = Qg(e);
                if ("number" != typeof t)
                    return !1;
                return this.items.splice(t, 1).length > 0
            }
            get(e, t) {
                const n = Qg(e);
                if ("number" != typeof n)
                    return;
                const i = this.items[n];
                return !t && cg(i) ? i.value : i
            }
            has(e) {
                const t = Qg(e);
                return "number" == typeof t && t < this.items.length
            }
            set(e, t) {
                const n = Qg(e);
                if ("number" != typeof n)
                    throw new Error(`Expected a valid index, not ${e}.`);
                const i = this.items[n];
                cg(i) && Eg(t) ? i.value = t : this.items[n] = t
            }
            toJSON(e, t) {
                const n = [];
                t && t.onCreate && t.onCreate(n);
                let i = 0;
                for (const e of this.items)
                    n.push(kg(e, String(i++), t));
                return n
            }
            toString(e, t, n) {
                return e ? super._toString(e, {
                    blockItem: e=>"comment" === e.type ? e.str : `- ${e.str}`,
                    flowChars: {
                        start: "[",
                        end: "]"
                    },
                    itemIndent: (e.indent || "") + "  "
                }, t, n) : JSON.stringify(this)
            }
        }
        function Qg(e) {
            let t = cg(e) ? e.value : e;
            return t && "string" == typeof t && (t = Number(t)),
            "number" == typeof t && Number.isInteger(t) && t >= 0 ? t : null
        }
        class Jg {
            constructor(e) {
                this.map = Object.create(null),
                this.prefix = e
            }
            createAlias(e, t) {
                return this.setAnchor(e, t),
                new Cg(e)
            }
            createMergePair(...e) {
                const t = new Sg(Gg.MERGE_KEY)
                  , n = e.map((e=>{
                    if (og(e)) {
                        if (ag(e.source))
                            return e
                    } else if (ag(e))
                        return this.createAlias(e);
                    throw new Error("Merge sources must be Map nodes or their Aliases")
                }
                ));
                if (1 === n.length)
                    return new Gg(t,n[0]);
                const i = new Kg;
                return i.items = n,
                new Gg(t,i)
            }
            getName(e) {
                return Object.keys(this.map).find((t=>this.map[t] === e))
            }
            getNames() {
                return Object.keys(this.map)
            }
            getNode(e) {
                return this.map[e]
            }
            newName(e) {
                e || (e = this.prefix);
                const t = Object.keys(this.map);
                for (let n = 1; ; ++n) {
                    const i = `${e}${n}`;
                    if (!t.includes(i))
                        return i
                }
            }
            setAnchor(e, t) {
                const {map: n} = this;
                if (!e)
                    return t ? (delete n[t],
                    t) : null;
                if (!cg(e) && !hg(e))
                    throw new Error("Anchors may only be set for Scalar, Seq and Map nodes");
                if (t) {
                    if (/[\x00-\x19\s,[\]{}]/.test(t))
                        throw new Error("Anchor names must not contain whitespace or control characters");
                    const i = n[t];
                    i && i !== e && (n[this.newName(t)] = i)
                }
                const i = Object.keys(n).find((t=>n[t] === e));
                if (i) {
                    if (!t || i === t)
                        return i;
                    delete n[i]
                } else
                    t || (t = this.newName());
                return n[t] = e,
                t
            }
        }
        function Xg({format: e, minFractionDigits: t, tag: n, value: i}) {
            if ("bigint" == typeof i)
                return String(i);
            const r = "number" == typeof i ? i : Number(i);
            if (!isFinite(r))
                return isNaN(r) ? ".nan" : r < 0 ? "-.inf" : ".inf";
            let o = JSON.stringify(i);
            if (!e && t && (!n || "tag:yaml.org,2002:float" === n) && /^\d/.test(o)) {
                let e = o.indexOf(".");
                e < 0 && (e = o.length,
                o += ".");
                let n = t - (o.length - e - 1);
                for (; n-- > 0; )
                    o += "0"
            }
            return o
        }
        function Zg(e, t) {
            const n = cg(t) ? t.value : t;
            for (const i of e)
                if (lg(i)) {
                    if (i.key === t || i.key === n)
                        return i;
                    if (cg(i.key) && i.key.value === n)
                        return i
                }
        }
        class em extends _g {
            constructor(e) {
                super(eg, e),
                this.items = []
            }
            static get tagName() {
                return "tag:yaml.org,2002:map"
            }
            add(e, t) {
                let n;
                n = lg(e) ? e : new Gg(e && "object" == typeof e && "key"in e ? e.key : e,e.value);
                const i = Zg(this.items, n.key)
                  , r = this.schema && this.schema.sortMapEntries;
                if (i) {
                    if (!t)
                        throw new Error(`Key ${n.key} already set`);
                    cg(i.value) && Eg(n.value) ? i.value.value = n.value : i.value = n.value
                } else if (r) {
                    const e = this.items.findIndex((e=>r(n, e) < 0));
                    -1 === e ? this.items.push(n) : this.items.splice(e, 0, n)
                } else
                    this.items.push(n)
            }
            delete(e) {
                const t = Zg(this.items, e);
                if (!t)
                    return !1;
                return this.items.splice(this.items.indexOf(t), 1).length > 0
            }
            get(e, t) {
                const n = Zg(this.items, e)
                  , i = n && n.value;
                return !t && cg(i) ? i.value : i
            }
            has(e) {
                return !!Zg(this.items, e)
            }
            set(e, t) {
                this.add(new Gg(e,t), !0)
            }
            toJSON(e, t, n) {
                const i = n ? new n : t && t.mapAsMap ? new Map : {};
                t && t.onCreate && t.onCreate(i);
                for (const e of this.items)
                    e.addToJSMap(t, i);
                return i
            }
            toString(e, t, n) {
                if (!e)
                    return JSON.stringify(this);
                for (const e of this.items)
                    if (!lg(e))
                        throw new Error(`Map items must all be pairs; found ${JSON.stringify(e)} instead`);
                return !e.allNullValues && this.hasAllNullValues(!1) && (e = Object.assign({}, e, {
                    allNullValues: !0
                })),
                super._toString(e, {
                    blockItem: e=>e.str,
                    flowChars: {
                        start: "{",
                        end: "}"
                    },
                    itemIndent: e.indent || ""
                }, t, n)
            }
        }
        const tm = {
            collection: "map",
            createNode: function(e, t, n) {
                const {keepUndefined: i, replacer: r} = n
                  , o = new em(e)
                  , s = (e,s)=>{
                    if ("function" == typeof r)
                        s = r.call(t, e, s);
                    else if (Array.isArray(r) && !r.includes(e))
                        return;
                    (void 0 !== s || i) && o.items.push(Wg(e, s, n))
                }
                ;
                if (t instanceof Map)
                    for (const [e,n] of t)
                        s(e, n);
                else if (t && "object" == typeof t)
                    for (const e of Object.keys(t))
                        s(e, t[e]);
                return "function" == typeof e.sortMapEntries && o.items.sort(e.sortMapEntries),
                o
            },
            default: !0,
            nodeClass: em,
            tag: "tag:yaml.org,2002:map",
            resolve: (e,t)=>(ag(e) || t("Expected a mapping for this tag"),
            e)
        };
        const nm = {
            collection: "seq",
            createNode: function(e, t, n) {
                const {replacer: i} = n
                  , r = new Kg(e);
                if (t && Symbol.iterator in Object(t)) {
                    let e = 0;
                    for (let o of t) {
                        if ("function" == typeof i) {
                            const n = t instanceof Set ? o : String(e++);
                            o = i.call(t, n, o)
                        }
                        r.items.push(Lg(o, void 0, n))
                    }
                }
                return r
            },
            default: !0,
            nodeClass: Kg,
            tag: "tag:yaml.org,2002:seq",
            resolve: (e,t)=>(ug(e) || t("Expected a sequence for this tag"),
            e)
        }
          , im = [tm, nm, {
            identify: e=>"string" == typeof e,
            default: !0,
            tag: "tag:yaml.org,2002:str",
            resolve: e=>e,
            stringify: (e,t,n,i)=>zg(e, t = Object.assign({
                actualString: !0
            }, t), n, i)
        }]
          , rm = e=>"bigint" == typeof e || Number.isInteger(e)
          , om = (e,t,n,{intAsBigInt: i})=>i ? BigInt(e) : parseInt(e.substring(t), n);
        function sm(e, t, n) {
            const {value: i} = e;
            return rm(i) && i >= 0 ? n + i.toString(t) : Xg(e)
        }
        const am = {
            identify: e=>null == e,
            createNode: ()=>new Sg(null),
            default: !0,
            tag: "tag:yaml.org,2002:null",
            test: /^(?:~|[Nn]ull|NULL)?$/,
            resolve: ()=>new Sg(null),
            stringify: ({source: e},t)=>e && am.test.test(e) ? e : t.options.nullStr
        }
          , lm = {
            identify: e=>"boolean" == typeof e,
            default: !0,
            tag: "tag:yaml.org,2002:bool",
            test: /^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,
            resolve: e=>new Sg("t" === e[0] || "T" === e[0]),
            stringify({source: e, value: t}, n) {
                if (e && lm.test.test(e)) {
                    if (t === ("t" === e[0] || "T" === e[0]))
                        return e
                }
                return t ? n.options.trueStr : n.options.falseStr
            }
        }
          , cm = {
            identify: e=>rm(e) && e >= 0,
            default: !0,
            tag: "tag:yaml.org,2002:int",
            format: "OCT",
            test: /^0o[0-7]+$/,
            resolve: (e,t,n)=>om(e, 2, 8, n),
            stringify: e=>sm(e, 8, "0o")
        }
          , um = {
            identify: rm,
            default: !0,
            tag: "tag:yaml.org,2002:int",
            test: /^[-+]?[0-9]+$/,
            resolve: (e,t,n)=>om(e, 0, 10, n),
            stringify: Xg
        }
          , hm = {
            identify: e=>rm(e) && e >= 0,
            default: !0,
            tag: "tag:yaml.org,2002:int",
            format: "HEX",
            test: /^0x[0-9a-fA-F]+$/,
            resolve: (e,t,n)=>om(e, 2, 16, n),
            stringify: e=>sm(e, 16, "0x")
        }
          , pm = {
            identify: e=>"number" == typeof e,
            default: !0,
            tag: "tag:yaml.org,2002:float",
            test: /^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,
            resolve: e=>"nan" === e.slice(-3).toLowerCase() ? NaN : "-" === e[0] ? Number.NEGATIVE_INFINITY : Number.POSITIVE_INFINITY,
            stringify: Xg
        }
          , dm = {
            identify: e=>"number" == typeof e,
            default: !0,
            tag: "tag:yaml.org,2002:float",
            format: "EXP",
            test: /^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,
            resolve: e=>parseFloat(e),
            stringify: ({value: e})=>Number(e).toExponential()
        }
          , fm = {
            identify: e=>"number" == typeof e,
            default: !0,
            tag: "tag:yaml.org,2002:float",
            test: /^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,
            resolve(e) {
                const t = new Sg(parseFloat(e))
                  , n = e.indexOf(".");
                return -1 !== n && "0" === e[e.length - 1] && (t.minFractionDigits = e.length - n - 1),
                t
            },
            stringify: Xg
        }
          , gm = im.concat([am, lm, cm, um, hm, pm, dm, fm]);
        function mm(e) {
            return "bigint" == typeof e || Number.isInteger(e)
        }
        const vm = ({value: e})=>JSON.stringify(e)
          , ym = [tm, nm].concat([{
            identify: e=>"string" == typeof e,
            default: !0,
            tag: "tag:yaml.org,2002:str",
            resolve: e=>e,
            stringify: vm
        }, {
            identify: e=>null == e,
            createNode: ()=>new Sg(null),
            default: !0,
            tag: "tag:yaml.org,2002:null",
            test: /^null$/,
            resolve: ()=>null,
            stringify: vm
        }, {
            identify: e=>"boolean" == typeof e,
            default: !0,
            tag: "tag:yaml.org,2002:bool",
            test: /^true|false$/,
            resolve: e=>"true" === e,
            stringify: vm
        }, {
            identify: mm,
            default: !0,
            tag: "tag:yaml.org,2002:int",
            test: /^-?(?:0|[1-9][0-9]*)$/,
            resolve: (e,t,{intAsBigInt: n})=>n ? BigInt(e) : parseInt(e, 10),
            stringify: ({value: e})=>mm(e) ? e.toString() : JSON.stringify(e)
        }, {
            identify: e=>"number" == typeof e,
            default: !0,
            tag: "tag:yaml.org,2002:float",
            test: /^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,
            resolve: e=>parseFloat(e),
            stringify: vm
        }], {
            default: !0,
            tag: "",
            test: /^/,
            resolve: (e,t)=>(t(`Unresolved plain scalar ${JSON.stringify(e)}`),
            e)
        })
          , bm = {
            identify: e=>e instanceof Uint8Array,
            default: !1,
            tag: "tag:yaml.org,2002:binary",
            resolve(e, t) {
                if ("function" == typeof Buffer)
                    return Buffer.from(e, "base64");
                if ("function" == typeof atob) {
                    const t = atob(e.replace(/[\n\r]/g, ""))
                      , n = new Uint8Array(t.length);
                    for (let e = 0; e < t.length; ++e)
                        n[e] = t.charCodeAt(e);
                    return n
                }
                return t("This environment does not support reading binary tags; either Buffer or atob is required"),
                e
            },
            stringify({comment: e, type: t, value: n}, i, r, o) {
                const s = n;
                let a;
                if ("function" == typeof Buffer)
                    a = s instanceof Buffer ? s.toString("base64") : Buffer.from(s.buffer).toString("base64");
                else {
                    if ("function" != typeof btoa)
                        throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");
                    {
                        let e = "";
                        for (let t = 0; t < s.length; ++t)
                            e += String.fromCharCode(s[t]);
                        a = btoa(e)
                    }
                }
                if (t || (t = Sg.BLOCK_LITERAL),
                t !== Sg.QUOTE_DOUBLE) {
                    const e = Math.max(i.options.lineWidth - i.indent.length, i.options.minContentWidth)
                      , n = Math.ceil(a.length / e)
                      , r = new Array(n);
                    for (let t = 0, i = 0; t < n; ++t,
                    i += e)
                        r[t] = a.substr(i, e);
                    a = r.join(t === Sg.BLOCK_LITERAL ? "\n" : " ")
                }
                return zg({
                    comment: e,
                    type: t,
                    value: a
                }, i, r, o)
            }
        };
        function wm(e, t) {
            if (ug(e))
                for (let n = 0; n < e.items.length; ++n) {
                    let i = e.items[n];
                    if (!lg(i)) {
                        if (ag(i)) {
                            i.items.length > 1 && t("Each pair must have its own sequence indicator");
                            const e = i.items[0] || new Gg(null);
                            i.commentBefore && (e.commentBefore = e.commentBefore ? `${i.commentBefore}\n${e.commentBefore}` : i.commentBefore),
                            i.comment && (e.comment = e.comment ? `${i.comment}\n${e.comment}` : i.comment),
                            i = e
                        }
                        e.items[n] = lg(i) ? i : new Gg(i)
                    }
                }
            else
                t("Expected a sequence for this tag");
            return e
        }
        function km(e, t, n) {
            const {replacer: i} = n
              , r = new Kg(e);
            r.tag = "tag:yaml.org,2002:pairs";
            let o = 0;
            if (t && Symbol.iterator in Object(t))
                for (let e of t) {
                    let s, a;
                    if ("function" == typeof i && (e = i.call(t, String(o++), e)),
                    Array.isArray(e)) {
                        if (2 !== e.length)
                            throw new TypeError(`Expected [key, value] tuple: ${e}`);
                        s = e[0],
                        a = e[1]
                    } else if (e && e instanceof Object) {
                        const t = Object.keys(e);
                        if (1 !== t.length)
                            throw new TypeError(`Expected { key: value } tuple: ${e}`);
                        s = t[0],
                        a = e[s]
                    } else
                        s = e;
                    r.items.push(Wg(s, a, n))
                }
            return r
        }
        const Cm = {
            collection: "seq",
            default: !1,
            tag: "tag:yaml.org,2002:pairs",
            resolve: wm,
            createNode: km
        };
        class xm extends Kg {
            constructor() {
                super(),
                this.add = em.prototype.add.bind(this),
                this.delete = em.prototype.delete.bind(this),
                this.get = em.prototype.get.bind(this),
                this.has = em.prototype.has.bind(this),
                this.set = em.prototype.set.bind(this),
                this.tag = xm.tag
            }
            toJSON(e, t) {
                if (!t)
                    return super.toJSON(e);
                const n = new Map;
                t && t.onCreate && t.onCreate(n);
                for (const e of this.items) {
                    let i, r;
                    if (lg(e) ? (i = kg(e.key, "", t),
                    r = kg(e.value, i, t)) : i = kg(e, "", t),
                    n.has(i))
                        throw new Error("Ordered maps must not include duplicate keys");
                    n.set(i, r)
                }
                return n
            }
        }
        xm.tag = "tag:yaml.org,2002:omap";
        const Em = {
            collection: "seq",
            identify: e=>e instanceof Map,
            nodeClass: xm,
            default: !1,
            tag: "tag:yaml.org,2002:omap",
            resolve(e, t) {
                const n = wm(e, t)
                  , i = [];
                for (const {key: e} of n.items)
                    cg(e) && (i.includes(e.value) ? t(`Ordered maps must not include duplicate keys: ${e.value}`) : i.push(e.value));
                return Object.assign(new xm, n)
            },
            createNode(e, t, n) {
                const i = km(e, t, n)
                  , r = new xm;
                return r.items = i.items,
                r
            }
        };
        class Sm extends em {
            constructor(e) {
                super(e),
                this.tag = Sm.tag
            }
            add(e) {
                let t;
                t = lg(e) ? e : "object" == typeof e && "key"in e && "value"in e && null === e.value ? new Gg(e.key,null) : new Gg(e,null);
                Zg(this.items, t.key) || this.items.push(t)
            }
            get(e, t) {
                const n = Zg(this.items, e);
                return !t && lg(n) ? cg(n.key) ? n.key.value : n.key : n
            }
            set(e, t) {
                if ("boolean" != typeof t)
                    throw new Error("Expected boolean value for set(key, value) in a YAML set, not " + typeof t);
                const n = Zg(this.items, e);
                n && !t ? this.items.splice(this.items.indexOf(n), 1) : !n && t && this.items.push(new Gg(e))
            }
            toJSON(e, t) {
                return super.toJSON(e, t, Set)
            }
            toString(e, t, n) {
                if (!e)
                    return JSON.stringify(this);
                if (this.hasAllNullValues(!0))
                    return super.toString(Object.assign({}, e, {
                        allNullValues: !0
                    }), t, n);
                throw new Error("Set items must all have null values")
            }
        }
        Sm.tag = "tag:yaml.org,2002:set";
        const Lm = {
            collection: "map",
            identify: e=>e instanceof Set,
            nodeClass: Sm,
            default: !1,
            tag: "tag:yaml.org,2002:set",
            resolve(e, t) {
                if (ag(e)) {
                    if (e.hasAllNullValues(!0))
                        return Object.assign(new Sm, e);
                    t("Set items must all have null values")
                } else
                    t("Expected a mapping for this tag");
                return e
            },
            createNode(e, t, n) {
                const {replacer: i} = n
                  , r = new Sm(e);
                if (t && Symbol.iterator in Object(t))
                    for (let e of t)
                        "function" == typeof i && (e = i.call(t, e, e)),
                        r.items.push(Wg(e, null, n));
                return r
            }
        };
        function Dm(e, t) {
            const n = e[0]
              , i = "-" === n || "+" === n ? e.substring(1) : e
              , r = e=>t ? BigInt(e) : Number(e)
              , o = i.replace(/_/g, "").split(":").reduce(((e,t)=>e * r(60) + r(t)), r(0));
            return "-" === n ? r(-1) * o : o
        }
        function Mm(e) {
            let {value: t} = e
              , n = e=>e;
            if ("bigint" == typeof t)
                n = e=>BigInt(e);
            else if (isNaN(t) || !isFinite(t))
                return Xg(e);
            let i = "";
            t < 0 && (i = "-",
            t *= n(-1));
            const r = n(60)
              , o = [t % r];
            return t < 60 ? o.unshift(0) : (t = (t - o[0]) / r,
            o.unshift(t % r),
            t >= 60 && (t = (t - o[0]) / r,
            o.unshift(t))),
            i + o.map((e=>e < 10 ? "0" + String(e) : String(e))).join(":").replace(/000000\d*$/, "")
        }
        const Am = {
            identify: e=>"bigint" == typeof e || Number.isInteger(e),
            default: !0,
            tag: "tag:yaml.org,2002:int",
            format: "TIME",
            test: /^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,
            resolve: (e,t,{intAsBigInt: n})=>Dm(e, n),
            stringify: Mm
        }
          , Tm = {
            identify: e=>"number" == typeof e,
            default: !0,
            tag: "tag:yaml.org,2002:float",
            format: "TIME",
            test: /^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,
            resolve: e=>Dm(e, !1),
            stringify: Mm
        }
          , Fm = {
            identify: e=>e instanceof Date,
            default: !0,
            tag: "tag:yaml.org,2002:timestamp",
            test: RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),
            resolve(e) {
                const t = e.match(Fm.test);
                if (!t)
                    throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");
                const [,n,i,r,o,s,a] = t.map(Number)
                  , l = t[7] ? Number((t[7] + "00").substr(1, 3)) : 0;
                let c = Date.UTC(n, i - 1, r, o || 0, s || 0, a || 0, l);
                const u = t[8];
                if (u && "Z" !== u) {
                    let e = Dm(u, !1);
                    Math.abs(e) < 30 && (e *= 60),
                    c -= 6e4 * e
                }
                return new Date(c)
            },
            stringify: ({value: e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/, "")
        }
          , Pm = {
            identify: e=>null == e,
            createNode: ()=>new Sg(null),
            default: !0,
            tag: "tag:yaml.org,2002:null",
            test: /^(?:~|[Nn]ull|NULL)?$/,
            resolve: ()=>new Sg(null),
            stringify: ({source: e},t)=>e && Pm.test.test(e) ? e : t.options.nullStr
        };
        function Om({value: e, source: t}, n) {
            return t && (e ? Im : Nm).test.test(t) ? t : e ? n.options.trueStr : n.options.falseStr
        }
        const Im = {
            identify: e=>!0 === e,
            default: !0,
            tag: "tag:yaml.org,2002:bool",
            test: /^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,
            resolve: ()=>new Sg(!0),
            stringify: Om
        }
          , Nm = {
            identify: e=>!1 === e,
            default: !0,
            tag: "tag:yaml.org,2002:bool",
            test: /^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,
            resolve: ()=>new Sg(!1),
            stringify: Om
        }
          , Rm = e=>"bigint" == typeof e || Number.isInteger(e);
        function Bm(e, t, n, {intAsBigInt: i}) {
            const r = e[0];
            if ("-" !== r && "+" !== r || (t += 1),
            e = e.substring(t).replace(/_/g, ""),
            i) {
                switch (n) {
                case 2:
                    e = `0b${e}`;
                    break;
                case 8:
                    e = `0o${e}`;
                    break;
                case 16:
                    e = `0x${e}`
                }
                const t = BigInt(e);
                return "-" === r ? BigInt(-1) * t : t
            }
            const o = parseInt(e, n);
            return "-" === r ? -1 * o : o
        }
        function zm(e, t, n) {
            const {value: i} = e;
            if (Rm(i)) {
                const e = i.toString(t);
                return i < 0 ? "-" + n + e.substr(1) : n + e
            }
            return Xg(e)
        }
        const Hm = im.concat([Pm, Im, Nm, {
            identify: Rm,
            default: !0,
            tag: "tag:yaml.org,2002:int",
            format: "BIN",
            test: /^[-+]?0b[0-1_]+$/,
            resolve: (e,t,n)=>Bm(e, 2, 2, n),
            stringify: e=>zm(e, 2, "0b")
        }, {
            identify: Rm,
            default: !0,
            tag: "tag:yaml.org,2002:int",
            format: "OCT",
            test: /^[-+]?0[0-7_]+$/,
            resolve: (e,t,n)=>Bm(e, 1, 8, n),
            stringify: e=>zm(e, 8, "0")
        }, {
            identify: Rm,
            default: !0,
            tag: "tag:yaml.org,2002:int",
            test: /^[-+]?[0-9][0-9_]*$/,
            resolve: (e,t,n)=>Bm(e, 0, 10, n),
            stringify: Xg
        }, {
            identify: Rm,
            default: !0,
            tag: "tag:yaml.org,2002:int",
            format: "HEX",
            test: /^[-+]?0x[0-9a-fA-F_]+$/,
            resolve: (e,t,n)=>Bm(e, 2, 16, n),
            stringify: e=>zm(e, 16, "0x")
        }, {
            identify: e=>"number" == typeof e,
            default: !0,
            tag: "tag:yaml.org,2002:float",
            test: /^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,
            resolve: e=>"nan" === e.slice(-3).toLowerCase() ? NaN : "-" === e[0] ? Number.NEGATIVE_INFINITY : Number.POSITIVE_INFINITY,
            stringify: Xg
        }, {
            identify: e=>"number" == typeof e,
            default: !0,
            tag: "tag:yaml.org,2002:float",
            format: "EXP",
            test: /^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,
            resolve: e=>parseFloat(e.replace(/_/g, "")),
            stringify: ({value: e})=>Number(e).toExponential()
        }, {
            identify: e=>"number" == typeof e,
            default: !0,
            tag: "tag:yaml.org,2002:float",
            test: /^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,
            resolve(e) {
                const t = new Sg(parseFloat(e.replace(/_/g, "")))
                  , n = e.indexOf(".");
                if (-1 !== n) {
                    const i = e.substring(n + 1).replace(/_/g, "");
                    "0" === i[i.length - 1] && (t.minFractionDigits = i.length)
                }
                return t
            },
            stringify: Xg
        }], bm, Em, Cm, Lm, Am, Tm, Fm)
          , Vm = {
            core: gm,
            failsafe: im,
            json: ym,
            yaml11: Hm
        }
          , qm = {
            binary: bm,
            bool: lm,
            float: fm,
            floatExp: dm,
            floatNaN: pm,
            floatTime: Tm,
            int: um,
            intHex: hm,
            intOct: cm,
            intTime: Am,
            map: tm,
            null: am,
            omap: Em,
            pairs: Cm,
            seq: nm,
            set: Lm,
            timestamp: Fm
        };
        const Um = (e,t)=>e.key < t.key ? -1 : e.key > t.key ? 1 : 0
          , _m = {
            "tag:yaml.org,2002:binary": qm.binary,
            "tag:yaml.org,2002:omap": qm.omap,
            "tag:yaml.org,2002:pairs": qm.pairs,
            "tag:yaml.org,2002:set": qm.set,
            "tag:yaml.org,2002:timestamp": qm.timestamp
        };
        class jm {
            constructor({customTags: e, merge: t, resolveKnownTags: n, schema: i, sortMapEntries: r}) {
                this.map = qm.map,
                this.seq = qm.seq,
                this.merge = !!t,
                this.name = i || "core",
                this.knownTags = n ? _m : {},
                this.tags = function(e, t, n, i) {
                    let r = e[i.replace(/\W/g, "")];
                    if (!r) {
                        const t = Object.keys(e).map((e=>JSON.stringify(e))).join(", ");
                        throw new Error(`Unknown schema "${i}"; use one of ${t}`)
                    }
                    if (Array.isArray(n))
                        for (const e of n)
                            r = r.concat(e);
                    else
                        "function" == typeof n && (r = n(r.slice()));
                    return r.map((e=>{
                        if ("string" != typeof e)
                            return e;
                        const n = t[e];
                        if (n)
                            return n;
                        const i = Object.keys(t).map((e=>JSON.stringify(e))).join(", ");
                        throw new Error(`Unknown custom tag "${e}"; use one of ${i}`)
                    }
                    ))
                }(Vm, qm, e, this.name),
                this.sortMapEntries = !0 === r ? Um : r || null
            }
        }
        function Wm(e, t, n, i) {
            if (i && "object" == typeof i)
                if (Array.isArray(i))
                    for (let t = 0, n = i.length; t < n; ++t) {
                        const n = i[t]
                          , r = Wm(e, i, String(t), n);
                        void 0 === r ? delete i[t] : r !== n && (i[t] = r)
                    }
                else if (i instanceof Map)
                    for (const t of Array.from(i.keys())) {
                        const n = i.get(t)
                          , r = Wm(e, i, t, n);
                        void 0 === r ? i.delete(t) : r !== n && i.set(t, r)
                    }
                else if (i instanceof Set)
                    for (const t of Array.from(i)) {
                        const n = Wm(e, i, t, t);
                        void 0 === n ? i.delete(t) : n !== t && (i.delete(t),
                        i.add(n))
                    }
                else
                    for (const [t,n] of Object.entries(i)) {
                        const r = Wm(e, i, t, n);
                        void 0 === r ? delete i[t] : r !== n && (i[t] = r)
                    }
            return e.call(t, n, i)
        }
        class $m {
            constructor(e, t, n) {
                let i;
                this.commentBefore = null,
                this.comment = null,
                this.errors = [],
                this.warnings = [],
                Object.defineProperty(this, rg, {
                    value: Zf
                }),
                "function" == typeof t || Array.isArray(t) ? i = t : void 0 === n && t && (n = t,
                t = void 0);
                const r = Object.assign({}, Yg, n);
                this.options = r,
                this.anchors = new Jg(this.options.anchorPrefix);
                let {version: o} = r;
                (null == n ? void 0 : n.directives) ? (this.directives = n.directives.atDocument(),
                this.directives.yaml.explicit && (o = this.directives.yaml.version)) : this.directives = new wg({
                    version: o
                }),
                this.setSchema(o, n),
                this.contents = void 0 === e ? null : this.createNode(e, {
                    replacer: i
                })
            }
            add(e) {
                Gm(this.contents) && this.contents.add(e)
            }
            addIn(e, t) {
                Gm(this.contents) && this.contents.addIn(e, t)
            }
            createNode(e, {flow: t, keepUndefined: n, onTagObj: i, replacer: r, tag: o}={}) {
                if ("function" == typeof r)
                    e = r.call({
                        "": e
                    }, "", e);
                else if (Array.isArray(r)) {
                    const e = e=>"number" == typeof e || e instanceof String || e instanceof Number
                      , t = r.filter(e).map(String);
                    t.length > 0 && (r = r.concat(t))
                }
                "boolean" != typeof n && (n = !!this.options.keepUndefined);
                const s = []
                  , a = Lg(e, o, {
                    keepUndefined: n,
                    onAlias(e) {
                        const t = new Cg(e);
                        return s.push(t),
                        t
                    },
                    onTagObj: i,
                    prevObjects: new Map,
                    replacer: r,
                    schema: this.schema
                });
                for (const e of s) {
                    e.source = e.source.node;
                    let t = this.anchors.getName(e.source);
                    t || (t = this.anchors.newName(),
                    this.anchors.map[t] = e.source)
                }
                return t && hg(a) && (a.flow = !0),
                a
            }
            createPair(e, t, n={}) {
                const i = this.createNode(e, n)
                  , r = this.createNode(t, n);
                return new Gg(i,r)
            }
            delete(e) {
                return !!Gm(this.contents) && this.contents.delete(e)
            }
            deleteIn(e) {
                return Ug(e) ? null != this.contents && (this.contents = null,
                !0) : !!Gm(this.contents) && this.contents.deleteIn(e)
            }
            get(e, t) {
                return hg(this.contents) ? this.contents.get(e, t) : void 0
            }
            getIn(e, t) {
                return Ug(e) ? !t && cg(this.contents) ? this.contents.value : this.contents : hg(this.contents) ? this.contents.getIn(e, t) : void 0
            }
            has(e) {
                return !!hg(this.contents) && this.contents.has(e)
            }
            hasIn(e) {
                return Ug(e) ? void 0 !== this.contents : !!hg(this.contents) && this.contents.hasIn(e)
            }
            set(e, t) {
                null == this.contents ? this.contents = qg(this.schema, [e], t) : Gm(this.contents) && this.contents.set(e, t)
            }
            setIn(e, t) {
                Ug(e) ? this.contents = t : null == this.contents ? this.contents = qg(this.schema, Array.from(e), t) : Gm(this.contents) && this.contents.setIn(e, t)
            }
            setSchema(e, t) {
                let n;
                switch (String(e)) {
                case "1.1":
                    this.directives.yaml.version = "1.1",
                    n = Object.assign({
                        merge: !0,
                        resolveKnownTags: !1,
                        schema: "yaml-1.1"
                    }, t);
                    break;
                case "1.2":
                    this.directives.yaml.version = "1.2",
                    n = Object.assign({
                        merge: !1,
                        resolveKnownTags: !0,
                        schema: "core"
                    }, t);
                    break;
                default:
                    {
                        const t = JSON.stringify(e);
                        throw new Error(`Expected '1.1' or '1.2' as version, but found: ${t}`)
                    }
                }
                this.schema = new jm(n)
            }
            toJS({json: e, jsonArg: t, mapAsMap: n, maxAliasCount: i, onAnchor: r, reviver: o}={}) {
                const s = Object.values(this.anchors.map).map((e=>[e, {
                    alias: [],
                    aliasCount: 0,
                    count: 1
                }]))
                  , a = s.length > 0 ? new Map(s) : null
                  , l = {
                    anchors: a,
                    doc: this,
                    keep: !e,
                    mapAsMap: !0 === n,
                    mapKeyWarned: !1,
                    maxAliasCount: "number" == typeof i ? i : 100,
                    stringify: Vg
                }
                  , c = kg(this.contents, t || "", l);
                if ("function" == typeof r && a)
                    for (const {count: e, res: t} of a.values())
                        r(t, e);
                return "function" == typeof o ? Wm(o, {
                    "": c
                }, "", c) : c
            }
            toJSON(e, t) {
                return this.toJS({
                    json: !0,
                    jsonArg: e,
                    mapAsMap: !1,
                    onAnchor: t
                })
            }
            toString(e={}) {
                if (this.errors.length > 0)
                    throw new Error("Document with errors cannot be stringified");
                if ("indent"in e && (!Number.isInteger(e.indent) || Number(e.indent) <= 0)) {
                    const t = JSON.stringify(e.indent);
                    throw new Error(`"indent" option must be a positive integer, not ${t}`)
                }
                const t = [];
                let n = !0 === e.directives;
                if (!1 !== e.directives) {
                    const e = this.directives.toString(this);
                    e ? (t.push(e),
                    n = !0) : this.directives.marker && (n = !0)
                }
                n && t.push("---"),
                this.commentBefore && (1 !== t.length && t.unshift(""),
                t.unshift(this.commentBefore.replace(/^/gm, "#")));
                const i = Hg(this, e);
                let r = !1
                  , o = null;
                if (this.contents) {
                    pg(this.contents) && (this.contents.spaceBefore && n && t.push(""),
                    this.contents.commentBefore && t.push(this.contents.commentBefore.replace(/^/gm, "#")),
                    i.forceBlockIndent = !!this.comment,
                    o = this.contents.comment);
                    const e = o ? void 0 : ()=>r = !0;
                    let s = Vg(this.contents, i, (()=>o = null), e);
                    o && (s = Dg(s, "", o)),
                    "|" !== s[0] && ">" !== s[0] || "---" !== t[t.length - 1] ? t.push(s) : t[t.length - 1] = `--- ${s}`
                } else
                    t.push(Vg(this.contents, i));
                return this.comment && (r && !o || "" === t[t.length - 1] || t.push(""),
                t.push(this.comment.replace(/^/gm, "#"))),
                t.join("\n") + "\n"
            }
        }
        function Gm(e) {
            if (hg(e))
                return !0;
            throw new Error("Expected a YAML collection as document contents")
        }
        class Ym extends Error {
            constructor(e, t, n) {
                if (!n)
                    throw new Error(`Invalid arguments for new ${e}`);
                super(),
                this.name = e,
                this.message = n,
                this.offset = t
            }
        }
        class Km extends Ym {
            constructor(e, t) {
                super("YAMLParseError", e, t)
            }
        }
        class Qm extends Ym {
            constructor(e, t) {
                super("YAMLWarning", e, t)
            }
        }
        const Jm = (e,t)=>n=>{
            if (-1 === n.offset)
                return;
            n.linePos = t.linePos(n.offset);
            const {line: i, col: r} = n.linePos;
            n.message += ` at line ${i}, column ${r}`;
            let o = r - 1
              , s = e.substring(t.lineStarts[i - 1], t.lineStarts[i]).replace(/[\n\r]+$/, "");
            if (o >= 60 && s.length > 80) {
                const e = Math.min(o - 39, s.length - 79);
                s = "…" + s.substring(e),
                o -= e - 1
            }
            if (s.length > 80 && (s = s.substring(0, 79) + "…"),
            i > 1 && /^ *$/.test(s.substring(0, o))) {
                let n = e.substring(t.lineStarts[i - 2], t.lineStarts[i - 1]);
                n.length > 80 && (n = n.substring(0, 79) + "…\n"),
                s = n + s
            }
            if (/[^ ]/.test(s)) {
                const e = " ".repeat(o) + "^";
                n.message += `:\n\n${s}\n${e}\n`
            }
        }
        ;
        function Xm(e, t, n, i, r, o) {
            let s = 0
              , a = !1
              , l = n
              , c = n
              , u = ""
              , h = !1
              , p = !1
              , d = ""
              , f = ""
              , g = ""
              , m = null
              , v = null;
            for (const n of t) {
                switch (n.type) {
                case "space":
                    l && "doc-start" !== i && "\t" === n.source[0] && o(r + s, "Tabs are not allowed as indentation"),
                    c = !0;
                    break;
                case "comment":
                    {
                        e.options.strict && !c && o(r + s, "Comments must be separated from other tokens by white space characters");
                        const t = n.source.substring(1);
                        h ? u += d + t : u = t,
                        h = !0,
                        d = "";
                        break
                    }
                case "newline":
                    l && !h && (a = !0),
                    l = !0,
                    p = !0,
                    c = !0,
                    d += n.source;
                    break;
                case "anchor":
                    f && o(r + s, "A node can have at most one anchor"),
                    f = n.source.substring(1),
                    null === v && (v = r + s),
                    l = !1,
                    c = !1;
                    break;
                case "tag":
                    {
                        g && o(r + s, "A node can have at most one tag");
                        const t = e.directives.tagName(n.source, (e=>o(r, e)));
                        t && (g = t),
                        null === v && (v = r + s),
                        l = !1,
                        c = !1;
                        break
                    }
                case i:
                    m = {
                        indent: n.indent,
                        offset: r + s
                    },
                    l = !1,
                    c = !1;
                    break;
                default:
                    o(r + s, `Unexpected ${n.type} token`),
                    l = !1,
                    c = !1
                }
                n.source && (s += n.source.length)
            }
            return {
                found: m,
                spaceBefore: a,
                comment: u,
                hasNewline: p,
                anchor: f,
                tagName: g,
                length: s,
                start: null != v ? v : r + s
            }
        }
        function Zm(e) {
            if (!e)
                return null;
            switch (e.type) {
            case "alias":
            case "scalar":
            case "double-quoted-scalar":
            case "single-quoted-scalar":
                return e.source.includes("\n");
            case "flow-collection":
                for (const t of e.items)
                    switch (t.type) {
                    case "newline":
                        return !0;
                    case "alias":
                    case "scalar":
                    case "double-quoted-scalar":
                    case "single-quoted-scalar":
                    case "flow-collection":
                        if (Zm(t))
                            return !0
                    }
                return !1;
            default:
                return !0
            }
        }
        const ev = "All mapping items must start at the same column";
        function tv(e, t, n, i) {
            let r = "";
            if (e) {
                let o = !1
                  , s = !1
                  , a = "";
                for (const {source: l, type: c} of e) {
                    switch (c) {
                    case "space":
                        o = !0;
                        break;
                    case "comment":
                        {
                            n && !o && i(t, "Comments must be separated from other tokens by white space characters");
                            const e = l.substring(1);
                            s ? r += a + e : r = e,
                            s = !0,
                            a = "";
                            break
                        }
                    case "newline":
                        s && (a += l),
                        o = !0;
                        break;
                    default:
                        i(t, `Unexpected ${c} at node end`)
                    }
                    t += l.length
                }
            }
            return {
                comment: r,
                offset: t
            }
        }
        function nv(e, t, n, i, r, o) {
            let s;
            switch (n.type) {
            case "block-map":
                s = function({composeNode: e, composeEmptyNode: t}, n, {indent: i, items: r, offset: o}, s, a) {
                    var l;
                    const c = o
                      , u = new em(n.schema);
                    s && n.anchors.setAnchor(u, s);
                    for (const {start: s, key: c, sep: h, value: p} of r) {
                        const r = Xm(n, s, !0, "explicit-key-ind", o, a)
                          , d = !r.found;
                        if (d) {
                            if (c && ("block-seq" === c.type ? a(o, "A block sequence may not be used as an implicit map key") : "indent"in c && c.indent !== i && a(o, ev)),
                            !r.anchor && !r.tagName && !h) {
                                r.comment && (u.comment ? u.comment += "\n" + r.comment : u.comment = r.comment);
                                continue
                            }
                        } else
                            (null === (l = r.found) || void 0 === l ? void 0 : l.indent) !== i && a(o, ev);
                        o += r.length,
                        d && Zm(c) && a(o, "Implicit keys need to be on a single line");
                        const f = o
                          , g = c ? e(n, c, r, a) : t(n, o, s, null, r, a);
                        o = g.range[1];
                        const m = Xm(n, h || [], !c || "block-scalar" === c.type, "map-value-ind", o, a);
                        if (o += m.length,
                        m.found) {
                            d && ("block-map" !== (null == p ? void 0 : p.type) || m.hasNewline || a(o, "Nested mappings are not allowed in compact mappings"),
                            n.options.strict && r.start < m.found.offset - 1024 && a(o, "The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));
                            const i = p ? e(n, p, m, a) : t(n, o, h, null, m, a);
                            o = i.range[1],
                            u.items.push(new Gg(g,i))
                        } else
                            d && a(f, "Implicit map keys need to be followed by map values"),
                            m.comment && (g.comment ? g.comment += "\n" + m.comment : g.comment = m.comment),
                            u.items.push(new Gg(g))
                    }
                    return u.range = [c, o],
                    u
                }(e, t, n, i, o);
                break;
            case "block-seq":
                s = function({composeNode: e, composeEmptyNode: t}, n, {items: i, offset: r}, o, s) {
                    const a = r
                      , l = new Kg(n.schema);
                    o && n.anchors.setAnchor(l, o);
                    for (const {start: o, value: a} of i) {
                        const i = Xm(n, o, !0, "seq-item-ind", r, s);
                        if (r += i.length,
                        !i.found) {
                            if (!(i.anchor || i.tagName || a)) {
                                i.comment && (l.comment = i.comment);
                                continue
                            }
                            s(r, a && "block-seq" === a.type ? "All sequence items must start at the same column" : "Sequence item without - indicator")
                        }
                        const c = a ? e(n, a, i, s) : t(n, r, o, null, i, s);
                        r = c.range[1],
                        l.items.push(c)
                    }
                    return l.range = [a, r],
                    l
                }(e, t, n, i, o);
                break;
            case "flow-collection":
                s = function({composeNode: e, composeEmptyNode: t}, n, i, r, o) {
                    const s = "{" === i.start.source
                      , a = s ? new em(n.schema) : new Kg(n.schema);
                    a.flow = !0,
                    r && n.anchors.setAnchor(a, r);
                    let l = null
                      , c = null
                      , u = !1
                      , h = ""
                      , p = !1
                      , d = !1
                      , f = ""
                      , g = ""
                      , m = ""
                      , v = i.offset + 1
                      , y = !1
                      , b = !1
                      , w = !1
                      , k = !1
                      , C = null;
                    function x() {
                        const e = {
                            spaceBefore: u,
                            comment: h,
                            anchor: g,
                            tagName: m
                        };
                        return u = !1,
                        h = "",
                        d = !1,
                        f = "",
                        g = "",
                        m = "",
                        e
                    }
                    function E(e) {
                        if (c ? d && (c.comment = h) : c = t(n, v, i.items, e, x(), o),
                        s || b)
                            a.items.push(l ? new Gg(l,c) : new Gg(c));
                        else {
                            const e = a;
                            if (l) {
                                const t = new em(n.schema);
                                t.flow = !0,
                                t.items.push(new Gg(l,c)),
                                e.items.push(t)
                            } else
                                e.items.push(c)
                        }
                    }
                    for (let r = 0; r < i.items.length; ++r) {
                        const S = i.items[r];
                        let L = !0;
                        switch (S.type) {
                        case "space":
                            p = !0;
                            break;
                        case "comment":
                            {
                                n.options.strict && !p && o(v, "Comments must be separated from other tokens by white space characters");
                                const e = S.source.substring(1);
                                d ? h += f + e : h = e,
                                y = !1,
                                d = !0,
                                f = "";
                                break
                            }
                        case "newline":
                            if (y && !d && (u = !0),
                            w) {
                                if (d) {
                                    let e = a.items[a.items.length - 1];
                                    lg(e) && (e = e.value || e.key),
                                    pg(e) ? e.comment = h : o(v, "Error adding trailing comment to node"),
                                    h = "",
                                    d = !1
                                }
                                w = !1
                            } else
                                f += S.source,
                                s || l || !c || (k = !0);
                            y = !0,
                            p = !0;
                            break;
                        case "anchor":
                            g && o(v, "A node can have at most one anchor"),
                            g = S.source.substring(1),
                            y = !1,
                            w = !1,
                            p = !1;
                            break;
                        case "tag":
                            {
                                m && o(v, "A node can have at most one tag");
                                const e = n.directives.tagName(S.source, (e=>o(v, e)));
                                e && (m = e),
                                y = !1,
                                w = !1,
                                p = !1;
                                break
                            }
                        case "explicit-key-ind":
                            (g || m) && o(v, "Anchors and tags must be after the ? indicator"),
                            b = !0,
                            y = !1,
                            w = !1,
                            p = !1;
                            break;
                        case "map-value-ind":
                            if (l) {
                                if (c) {
                                    o(v, "Missing {} around pair used as mapping key");
                                    const e = new em(n.schema);
                                    e.flow = !0,
                                    e.items.push(new Gg(l,c)),
                                    e.range = [l.range[0], c.range[1]],
                                    l = e,
                                    c = null
                                }
                            } else if (c) {
                                if (n.options.strict) {
                                    const e = "Implicit keys of flow sequence pairs need to be on a single line";
                                    if (k)
                                        o(v, e);
                                    else if (C) {
                                        Zm(C) && o(v, e);
                                        const t = "offset"in C && C.offset;
                                        "number" == typeof t && t < v - 1024 && o(v, "The : indicator must be at most 1024 chars after the start of an implicit flow sequence key"),
                                        C = null
                                    }
                                }
                                l = c,
                                c = null
                            } else
                                l = t(n, v, i.items, r, x(), o);
                            d && (l.comment = h,
                            h = "",
                            d = !1),
                            b = !1,
                            w = !1,
                            p = !1;
                            break;
                        case "comma":
                            l || c || g || m || b ? E(r) : o(v, "Unexpected , in flow " + (s ? "map" : "sequence")),
                            l = null,
                            c = null,
                            b = !1,
                            w = !0,
                            p = !1,
                            k = !1,
                            C = null;
                            break;
                        case "block-map":
                        case "block-seq":
                            o(v, "Block collections are not allowed within flow collections");
                        default:
                            c && o(v, "Missing , between flow collection items"),
                            s || l || b || (C = S),
                            c = e(n, S, x(), o),
                            v = c.range[1],
                            y = !1,
                            L = !1,
                            w = !1,
                            p = !1
                        }
                        L && (v += S.source.length)
                    }
                    (l || c || g || m || b) && E(i.items.length);
                    const S = s ? "}" : "]"
                      , [L,...D] = i.end;
                    L && L.source === S || o(v, `Expected flow ${s ? "map" : "sequence"} to end with ${S}`);
                    if (L && (v += L.source.length),
                    D.length > 0) {
                        const e = tv(D, v, n.options.strict, o);
                        e.comment && (a.comment = h),
                        v = e.offset
                    }
                    return a.range = [i.offset, v],
                    a
                }(e, t, n, i, o)
            }
            if (!r)
                return s;
            const a = s.constructor;
            if ("!" === r || r === a.tagName)
                return s.tag = a.tagName,
                s;
            const l = ag(s) ? "map" : "seq";
            let c = t.schema.tags.find((e=>e.collection === l && e.tag === r));
            if (!c) {
                const e = t.schema.knownTags[r];
                if (!e || e.collection !== l)
                    return o(s.range[0], `Unresolved tag: ${r}`, !0),
                    s.tag = r,
                    s;
                t.schema.tags.push(Object.assign({}, e, {
                    default: !1
                })),
                c = e
            }
            const u = c.resolve(s, (e=>o(s.range[0], e)), t.options)
              , h = pg(u) ? u : new Sg(u);
            return h.range = s.range,
            h.tag = r,
            (null == c ? void 0 : c.format) && (h.format = c.format),
            h
        }
        function iv(e, t, n) {
            const i = function({offset: e, props: t}, n, i) {
                if ("block-scalar-header" !== t[0].type)
                    return i(e, "Block scalar header not found"),
                    null;
                const {source: r} = t[0]
                  , o = r[0];
                let s = 0
                  , a = ""
                  , l = -1;
                for (let t = 1; t < r.length; ++t) {
                    const n = r[t];
                    if (a || "-" !== n && "+" !== n) {
                        const i = Number(n);
                        !s && i ? s = i : -1 === l && (l = e + t)
                    } else
                        a = n
                }
                -1 !== l && i(l, `Block scalar header includes extra characters: ${r}`);
                let c = !1
                  , u = ""
                  , h = r.length;
                for (let r = 1; r < t.length; ++r) {
                    const o = t[r];
                    switch (o.type) {
                    case "space":
                        c = !0;
                    case "newline":
                        h += o.source.length;
                        break;
                    case "comment":
                        if (n && !c) {
                            i(e + h, "Comments must be separated from other tokens by white space characters")
                        }
                        h += o.source.length,
                        u = o.source.substring(1);
                        break;
                    case "error":
                        i(e + h, o.message),
                        h += o.source.length;
                        break;
                    default:
                        {
                            i(e + h, `Unexpected token in block scalar header: ${o.type}`);
                            const t = o.source;
                            t && "string" == typeof t && (h += t.length)
                        }
                    }
                }
                return {
                    mode: o,
                    indent: s,
                    chomp: a,
                    comment: u,
                    length: h
                }
            }(e, t, n);
            if (!i)
                return {
                    value: "",
                    type: null,
                    comment: "",
                    length: 0
                };
            const r = ">" === i.mode ? Sg.BLOCK_FOLDED : Sg.BLOCK_LITERAL
              , o = e.source ? function(e) {
                const t = e.split(/\n( *)/)
                  , n = t[0]
                  , i = n.match(/^( *)/)
                  , r = [i && i[1] ? [i[1], n.slice(i[1].length)] : ["", n]];
                for (let e = 1; e < t.length; e += 2)
                    r.push([t[e], t[e + 1]]);
                return r
            }(e.source) : [];
            let s = o.length;
            for (let e = o.length - 1; e >= 0; --e) {
                const t = o[e][1];
                if ("" !== t && "\r" !== t)
                    break;
                s = e
            }
            if (!e.source || 0 === s) {
                const t = "+" === i.chomp ? o.map((e=>e[0])).join("\n") : "";
                let n = i.length;
                return e.source && (n += e.source.length),
                {
                    value: t,
                    type: r,
                    comment: i.comment,
                    length: n
                }
            }
            let a = e.indent + i.indent
              , l = e.offset + i.length
              , c = 0;
            for (let e = 0; e < s; ++e) {
                const [t,r] = o[e];
                if ("" !== r && "\r" !== r) {
                    if (t.length < a) {
                        const e = "Block scalars with more-indented leading empty lines must use an explicit indentation indicator";
                        n(l + t.length, e)
                    }
                    0 === i.indent && (a = t.length),
                    c = e;
                    break
                }
                0 === i.indent && t.length > a && (a = t.length),
                l += t.length + r.length + 1
            }
            let u = ""
              , h = ""
              , p = !1;
            for (let e = 0; e < c; ++e)
                u += o[e][0].slice(a) + "\n";
            for (let e = c; e < s; ++e) {
                let[t,s] = o[e];
                l += t.length + s.length + 1;
                const c = "\r" === s[s.length - 1];
                if (c && (s = s.slice(0, -1)),
                s && t.length < a) {
                    const e = `Block scalar lines must not be less indented than their ${i.indent ? "explicit indentation indicator" : "first line"}`;
                    n(l - s.length - (c ? 2 : 1), e),
                    t = ""
                }
                r === Sg.BLOCK_LITERAL ? (u += h + t.slice(a) + s,
                h = "\n") : t.length > a || "\t" === s[0] ? (" " === h ? h = "\n" : p || "\n" !== h || (h = "\n\n"),
                u += h + t.slice(a) + s,
                h = "\n",
                p = !0) : "" === s ? "\n" === h ? u += "\n" : h = "\n" : (u += h + s,
                h = " ",
                p = !1)
            }
            switch (i.chomp) {
            case "-":
                break;
            case "+":
                for (let e = s; e < o.length; ++e)
                    u += "\n" + o[e][0].slice(a);
                "\n" !== u[u.length - 1] && (u += "\n");
                break;
            default:
                u += "\n"
            }
            return {
                value: u,
                type: r,
                comment: i.comment,
                length: i.length + e.source.length
            }
        }
        function rv({offset: e, type: t, source: n, end: i}, r, o) {
            let s, a;
            const l = (t,n)=>o(e + t, n);
            switch (t) {
            case "scalar":
                s = Sg.PLAIN,
                a = function(e, t) {
                    switch (e[0]) {
                    case "\t":
                        t(0, "Plain value cannot start with a tab character");
                        break;
                    case "|":
                    case ">":
                        t(0, `Plain value cannot start with block scalar indicator ${e[0]}`);
                        break;
                    case "@":
                    case "`":
                        t(0, `Plain value cannot start with reserved character ${e[0]}`);
                        break
                    }
                    return ov(e.trim())
                }(n, l);
                break;
            case "single-quoted-scalar":
                s = Sg.QUOTE_SINGLE,
                a = function(e, t) {
                    "'" === e[e.length - 1] && 1 !== e.length || t(e.length, "Missing closing 'quote");
                    return ov(e.slice(1, -1)).replace(/''/g, "'")
                }(n, l);
                break;
            case "double-quoted-scalar":
                s = Sg.QUOTE_DOUBLE,
                a = function(e, t) {
                    let n = "";
                    for (let i = 1; i < e.length - 1; ++i) {
                        const r = e[i];
                        if ("\r" !== r || "\n" !== e[i + 1])
                            if ("\n" === r) {
                                const {fold: t, offset: r} = sv(e, i);
                                n += t,
                                i = r
                            } else if ("\\" === r) {
                                let r = e[++i];
                                const o = av[r];
                                if (o)
                                    n += o;
                                else if ("\n" === r)
                                    for (r = e[i + 1]; " " === r || "\t" === r; )
                                        r = e[1 + ++i];
                                else if ("x" === r || "u" === r || "U" === r) {
                                    const o = {
                                        x: 2,
                                        u: 4,
                                        U: 8
                                    }[r];
                                    n += lv(e, i + 1, o, t),
                                    i += o
                                } else {
                                    const r = e.substr(i - 1, 2);
                                    t(i - 1, `Invalid escape sequence ${r}`),
                                    n += r
                                }
                            } else if (" " === r || "\t" === r) {
                                const t = i;
                                let o = e[i + 1];
                                for (; " " === o || "\t" === o; )
                                    o = e[1 + ++i];
                                "\n" !== o && (n += i > t ? e.slice(t, i + 1) : r)
                            } else
                                n += r
                    }
                    '"' === e[e.length - 1] && 1 !== e.length || t(e.length, 'Missing closing "quote');
                    return n
                }(n, l);
                break;
            default:
                return o(e, `Expected a flow scalar value, but found: ${t}`),
                {
                    value: "",
                    type: null,
                    comment: "",
                    length: n.length
                }
            }
            const c = tv(i, 0, r, l);
            return {
                value: a,
                type: s,
                comment: c.comment,
                length: n.length + c.offset
            }
        }
        function ov(e) {
            const t = e.split(/[ \t]*\r?\n[ \t]*/);
            let n = t[0]
              , i = " ";
            for (let e = 1; e < t.length - 1; ++e) {
                const r = t[e];
                "" === r ? "\n" === i ? n += i : i = "\n" : (n += i + r,
                i = " ")
            }
            return t.length > 1 && (n += i + t[t.length - 1]),
            n
        }
        function sv(e, t) {
            let n = ""
              , i = e[t + 1];
            for (; !(" " !== i && "\t" !== i && "\n" !== i && "\r" !== i || "\r" === i && "\n" !== e[t + 2]); )
                "\n" === i && (n += "\n"),
                i = e[(t += 1) + 1];
            return n || (n = " "),
            {
                fold: n,
                offset: t
            }
        }
        const av = {
            0: "\0",
            a: "",
            b: "\b",
            e: "",
            f: "\f",
            n: "\n",
            r: "\r",
            t: "\t",
            v: "\v",
            N: "",
            _: " ",
            L: "\u2028",
            P: "\u2029",
            " ": " ",
            '"': '"',
            "/": "/",
            "\\": "\\",
            "\t": "\t"
        };
        function lv(e, t, n, i) {
            const r = e.substr(t, n)
              , o = r.length === n && /^[0-9a-fA-F]+$/.test(r) ? parseInt(r, 16) : NaN;
            if (isNaN(o)) {
                const r = e.substr(t - 2, n + 2);
                return i(t - 2, `Invalid escape sequence ${r}`),
                r
            }
            return String.fromCodePoint(o)
        }
        function cv(e, t, n, i, r) {
            const {offset: o} = t
              , {value: s, type: a, comment: l, length: c} = "block-scalar" === t.type ? iv(t, e.options.strict, r) : rv(t, e.options.strict, r)
              , u = i ? function(e, t, n, i) {
                var r;
                if ("!" === n)
                    return uv(e);
                const o = [];
                for (const t of e.tags)
                    if (!t.collection && t.tag === n) {
                        if (!t.default || !t.test)
                            return t;
                        o.push(t)
                    }
                for (const e of o)
                    if (null === (r = e.test) || void 0 === r ? void 0 : r.test(t))
                        return e;
                const s = e.knownTags[n];
                if (s && !s.collection)
                    return e.tags.push(Object.assign({}, s, {
                        default: !1,
                        test: void 0
                    })),
                    s;
                return i(0, `Unresolved tag: ${n}`, "tag:yaml.org,2002:str" !== n),
                uv(e)
            }(e.schema, s, i, r) : function(e, t, n) {
                var i;
                if (n)
                    for (const n of e.tags)
                        if (n.default && (null === (i = n.test) || void 0 === i ? void 0 : i.test(t)))
                            return n;
                return uv(e)
            }(e.schema, s, "scalar" === t.type);
            let h;
            try {
                const t = u ? u.resolve(s, (e=>r(o, e)), e.options) : s;
                h = cg(t) ? t : new Sg(t)
            } catch (e) {
                r(o, e.message),
                h = new Sg(s)
            }
            return h.range = [o, o + c],
            h.source = s,
            a && (h.type = a),
            i && (h.tag = i),
            (null == u ? void 0 : u.format) && (h.format = u.format),
            l && (h.comment = l),
            n && e.anchors.setAnchor(h, n),
            h
        }
        const uv = e=>e.tags.find((e=>!e.collection && "tag:yaml.org,2002:str" === e.tag));
        function hv(e, t, n) {
            if (t) {
                null === n && (n = t.length);
                for (let i = n - 1; i >= 0; --i) {
                    let n = t[i];
                    switch (n.type) {
                    case "space":
                    case "comment":
                    case "newline":
                        e -= n.source.length;
                        continue
                    }
                    for (n = t[++i]; "space" === (null == n ? void 0 : n.type); )
                        e += n.source.length,
                        n = t[++i];
                    break
                }
            }
            return e
        }
        const pv = {
            composeNode: dv,
            composeEmptyNode: fv
        };
        function dv(e, t, n, i) {
            const {spaceBefore: r, comment: o, anchor: s, tagName: a} = n;
            let l;
            switch (t.type) {
            case "alias":
                l = function(e, {offset: t, source: n, end: i}, r) {
                    const o = n.substring(1)
                      , s = e.anchors.getNode(o);
                    s || r(t, `Aliased anchor not found: ${o}`);
                    const a = new Cg(s)
                      , l = tv(i, t + n.length, e.options.strict, r);
                    a.range = [t, l.offset],
                    l.comment && (a.comment = l.comment);
                    return a
                }(e, t, i),
                (s || a) && i(t.offset, "An alias node must not specify any properties");
                break;
            case "scalar":
            case "single-quoted-scalar":
            case "double-quoted-scalar":
            case "block-scalar":
                l = cv(e, t, s, a, i);
                break;
            case "block-map":
            case "block-seq":
            case "flow-collection":
                l = nv(pv, e, t, s, a, i);
                break;
            default:
                throw console.log(t),
                new Error(`Unsupporten token type: ${t.type}`)
            }
            return r && (l.spaceBefore = !0),
            o && ("scalar" === t.type && "" === t.source ? l.comment = o : l.commentBefore = o),
            l
        }
        function fv(e, t, n, i, {spaceBefore: r, comment: o, anchor: s, tagName: a}, l) {
            const c = cv(e, {
                type: "scalar",
                offset: hv(t, n, i),
                indent: -1,
                source: ""
            }, s, a, l);
            return r && (c.spaceBefore = !0),
            o && (c.comment = o),
            c
        }
        function gv(e) {
            let t = ""
              , n = !1
              , i = !1;
            for (let r = 0; r < e.length; ++r) {
                const o = e[r];
                switch (o[0]) {
                case "#":
                    t += ("" === t ? "" : i ? "\n\n" : "\n") + o.substring(1),
                    n = !0,
                    i = !1;
                    break;
                case "%":
                    "#" !== e[r + 1][0] && (r += 1),
                    n = !1;
                    break;
                default:
                    n || (i = !0),
                    n = !1
                }
            }
            return {
                comment: t,
                afterEmptyLine: i
            }
        }
        class mv {
            constructor(e, t={}) {
                this.doc = null,
                this.atDirectives = !1,
                this.prelude = [],
                this.errors = [],
                this.warnings = [],
                this.onError = (e,t,n)=>{
                    n ? this.warnings.push(new Qm(e,t)) : this.errors.push(new Km(e,t))
                }
                ,
                this.next = e=>{
                    switch (e.type) {
                    case "directive":
                        this.directives.add(e.source, this.onError),
                        this.prelude.push(e.source),
                        this.atDirectives = !0;
                        break;
                    case "document":
                        {
                            const t = function(e, t, {offset: n, start: i, value: r, end: o}, s) {
                                const a = Object.assign({
                                    directives: t
                                }, e)
                                  , l = new $m(void 0,a)
                                  , c = Xm(l, i, !0, "doc-start", n, s);
                                c.found && (l.directives.marker = !0),
                                l.contents = r ? dv(l, r, c, s) : fv(l, n + c.length, i, null, c, s);
                                const u = tv(o, l.contents.range[1], !1, s);
                                return u.comment && (l.comment = u.comment),
                                l.range = [n, u.offset],
                                l
                            }(this.options, this.directives, e, this.onError);
                            this.decorate(t, !1),
                            this.doc && this.onDocument(this.doc),
                            this.doc = t,
                            this.atDirectives = !1;
                            break
                        }
                    case "byte-order-mark":
                    case "space":
                        break;
                    case "comment":
                    case "newline":
                        this.prelude.push(e.source);
                        break;
                    case "error":
                        {
                            const t = e.source ? `${e.message}: ${JSON.stringify(e.source)}` : e.message
                              , n = new Km(-1,t);
                            this.atDirectives || !this.doc ? this.errors.push(n) : this.doc.errors.push(n);
                            break
                        }
                    case "doc-end":
                        {
                            if (!this.doc) {
                                const t = "Unexpected doc-end without preceding document";
                                this.errors.push(new Km(e.offset,t));
                                break
                            }
                            const t = tv(e.end, e.offset + e.source.length, this.doc.options.strict, this.onError);
                            if (this.decorate(this.doc, !0),
                            t.comment) {
                                const e = this.doc.comment;
                                this.doc.comment = e ? `${e}\n${t.comment}` : t.comment
                            }
                            this.doc.range[1] = t.offset;
                            break
                        }
                    default:
                        this.errors.push(new Km(-1,`Unsupported token ${e.type}`))
                    }
                }
                ,
                this.directives = new wg({
                    version: (null == t ? void 0 : t.version) || Yg.version
                }),
                this.onDocument = e,
                this.options = t
            }
            decorate(e, t) {
                const {comment: n, afterEmptyLine: i} = gv(this.prelude);
                if (n) {
                    const r = e.contents;
                    if (t)
                        e.comment = e.comment ? `${e.comment}\n${n}` : n;
                    else if (i || e.directives.marker || !r)
                        e.commentBefore = n;
                    else if (hg(r) && !r.flow && r.items.length > 0) {
                        const e = r.items[0]
                          , t = e.commentBefore;
                        e.commentBefore = t ? `${n}\n${t}` : n
                    } else {
                        const e = r.commentBefore;
                        r.commentBefore = e ? `${n}\n${e}` : n
                    }
                }
                t ? (Array.prototype.push.apply(e.errors, this.errors),
                Array.prototype.push.apply(e.warnings, this.warnings)) : (e.errors = this.errors,
                e.warnings = this.warnings),
                this.prelude = [],
                this.errors = [],
                this.warnings = []
            }
            streamInfo() {
                return {
                    comment: gv(this.prelude).comment,
                    directives: this.directives,
                    errors: this.errors,
                    warnings: this.warnings
                }
            }
            end(e=!1, t=-1) {
                if (this.doc)
                    this.decorate(this.doc, !0),
                    this.onDocument(this.doc),
                    this.doc = null;
                else if (e) {
                    const e = Object.assign({
                        directives: this.directives
                    }, this.options)
                      , n = new $m(void 0,e);
                    this.atDirectives && this.onError(t, "Missing directives-end indicator line"),
                    n.range = [0, t],
                    this.decorate(n, !1),
                    this.onDocument(n)
                }
            }
        }
        class vv {
            constructor() {
                this.lineStarts = [],
                this.addNewLine = e=>this.lineStarts.push(e),
                this.linePos = e=>{
                    let t = 0
                      , n = this.lineStarts.length;
                    for (; t < n; ) {
                        const i = t + n >> 1;
                        this.lineStarts[i] < e ? t = i + 1 : n = i
                    }
                    if (this.lineStarts[t] === e)
                        return {
                            line: t + 1,
                            col: 1
                        };
                    if (0 === t)
                        return {
                            line: 0,
                            col: e
                        };
                    return {
                        line: t,
                        col: e - this.lineStarts[t - 1] + 1
                    }
                }
            }
        }
        const yv = "";
        function bv(e) {
            switch (e) {
            case void 0:
            case " ":
            case "\n":
            case "\r":
            case "\t":
                return !0;
            default:
                return !1
            }
        }
        const wv = [",", "[", "]", "{", "}"]
          , kv = [" ", ",", "[", "]", "{", "}", "\n", "\r", "\t"]
          , Cv = e=>!e || kv.includes(e);
        class xv {
            constructor(e) {
                this.atEnd = !1,
                this.blockScalarIndent = -1,
                this.blockScalarKeep = !1,
                this.buffer = "",
                this.flowKey = !1,
                this.flowLevel = 0,
                this.indentNext = 0,
                this.indentValue = 0,
                this.next = null,
                this.pos = 0,
                this.push = e
            }
            lex(e, t) {
                e && (this.buffer = this.buffer ? this.buffer + e : e),
                this.atEnd = !t;
                let n = this.next || "stream";
                for (; n && (t || this.hasChars(1)); )
                    n = this.parseNext(n)
            }
            atLineEnd() {
                let e = this.pos
                  , t = this.buffer[e];
                for (; " " === t || "\t" === t; )
                    t = this.buffer[++e];
                return !t || "#" === t || "\n" === t || "\r" === t && "\n" === this.buffer[e + 1]
            }
            charAt(e) {
                return this.buffer[this.pos + e]
            }
            continueScalar(e) {
                let t = this.buffer[e];
                if (this.indentNext > 0) {
                    let n = 0;
                    for (; " " === t; )
                        t = this.buffer[++n + e];
                    if ("\r" === t) {
                        const t = this.buffer[n + e + 1];
                        if ("\n" === t || !t && !this.atEnd)
                            return e + n + 1
                    }
                    return "\n" === t || n >= this.indentNext || !t && !this.atEnd ? e + n : -1
                }
                if ("-" === t || "." === t) {
                    const t = this.buffer.substr(e, 3);
                    if (("---" === t || "..." === t) && bv(this.buffer[e + 3]))
                        return -1
                }
                return e
            }
            getLine() {
                let e = this.buffer.indexOf("\n", this.pos);
                return -1 === e ? this.atEnd ? this.buffer.substring(this.pos) : null : ("\r" === this.buffer[e - 1] && (e -= 1),
                this.buffer.substring(this.pos, e))
            }
            hasChars(e) {
                return this.pos + e <= this.buffer.length
            }
            setNext(e) {
                return this.buffer = this.buffer.substring(this.pos),
                this.pos = 0,
                this.next = e,
                null
            }
            peek(e) {
                return this.buffer.substr(this.pos, e)
            }
            parseNext(e) {
                switch (e) {
                case "stream":
                    return this.parseStream();
                case "line-start":
                    return this.parseLineStart();
                case "block-start":
                    return this.parseBlockStart();
                case "doc":
                    return this.parseDocument();
                case "flow":
                    return this.parseFlowCollection();
                case "quoted-scalar":
                    return this.parseQuotedScalar();
                case "block-scalar":
                    return this.parseBlockScalar();
                case "plain-scalar":
                    return this.parsePlainScalar()
                }
            }
            parseStream() {
                let e = this.getLine();
                if (null === e)
                    return this.setNext("stream");
                if ("\ufeff" === e[0] && (this.pushCount(1),
                e = e.substring(1)),
                "%" === e[0]) {
                    let t = e.length;
                    const n = e.indexOf("#");
                    if (-1 !== n) {
                        const i = e[n - 1];
                        " " !== i && "\t" !== i || (t = n - 1)
                    }
                    for (; ; ) {
                        const n = e[t - 1];
                        if (" " !== n && "\t" !== n)
                            break;
                        t -= 1
                    }
                    const i = this.pushCount(t) + this.pushSpaces(!0);
                    return this.pushCount(e.length - i),
                    this.pushNewline(),
                    "stream"
                }
                if (this.atLineEnd()) {
                    const t = this.pushSpaces(!0);
                    return this.pushCount(e.length - t),
                    this.pushNewline(),
                    "stream"
                }
                return this.push(""),
                this.parseLineStart()
            }
            parseLineStart() {
                const e = this.charAt(0);
                if (!e && !this.atEnd)
                    return this.setNext("line-start");
                if ("-" === e || "." === e) {
                    if (!this.atEnd && !this.hasChars(4))
                        return this.setNext("line-start");
                    const e = this.peek(3);
                    if ("---" === e && bv(this.charAt(3)))
                        return this.pushCount(3),
                        this.indentValue = 0,
                        this.indentNext = 0,
                        "doc";
                    if ("..." === e && bv(this.charAt(3)))
                        return this.pushCount(3),
                        "stream"
                }
                return this.indentValue = this.pushSpaces(!1),
                this.indentNext > this.indentValue && !bv(this.charAt(1)) && (this.indentNext = this.indentValue),
                this.parseBlockStart()
            }
            parseBlockStart() {
                const [e,t] = this.peek(2);
                if (!t && !this.atEnd)
                    return this.setNext("block-start");
                if (("-" === e || "?" === e || ":" === e) && bv(t)) {
                    const e = this.pushCount(1) + this.pushSpaces(!0);
                    return this.indentNext = this.indentValue + 1,
                    this.indentValue += e,
                    this.parseBlockStart()
                }
                return "doc"
            }
            parseDocument() {
                this.pushSpaces(!0);
                const e = this.getLine();
                if (null === e)
                    return this.setNext("doc");
                let t = this.pushIndicators();
                switch (e[t]) {
                case "#":
                    this.pushCount(e.length - t);
                case void 0:
                    return this.pushNewline(),
                    this.parseLineStart();
                case "{":
                case "[":
                    return this.pushCount(1),
                    this.flowKey = !1,
                    this.flowLevel = 1,
                    "flow";
                case "}":
                case "]":
                    return this.pushCount(1),
                    "doc";
                case "*":
                    return this.pushUntil(Cv),
                    "doc";
                case '"':
                case "'":
                    return this.parseQuotedScalar();
                case "|":
                case ">":
                    return t += this.parseBlockScalarHeader(),
                    t += this.pushSpaces(!0),
                    this.pushCount(e.length - t),
                    this.pushNewline(),
                    this.parseBlockScalar();
                default:
                    return this.parsePlainScalar()
                }
            }
            parseFlowCollection() {
                let e, t, n = -1;
                do {
                    e = this.pushNewline(),
                    t = this.pushSpaces(!0),
                    e > 0 && (this.indentValue = n = t)
                } while (e + t > 0);
                const i = this.getLine();
                if (null === i)
                    return this.setNext("flow");
                if (-1 !== n && n < this.indentNext || 0 === n && (i.startsWith("---") || i.startsWith("...")) && bv(i[3])) {
                    if (!(n === this.indentNext - 1 && 1 === this.flowLevel && ("]" === i[0] || "}" === i[0])))
                        return this.flowLevel = 0,
                        this.push(""),
                        this.parseLineStart()
                }
                let r = 0;
                for (; "," === i[r]; )
                    r += this.pushCount(1) + this.pushSpaces(!0);
                switch (r += this.pushIndicators(),
                i[r]) {
                case void 0:
                    return "flow";
                case "#":
                    return this.pushCount(i.length - r),
                    "flow";
                case "{":
                case "[":
                    return this.pushCount(1),
                    this.flowKey = !1,
                    this.flowLevel += 1,
                    "flow";
                case "}":
                case "]":
                    return this.pushCount(1),
                    this.flowKey = !0,
                    this.flowLevel -= 1,
                    this.flowLevel ? "flow" : "doc";
                case "*":
                    return this.pushUntil(Cv),
                    "flow";
                case '"':
                case "'":
                    return this.flowKey = !0,
                    this.parseQuotedScalar();
                case ":":
                    {
                        const e = this.charAt(1);
                        if (this.flowKey || bv(e) || "," === e)
                            return this.pushCount(1),
                            this.pushSpaces(!0),
                            "flow"
                    }
                default:
                    return this.flowKey = !1,
                    this.parsePlainScalar()
                }
            }
            parseQuotedScalar() {
                const e = this.charAt(0);
                let t = this.buffer.indexOf(e, this.pos + 1);
                if ("'" === e)
                    for (; -1 !== t && "'" === this.buffer[t + 1]; )
                        t = this.buffer.indexOf("'", t + 2);
                else
                    for (; -1 !== t; ) {
                        let e = 0;
                        for (; "\\" === this.buffer[t - 1 - e]; )
                            e += 1;
                        if (e % 2 == 0)
                            break;
                        t = this.buffer.indexOf('"', t + 1)
                    }
                let n = this.buffer.indexOf("\n", this.pos);
                if (-1 !== n && n < t) {
                    for (; -1 !== n && n < t; ) {
                        const e = this.continueScalar(n + 1);
                        if (-1 === e)
                            break;
                        n = this.buffer.indexOf("\n", e)
                    }
                    -1 !== n && n < t && (t = n - 1)
                }
                if (-1 === t) {
                    if (!this.atEnd)
                        return this.setNext("quoted-scalar");
                    t = this.buffer.length
                }
                return this.pushToIndex(t + 1, !1),
                this.flowLevel ? "flow" : "doc"
            }
            parseBlockScalarHeader() {
                this.blockScalarIndent = -1,
                this.blockScalarKeep = !1;
                let e = this.pos;
                for (; ; ) {
                    const t = this.buffer[++e];
                    if ("+" === t)
                        this.blockScalarKeep = !0;
                    else if (t > "0" && t <= "9")
                        this.blockScalarIndent = Number(t) - 1;
                    else if ("-" !== t)
                        break
                }
                return this.pushUntil((e=>bv(e) || "#" === e))
            }
            parseBlockScalar() {
                let e, t = this.pos - 1, n = 0;
                e: for (let i = this.pos; e = this.buffer[i]; ++i)
                    switch (e) {
                    case " ":
                        n += 1;
                        break;
                    case "\n":
                        t = i,
                        n = 0;
                        break;
                    case "\r":
                        {
                            const e = this.buffer[i + 1];
                            if (!e && !this.atEnd)
                                return this.setNext("block-scalar");
                            if ("\n" === e)
                                break
                        }
                    default:
                        break e
                    }
                if (!e && !this.atEnd)
                    return this.setNext("block-scalar");
                if (n >= this.indentNext) {
                    -1 === this.blockScalarIndent ? this.indentNext = n : this.indentNext += this.blockScalarIndent;
                    do {
                        const e = this.continueScalar(t + 1);
                        if (-1 === e)
                            break;
                        t = this.buffer.indexOf("\n", e)
                    } while (-1 !== t);
                    if (-1 === t) {
                        if (!this.atEnd)
                            return this.setNext("block-scalar");
                        t = this.buffer.length
                    }
                }
                if (!this.blockScalarKeep)
                    for (; ; ) {
                        let e = t - 1
                          , n = this.buffer[e];
                        for ("\r" === n && (n = this.buffer[--e]); " " === n || "\t" === n; )
                            n = this.buffer[--e];
                        if (!("\n" === n && e >= this.pos))
                            break;
                        t = e
                    }
                return this.push(yv),
                this.pushToIndex(t + 1, !0),
                this.parseLineStart()
            }
            parsePlainScalar() {
                const e = this.flowLevel > 0;
                let t, n = this.pos - 1, i = this.pos - 1;
                for (; t = this.buffer[++i]; )
                    if (":" === t) {
                        const t = this.buffer[i + 1];
                        if (bv(t) || e && "," === t)
                            break;
                        n = i
                    } else if (bv(t)) {
                        const r = this.buffer[i + 1];
                        if ("#" === r || e && wv.includes(r))
                            break;
                        if ("\r" === t && ("\n" === r ? (i += 1,
                        t = "\n") : n = i),
                        "\n" === t) {
                            const e = this.continueScalar(i + 1);
                            if (-1 === e)
                                break;
                            i = Math.max(i, e - 2)
                        }
                    } else {
                        if (e && wv.includes(t))
                            break;
                        n = i
                    }
                return t || this.atEnd ? (this.push(yv),
                this.pushToIndex(n + 1, !0),
                e ? "flow" : "doc") : this.setNext("plain-scalar")
            }
            pushCount(e) {
                return e > 0 ? (this.push(this.buffer.substr(this.pos, e)),
                this.pos += e,
                e) : 0
            }
            pushToIndex(e, t) {
                const n = this.buffer.slice(this.pos, e);
                return n ? (this.push(n),
                this.pos += n.length,
                n.length) : (t && this.push(""),
                0)
            }
            pushIndicators() {
                switch (this.charAt(0)) {
                case "!":
                    if ("<" === this.charAt(1))
                        return this.pushVerbatimTag() + this.pushSpaces(!0) + this.pushIndicators();
                case "&":
                    return this.pushUntil(Cv) + this.pushSpaces(!0) + this.pushIndicators();
                case ":":
                case "?":
                case "-":
                    if (bv(this.charAt(1)))
                        return 0 === this.flowLevel && (this.indentNext = this.indentValue + 1),
                        this.pushCount(1) + this.pushSpaces(!0) + this.pushIndicators()
                }
                return 0
            }
            pushVerbatimTag() {
                let e = this.pos + 2
                  , t = this.buffer[e];
                for (; !bv(t) && ">" !== t; )
                    t = this.buffer[++e];
                return this.pushToIndex(">" === t ? e + 1 : e, !1)
            }
            pushNewline() {
                const e = this.buffer[this.pos];
                return "\n" === e ? this.pushCount(1) : "\r" === e && "\n" === this.charAt(1) ? this.pushCount(2) : 0
            }
            pushSpaces(e) {
                let t, n = this.pos - 1;
                do {
                    t = this.buffer[++n]
                } while (" " === t || e && "\t" === t);
                const i = n - this.pos;
                return i > 0 && (this.push(this.buffer.substr(this.pos, i)),
                this.pos = n),
                i
            }
            pushUntil(e) {
                let t = this.pos
                  , n = this.buffer[t];
                for (; !e(n); )
                    n = this.buffer[++t];
                return this.pushToIndex(t, !1)
            }
        }
        function Ev(e, t) {
            for (let n = 0; n < e.length; ++n)
                if (e[n].type === t)
                    return !0;
            return !1
        }
        function Sv(e) {
            for (let t = 0; t < e.length; ++t)
                switch (e[t].type) {
                case "space":
                case "comment":
                case "newline":
                    break;
                default:
                    return !0
                }
            return !1
        }
        function Lv(e) {
            let t = !1;
            for (let n = 0; n < e.length; ++n)
                switch (e[n].type) {
                case "space":
                    break;
                case "comment":
                    t = !0;
                    break;
                case "newline":
                    if (!t)
                        return !1;
                    break;
                default:
                    return !1
                }
            if (t)
                for (let t = e.length - 1; t >= 0; --t)
                    switch (e[t].type) {
                    case "space":
                        break;
                    case "newline":
                        return !0;
                    default:
                        return !1
                    }
            return !1
        }
        function Dv(e) {
            switch (e.type) {
            case "document":
                return e.start;
            case "block-map":
                {
                    const t = e.items[e.items.length - 1];
                    return t.sep || t.start
                }
            case "block-seq":
                return e.items[e.items.length - 1].start;
            default:
                return []
            }
        }
        function Mv(e) {
            var t;
            if (0 === e.length)
                return [];
            let n = e.length;
            e: for (; --n >= 0; )
                switch (e[n].type) {
                case "explicit-key-ind":
                case "map-value-ind":
                case "seq-item-ind":
                case "newline":
                    break e
                }
            for (; "space" === (null === (t = e[++n]) || void 0 === t ? void 0 : t.type); )
                ;
            return e.splice(n, e.length)
        }
        class Av {
            constructor(e, t) {
                this.atNewLine = !0,
                this.atScalar = !1,
                this.indent = 0,
                this.offset = 0,
                this.onKeyLine = !1,
                this.stack = [],
                this.source = "",
                this.type = "",
                this.next = e=>{
                    if (this.source = e,
                    this.atScalar)
                        return this.atScalar = !1,
                        this.step(),
                        void (this.offset += e.length);
                    const t = function(e) {
                        switch (e) {
                        case "\ufeff":
                            return "byte-order-mark";
                        case "":
                            return "doc-mode";
                        case "":
                            return "flow-error-end";
                        case yv:
                            return "scalar";
                        case "---":
                            return "doc-start";
                        case "...":
                            return "doc-end";
                        case "":
                        case "\n":
                        case "\r\n":
                            return "newline";
                        case "-":
                            return "seq-item-ind";
                        case "?":
                            return "explicit-key-ind";
                        case ":":
                            return "map-value-ind";
                        case "{":
                            return "flow-map-start";
                        case "}":
                            return "flow-map-end";
                        case "[":
                            return "flow-seq-start";
                        case "]":
                            return "flow-seq-end";
                        case ",":
                            return "comma"
                        }
                        switch (e[0]) {
                        case " ":
                        case "\t":
                            return "space";
                        case "#":
                            return "comment";
                        case "%":
                            return "directive-line";
                        case "*":
                            return "alias";
                        case "&":
                            return "anchor";
                        case "!":
                            return "tag";
                        case "'":
                            return "single-quoted-scalar";
                        case '"':
                            return "double-quoted-scalar";
                        case "|":
                        case ">":
                            return "block-scalar-header"
                        }
                        return null
                    }(e);
                    if (t)
                        if ("scalar" === t)
                            this.atNewLine = !1,
                            this.atScalar = !0,
                            this.type = "scalar";
                        else {
                            switch (this.type = t,
                            this.step(),
                            t) {
                            case "newline":
                                this.atNewLine = !0,
                                this.indent = 0,
                                this.onNewLine && this.onNewLine(this.offset + e.length);
                                break;
                            case "space":
                                this.atNewLine && " " === e[0] && (this.indent += e.length);
                                break;
                            case "explicit-key-ind":
                            case "map-value-ind":
                            case "seq-item-ind":
                                this.atNewLine && (this.indent += e.length);
                                break;
                            case "doc-mode":
                                return;
                            default:
                                this.atNewLine = !1
                            }
                            this.offset += e.length
                        }
                    else {
                        const t = `Not a YAML token: ${e}`;
                        this.pop({
                            type: "error",
                            offset: this.offset,
                            message: t,
                            source: e
                        }),
                        this.offset += e.length
                    }
                }
                ,
                this.lexer = new xv(this.next),
                this.push = e,
                this.onNewLine = t
            }
            parse(e, t=!1) {
                this.onNewLine && 0 === this.offset && this.onNewLine(0),
                this.lexer.lex(e, t),
                t || this.end()
            }
            end() {
                for (; this.stack.length > 0; )
                    this.pop()
            }
            get sourceToken() {
                return {
                    type: this.type,
                    indent: this.indent,
                    source: this.source
                }
            }
            step() {
                const e = this.peek(1);
                if ("doc-end" !== this.type || e && "doc-end" === e.type) {
                    if (!e)
                        return this.stream();
                    switch (e.type) {
                    case "document":
                        return this.document(e);
                    case "alias":
                    case "scalar":
                    case "single-quoted-scalar":
                    case "double-quoted-scalar":
                        return this.scalar(e);
                    case "block-scalar":
                        return this.blockScalar(e);
                    case "block-map":
                        return this.blockMap(e);
                    case "block-seq":
                        return this.blockSequence(e);
                    case "flow-collection":
                        return this.flowCollection(e);
                    case "doc-end":
                        return this.documentEnd(e)
                    }
                    this.pop()
                } else {
                    for (; this.stack.length > 0; )
                        this.pop();
                    this.stack.push({
                        type: "doc-end",
                        offset: this.offset,
                        source: this.source
                    })
                }
            }
            peek(e) {
                return this.stack[this.stack.length - e]
            }
            pop(e) {
                const t = e || this.stack.pop();
                if (t)
                    if (0 === this.stack.length)
                        this.push(t);
                    else {
                        const e = this.peek(1);
                        switch ("block-scalar" !== t.type && "flow-collection" !== t.type || (t.indent = "indent"in e ? e.indent : -1),
                        e.type) {
                        case "document":
                            e.value = t;
                            break;
                        case "block-scalar":
                            e.props.push(t);
                            break;
                        case "block-map":
                            {
                                const n = e.items[e.items.length - 1];
                                if (n.value)
                                    return e.items.push({
                                        start: [],
                                        key: t,
                                        sep: []
                                    }),
                                    void (this.onKeyLine = !0);
                                if (!n.sep)
                                    return Object.assign(n, {
                                        key: t,
                                        sep: []
                                    }),
                                    void (this.onKeyLine = !Ev(n.start, "explicit-key-ind"));
                                n.value = t;
                                break
                            }
                        case "block-seq":
                            {
                                const n = e.items[e.items.length - 1];
                                n.value ? e.items.push({
                                    start: [],
                                    value: t
                                }) : n.value = t;
                                break
                            }
                        case "flow-collection":
                            e.items.push(t);
                            break;
                        default:
                            this.pop(),
                            this.pop(t)
                        }
                        if (!("document" !== e.type && "block-map" !== e.type && "block-seq" !== e.type || "block-map" !== t.type && "block-seq" !== t.type)) {
                            const n = t.items[t.items.length - 1];
                            n && !n.sep && !n.value && n.start.length > 0 && !Sv(n.start) && (0 === t.indent || n.start.every((e=>"comment" !== e.type || e.indent < t.indent))) && ("document" === e.type ? e.end = n.start : e.items.push({
                                start: n.start
                            }),
                            t.items.splice(-1, 1))
                        }
                    }
                else {
                    const e = "Tried to pop an empty stack";
                    this.push({
                        type: "error",
                        source: "",
                        message: e
                    })
                }
            }
            stream() {
                switch (this.type) {
                case "directive-line":
                    return void this.push({
                        type: "directive",
                        source: this.source
                    });
                case "byte-order-mark":
                case "space":
                case "comment":
                case "newline":
                    return void this.push(this.sourceToken);
                case "doc-mode":
                case "doc-start":
                    {
                        const e = {
                            type: "document",
                            offset: this.offset,
                            start: []
                        };
                        return "doc-start" === this.type && e.start.push(this.sourceToken),
                        void this.stack.push(e)
                    }
                }
                this.push({
                    type: "error",
                    offset: this.offset,
                    message: `Unexpected ${this.type} token in YAML stream`,
                    source: this.source
                })
            }
            document(e) {
                if (e.value)
                    return this.lineEnd(e);
                switch (this.type) {
                case "doc-start":
                    return void (Sv(e.start) ? (this.pop(),
                    this.step()) : e.start.push(this.sourceToken));
                case "anchor":
                case "tag":
                case "space":
                case "comment":
                case "newline":
                    return void e.start.push(this.sourceToken)
                }
                const t = this.startBlockValue(e);
                t ? this.stack.push(t) : this.push({
                    type: "error",
                    offset: this.offset,
                    message: `Unexpected ${this.type} token in YAML document`,
                    source: this.source
                })
            }
            scalar(e) {
                if ("map-value-ind" === this.type) {
                    const t = Mv(Dv(this.peek(2)));
                    let n;
                    e.end ? (n = e.end,
                    n.push(this.sourceToken),
                    delete e.end) : n = [this.sourceToken];
                    const i = {
                        type: "block-map",
                        offset: e.offset,
                        indent: e.indent,
                        items: [{
                            start: t,
                            key: e,
                            sep: n
                        }]
                    };
                    this.onKeyLine = !0,
                    this.stack[this.stack.length - 1] = i
                } else
                    this.lineEnd(e)
            }
            blockScalar(e) {
                switch (this.type) {
                case "space":
                case "comment":
                case "newline":
                    return void e.props.push(this.sourceToken);
                case "scalar":
                    if (e.source = this.source,
                    this.atNewLine = !0,
                    this.indent = 0,
                    this.onNewLine) {
                        let e = this.source.indexOf("\n") + 1;
                        for (; 0 !== e; )
                            this.onNewLine(this.offset + e),
                            e = this.source.indexOf("\n", e) + 1
                    }
                    this.pop();
                    break;
                default:
                    this.pop(),
                    this.step()
                }
            }
            blockMap(e) {
                var t;
                const n = e.items[e.items.length - 1];
                switch (this.type) {
                case "newline":
                    if (this.onKeyLine = !1,
                    !n.sep && Lv(n.start)) {
                        const i = e.items[e.items.length - 2]
                          , r = null === (t = null == i ? void 0 : i.value) || void 0 === t ? void 0 : t.end;
                        if (Array.isArray(r))
                            return Array.prototype.push.apply(r, n.start),
                            void (n.start = [this.sourceToken])
                    }
                case "space":
                case "comment":
                    return void (n.value ? e.items.push({
                        start: [this.sourceToken]
                    }) : n.sep ? n.sep.push(this.sourceToken) : n.start.push(this.sourceToken))
                }
                if (this.indent >= e.indent) {
                    const t = !this.onKeyLine && this.indent === e.indent && (n.sep || Sv(n.start));
                    switch (this.type) {
                    case "anchor":
                    case "tag":
                        return void (t || n.value ? (e.items.push({
                            start: [this.sourceToken]
                        }),
                        this.onKeyLine = !0) : n.sep ? n.sep.push(this.sourceToken) : n.start.push(this.sourceToken));
                    case "explicit-key-ind":
                        return n.sep || Ev(n.start, "explicit-key-ind") ? t || n.value ? e.items.push({
                            start: [this.sourceToken]
                        }) : this.stack.push({
                            type: "block-map",
                            offset: this.offset,
                            indent: this.indent,
                            items: [{
                                start: [this.sourceToken]
                            }]
                        }) : n.start.push(this.sourceToken),
                        void (this.onKeyLine = !0);
                    case "map-value-ind":
                        if (n.sep)
                            if (n.value || t && !Ev(n.start, "explicit-key-ind"))
                                e.items.push({
                                    start: [],
                                    key: null,
                                    sep: [this.sourceToken]
                                });
                            else if (Ev(n.sep, "map-value-ind"))
                                this.stack.push({
                                    type: "block-map",
                                    offset: this.offset,
                                    indent: this.indent,
                                    items: [{
                                        start: [],
                                        key: null,
                                        sep: [this.sourceToken]
                                    }]
                                });
                            else if (Ev(n.start, "explicit-key-ind") && function(e) {
                                switch (null == e ? void 0 : e.type) {
                                case "alias":
                                case "scalar":
                                case "single-quoted-scalar":
                                case "double-quoted-scalar":
                                case "flow-collection":
                                    return !0;
                                default:
                                    return !1
                                }
                            }(n.key) && !Ev(n.sep, "newline")) {
                                const e = Mv(n.start)
                                  , t = n.key
                                  , i = n.sep;
                                i.push(this.sourceToken),
                                delete n.key,
                                delete n.sep,
                                this.stack.push({
                                    type: "block-map",
                                    offset: this.offset,
                                    indent: this.indent,
                                    items: [{
                                        start: e,
                                        key: t,
                                        sep: i
                                    }]
                                })
                            } else
                                n.sep.push(this.sourceToken);
                        else
                            Object.assign(n, {
                                key: null,
                                sep: [this.sourceToken]
                            });
                        return void (this.onKeyLine = !0);
                    case "alias":
                    case "scalar":
                    case "single-quoted-scalar":
                    case "double-quoted-scalar":
                        {
                            const i = this.flowScalar(this.type);
                            return void (t || n.value ? (e.items.push({
                                start: [],
                                key: i,
                                sep: []
                            }),
                            this.onKeyLine = !0) : n.sep ? this.stack.push(i) : (Object.assign(n, {
                                key: i,
                                sep: []
                            }),
                            this.onKeyLine = !0))
                        }
                    default:
                        {
                            const i = this.startBlockValue(e);
                            if (i)
                                return t && "block-seq" !== i.type && Ev(n.start, "explicit-key-ind") && e.items.push({
                                    start: []
                                }),
                                void this.stack.push(i)
                        }
                    }
                }
                this.pop(),
                this.step()
            }
            blockSequence(e) {
                var t;
                const n = e.items[e.items.length - 1];
                switch (this.type) {
                case "newline":
                    if (!n.value && Lv(n.start)) {
                        const i = e.items[e.items.length - 2]
                          , r = null === (t = null == i ? void 0 : i.value) || void 0 === t ? void 0 : t.end;
                        if (Array.isArray(r))
                            return Array.prototype.push.apply(r, n.start),
                            void (n.start = [this.sourceToken])
                    }
                case "space":
                case "comment":
                    return void (n.value ? e.items.push({
                        start: [this.sourceToken]
                    }) : n.start.push(this.sourceToken));
                case "anchor":
                case "tag":
                    if (n.value || this.indent <= e.indent)
                        break;
                    return void n.start.push(this.sourceToken);
                case "seq-item-ind":
                    if (this.indent !== e.indent)
                        break;
                    return void (n.value || Ev(n.start, "seq-item-ind") ? e.items.push({
                        start: [this.sourceToken]
                    }) : n.start.push(this.sourceToken))
                }
                if (this.indent > e.indent) {
                    const t = this.startBlockValue(e);
                    if (t)
                        return this.stack.push(t)
                }
                this.pop(),
                this.step()
            }
            flowCollection(e) {
                if ("flow-error-end" === this.type) {
                    let e;
                    do {
                        this.pop(),
                        e = this.peek(1)
                    } while (e && "flow-collection" === e.type)
                } else if (0 === e.end.length) {
                    switch (this.type) {
                    case "space":
                    case "comment":
                    case "newline":
                    case "comma":
                    case "explicit-key-ind":
                    case "map-value-ind":
                    case "anchor":
                    case "tag":
                        return void e.items.push(this.sourceToken);
                    case "alias":
                    case "scalar":
                    case "single-quoted-scalar":
                    case "double-quoted-scalar":
                        return void e.items.push(this.flowScalar(this.type));
                    case "flow-map-end":
                    case "flow-seq-end":
                        return void e.end.push(this.sourceToken)
                    }
                    const t = this.startBlockValue(e);
                    if (t)
                        return this.stack.push(t);
                    this.pop(),
                    this.step()
                } else {
                    const t = this.peek(2);
                    if ("block-map" !== t.type || "map-value-ind" !== this.type && ("newline" !== this.type || t.items[t.items.length - 1].sep))
                        if ("map-value-ind" === this.type && "flow-collection" !== t.type) {
                            const n = Mv(Dv(t))
                              , i = e.end.splice(1, e.end.length);
                            i.push(this.sourceToken);
                            const r = {
                                type: "block-map",
                                offset: e.offset,
                                indent: e.indent,
                                items: [{
                                    start: n,
                                    key: e,
                                    sep: i
                                }]
                            };
                            this.onKeyLine = !0,
                            this.stack[this.stack.length - 1] = r
                        } else
                            this.lineEnd(e);
                    else
                        this.pop(),
                        this.step()
                }
            }
            flowScalar(e) {
                if (this.onNewLine) {
                    let e = this.source.indexOf("\n") + 1;
                    for (; 0 !== e; )
                        this.onNewLine(this.offset + e),
                        e = this.source.indexOf("\n", e) + 1
                }
                return {
                    type: e,
                    offset: this.offset,
                    indent: this.indent,
                    source: this.source
                }
            }
            startBlockValue(e) {
                switch (this.type) {
                case "alias":
                case "scalar":
                case "single-quoted-scalar":
                case "double-quoted-scalar":
                    return this.flowScalar(this.type);
                case "block-scalar-header":
                    return {
                        type: "block-scalar",
                        offset: this.offset,
                        indent: this.indent,
                        props: [this.sourceToken]
                    };
                case "flow-map-start":
                case "flow-seq-start":
                    return {
                        type: "flow-collection",
                        offset: this.offset,
                        indent: this.indent,
                        start: this.sourceToken,
                        items: [],
                        end: []
                    };
                case "seq-item-ind":
                    return {
                        type: "block-seq",
                        offset: this.offset,
                        indent: this.indent,
                        items: [{
                            start: [this.sourceToken]
                        }]
                    };
                case "explicit-key-ind":
                    return this.onKeyLine = !0,
                    {
                        type: "block-map",
                        offset: this.offset,
                        indent: this.indent,
                        items: [{
                            start: [this.sourceToken]
                        }]
                    };
                case "map-value-ind":
                    {
                        this.onKeyLine = !0;
                        const t = Mv(Dv(e));
                        return {
                            type: "block-map",
                            offset: this.offset,
                            indent: this.indent,
                            items: [{
                                start: t,
                                key: null,
                                sep: [this.sourceToken]
                            }]
                        }
                    }
                }
                return null
            }
            documentEnd(e) {
                "doc-mode" !== this.type && (e.end ? e.end.push(this.sourceToken) : e.end = [this.sourceToken],
                "newline" === this.type && this.pop())
            }
            lineEnd(e) {
                switch (this.type) {
                case "comma":
                case "doc-start":
                case "doc-end":
                case "flow-seq-end":
                case "flow-map-end":
                case "map-value-ind":
                    this.pop(),
                    this.step();
                    break;
                case "newline":
                    this.onKeyLine = !1;
                case "space":
                case "comment":
                default:
                    e.end ? e.end.push(this.sourceToken) : e.end = [this.sourceToken],
                    "newline" === this.type && this.pop()
                }
            }
        }
        function Tv(e) {
            const t = !e || !1 !== e.prettyErrors;
            return {
                lineCounter: e && e.lineCounter || t && new vv || null,
                prettyErrors: t
            }
        }
        function Fv(e, t, n) {
            let i;
            "function" == typeof t ? i = t : void 0 === n && t && "object" == typeof t && (n = t);
            const r = function(e, t) {
                const {lineCounter: n, prettyErrors: i} = Tv(t);
                let r = null;
                const o = new mv((e=>{
                    if (r) {
                        if ("silent" !== r.options.logLevel) {
                            const t = "Source contains multiple documents; please use YAML.parseAllDocuments()";
                            r.errors.push(new Km(e.range[0],t))
                        }
                    } else
                        r = e
                }
                ),t);
                return new Av(o.next,null == n ? void 0 : n.addNewLine).parse(e),
                o.end(!0, e.length),
                i && n && (r.errors.forEach(Jm(e, n)),
                r.warnings.forEach(Jm(e, n))),
                r
            }(e, n);
            if (!r)
                return null;
            if (r.warnings.forEach((e=>jg(r.options.logLevel, e))),
            r.errors.length > 0) {
                if ("silent" !== r.options.logLevel)
                    throw r.errors[0];
                r.errors = []
            }
            return r.toJS(Object.assign({
                reviver: i
            }, n))
        }
        var Pv = n(5572)
          , Ov = n(914)
          , Iv = n.n(Ov)
          , Nv = n(2854)
          , Rv = n.n(Nv)
          , Bv = Iv()
          , zv = Pv.Parser
          , Hv = function() {
            function e() {
                this.transformers = []
            }
            return e.prototype.addTransformer = function(e) {
                this.transformers.push(e)
            }
            ,
            e.prototype.removeTransformer = function(e) {
                for (var t = this.transformers, n = 0; n < t.length; )
                    t[n] === e ? t.splice(n, 1) : n++
            }
            ,
            e
        }();
        function Vv(e, t, n, i, r) {
            i.locator = r;
            var o = e.prototype.inlineTokenizers
              , s = e.prototype.inlineMethods;
            o[t] = i,
            s.splice(s.indexOf(n), 0, t)
        }
        function qv(e, t, n, i, r) {
            i.locator = r;
            var o = e.prototype.blockTokenizers
              , s = e.prototype.blockMethods;
            o[t] = i,
            s.splice(s.indexOf(n), 0, t)
        }
        function Uv(e, t, n) {
            for (var i = 0; i < e.length && e[i][0] !== t; i++)
                ;
            e.splice(i + 1, 0, [n])
        }
        var _v = Rv();
        var jv = 32
          , Wv = 91;
        function $v(e, t, n, i) {
            for (var r = e.length, o = -1; ++o < r; )
                if (t[e[o][0]].apply(n, i))
                    return !0;
            return !1
        }
        function Gv(e, t) {
            var n = e.match(/^\s*([0-9]+)\s*(?:x\s*([0-9]+)\s*)?$/);
            if (!n)
                return !1;
            var i = parseInt(n[1])
              , r = n[2] ? parseInt(n[2]) : 0
              , o = t.data = t.data || {}
              , s = o.hProperties = o.hProperties || {};
            return s.width = String(i),
            0 !== r && (s.height = String(r)),
            !0
        }
        var Yv = n(914)
          , Kv = n(2854)
          , Qv = n(7361)
          , Jv = n(1744)
          , Xv = n(6630)
          , Zv = n(719)
          , ey = n(1696)
          , ty = n(4617)
          , ny = {}.hasOwnProperty
          , iy = !1;
        function ry(e, t) {
            var n = function(e, t) {
                var n = t || {};
                void 0 === n.allowDangerousHTML || iy || (iy = !0,
                console.warn("mdast-util-to-hast: deprecation: `allowDangerousHTML` is nonstandard, use `allowDangerousHtml` instead"));
                var i = n.allowDangerousHtml || n.allowDangerousHTML
                  , r = {};
                return s.dangerous = i,
                s.definition = n.definitions || Xv(e, n),
                s.footnoteById = r,
                s.footnoteOrder = [],
                s.augment = o,
                s.handlers = Object.assign({}, ty, n.handlers),
                s.unknownHandler = n.unknownHandler,
                Kv(e, "footnoteDefinition", (function(e) {
                    var t = String(e.identifier).toUpperCase();
                    ny.call(r, t) || (r[t] = e)
                }
                )),
                s;
                function o(e, t) {
                    var n, i;
                    return e && "data"in e && (n = e.data,
                    "element" === t.type && n.hName && (t.tagName = n.hName),
                    "element" === t.type && n.hProperties && (t.properties = Object.assign({}, t.properties, n.hProperties)),
                    t.children && n.hChildren && (t.children = n.hChildren)),
                    i = e && e.position ? e : {
                        position: e
                    },
                    Jv(i) || (t.position = {
                        start: Qv.start(i),
                        end: Qv.end(i)
                    }),
                    t
                }
                function s(e, t, n, i) {
                    return null == i && "object" == typeof n && "length"in n && (i = n,
                    n = {}),
                    o(e, {
                        type: "element",
                        tagName: t,
                        properties: n || {},
                        children: i || []
                    })
                }
            }(e, t)
              , i = Zv(n, e)
              , r = ey(n);
            return r && (i.children = i.children.concat(Yv("text", "\n"), r)),
            i
        }
        var oy = zv;
        oy.globalOptions = {
            breaks: !0,
            commonmark: !0
        };
        var sy = new Hv
          , ay = new Hv
          , ly = {};
        function cy(e) {
            var t = Jf()(e)
              , n = new oy(String(t),t);
            n.setOptions(oy.globalOptions);
            for (var i = n.parse(), r = 0, o = sy.transformers; r < o.length; r++) {
                (0,
                o[r])(i, e)
            }
            return i
        }
        function uy(e) {
            var t = e.children[0];
            if (t && "yaml" === t.type)
                try {
                    var n = Fv(t.value, void 0, {});
                    if ("object" == typeof n)
                        return n || void 0
                } catch (e) {
                    return null
                }
        }
        function hy(e, t) {
            (t = t || {}).allowDangerousHtml = !0,
            t.handlers = ly;
            for (var n = ry(e, t), i = 0, r = ay.transformers; i < r.length; i++) {
                (0,
                r[i])(n, "")
            }
            return Gf()(n, {
                allowDangerousHtml: !0
            })
        }
        !function(e) {
            var t = /\s/
              , n = function(e) {
                return t.test(e)
            }
              , i = "==";
            Vv(e, "mark", "text", (function(e, t, r) {
                if (this.options.gfm && t.substr(0, 2) === i && "====" !== t.substr(0, 4) && !n(t.charAt(2))) {
                    var o = ""
                      , s = ""
                      , a = ""
                      , l = ""
                      , c = 1
                      , u = t.length
                      , h = e.now();
                    for (h.column += 2,
                    h.offset += 2; ++c < u; ) {
                        if (!("=" !== (o = t.charAt(c)) || "=" !== s || a && n(a)))
                            return !!r || e(i + l + i)({
                                type: "mark",
                                children: this.tokenizeInline(l, h),
                                data: {
                                    hName: "mark"
                                }
                            });
                        l += s,
                        a = s,
                        s = o
                    }
                }
            }
            ), (function(e, t) {
                return e.indexOf(i, t)
            }
            ))
        }(oy),
        function(e) {
            var t = /!?\[\[/g
              , n = /^(!?)\[\[(.+?)]]/;
            Vv(e, "ilink", "link", (function(e, t, i) {
                var r = n.exec(t);
                if (r) {
                    var o = r[2].trim();
                    if (-1 !== o.indexOf("[["))
                        return !1;
                    if (i)
                        return !0;
                    var s = "!" === r[1]
                      , a = function(e) {
                        var t = ""
                          , n = e.indexOf("|");
                        return n > 0 ? (t = e.substr(n + 1),
                        e = e.substr(0, n)) : t = e.split("#").filter((function(e) {
                            return !!e
                        }
                        )).join(" > "),
                        e.endsWith("\\") && (e = e.substr(0, e.length - 1)),
                        {
                            href: e = Ld(e).trim(),
                            title: t = t.trim()
                        }
                    }(o)
                      , l = a.href
                      , c = a.title;
                    return s ? e(r[0])({
                        type: "iembed",
                        href: l,
                        title: c,
                        data: {
                            hName: "span",
                            hProperties: {
                                className: "internal-embed",
                                src: l,
                                alt: c
                            },
                            hChildren: [{
                                type: "text",
                                value: c
                            }]
                        }
                    }) : e(r[0])({
                        type: "ilink",
                        href: l,
                        title: c,
                        data: {
                            hName: "a",
                            hProperties: {
                                className: "internal-link",
                                href: l,
                                dataHref: l
                            },
                            hChildren: [{
                                type: "text",
                                value: c
                            }]
                        }
                    })
                }
            }
            ), (function(e, n) {
                t.lastIndex = n;
                var i = t.exec(e);
                return i ? i.index : -1
            }
            ))
        }(oy),
        function(e) {
            var t = /^#[^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]+/
              , n = /^#\d+$/
              , i = /\s/;
            Vv(e, "tag", "image", (function(e, i, r) {
                var o = t.exec(i);
                if (o) {
                    var s = o[0];
                    return !n.test(s) && (!!r || e(s)({
                        type: "tag",
                        tag: s,
                        data: {
                            hName: "a",
                            hProperties: {
                                className: "tag",
                                href: s
                            },
                            hChildren: [{
                                type: "text",
                                value: s
                            }]
                        }
                    }))
                }
            }
            ), (function(e, t) {
                for (var n = t; -1 !== (n = e.indexOf("#", n)); ) {
                    if (n <= 0)
                        return n;
                    var r = e.charAt(n - 1);
                    if (i.test(r))
                        return n;
                    n++
                }
            }
            ))
        }(oy),
        function(e) {
            function t(e) {
                if ("boolean" == typeof e.checked) {
                    var t = e
                      , n = t.data = t.data || {}
                      , i = n.hProperties = n.hProperties || {};
                    i.className = "task-list-item",
                    e.checked && (i.className += " is-checked"),
                    e.checklist && (i.dataTask = e.checklist);
                    var r = t.children[0];
                    r && "paragraph" === r.type && (t = r),
                    t.children.unshift({
                        type: "checklist",
                        data: {
                            hName: "input",
                            hProperties: {
                                className: "task-list-item-checkbox",
                                type: "checkbox",
                                checked: e.checked
                            }
                        },
                        position: e.position
                    }),
                    delete e.checked
                }
            }
            e.addTransformer((function(e) {
                _v(e, "listItem", t)
            }
            ))
        }(sy),
        function(e) {
            Vv(e, "math", "text", (function(e, t, n) {
                var i, r, o, s, a, l, c, u = t.length, h = !1, p = !1, d = 0;
                if (92 === t.charCodeAt(d) && (p = !0,
                d++),
                36 === t.charCodeAt(d)) {
                    if (d++,
                    p)
                        return !!n || e(t.slice(0, d))({
                            type: "text",
                            value: "$"
                        });
                    if (36 === t.charCodeAt(d) && (h = !0,
                    d++),
                    o = t.charCodeAt(d),
                    h || 32 !== o && 9 !== o) {
                        for (s = d; d < u; ) {
                            if (r = o,
                            o = t.charCodeAt(d + 1),
                            36 === r) {
                                if (i = t.charCodeAt(d - 1),
                                !h && (32 !== i && 9 !== i && (o != o || o < 48 || o > 57)) || h && 36 === o) {
                                    if (a = d - 1,
                                    d++,
                                    h)
                                        for (var f = ++d; f < u; ) {
                                            var g = t.charAt(f);
                                            if ("\n" === g) {
                                                d = f + 1;
                                                break
                                            }
                                            if (!/\s/.test(g))
                                                break;
                                            f++
                                        }
                                    l = d;
                                    break
                                }
                            } else
                                92 === r && (d++,
                                o = t.charCodeAt(d + 1));
                            d++
                        }
                        if (void 0 !== l)
                            return !!n || (c = t.slice(s, a + 1),
                            e(t.slice(0, l))({
                                type: "inlineMath",
                                value: c,
                                data: {
                                    hName: "span",
                                    hProperties: {
                                        className: h ? "math math-block" : "math math-inline"
                                    },
                                    hChildren: [{
                                        type: "text",
                                        value: c
                                    }]
                                }
                            }))
                    }
                }
            }
            ), (function(e, t) {
                return e.indexOf("$", t)
            }
            ))
        }(oy),
        function(e) {
            qv(e, "math", "fencedCode", (function(e, t, n) {
                for (var i, r, o, s, a, l, c, u, h, p, d, f = t.length, g = 0; g < f && 32 === t.charCodeAt(g); )
                    g++;
                for (a = g; g < f && 36 === t.charCodeAt(g); )
                    g++;
                if (!((l = g - a) < 2)) {
                    for (; g < f && 32 === t.charCodeAt(g); )
                        g++;
                    for (c = g; g < f; ) {
                        if (36 === (i = t.charCodeAt(g)))
                            return;
                        if (10 === i)
                            break;
                        g++
                    }
                    if (10 === t.charCodeAt(g)) {
                        if (n)
                            return !0;
                        for (r = [],
                        c !== g && r.push(t.slice(c, g)),
                        g++,
                        o = -1 === (o = t.indexOf("\n", g + 1)) ? f : o; g < f; ) {
                            for (u = !1,
                            p = g,
                            d = o,
                            s = o,
                            h = 0; s > p && 32 === t.charCodeAt(s - 1); )
                                s--;
                            for (; s > p && 36 === t.charCodeAt(s - 1); )
                                h++,
                                s--;
                            for (l <= h && t.indexOf("$", p) === s && (u = !0,
                            d = s); p <= d && p - g < a && 32 === t.charCodeAt(p); )
                                p++;
                            if (u)
                                for (; d > p && 32 === t.charCodeAt(d - 1); )
                                    d--;
                            if (u && p === d || r.push(t.slice(p, d)),
                            u)
                                break;
                            g = o + 1,
                            o = -1 === (o = t.indexOf("\n", g + 1)) ? f : o
                        }
                        return r = r.join("\n"),
                        e(t.slice(0, o))({
                            type: "math",
                            value: r,
                            data: {
                                hName: "div",
                                hProperties: {
                                    className: "math math-block"
                                },
                                hChildren: [{
                                    type: "text",
                                    value: r
                                }]
                            }
                        })
                    }
                }
            }
            ));
            var t = e.prototype;
            Uv(t.interruptParagraph, "fencedCode", "math"),
            Uv(t.interruptList, "fencedCode", "math"),
            Uv(t.interruptBlockquote, "fencedCode", "math")
        }(oy),
        function(e) {
            for (var t = e.prototype, n = t.blockMethods, i = [], r = 0; r < n.length; r++) {
                var o = n[r];
                "newline" !== o && "indentedCode" !== o && "paragraph" !== o && "footnoteDefinition" !== o && i.push([o])
            }
            i.push(["footnoteDefinition"]),
            t.interruptFootnoteDefinition = i,
            Vv(e, "inlineNote", "reference", (function(e, t, n) {
                var i, r, o, s, a, l, c, u = t.length + 1, h = 0, p = 0;
                if (94 === t.charCodeAt(h++) && t.charCodeAt(h++) === Wv) {
                    for (o = h; h < u; ) {
                        if ((r = t.charCodeAt(h)) != r)
                            return;
                        if (void 0 === l)
                            if (92 === r)
                                h += 2;
                            else if (r === Wv)
                                p++,
                                h++;
                            else if (93 === r) {
                                if (0 === p) {
                                    s = h,
                                    h++;
                                    break
                                }
                                p--,
                                h++
                            } else if (96 === r) {
                                for (a = h,
                                l = 1; 96 === t.charCodeAt(a + l); )
                                    l++;
                                h += l
                            } else
                                h++;
                        else if (96 === r) {
                            for (a = h,
                            c = 1; 96 === t.charCodeAt(a + c); )
                                c++;
                            h += c,
                            l === c && (l = void 0),
                            c = void 0
                        } else
                            h++
                    }
                    if (void 0 !== s)
                        return !!n || ((i = e.now()).column += 2,
                        i.offset += 2,
                        e(t.slice(0, h))({
                            type: "footnote",
                            children: this.tokenizeInline(t.slice(o, s), i)
                        }))
                }
            }
            ), (function(e, t) {
                return e.indexOf("^[", t)
            }
            )),
            qv(e, "footnoteDefinition", "definition", (function(e, t, n) {
                for (var i, r, o, a, l, c, u, h, p, d, f, g, m, v = this, y = v.interruptFootnoteDefinition, b = v.offset, w = t.length + 1, k = 0, C = []; k < w && (9 === (a = t.charCodeAt(k)) || a === jv); )
                    k++;
                if (t.charCodeAt(k++) === Wv && 94 === t.charCodeAt(k++)) {
                    for (r = k; k < w; ) {
                        if ((a = t.charCodeAt(k)) != a || 10 === a || 9 === a || a === jv)
                            return;
                        if (93 === a) {
                            o = k,
                            k++;
                            break
                        }
                        k++
                    }
                    if (void 0 !== o && r !== o && 58 === t.charCodeAt(k++)) {
                        if (n)
                            return !0;
                        for (i = t.slice(r, o),
                        l = e.now(),
                        p = 0,
                        d = 0,
                        f = k,
                        g = []; k < w; ) {
                            if ((a = t.charCodeAt(k)) != a || 10 === a)
                                m = {
                                    start: p,
                                    contentStart: f || k,
                                    contentEnd: k,
                                    end: k
                                },
                                g.push(m),
                                10 === a && (p = k + 1,
                                d = 0,
                                f = void 0,
                                m.end = p);
                            else if (void 0 !== d)
                                if (a === jv || 9 === a)
                                    (d += a === jv ? 1 : 4 - d % 4) > 4 && (d = void 0,
                                    f = k);
                                else {
                                    if (d < 4 && m && (m.contentStart === m.contentEnd || $v(y, s, v, [e, t.slice(k, 1024), !0])))
                                        break;
                                    d = void 0,
                                    f = k
                                }
                            k++
                        }
                        for (k = -1,
                        w = g.length; w > 0 && (m = g[w - 1]).contentStart === m.contentEnd; )
                            w--;
                        for (c = e(t.slice(0, m.contentEnd)); ++k < w; )
                            m = g[k],
                            b[l.line + k] = (b[l.line + k] || 0) + (m.contentStart - m.start),
                            C.push(t.slice(m.contentStart, m.end));
                        return u = v.enterBlock(),
                        h = v.tokenizeBlock(C.join(""), l),
                        u(),
                        c({
                            type: "footnoteDefinition",
                            identifier: i.toLowerCase(),
                            label: i,
                            children: h
                        })
                    }
                }
            }
            )),
            Vv(e, "footnoteCall", "reference", (function(e, t, n) {
                var i, r, o, s, a = t.length + 1, l = 0;
                if (t.charCodeAt(l++) === Wv && 94 === t.charCodeAt(l++)) {
                    for (r = l; l < a; ) {
                        if ((s = t.charCodeAt(l)) != s || 10 === s || 9 === s || s === jv)
                            return;
                        if (93 === s) {
                            o = l,
                            l++;
                            break
                        }
                        l++
                    }
                    if (void 0 !== o && r !== o)
                        return !!n || (i = t.slice(r, o),
                        e(t.slice(0, l))({
                            type: "footnoteReference",
                            identifier: i.toLowerCase(),
                            label: i
                        }))
                }
            }
            ), (function(e, t) {
                return e.indexOf("[", t)
            }
            ));
            var s = t.blockTokenizers
              , a = t.inlineTokenizers
              , l = s.definition
              , c = a.reference;
            function u(e, t, n) {
                var i = 0;
                if (33 === t.charCodeAt(i) && i++,
                t.charCodeAt(i) === Wv && 94 !== t.charCodeAt(i + 1))
                    return c.call(this, e, t, n)
            }
            s.definition = function(e, t, n) {
                for (var i = 0, r = t.charCodeAt(i); r === jv || 9 === r; )
                    r = t.charCodeAt(++i);
                if (r === Wv && 94 !== t.charCodeAt(i + 1))
                    return l.call(this, e, t, n)
            }
            ,
            a.reference = u,
            u.locator = c.locator
        }(oy),
        function(e) {
            var t = e.prototype.inlineTokenizers
              , n = t.break
              , i = function(e, t, i) {
                if (!this.options.breaks)
                    return n.call(this, e, t, i);
                for (var r, o = t.length, s = -1; ++s < o; ) {
                    if (10 === (r = t.charCodeAt(s)))
                        return !!i || e(t.slice(0, s + 1))({
                            type: "break"
                        });
                    if (32 !== r)
                        return
                }
            };
            i.locator = n.locator,
            t.break = i
        }(oy),
        function(e) {
            var t = "---"
              , n = t.length
              , i = function(e, i, r) {
                if (i.slice(0, n) === t && "\n" === i.charAt(n)) {
                    for (var o = i.indexOf(t, n); -1 !== o && "\n" !== i.charAt(o - 1); )
                        o = i.indexOf(t, o + n);
                    return -1 !== o ? !!r || e(i.slice(0, o + t.length))({
                        type: "yaml",
                        value: i.slice(t.length + 1, o - 1)
                    }) : void 0
                }
            };
            i.onlyAtStart = !0;
            var r = e.prototype;
            r.blockMethods.unshift("frontmatter"),
            r.blockTokenizers.frontmatter = i
        }(oy),
        function(e) {
            var t = /^\^([a-zA-Z0-9\-]+)$/
              , n = /\s/;
            Vv(e, "blockid", "text", (function(e, n, i) {
                var r = t.exec(n);
                if (r) {
                    var o = r[1];
                    return !!i || e(r[0])({
                        type: "blockid",
                        id: o
                    })
                }
            }
            ), (function(e, t) {
                for (var i = t; -1 !== (i = e.indexOf("^", i)); ) {
                    if (i <= 0)
                        return -1;
                    var r = e.charAt(i - 1);
                    if (n.test(r))
                        return i;
                    i++
                }
            }
            ));
            var i = /^\^([a-zA-Z0-9\-]+)(?=$|\n$|\n\n)/;
            qv(e, "blockid", "paragraph", (function(e, t, n) {
                var r = i.exec(t);
                if (r) {
                    var o = r[1];
                    return !!n || e(r[0])({
                        type: "blockid",
                        id: o
                    })
                }
            }
            ))
        }(oy),
        function(e) {
            e.addTransformer((function(e) {
                _v(e, "link", (function(e, t, n) {
                    var i = e.url;
                    if (i && Ed(i)) {
                        var r = void 0;
                        try {
                            r = decodeURI(i)
                        } catch (e) {
                            return
                        }
                        var o = Ld(r).trim();
                        n.children[t] = {
                            type: "ilink",
                            href: o,
                            title: "",
                            data: {
                                url: i,
                                hName: "a",
                                hProperties: {
                                    href: o,
                                    dataHref: o,
                                    className: "internal-link",
                                    title: e.title
                                }
                            },
                            children: e.children,
                            position: e.position
                        }
                    }
                }
                ))
            }
            ))
        }(sy),
        function(e) {
            e.addTransformer((function(e) {
                _v(e, "image", (function(e, t, n) {
                    var i = e.url;
                    if (i && Ed(i)) {
                        var r = void 0;
                        try {
                            r = decodeURI(i)
                        } catch (e) {
                            return
                        }
                        var o = Ld(r).trim();
                        n.children[t] = {
                            type: "iembed",
                            href: o,
                            title: e.alt,
                            data: {
                                hName: "div",
                                hProperties: {
                                    className: "internal-embed",
                                    src: o,
                                    alt: e.alt
                                }
                            },
                            children: e.children,
                            position: e.position
                        }
                    }
                }
                ))
            }
            ))
        }(sy),
        function(e) {
            e.addTransformer((function(e) {
                var t = []
                  , n = {}
                  , i = {};
                function r(e, t, n) {
                    var i = String(t + 1)
                      , r = i;
                    n > 0 && (r += "-" + n),
                    e.type = "fnRef",
                    e.data = {
                        hName: "sup",
                        hProperties: {
                            className: "footnote-ref",
                            "data-footnote-id": "fnref-" + r
                        }
                    },
                    e.children = [{
                        type: "element",
                        data: {
                            hName: "a",
                            hProperties: {
                                className: "footnote-link",
                                href: "#fn-" + i
                            },
                            hChildren: [{
                                type: "text",
                                value: "[" + r + "]"
                            }]
                        }
                    }]
                }
                _v(e, "footnoteDefinition", (function(e) {
                    var t = String(e.identifier);
                    i[":" + t] = -1,
                    n[":" + t] = {
                        children: e.children,
                        position: e.position
                    }
                }
                )),
                _v(e, ["footnote", "footnoteReference"], (function(e) {
                    if ("footnote" === e.type) {
                        var o = t.length
                          , s = String(o);
                        t.push({
                            count: 1,
                            identifier: s
                        }),
                        n[s] = {
                            children: e.children,
                            position: e.position
                        },
                        r(e, o, 0)
                    } else {
                        s = String(e.identifier);
                        if (!i.hasOwnProperty(":" + s))
                            return e.type = "text",
                            void (e.value = s);
                        -1 === (o = i[":" + s]) && (o = t.length,
                        i[":" + s] = o,
                        t.push({
                            count: 0,
                            identifier: ":" + s
                        }));
                        var a = t[o]
                          , l = a.count;
                        a.count++,
                        r(e, o, l)
                    }
                }
                ));
                for (var o = [], s = 0; s < t.length; s++) {
                    var a = t[s]
                      , l = n[a.identifier];
                    if (l) {
                        var c = l.children
                          , u = c[c.length - 1];
                        u && "paragraph" === u.type && (c = u.children);
                        for (var h = String(s + 1), p = 0; p < a.count; p++) {
                            var d = h;
                            p > 0 && (d += "-" + p),
                            c.push({
                                type: "element",
                                data: {
                                    hName: "a",
                                    hProperties: {
                                        className: "footnote-backref footnote-link",
                                        href: "#fnref-" + d
                                    },
                                    hChildren: [{
                                        type: "text",
                                        value: "↩︎"
                                    }]
                                }
                            })
                        }
                        o.push({
                            type: "listItem",
                            synthetic: !0,
                            data: {
                                hProperties: {
                                    "data-footnote-id": "fn-" + h
                                }
                            },
                            children: l.children,
                            position: l.position
                        })
                    }
                }
                if (0 !== o.length) {
                    var f, g = e.children[e.children.length - 1], m = {
                        start: f = g ? g.position.end : {
                            line: 1,
                            column: 1,
                            offset: 0
                        },
                        end: f
                    };
                    e.children = e.children.concat({
                        type: "text",
                        value: "\n",
                        position: m
                    }, {
                        type: "element",
                        position: m,
                        data: {
                            hName: "section",
                            hProperties: {
                                className: "footnotes"
                            }
                        },
                        children: [{
                            type: "thematicBreak",
                            position: m
                        }, {
                            type: "list",
                            position: m,
                            ordered: !0,
                            start: 1,
                            spread: !1,
                            children: o
                        }]
                    })
                }
            }
            ))
        }(sy),
        function(e) {
            e.addTransformer((function(e) {
                _v(e, "image", (function(e) {
                    var t = e.alt;
                    if (t) {
                        var n = t.lastIndexOf("|");
                        if (-1 !== n)
                            Gv(t.substr(n + 1), e) && (e.alt = t.substr(0, n))
                    }
                }
                ))
            }
            ))
        }(sy),
        function(e) {
            e.addTransformer((function(e) {
                _v(e, "iembed", (function(e) {
                    var t = e.title;
                    if (t) {
                        var n = t.lastIndexOf("|");
                        if (-1 !== n)
                            Gv(t.substr(n + 1), e) && (t = t.substr(0, n));
                        else
                            Gv(t, e) && (t = "");
                        e.data.hProperties.alt = t
                    }
                }
                ))
            }
            ))
        }(sy),
        function(e, t) {
            t.blockid = function() {
                return null
            }
            ,
            e.addTransformer((function(e) {
                for (var t, n = e.children, i = function(e) {
                    var i = n[e];
                    if ("blockid" === i.type) {
                        if (e > 0)
                            n[e - 1].id = i.id;
                        return n.splice(e, 1),
                        e--,
                        t = e,
                        "continue"
                    }
                    if ("list" === i.type)
                        return _v(i, "listItem", (function(e) {
                            for (var t = null, n = 0, i = e.children; n < i.length; n++) {
                                var r = i[n];
                                "paragraph" === r.type && _v(r, "blockid", (function(e) {
                                    t = e.id
                                }
                                )),
                                "blockid" === r.type && (t = e.id)
                            }
                            t && (e.id = t)
                        }
                        )),
                        t = e,
                        "continue";
                    var r = null;
                    _v(i, "blockid", (function(e) {
                        r = e.id
                    }
                    )),
                    r && (i.id = r),
                    t = e
                }, r = 0; r < n.length; r++)
                    i(r),
                    r = t
            }
            ))
        }(sy, ly),
        function(e) {
            e.addTransformer((function(e, t) {
                _v(e, "heading", (function(e, n, i) {
                    var r = function(e, t) {
                        var n = t.position.end
                          , i = t.position.end
                          , r = t.children;
                        return r.length > 0 && (n = r[0].position.start,
                        i = r[r.length - 1].position.end),
                        e.substring(n.offset, i.offset).trim()
                    }(t, e);
                    e.data = {
                        hProperties: {
                            dataHeading: r
                        }
                    }
                }
                ))
            }
            ))
        }(sy),
        function(e) {
            function t(e) {
                var t = e.properties;
                t && !t.className && (t.className = "external-link",
                t.target = "_blank",
                t.rel = "noopener")
            }
            e.addTransformer((function(e) {
                _v(e, {
                    type: "element",
                    tagName: "a"
                }, t)
            }
            ))
        }(ay),
        function(e, t) {
            t.yaml = function(e, t) {
                var n = t.value || "";
                return e(t.position, "pre", {
                    className: "frontmatter"
                }, [e(t, "code", {
                    className: "language-yaml"
                }, [Bv("text", n)])])
            }
        }(0, ly),
        function(e, t) {
            var n = /^%%(.+?)%%/;
            Vv(e, "comment", "text", (function(e, t, i) {
                var r = n.exec(t);
                if (r) {
                    if (i)
                        return !0;
                    var o = e.now();
                    return o.column += 2,
                    o.offset += 2,
                    e(r[0])({
                        type: "comment",
                        children: this.tokenizeInline(r[1], o)
                    })
                }
            }
            ), (function(e, t) {
                return e.indexOf("%%", t)
            }
            )),
            t.comment = function() {
                return null
            }
            ,
            qv(e, "comment", "fencedCode", (function(e, t, n) {
                for (var i = t.length, r = 0; r < i && 32 === t.charCodeAt(r); )
                    r++;
                for (var o = r; r < i && 37 === t.charCodeAt(r); )
                    r++;
                var s = r - o;
                if (!(s < 2)) {
                    for (var a = r; r < i; ) {
                        var l = t.charCodeAt(r);
                        if (37 === l)
                            return;
                        if (10 === l)
                            break;
                        r++
                    }
                    if (n)
                        return !0;
                    for (var c = i, u = 0; r < i; ) {
                        if (37 === t.charCodeAt(r)) {
                            if (s === ++u) {
                                c = r + 1;
                                break
                            }
                        } else
                            u = 0;
                        r++
                    }
                    var h = t.substring(a, c - s)
                      , p = e.now();
                    return e(t.slice(0, c))({
                        type: "comment",
                        value: h,
                        children: this.tokenizeInline(h, p)
                    })
                }
            }
            ));
            var i = e.prototype;
            Uv(i.interruptParagraph, "fencedCode", "comment"),
            Uv(i.interruptList, "fencedCode", "comment"),
            Uv(i.interruptBlockquote, "fencedCode", "comment")
        }(oy, ly);
        var py, dy = Object.prototype.hasOwnProperty;
        function fy(e, t) {
            if (!e)
                return null;
            if ("string" == typeof t)
                return dy.call(e, t) ? e[t] : null;
            for (var n in e)
                if (dy.call(e, n) && t.test(n))
                    return e[n];
            return null
        }
        function gy(e, t, n) {
            if (!e)
                return null;
            var i = fy(e, t);
            if (!i)
                return null;
            var r = [];
            if ("string" == typeof i && (i = i.split(",")),
            Array.isArray(i)) {
                for (var o = 0, s = i; o < s.length; o++) {
                    var a = s[o];
                    if ("string" == typeof a)
                        if (n)
                            for (var l = 0, c = a.split(" "); l < c.length; l++) {
                                var u = c[l];
                                u && r.push(u)
                            }
                        else
                            (a = a.trim()) && r.push(a)
                }
                return 0 === r.length ? null : r
            }
            return null
        }
        function my(e) {
            return e ? gy(e, /^alias(es)?$/i) : null
        }
        function vy(e) {
            if (!e)
                return null;
            var t = gy(e, /^tag(s)?$/i, !0);
            if (t)
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    "#" !== i.charAt(0) && (t[n] = "#" + i)
                }
            return t
        }
        function yy(e) {
            return Kf()(e)
        }
        function by(e) {
            var t = [];
            if (!e)
                return t;
            for (var n = 0, i = e; n < i.length; n++) {
                var r = i[n];
                t.push(wy(r))
            }
            return t
        }
        function wy(e) {
            if (!e)
                return "";
            var t = e.type;
            if ("iembed" === t)
                return e.href;
            if ("listItem" === t) {
                var n = by(e.children);
                return 1 === n.length ? n[0] + "\n" : n.join("\n")
            }
            if ("tag" === t)
                return e.tag;
            var i = e.value || e.alt || e.title || e.hasOwnProperty("children") && by(e.children).join("") || "";
            return "tableCell" === t ? i += " " : "tableRow" === t && (i += "\n"),
            i
        }
        function ky(e, t) {
            if (!e)
                return e;
            if (e.links)
                for (var n = 0, i = e.links; n < i.length; n++) {
                    t(i[n])
                }
            if (e.embeds)
                for (var r = 0, o = e.embeds; r < o.length; r++) {
                    t(o[r])
                }
            if (e.tags)
                for (var s = 0, a = e.tags; s < a.length; s++) {
                    t(a[s])
                }
            if (e.headings)
                for (var l = 0, c = e.headings; l < c.length; l++) {
                    t(c[l])
                }
            if (e.sections)
                for (var u = 0, h = e.sections; u < h.length; u++) {
                    t(h[u])
                }
            if (e.listItems)
                for (var p = 0, d = e.listItems; p < d.length; p++) {
                    t(d[p])
                }
            if (e.frontmatter && t(e.frontmatter),
            e.blocks)
                for (var f in e.blocks)
                    e.blocks.hasOwnProperty(f) && t(e.blocks[f]);
            return e
        }
        function Cy(e) {
            var t = e.position;
            if (t) {
                delete e.position;
                var n = t.start
                  , i = t.end;
                e.pos = [n.line, n.col, n.offset, i.line, i.col, i.offset]
            }
        }
        function xy(e) {
            var t = e.pos;
            t && Array.isArray(t) && 6 === t.length && (delete e.pos,
            e.position = {
                start: {
                    line: t[0],
                    col: t[1],
                    offset: t[2]
                },
                end: {
                    line: t[3],
                    col: t[4],
                    offset: t[5]
                }
            })
        }
        function Ey(e, t, n) {
            return function(e, t, n) {
                for (var i = 0, r = e.length; i < r; ) {
                    var o = (i + r) / 2 | 0
                      , s = t(e[o]);
                    if (0 === s)
                        return o;
                    s < 0 ? i = o + 1 : r = o
                }
                return n ? r : i
            }(e, (function(e) {
                return t < e.position.start.offset ? 1 : t > e.position.end.offset ? -1 : 0
            }
            ), n)
        }
        function Sy(e) {
            return (e = Ld(e).normalize("NFC")).split("#")[0]
        }
        function Ly(e) {
            var t = (e = Ld(e).normalize("NFC")).split("#")[0];
            return {
                path: t,
                subpath: e.substr(t.length)
            }
        }
        function Dy(e, t) {
            return !!e && (!0 === My(e.links, t) || !0 === My(e.embeds, t))
        }
        function My(e, t) {
            if (!e)
                return !1;
            for (var n = 0, i = e; n < i.length; n++) {
                if (!0 === t(i[n]))
                    return !0
            }
            return !1
        }
        function Ay(e) {
            if (!e)
                return null;
            var t = []
              , n = vy(e.frontmatter);
            if (n)
                for (var i = 0, r = n; i < r.length; i++) {
                    var o = r[i];
                    t.push(o)
                }
            var s = e.tags;
            if (s)
                for (var a = 0, l = s; a < l.length; a++) {
                    o = l[a];
                    t.push(o.tag)
                }
            return t
        }
        function Ty(e) {
            return Dd.lastIndex = 0,
            e.replace(Dd, " ").replace(/\s+/g, " ").trim()
        }
        function Fy(e, t) {
            if (!e || !t)
                return null;
            var n = t.split("#").filter((function(e) {
                return !!e
            }
            ));
            if (!n || 0 === n.length)
                return null;
            if (1 === n.length) {
                var i = n[0];
                if (i.startsWith("^")) {
                    var r = i.substr(1).toLowerCase()
                      , o = e.blocks;
                    if (o && o.hasOwnProperty(r)) {
                        var s = o[r];
                        return {
                            type: "block",
                            block: s,
                            start: s.position.start,
                            end: s.position.end
                        }
                    }
                }
            }
            var a = e.headings;
            if (!a || 0 === a.length)
                return null;
            for (var l = 0, c = 0, u = null, h = null, p = 0, d = a; p < d.length; p++) {
                var f = d[p];
                if (u && f.level <= c) {
                    h = f;
                    break
                }
                !u && f.level > c && Ty(f.heading).toLowerCase() === Ty(n[l]).toLowerCase() && (l++,
                c = f.level,
                l === n.length && (u = f))
            }
            return u ? {
                type: "heading",
                current: u,
                next: h,
                start: u.position.start,
                end: h ? h.position.start : null
            } : null
        }
        var Py = "logo-crystal"
          , Oy = "create-new"
          , Iy = "trash"
          , Ny = "search"
          , Ry = "right-triangle"
          , By = "document"
          , zy = "folder"
          , Hy = "pencil"
          , Vy = "left-arrow"
          , qy = "right-arrow"
          , Uy = "three-horizontal-bars"
          , _y = "dot-network"
          , jy = "audio-file"
          , Wy = "image-file"
          , $y = "pdf-file"
          , Gy = "gear"
          , Yy = "documents"
          , Ky = "blocks"
          , Qy = "go-to-file"
          , Jy = "presentation"
          , Xy = "cross-in-box"
          , Zy = "microphone"
          , eb = "microphone-filled"
          , tb = "link"
          , nb = "popup-open"
          , ib = "checkmark"
          , rb = "hashtag"
          , ob = "left-arrow-with-tail"
          , sb = "right-arrow-with-tail"
          , ab = "up-arrow-with-tail"
          , lb = "down-arrow-with-tail"
          , cb = "lines-of-text"
          , ub = "vertical-three-dots"
          , hb = "pin"
          , pb = "magnifying-glass"
          , db = "info"
          , fb = "horizontal-split"
          , gb = "vertical-split"
          , mb = "calendar-with-checkmark"
          , vb = "sheets-in-box"
          , yb = "up-and-down-arrows"
          , bb = "broken-link"
          , wb = "cross"
          , kb = "any-key"
          , Cb = "reset"
          , xb = "star"
          , Eb = "crossed-star"
          , Sb = "dice"
          , Lb = "filled-pin"
          , Db = "enter"
          , Mb = "help"
          , Ab = "vault"
          , Tb = "open-vault"
          , Fb = "paper-plane"
          , Pb = "bullet-list"
          , Ob = "uppercase-lowercase-a"
          , Ib = "star-list"
          , Nb = "expand-vertically"
          , Rb = "languages"
          , Bb = "switch"
          , zb = "pane-layout"
          , Hb = "install"
          , Vb = "sync"
          , qb = "check-in-circle"
          , Ub = "sync-small"
          , _b = "check-small"
          , jb = "paused"
          , Wb = "forward-arrow"
          , $b = "stacked-levels"
          , Gb = "bracket-glyph"
          , Yb = "note-glyph"
          , Kb = "tag-glyph"
          , Qb = "price-tag-glyph"
          , Jb = "heading-glyph"
          , Xb = "bold-glyph"
          , Zb = "italic-glyph"
          , ew = "strikethrough-glyph"
          , tw = "highlight-glyph"
          , nw = "code-glyph"
          , iw = "quote-glyph"
          , rw = "link-glyph"
          , ow = "bullet-list-glyph"
          , sw = "number-list-glyph"
          , aw = "checkbox-glyph"
          , lw = "undo-glyph"
          , cw = "redo-glyph"
          , uw = "up-chevron-glyph"
          , hw = "down-chevron-glyph"
          , pw = "left-chevron-glyph"
          , dw = "right-chevron-glyph"
          , fw = "percent-sign-glyph"
          , gw = "keyboard-glyph"
          , mw = "double-up-arrow-glyph"
          , vw = "double-down-arrow-glyph"
          , yw = "image-glyph"
          , bw = "wrench-screwdriver-glyph"
          , ww = "clock"
          , kw = "plus-with-circle"
          , Cw = "minus-with-circle"
          , xw = "indent-glyph"
          , Ew = "unindent-glyph"
          , Sw = "fullscreen"
          , Lw = "exit-fullscreen"
          , Dw = "cloud"
          , Mw = "run-command"
          , Aw = "compress-glyph"
          , Tw = "enlarge-glyph"
          , Fw = "scissors-glyph"
          , Pw = "up-curly-arrow-glyph"
          , Ow = "down-curly-arrow-glyph"
          , Iw = "plus-minus-glyph"
          , Nw = "links-going-out"
          , Rw = "links-coming-in"
          , Bw = "add-note-glyph"
          , zw = "duplicate-glyph"
          , Hw = "clock-glyph"
          , Vw = "calendar-glyph"
          , qw = "command-glyph"
          , Uw = "dice-glyph"
          , _w = "file-explorer-glyph"
          , jw = "graph-glyph"
          , Ww = "import-glyph"
          , $w = "navigate-glyph"
          , Gw = "open-elsewhere-glyph"
          , Yw = "bullet-list-glyph"
          , Kw = "presentation-glyph"
          , Qw = "paper-plane-glyph"
          , Jw = "question-mark-glyph"
          , Xw = "restore-file-glyph"
          , Zw = "search-glyph"
          , ek = "star-glyph"
          , tk = "play-audio-glyph"
          , nk = "stop-audio-glyph"
          , ik = "tomorrow-glyph"
          , rk = "wand-glyph"
          , ok = "workspace-glyph"
          , sk = "yesterday-glyph"
          , ak = "box-glyph"
          , lk = "merge-files-glyph"
          , ck = "merge-files"
          , uk = "two-blank-pages"
          , hk = "scissors"
          , pk = "paste"
          , dk = "paste-text"
          , fk = "split"
          , gk = "select-all-text"
          , mk = ((py = {})[Oy] = '<path fill="currentColor" stroke="currentColor" stroke-width="2" d="M12,0v96h56c3.3,2.5,7.5,4,12,4c11,0,20-9,20-20c0-8.2-5-15.2-12-18.3V29.2l-0.6-0.6l-28-28L58.8,0L12,0z M16,4h40v28h28 v28.4c-1.3-0.3-2.6-0.4-4-0.4c-11,0-20,9-20,20c0,4.5,1.5,8.6,4.1,12H16L16,4z M60,6.9L81.1,28H60L60,6.9z M80,64 c8.9,0,16,7.1,16,16c0,8.9-7.1,16-16,16c-8.9,0-16-7.1-16-16C64,71.1,71.1,64,80,64z M78,70v8h-8v4h8v8h4v-8h8v-4h-8v-8H78z"/>',
        py[Iy] = '<path fill="currentColor" stroke="currentColor" stroke-width="2" d="M42,4c-3.3,0-6,2.7-6,6v4H20.3c-0.1,0-0.2,0-0.3,0c-0.1,0-0.2,0-0.3,0H16c-0.7,0-1.4,0.4-1.8,1c-0.4,0.6-0.4,1.4,0,2 c0.4,0.6,1,1,1.8,1h2v72c0,3.3,2.7,6,6,6h52c3.3,0,6-2.7,6-6V18h2c0.7,0,1.4-0.4,1.8-1c0.4-0.6,0.4-1.4,0-2c-0.4-0.6-1-1-1.8-1 h-3.7c-0.2,0-0.4,0-0.7,0H64v-4c0-3.3-2.7-6-6-6L42,4z M42,8h16c1.1,0,2,0.9,2,2v4H40v-4C40,8.9,40.9,8,42,8z M22,18h15.7 c0.2,0,0.4,0,0.7,0h23.3c0.2,0,0.4,0,0.7,0H78v72c0,1.1-0.9,2-2,2H24c-1.1,0-2-0.9-2-2V18z M38,28c-1.1,0-2,0.9-2,2v50 c0,0.7,0.4,1.4,1,1.8s1.4,0.4,2,0s1-1,1-1.8V30c0-0.5-0.2-1.1-0.6-1.4C39,28.2,38.5,28,38,28z M50,28c-1.1,0-2,0.9-2,2v50 c0,0.7,0.4,1.4,1,1.8c0.6,0.4,1.4,0.4,2,0s1-1,1-1.8V30c0-0.5-0.2-1.1-0.6-1.4C51,28.2,50.5,28,50,28z M62,28c-1.1,0-2,0.9-2,2v50 c0,0.7,0.4,1.4,1,1.8c0.6,0.4,1.4,0.4,2,0s1-1,1-1.8V30c0-0.5-0.2-1.1-0.6-1.4C63,28.2,62.5,28,62,28z"/>',
        py[Py] = '<defs><linearGradient id="a" x1="82.85" y1="30.41" x2="51.26" y2="105.9" gradientTransform="matrix(1, 0, 0, -1, -22.41, 110.97)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#6c56cc"/><stop offset="1" stop-color="#9785e5"/></linearGradient></defs><polygon points="62.61,0 30.91,17.52 18,45.45 37.57,90.47 65.35,100 70.44,89.8 81,26.39 62.61,0" fill="#34208c"/><polygon points="81,26.39 61.44,14.41 34.43,35.7 65.35,100 70.44,89.8 81,26.39" fill="url(#a)"/><polygon points="81,26.39 81,26.39 62.61,0 61.44,14.41 81,26.39" fill="#af9ff4"/><polygon points="61.44,14.41 62.61,0 30.91,17.52 34.43,35.7 61.44,14.41" fill="#4a37a0"/><polygon points="34.43,35.7 37.57,90.47 65.35,100 34.43,35.7" fill="#4a37a0"/>',
        py[Ny] = '<path fill="currentColor" stroke="currentColor" stroke-width="2" d="M42,6C23.2,6,8,21.2,8,40s15.2,34,34,34c7.4,0,14.3-2.4,19.9-6.4l26.3,26.3l5.6-5.6l-26-26.1c5.1-6,8.2-13.7,8.2-22.1 C76,21.2,60.8,6,42,6z M42,10c16.6,0,30,13.4,30,30S58.6,70,42,70S12,56.6,12,40S25.4,10,42,10z"/>',
        py[Ry] = '<path fill="currentColor" stroke="currentColor" d="M94.9,20.8c-1.4-2.5-4.1-4.1-7.1-4.1H12.2c-3,0-5.7,1.6-7.1,4.1c-1.3,2.4-1.2,5.2,0.2,7.6L43.1,88c1.5,2.3,4,3.7,6.9,3.7 s5.4-1.4,6.9-3.7l37.8-59.6C96.1,26,96.2,23.2,94.9,20.8L94.9,20.8z"/>',
        py[By] = '<path fill="currentColor" stroke="currentColor" d="M14,4v92h72V29.2l-0.6-0.6l-24-24L60.8,4L14,4z M18,8h40v24h24v60H18L18,8z M62,10.9L79.1,28H62V10.9z"/>',
        py[zy] = '<path fill="currentColor" stroke="currentColor" d="M6.1,8c-3.3,0-6,2.7-6,6v73.8c-0.1,0.5-0.1,0.9,0.1,1.4c0.6,2.7,3,4.8,5.9,4.8h78c3,0,5.4-2.2,5.9-5.1 c0-0.1,0.1-0.2,0.1-0.4c0,0,0-0.1,0-0.1l0.1-0.3c0,0,0,0,0-0.1l9.9-53.6l0.1-0.2V34c0-3.3-2.7-6-6-6v-6c0-3.3-2.7-6-6-6H36.1 c0,0,0,0-0.1,0c-0.1,0-0.2-0.2-0.6-0.6c-0.5-0.6-1.1-1.5-1.7-2.5c-0.6-1-1.3-2.1-2.1-3C30.9,9,29.7,8,28.1,8L6.1,8z M6.1,12h22 c-0.1,0,0.1,0,0.6,0.6c0.5,0.6,1.1,1.5,1.7,2.5c0.6,1,1.3,2.1,2.1,3c0.8,0.9,1.9,1.9,3.6,1.9h52c1.1,0,2,0.9,2,2v6h-74 c-3.1,0-5.7,2.5-5.9,5.6h-0.1L10.1,34l-6,32.4V14C4.1,12.9,4.9,12,6.1,12z M16.1,32h78c1.1,0,2,0.9,2,2l-9.8,53.1l-0.1,0.1 c0,0.1,0,0.2-0.1,0.2c0,0.1,0,0.2-0.1,0.2c0,0,0,0.1,0,0.1c0,0,0,0,0,0.1c0,0.1,0,0.2-0.1,0.3c0,0.1,0,0.1,0,0.2 c0,0.1,0,0.2,0,0.2c-0.3,0.8-1,1.4-1.9,1.4h-78c-1.1,0-2-0.9-2-2L14,34.4l0.1-0.2V34C14.1,32.9,14.9,32,16.1,32L16.1,32z"/>',
        py[Hy] = '<path fill="currentColor" stroke="currentColor" d="M86.3,4c-2.5,0-5,1-6.9,2.9l-1.6,1.6l13.7,13.7c0,0,1.6-1.6,1.6-1.6c3.8-3.8,3.8-10,0-13.8C91.2,5,88.7,4,86.3,4z M74.7,12.1c-0.5,0.1-0.9,0.3-1.2,0.6L8.6,77.6c-0.3,0.2-0.5,0.5-0.6,0.9l-4,15c-0.2,0.7,0,1.4,0.5,1.9s1.2,0.7,1.9,0.5l15-4 c0.3-0.1,0.6-0.3,0.9-0.6l64.9-64.9c0.8-0.8,0.8-2,0-2.8c-0.8-0.8-2-0.8-2.8,0L19.9,88.2l-8.1-8.1l64.6-64.6 c0.6-0.6,0.8-1.5,0.4-2.2c-0.3-0.8-1.1-1.2-1.9-1.2C74.8,12.1,74.7,12.1,74.7,12.1z"/>',
        py[Vy] = '<path fill="currentColor" stroke="currentColor" d="M70,8c-0.5,0-1,0.2-1.4,0.6l-40,40c-0.8,0.8-0.8,2,0,2.8l40,40c0.5,0.5,1.3,0.7,1.9,0.5c0.7-0.2,1.3-0.7,1.4-1.4 c0.2-0.7,0-1.4-0.5-1.9L32.8,50l38.6-38.6c0.6-0.6,0.8-1.5,0.4-2.2C71.5,8.4,70.8,8,70,8L70,8z"/>',
        py[qy] = '<path fill="currentColor" stroke="currentColor" d="M30,8c-0.8,0-1.5,0.5-1.9,1.2c-0.3,0.8-0.1,1.6,0.5,2.2L67.2,50L28.6,88.6c-0.5,0.5-0.7,1.3-0.5,1.9 c0.2,0.7,0.7,1.2,1.4,1.4c0.7,0.2,1.4,0,1.9-0.5l40-40c0.8-0.8,0.8-2,0-2.8l-40-40C31,8.2,30.5,8,30,8z"/>',
        py[Uy] = '<path fill="currentColor" stroke="currentColor" d="M6,18c-0.7,0-1.4,0.4-1.8,1c-0.4,0.6-0.4,1.4,0,2c0.4,0.6,1,1,1.8,1h88c0.7,0,1.4-0.4,1.8-1s0.4-1.4,0-2 c-0.4-0.6-1-1-1.8-1H6z M6,48c-0.7,0-1.4,0.4-1.8,1c-0.4,0.6-0.4,1.4,0,2c0.4,0.6,1,1,1.8,1h88c0.7,0,1.4-0.4,1.8-1 c0.4-0.6,0.4-1.4,0-2s-1-1-1.8-1H6z M6,78c-0.7,0-1.4,0.4-1.8,1c-0.4,0.6-0.4,1.4,0,2c0.4,0.6,1,1,1.8,1h88c0.7,0,1.4-0.4,1.8-1 s0.4-1.4,0-2s-1-1-1.8-1H6z"/>',
        py[_y] = '<path fill="currentColor" stroke="currentColor" d="M12,0C5.4,0,0,5.4,0,12s5.4,12,12,12c2.6,0,5-0.8,6.9-2.2l15.6,15.6C31.7,40.8,30,45.2,30,50c0,4,1.2,7.6,3.2,10.7 L20.1,71.1c-2.1-1.9-5-3.1-8.1-3.1C5.4,68,0,73.4,0,80s5.4,12,12,12s12-5.4,12-12c0-2.1-0.5-4-1.5-5.8l13.2-10.4 C39.3,67.6,44.4,70,50,70c2.7,0,5.2-0.5,7.5-1.4l5.3,9.9C59.9,80.7,58,84.1,58,88c0,6.6,5.4,12,12,12s12-5.4,12-12s-5.4-12-12-12 c-1.3,0-2.6,0.2-3.8,0.6L61,66.7c3.8-2.5,6.7-6.2,8.1-10.6l6.9,1.4c0,0.2,0,0.3,0,0.5c0,6.6,5.4,12,12,12s12-5.4,12-12 c0-6.6-5.4-12-12-12c-5.1,0-9.4,3.2-11.2,7.6l-6.9-1.5c0.1-0.7,0.1-1.4,0.1-2.1c0-7.9-4.6-14.7-11.3-17.9l3.1-8.2 c0.7,0.1,1.5,0.2,2.2,0.2c6.6,0,12-5.4,12-12S70.6,0,64,0S52,5.4,52,12c0,4.4,2.5,8.3,6.1,10.4L55,30.7c-1.6-0.4-3.3-0.7-5-0.7 c-4.8,0-9.2,1.7-12.6,4.5L21.8,18.9c1.4-2,2.2-4.4,2.2-6.9C24,5.4,18.6,0,12,0L12,0z M12,4c4.4,0,8,3.6,8,8s-3.6,8-8,8s-8-3.6-8-8 S7.6,4,12,4z M64,4c4.4,0,8,3.6,8,8s-3.6,8-8,8s-8-3.6-8-8S59.6,4,64,4z M50,34c8.9,0,16,7.1,16,16c0,8.9-7.1,16-16,16 c-8.9,0-16-7.1-16-16c0-4.3,1.7-8.2,4.4-11.1c0.2-0.1,0.3-0.3,0.4-0.4C41.8,35.7,45.7,34,50,34z M88,50c4.4,0,8,3.6,8,8 s-3.6,8-8,8s-8-3.6-8-8S83.6,50,88,50z M12,72c4.4,0,8,3.6,8,8s-3.6,8-8,8s-8-3.6-8-8S7.6,72,12,72z M70,80c4.4,0,8,3.6,8,8 s-3.6,8-8,8c-4.4,0-8-3.6-8-8c0-3,1.7-5.6,4.1-7c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0.1-0.1c0,0,0.1,0,0.1-0.1C67.6,80.3,68.7,80,70,80z "/>',
        py[jy] = '<path fill="currentColor" stroke="currentColor" d="M48.4,6c-0.6,0-1.2,0.1-1.8,0.3c-1.2,0.4-2.4,1.1-3.4,2.1L19.7,31.9H6.1C2.7,31.9,0,34.7,0,38v24c0,3.3,2.7,6.1,6.1,6.1 h13.6l23.4,23.3c2.2,2.2,5.1,3.2,7.4,2.1c2.4-1.1,3.5-3.8,3.5-6.9v-74c0-3-1.5-5.5-3.9-6.3C49.6,6.1,49,6,48.4,6z M48.4,10 c0.2,0,0.4,0,0.5,0.1c0.6,0.2,1.1,0.7,1.1,2.6v74c0,2.1-0.7,3.1-1.2,3.3c-0.5,0.2-1.5,0.3-3-1.3L20.7,63.4c0,0-0.1,0-0.1-0.1 c0.1,0.1-0.5-1.1-0.5-1.9v-23c0-0.7,0.7-2,0.5-1.9c0,0,0.1-0.1,0.1-0.1L46,11.2C46.9,10.3,47.8,10,48.4,10L48.4,10z M76.6,13.6 c-0.9,0.1-1.5,0.9-1.6,1.7c-0.1,0.9,0.4,1.7,1.2,2.1c11.9,6,20,18.3,20,32.6s-8.1,26.6-20,32.6c-0.7,0.2-1.2,0.9-1.3,1.7 c-0.1,0.8,0.3,1.5,0.9,1.9c0.7,0.4,1.5,0.4,2.1,0c13.2-6.7,22.3-20.3,22.3-36.1s-9-29.5-22.3-36.1c-0.3-0.2-0.7-0.3-1.1-0.3 C76.8,13.6,76.7,13.6,76.6,13.6L76.6,13.6z M69.5,24.3c-0.9,0.1-1.6,0.8-1.7,1.7c-0.1,0.9,0.3,1.8,1.2,2.1 c7.8,4.2,13.1,12.4,13.1,21.9c0,9.5-5.3,17.7-13.1,21.9c-1,0.5-1.3,1.8-0.8,2.7c0.5,1,1.8,1.3,2.7,0.8C80,70.5,86.1,61,86.1,50 c0-11-6.1-20.6-15.2-25.5c-0.4-0.2-0.8-0.3-1.2-0.3C69.6,24.3,69.6,24.3,69.5,24.3z M6.1,36.1h10.4c-0.3,0.8-0.4,1.6-0.4,2.4v23 c0,0.8,0.1,1.7,0.4,2.4H6.1c-1.1,0-1.9-0.9-1.9-1.9V38C4.1,36.9,5,36.1,6.1,36.1z M61.1,36.8c-1,0.1-1.7,0.9-1.8,1.9 c0,1,0.6,1.8,1.6,2c4.1,1.1,7.1,4.8,7.1,9.2s-3,8.2-7.1,9.3c-1.1,0.3-1.7,1.4-1.4,2.4c0.3,1.1,1.4,1.7,2.4,1.4 c5.8-1.5,10.1-6.9,10.1-13.1s-4.3-11.6-10.1-13.1C61.7,36.8,61.4,36.8,61.1,36.8z"/>',
        py[Wy] = '<path fill="currentColor" stroke="currentColor" d="M0,10v80h100V10L0,10z M4,14h92v52H74.6l-14-10H48.8l-8.2-8.2l-9.7,2l-8.6-12.9L4,55.2L4,14z M75,26c-4.9,0-9,4.1-9,9 s4.1,9,9,9s9-4.1,9-9S79.9,26,75,26z M75,30c2.8,0,5,2.2,5,5s-2.2,5-5,5s-5-2.2-5-5C70,32.2,72.2,30,75,30z M21.7,43.1l7.4,11.1 l10.3-2l7.8,7.8h12.2l14,10H96v16H4V60.8L21.7,43.1z"/>',
        py[$y] = '<path fill="currentColor" stroke="currentColor" d="M97.3,57.2c-5.4-5.4-21-3.9-28.7-2.9c-7.7-4.7-12.8-11.2-16.4-20.7c1.7-7.2,4.5-18.1,2.4-25C52.7-3,37.7-1.9,35.6,6 c-2,7.2-0.2,17.2,3.1,30c-4.5,10.7-11.1,25-15.8,33.2C14,73.8,1.9,80.9,0.1,89.8c-1.5,7.1,11.6,24.6,34-13.9c10-3.3,20.9-7.4,30.5-9 c8.4,4.6,18.3,7.6,24.9,7.6C100.9,74.5,102,61.9,97.3,57.2z M43.9,6.9c6.8,0,6.2,16.4,1.6,20.9C41.6,20.7,41.6,6.9,43.9,6.9z M30.7,71.3c6-10.5,11.2-23.1,15.4-34.2c5.2,9.4,11.8,17,18.8,22.1C52,62,40.6,67.4,30.7,71.3z M95.7,67.5c0,0-2.6,6.6-25.2-5.7 C93.2,57,97.8,64.9,95.7,67.5z M24.5,76.5C12.2,98.6,6.6,94.1,6.6,94.1C3.6,92.9,3.2,83.5,24.5,76.5z"/>',
        py[Gy] = '<path fill="currentColor" stroke="currentColor" d="M44.4,4c-1,0-1.8,0.7-2,1.7l-1.9,11.9c-2.3,0.7-4.6,1.6-6.7,2.7l-9.8-7c-0.8-0.6-1.9-0.5-2.6,0.2l-7.8,7.8 c-0.7,0.7-0.8,1.8-0.2,2.6l6.9,9.9c-1.2,2.1-2.1,4.4-2.8,6.7l-11.9,2c-1,0.2-1.7,1-1.7,2v11c0,1,0.7,1.8,1.6,2l11.9,2.1 c0.7,2.4,1.6,4.6,2.8,6.7l-7,9.8c-0.6,0.8-0.5,1.9,0.2,2.6l7.8,7.8c0.7,0.7,1.8,0.8,2.6,0.2l9.9-6.9c2.1,1.2,4.3,2.1,6.7,2.8 l2,11.9c0.2,1,1,1.7,2,1.7h11c1,0,1.8-0.7,2-1.7l2.1-12c2.3-0.7,4.6-1.6,6.7-2.8l10,7c0.8,0.6,1.9,0.5,2.6-0.2l7.8-7.8 c0.7-0.7,0.8-1.8,0.2-2.6l-7.1-9.9c1.1-2.1,2.1-4.3,2.7-6.6l12-2.1c1-0.2,1.7-1,1.7-2v-11c0-1-0.7-1.8-1.7-2l-12-2 c-0.7-2.3-1.6-4.5-2.7-6.6l7-10c0.6-0.8,0.5-1.9-0.2-2.6l-7.8-7.8c-0.7-0.7-1.8-0.8-2.6-0.2l-9.8,7.1c-2.1-1.2-4.3-2.1-6.7-2.8 l-2.1-12c-0.2-1-1-1.7-2-1.7L44.4,4z M46.1,8h7.6l2,11.4c0.1,0.8,0.7,1.4,1.5,1.6c2.9,0.7,5.7,1.9,8.2,3.4 c0.7,0.4,1.6,0.4,2.2-0.1l9.4-6.7l5.4,5.4l-6.7,9.5c-0.5,0.6-0.5,1.5-0.1,2.2c1.5,2.5,2.6,5.2,3.4,8.1c0.2,0.8,0.8,1.4,1.6,1.5 L92,46.1v7.6l-11.4,2c-0.8,0.1-1.4,0.7-1.6,1.5c-0.7,2.9-1.9,5.6-3.4,8.1c-0.4,0.7-0.4,1.6,0.1,2.2l6.8,9.4l-5.4,5.4l-9.5-6.7 c-0.7-0.5-1.5-0.5-2.2-0.1c-2.5,1.5-5.2,2.7-8.2,3.4c-0.8,0.2-1.3,0.8-1.5,1.6l-2,11.4h-7.6l-1.9-11.3c-0.1-0.8-0.7-1.4-1.5-1.6 c-2.9-0.7-5.7-1.9-8.2-3.4c-0.7-0.4-1.5-0.4-2.2,0.1l-9.4,6.6l-5.4-5.4l6.6-9.3c0.5-0.7,0.5-1.5,0.1-2.2c-1.5-2.5-2.7-5.3-3.4-8.2 c-0.2-0.8-0.8-1.3-1.6-1.5L8,53.7v-7.6l11.3-1.9c0.8-0.1,1.4-0.7,1.6-1.5c0.7-2.9,1.9-5.7,3.4-8.2c0.4-0.7,0.4-1.5-0.1-2.2 l-6.6-9.4l5.4-5.4l9.3,6.7c0.6,0.5,1.5,0.5,2.2,0.1c2.5-1.5,5.3-2.7,8.2-3.4c0.8-0.2,1.4-0.8,1.5-1.6L46.1,8z M50,34 c-8.8,0-16,7.2-16,16s7.2,16,16,16s16-7.2,16-16S58.8,34,50,34z M50,38c6.7,0,12,5.3,12,12s-5.3,12-12,12s-12-5.3-12-12 S43.3,38,50,38z"/>',
        py[Yy] = '<path fill="currentColor" stroke="currentColor" d="M74,4c-0.1,0-0.2,0-0.3,0H40v11.5l4,4V8h28v20h20v48H64v4h32V26.3c0-0.2,0-0.4,0-0.6v-0.5l-0.4-0.4 c-0.1-0.1-0.2-0.3-0.4-0.4c0,0,0,0,0,0L75.6,4.8c-0.1-0.1-0.2-0.3-0.4-0.4L74.8,4h-0.5C74.2,4,74.1,4,74,4L74,4z M76,10.8L89.2,24 H76V10.8z M38,20c-0.1,0-0.2,0-0.3,0H4v76h56V42.3c0-0.2,0-0.4,0-0.6v-0.5l-0.4-0.4c-0.1-0.1-0.2-0.3-0.4-0.4L39.6,20.7 c-0.1-0.1-0.2-0.3-0.4-0.4L38.8,20h-0.5C38.2,20,38.1,20,38,20z M8,24h28v20h20v48H8L8,24z M40,26.8L53.2,40H40V26.8z M60.5,36 l4,4H84v-4L60.5,36z M64,48v4h12v-4H64z M16,52v4h32v-4H16z M64,60v4h20v-4H64z M16,64v4h24v-4H16z M16,76v4h32v-4H16z"/>',
        py[Ky] = '<path fill="currentColor" stroke="currentColor" d="M47.7,0c-0.5,0.1-1,0.4-1.3,0.8L32.3,20.3c-0.6,0.9-0.4,2.1,0.4,2.7l19.4,14.1c0,0,0.1,0.1,0.1,0.1c0.9,0.5,2,0.3,2.6-0.6 l14.2-19.4c0.3-0.4,0.5-1,0.4-1.5c-0.1-0.5-0.4-1-0.8-1.3L49.2,0.4C48.8,0.1,48.3,0,47.9,0C47.8,0,47.8,0,47.7,0z M73.6,0 c-1,0.2-1.6,1-1.6,2v24c0,1.1,0.9,2,2,2h24c1.1,0,2-0.9,2-2V2c0-1.1-0.9-2-2-2H74c-0.1,0-0.1,0-0.2,0S73.7,0,73.6,0z M76,4h20v20 H76V4z M48.5,4.8l16.1,11.7L52.9,32.8L36.7,20.9L48.5,4.8z M1.6,24c-1,0.2-1.6,1-1.6,2v23.8c0,0.1,0,0.1,0,0.2c0,0.1,0,0.1,0,0.2 v23.6c0,0.1,0,0.1,0,0.2c0,0.1,0,0.1,0,0.2V98c0,1.1,0.9,2,2,2h72c1.1,0,2-0.9,2-2V74c0-1.1-0.9-2-2-2H52V50c0-1.1-0.9-2-2-2H28 V26c0-1.1-0.9-2-2-2H2c-0.1,0-0.1,0-0.2,0S1.7,24,1.6,24L1.6,24z M4,28h20v20H4L4,28z M87.3,30.9c-0.1,0-0.2,0-0.3,0.1l-22.7,7.6 c-0.5,0.2-0.9,0.5-1.2,1c-0.2,0.5-0.3,1-0.1,1.5l7.6,22.7c0,0,0,0.1,0.1,0.1c0.4,1,1.5,1.5,2.5,1.1l22.7-7.6 c1-0.4,1.6-1.5,1.3-2.5l-7.6-22.7C89.1,31.3,88.2,30.7,87.3,30.9L87.3,30.9z M86.3,35.4l6.3,19l-18.9,6.3l-6.3-18.9L86.3,35.4z M4,52h20v20H4L4,52z M28,52h20v20H28L28,52z M4,76h20v20H4L4,76z M28,76h20v20H28L28,76z M52,76h20v20H52V76z"/>',
        py[Qy] = '<path fill="currentColor" stroke="currentColor" d="M16,4c-1.1,0-2,0.9-2,2v26h4V8h64v84H18V78h-4v16c0,1.1,0.9,2,2,2h68c1.1,0,2-0.9,2-2V6c0-1.1-0.9-2-2-2L16,4z M32,20v4 h36v-4H32z M32,32v4h36v-4H32z M22,36v12H6v2v12h16v12l25.3-19L22,36z M26,44l14.7,11L26,66v-8H10v-6h16V44z M54,46 c-1.1,0-2,0.9-2,2v14c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2V48c0-1.1-0.9-2-2-2H54z M56,50h8v10h-8V50z M32,74v4h36v-4H32z"/>',
        py[Jy] = '<path fill="currentColor" stroke="currentColor" d="M5.6,4C4.7,4.2,4,5,4,6v8c0,1.1,0.9,2,2,2h2v62c0,1.1,0.9,2,2,2h38v4.4c-2.3,0.8-4,3-4,5.6c0,3.3,2.7,6,6,6s6-2.7,6-6 c0-2.6-1.7-4.8-4-5.6V80h38c1.1,0,2-0.9,2-2V16h2c1.1,0,2-0.9,2-2V6c0-1.1-0.9-2-2-2H6C5.9,4,5.9,4,5.8,4S5.7,4,5.6,4L5.6,4z M8,8 h84v4H8L8,8z M12,16h76v60H50.4c-0.3-0.1-0.5-0.1-0.8,0H12L12,16z M37.6,28c-1,0.2-1.6,1-1.6,2v10c0,1.1,0.9,2,2,2h10 c1.1,0,2-0.9,2-2c0-6.6-5.4-12-12-12c-0.1,0-0.1,0-0.2,0C37.8,28,37.7,28,37.6,28z M40,32.4c2.8,0.7,4.9,2.8,5.6,5.6H40V32.4z M32,34c-6.6,0-12,5.4-12,12c0,6.6,5.4,12,12,12s12-5.4,12-12c0-1.1-0.9-2-2-2h-8v-8C34,34.9,33.1,34,32,34z M55.4,34 c-1.1,0.2-1.9,1.2-1.7,2.3s1.2,1.9,2.3,1.7h22c0.7,0,1.4-0.4,1.8-1c0.4-0.6,0.4-1.4,0-2c-0.4-0.6-1-1-1.8-1H56c-0.1,0-0.1,0-0.2,0 c-0.1,0-0.1,0-0.2,0C55.6,34,55.5,34,55.4,34L55.4,34z M30,38.4V46c0,1.1,0.9,2,2,2h7.6c-0.9,3.4-3.9,6-7.6,6c-4.4,0-8-3.6-8-8 C24,42.3,26.6,39.3,30,38.4z M55.4,44c-1.1,0.2-1.9,1.2-1.7,2.3c0.2,1.1,1.2,1.9,2.3,1.7h22c0.7,0,1.4-0.4,1.8-1 c0.4-0.6,0.4-1.4,0-2c-0.4-0.6-1-1-1.8-1H56c-0.1,0-0.1,0-0.2,0c-0.1,0-0.1,0-0.2,0C55.6,44,55.5,44,55.4,44L55.4,44z M55.4,54 c-1.1,0.2-1.9,1.2-1.7,2.3c0.2,1.1,1.2,1.9,2.3,1.7h22c0.7,0,1.4-0.4,1.8-1c0.4-0.6,0.4-1.4,0-2c-0.4-0.6-1-1-1.8-1H56 c-0.1,0-0.1,0-0.2,0c-0.1,0-0.1,0-0.2,0C55.6,54,55.5,54,55.4,54L55.4,54z M49.8,88c0.1,0,0.1,0,0.2,0c1.1,0,2,0.9,2,2s-0.9,2-2,2 c-1.1,0-2-0.9-2-2C48,88.9,48.8,88.1,49.8,88z"/>',
        py[Xy] = '<path fill="currentColor" stroke="currentColor" d="M18,8C12.5,8,8,12.5,8,18v64c0,5.5,4.5,10,10,10h64c5.5,0,10-4.5,10-10V18c0-5.5-4.5-10-10-10L18,8z M18,12h64 c3.3,0,6,2.7,6,6v64c0,3.3-2.7,6-6,6H18c-3.3,0-6-2.7-6-6V18C12,14.7,14.7,12,18,12z M33.4,30.6l-2.8,2.8L47.2,50L30.6,66.6 l2.8,2.8L50,52.8l16.6,16.6l2.8-2.8L52.8,50l16.6-16.6l-2.8-2.8L50,47.2L33.4,30.6z"/>',
        py[Zy] = '<path fill="currentColor" stroke="currentColor" d="M50,0c-12.1,0-22,9.6-22,21.5v25.1c0,11.9,9.9,21.5,22,21.5s22-9.6,22-21.5V21.5C72,9.6,62.1,0,50,0z M50,4.1 c10,0,17.9,7.8,17.9,17.4V22H57c-0.1,0-0.1,0-0.2,0c-1.1,0.1-2,1-1.9,2.1c0.1,1.1,1,2,2.1,1.9h10.9v4H57c-0.1,0-0.1,0-0.2,0 c-1.1,0.1-2,1-1.9,2.1s1,2,2.1,1.9h10.9v4H57c-0.1,0-0.1,0-0.2,0c-1.1,0.1-2,1-1.9,2.1s1,2,2.1,1.9h10.9v4.6 c0,9.6-8,17.4-17.9,17.4S32,56.2,32,46.6V42H43c0.7,0,1.4-0.4,1.8-1c0.4-0.6,0.4-1.4,0-2c-0.4-0.6-1-1-1.8-1H32v-4H43 c0.7,0,1.4-0.4,1.8-1c0.4-0.6,0.4-1.4,0-2c-0.4-0.6-1-1-1.8-1H32v-4H43c0.7,0,1.4-0.4,1.8-1c0.4-0.6,0.4-1.4,0-2 c-0.4-0.6-1-1-1.8-1H32v-0.6C32,11.9,40,4.1,50,4.1L50,4.1z M19.6,34.3c-0.8,0.2-1.4,0.9-1.4,1.7v10c0,15.4,11.1,28.3,25.7,31.2 V90h-13c-3.8,0-6.9,3.1-6.9,6.9v2.9h51.7v-2.9c0-3.8-3.1-6.9-6.9-6.9H56V77.2C70.6,74.4,81.7,61.4,81.7,46V36c0-1-0.8-1.7-1.7-1.7 s-1.7,0.8-1.7,1.7v10c0,15.6-12.6,28.2-28.2,28.2S21.7,61.6,21.7,46V36c0-0.5-0.2-1-0.6-1.3c-0.4-0.3-0.9-0.5-1.4-0.4 C19.7,34.3,19.7,34.3,19.6,34.3L19.6,34.3z M48,77.6c0.6,0,1.3,0.1,1.9,0.1c0.6,0,1.3-0.1,1.9-0.1v12.3H48L48,77.6z M30.9,94h14.6 c0.2,0,0.3,0.1,0.5,0.1h8c0.1,0,0.3,0,0.4-0.1h14.4c1.3,0,2.1,0.8,2.6,1.9h-43C28.8,94.8,29.6,94,30.9,94z"/>',
        py[tb] = '<path fill="currentColor" stroke="currentColor" d="M74,8c-4.8,0-9.3,1.9-12.7,5.3l-10,10c-2.9,2.9-4.7,6.6-5.1,10.6C46,34.6,46,35.3,46,36c0,2.7,0.6,5.4,1.8,7.8l3.1-3.1 C50.3,39.2,50,37.6,50,36c0-3.7,1.5-7.3,4.1-9.9l10-10c2.6-2.6,6.2-4.1,9.9-4.1s7.3,1.5,9.9,4.1c2.6,2.6,4.1,6.2,4.1,9.9 s-1.5,7.3-4.1,9.9l-10,10C71.3,48.5,67.7,50,64,50c-1.6,0-3.2-0.3-4.7-0.8l-3.1,3.1c2.4,1.1,5,1.8,7.8,1.8c4.8,0,9.3-1.9,12.7-5.3 l10-10C90.1,35.3,92,30.8,92,26s-1.9-9.3-5.3-12.7C83.3,9.9,78.8,8,74,8L74,8z M62,36c-0.5,0-1,0.2-1.4,0.6l-24,24 c-0.5,0.5-0.7,1.2-0.6,1.9c0.2,0.7,0.7,1.2,1.4,1.4c0.7,0.2,1.4,0,1.9-0.6l24-24c0.6-0.6,0.8-1.5,0.4-2.2C63.5,36.4,62.8,36,62,36 z M36,46c-4.8,0-9.3,1.9-12.7,5.3l-10,10c-3.1,3.1-5,7.2-5.2,11.6c0,0.4,0,0.8,0,1.2c0,4.8,1.9,9.3,5.3,12.7 C16.7,90.1,21.2,92,26,92s9.3-1.9,12.7-5.3l10-10C52.1,73.3,54,68.8,54,64c0-2.7-0.6-5.4-1.8-7.8l-3.1,3.1 c0.5,1.5,0.8,3.1,0.8,4.7c0,3.7-1.5,7.3-4.1,9.9l-10,10C33.3,86.5,29.7,88,26,88s-7.3-1.5-9.9-4.1S12,77.7,12,74 c0-3.7,1.5-7.3,4.1-9.9l10-10c2.6-2.6,6.2-4.1,9.9-4.1c1.6,0,3.2,0.3,4.7,0.8l3.1-3.1C41.4,46.6,38.7,46,36,46L36,46z"/>',
        py[nb] = '<path fill="currentColor" stroke="currentColor" d="M21.5,8.3c-3.7,0-6.6,2.9-6.6,6.6v65.8l4.4-4.4V14.9c0-1.3,0.9-2.2,2.2-2.2h57c1.3,0,2.2,0.9,2.2,2.2v70.2 c0,1.3-0.9,2.2-2.2,2.2H30.3l-4.4,4.4h52.6c3.7,0,6.6-2.9,6.6-6.6V14.9c0-3.7-2.9-6.6-6.6-6.6H21.5z M30.3,50v4.4h18.9l-34,34 l3.1,3.1l34-34v18.9h4.4V50H30.3z"/>',
        py[ib] = '<path fill="currentColor" stroke="currentColor" d="M85.8,17.3c-0.1,0-0.1,0-0.2,0.1c-0.5,0.1-1,0.5-1.3,0.9L43.4,81.6L15.3,56.2c-0.5-0.6-1.3-0.9-2.1-0.7 c-0.8,0.2-1.3,0.9-1.5,1.6c-0.1,0.8,0.2,1.6,0.9,2l29.8,27c0.4,0.4,1,0.6,1.6,0.5c0.6-0.1,1.1-0.4,1.4-0.9l42.2-65.4 c0.5-0.7,0.5-1.5,0.1-2.2S86.5,17.1,85.8,17.3L85.8,17.3z"/>',
        py[rb] = '<path fill="currentColor" stroke="currentColor" d="M36,18l-1.5,16H20l-0.4,4h14.5l-2.4,26H17.2l-0.4,4h14.5L30,82h4l1.3-14h26L60,82h4l1.3-14h15.5l0.4-4H65.7l2.4-26h15.5 l0.4-4H68.5L70,18h-4l-1.5,16h-26L40,18L36,18z M38.1,38h26l-2.4,26h-26L38.1,38z"/>',
        py[ob] = '<path fill="currentColor" stroke="currentColor" d="M39.6,26.2c-0.4,0.1-0.8,0.3-1.1,0.6L16.7,48.6L15.3,50l1.4,1.4l21.8,21.8c0.5,0.6,1.3,0.9,2,0.7c0.7-0.2,1.3-0.8,1.5-1.5 c0.2-0.8-0.1-1.5-0.7-2L22.9,52H82c0.7,0,1.4-0.4,1.8-1c0.4-0.6,0.4-1.4,0-2c-0.4-0.6-1-1-1.8-1H22.9l18.4-18.4 c0.6-0.6,0.8-1.6,0.4-2.3C41.4,26.5,40.5,26,39.6,26.2L39.6,26.2z"/>',
        py[sb] = '<path fill="currentColor" stroke="currentColor" d="M59.7,26.2c-0.8,0.1-1.4,0.7-1.6,1.4c-0.2,0.7,0,1.5,0.6,2L77.1,48H18c-0.1,0-0.1,0-0.2,0c-1.1,0.1-2,1-1.9,2.1 c0.1,1.1,1,2,2.1,1.9h59.1L58.7,70.4c-0.6,0.5-0.9,1.3-0.7,2c0.2,0.7,0.8,1.3,1.5,1.5c0.8,0.2,1.5-0.1,2-0.7l21.8-21.7l1.4-1.4 l-1.4-1.4L61.5,26.8c-0.4-0.4-1-0.7-1.6-0.6C59.8,26.2,59.8,26.2,59.7,26.2L59.7,26.2z"/>',
        py[ab] = '<path fill="currentColor" stroke="currentColor" d="M50,15.3l-1.4,1.4L26.8,38.5c-0.6,0.5-0.9,1.3-0.7,2c0.2,0.7,0.8,1.3,1.5,1.5c0.8,0.2,1.5-0.1,2-0.7L48,22.9V82 c0,0.7,0.4,1.4,1,1.8c0.6,0.4,1.4,0.4,2,0c0.6-0.4,1-1,1-1.8V22.9l18.4,18.4c0.5,0.6,1.3,0.9,2,0.7c0.7-0.2,1.3-0.8,1.5-1.5 c0.2-0.8-0.1-1.5-0.7-2L51.4,16.7L50,15.3z"/>',
        py[lb] = '<path fill="currentColor" stroke="currentColor" d="M49.8,15.9c-0.1,0-0.2,0-0.3,0.1c-0.9,0.2-1.6,1-1.6,2v59.1L29.6,58.7c-0.4-0.4-0.9-0.6-1.4-0.6c-0.8,0-1.5,0.5-1.8,1.3 c-0.3,0.8-0.1,1.6,0.5,2.2l21.7,21.8l1.4,1.4l1.4-1.4l21.8-21.8c0.6-0.5,0.9-1.3,0.7-2c-0.2-0.7-0.8-1.3-1.5-1.5 c-0.8-0.2-1.5,0.1-2,0.7L52,77.1V18c0-0.6-0.2-1.1-0.6-1.5C51,16.1,50.4,15.9,49.8,15.9L49.8,15.9z"/>',
        py[cb] = '<path fill="currentColor" stroke="currentColor" d="M16,10c-3.3,0-6,2.7-6,6v68c0,3.3,2.7,6,6,6h68c3.3,0,6-2.7,6-6V16c0-3.3-2.7-6-6-6L16,10z M16,14h68c1.1,0,2,0.9,2,2v68 c0,1.1-0.9,2-2,2H16c-1.1,0-2-0.9-2-2V16C14,14.9,14.9,14,16,14z M22,24v4h52v-4H22z M22,36v4h34v-4L22,36z M22,48v4h52v-4H22z M22,60v4h34v-4H22z M22,72v4h52v-4H22z"/>',
        py[ub] = '<path fill="currentColor" stroke="currentColor" d="M50,6c-6.6,0-12,5.4-12,12s5.4,12,12,12s12-5.4,12-12S56.6,6,50,6z M50,10c4.4,0,8,3.6,8,8s-3.6,8-8,8s-8-3.6-8-8 S45.6,10,50,10z M50,38c-6.6,0-12,5.4-12,12s5.4,12,12,12s12-5.4,12-12S56.6,38,50,38z M50,42c4.4,0,8,3.6,8,8s-3.6,8-8,8 s-8-3.6-8-8S45.6,42,50,42z M50,70c-6.6,0-12,5.4-12,12c0,6.6,5.4,12,12,12s12-5.4,12-12C62,75.4,56.6,70,50,70z M50,74 c4.4,0,8,3.6,8,8c0,4.4-3.6,8-8,8s-8-3.6-8-8C42,77.6,45.6,74,50,74z"/>',
        py[hb] = '<path fill="currentColor" stroke="currentColor" d="M71.9,0c-0.4,0-0.7,0.1-1.1,0.2c-1.5,0.4-2.8,1.4-3.9,2.7c0,0,0,0-0.1,0.1L50.1,26.4c-10.3-2.4-21.5,0.3-29.4,8.3 c-0.8,0.8-0.8,2,0,2.8l14.9,14.8L0.4,96.7c-0.6,0.8-0.6,1.9,0.1,2.7c0.7,0.7,1.9,0.8,2.7,0.1l44.4-35.1l14.9,14.8 c0.8,0.8,2,0.8,2.8,0c8.1-8.1,10.7-19.5,8.2-29.9l23.4-15.9c0,0,0,0,0.1-0.1c1.4-1,2.3-2.3,2.7-3.7c0.4-1.5,0.2-3.3-1-4.6 L75.3,1.3c-0.6-0.6-1.4-1-2.2-1.1C72.7,0,72.3,0,71.9,0z M72.3,4c0.1,0,0.1,0,0.1,0.1l23.6,23.8c0.1,0.1,0.1,0.1,0,0.6 c-0.1,0.4-0.6,1.1-1.3,1.7l-0.1,0.1L70.3,46.7c0,0,0,0-0.1,0.1l-0.1,0.1c-0.7,0.5-0.9,1.4-0.7,2.2c2.6,8.8,0.6,18.4-5.7,25.7 L25.1,36.3c7.2-6.2,16.8-8.3,25.4-5.8c0.8,0.2,1.7-0.1,2.2-0.8L70,5.4l0.1-0.1c0.6-0.7,1.3-1.1,1.7-1.2C72,4,72.2,4,72.3,4L72.3,4 z M38.4,55.2l6.4,6.4L14.3,85.7L38.4,55.2z"/>',
        py[pb] = '<path fill="currentColor" stroke="currentColor" d="M42,6C23.2,6,8,21.2,8,40s15.2,34,34,34c7.4,0,14.3-2.4,19.9-6.4l26.3,26.3l5.6-5.6l-26-26.1c5.1-6,8.2-13.7,8.2-22.1 C76,21.2,60.8,6,42,6z M42,10c16.6,0,30,13.4,30,30S58.6,70,42,70S12,56.6,12,40S25.4,10,42,10z"/>',
        py[db] = '<path fill="currentColor" stroke="currentColor" d="M50,4C24.6,4,4,24.6,4,50s20.6,46,46,46s46-20.6,46-46S75.4,4,50,4L50,4z M50,8c23.2,0,42,18.8,42,42S73.2,92,50,92 S8,73.2,8,50S26.8,8,50,8z M50,22c-3.3,0-6,2.7-6,6s2.7,6,6,6s6-2.7,6-6S53.3,22,50,22z M42,42v4h2h2v26h-2h-2v4h2h2h8h2h2v-4h-2 h-2V42h-2h-8L42,42z"/>',
        py[fb] = '<path fill="currentColor" stroke="currentColor" d="M50,0.2l-1.4,1.4l-17,17c-0.8,0.8-0.8,2.1,0,2.9c0.8,0.8,2.1,0.8,2.9,0L48,7.9V40H0v4h100v-4H52V7.9l13.6,13.6 c0.8,0.8,2.1,0.8,2.9,0c0.8-0.8,0.8-2.1,0-2.9l-17-17L50,0.2z M49.8,55.9c-0.1,0-0.1,0-0.2,0.1H0v4h48v32.1L34.4,78.6 c-0.5-0.5-1.2-0.7-1.9-0.6c-0.8,0.1-1.4,0.7-1.6,1.4c-0.2,0.7,0,1.5,0.6,2l17,17l1.4,1.4l1.4-1.4l17-17c0.8-0.8,0.8-2.1,0-2.9 s-2.1-0.8-2.9,0L52,92.1V60h48v-4H50.4C50.2,55.9,50,55.9,49.8,55.9L49.8,55.9z"/>',
        py[gb] = '<path fill="currentColor" stroke="currentColor" d="M40,0v48H7.9l13.6-13.6c0.6-0.6,0.8-1.6,0.4-2.3c-0.4-0.8-1.3-1.2-2.1-1.1c-0.4,0-0.9,0.3-1.2,0.6l-17,17L0.2,50l1.4,1.4 l17,17c0.8,0.8,2.1,0.8,2.9,0c0.8-0.8,0.8-2.1,0-2.9L7.9,52H40v48h4V50.4c0.1-0.3,0.1-0.5,0-0.8V0H40z M56,0v49.4 c-0.1,0.4-0.1,0.8,0,1.2V100h4V52h32.1L78.6,65.6c-0.8,0.8-0.8,2.1,0,2.9c0.8,0.8,2.1,0.8,2.9,0l17-17l1.4-1.4l-1.4-1.4l-17-17 c-0.4-0.4-1-0.7-1.6-0.6c-0.1,0-0.2,0-0.3,0.1c-0.7,0.1-1.4,0.7-1.6,1.4c-0.2,0.7,0,1.5,0.6,2L92.1,48H60V0H56z"/>',
        py[mb] = '<path fill="currentColor" stroke="currentColor" d="M24,0c-2.2,0-4,1.8-4,4v4H8c-2.1,0-4,1.6-4,3.9v80.5c0,1.1,0.7,2.3,1.5,2.8C6.3,95.8,7.1,96,8,96h84 c0.9,0,1.7-0.2,2.5-0.8c0.8-0.6,1.5-1.7,1.5-2.8V11.9C96,9.8,94.3,8,92.2,8H80V4c0-2.2-1.8-4-4-4h-4c-2.2,0-4,1.8-4,4v4H32V4 c0-2.2-1.8-4-4-4L24,0z M24,4h4v12h-4V4z M72,4h4v12h-4V4z M8,12h12v4c0,2.2,1.8,4,4,4h4c2.2,0,4-1.8,4-4v-4h36v4c0,2.2,1.8,4,4,4 h4c2.2,0,4-1.8,4-4v-4h12v14H8L8,12z M8,30h84v62H8L8,30z M65.4,41.2l-1.1,1.7L48,68.2l-10.7-9.7l-1.5-1.3l-2.7,3l1.5,1.3 l14.2,12.8l18.8-29.2l1.1-1.7L65.4,41.2z"/>',
        py[vb] = '<path fill="currentColor" stroke="currentColor" d="M22,6c-1.1,0-2,0.9-2,2v8h-2c-1.1,0-2,0.9-2,2v8h-2c-1.1,0-2,0.9-2,2v30H8c-1.1,0-2,0.9-2,2v32c0,1.1,0.9,2,2,2h84 c1.1,0,2-0.9,2-2V60c0-1.1-0.9-2-2-2h-4V28c0-1.1-0.9-2-2-2h-2v-8c0-1.1-0.9-2-2-2h-2V8c0-1.1-0.9-2-2-2L22,6z M24,10h52v6H24V10z M20,20h1.7c0.2,0,0.4,0,0.7,0h55.3c0.2,0,0.4,0,0.7,0H80v6H20L20,20z M16,30h1.7c0.2,0,0.4,0,0.7,0h63.3c0.2,0,0.4,0,0.7,0H84v28 H62c-1.1,0-2,0.9-2,2c0,5.5-4.5,10-10,10s-10-4.5-10-10c0-1.1-0.9-2-2-2H16V30z M10,62h26.4c1,6.7,6.6,12,13.6,12 s12.6-5.3,13.6-12H90v28H10L10,62z"/>',
        py[yb] = '<path fill="currentColor" stroke="currentColor" d="M25.8,5.9c-0.1,0-0.2,0-0.3,0.1c-0.1,0-0.1,0-0.2,0.1c-0.1,0-0.1,0-0.2,0.1c-0.1,0.1-0.3,0.2-0.4,0.3 c-0.1,0.1-0.2,0.1-0.3,0.2c-0.1,0.1-0.2,0.2-0.3,0.3L8.6,22.6c-0.8,0.8-0.8,2.1,0,2.9c0.8,0.8,2.1,0.8,2.9,0L24,12.9V76 c0,0.7,0.4,1.4,1,1.8c0.6,0.4,1.4,0.4,2,0c0.6-0.4,1-1,1-1.8V12.9l12.6,12.6c0.8,0.8,2.1,0.8,2.9,0c0.8-0.8,0.8-2.1,0-2.9 L27.7,6.9c-0.1-0.2-0.3-0.4-0.6-0.6c-0.2-0.2-0.5-0.3-0.8-0.3C26.2,6,26,5.9,25.8,5.9L25.8,5.9z M74,6c-1.1,0-2,0.9-2,2s0.9,2,2,2 s2-0.9,2-2S75.1,6,74,6z M74,14c-1.1,0-2,0.9-2,2s0.9,2,2,2s2-0.9,2-2S75.1,14,74,14z M73.8,21.9c-0.1,0-0.2,0-0.3,0.1 c-0.9,0.2-1.6,1-1.6,2v63.1L59.4,74.6c-0.5-0.5-1.2-0.7-1.9-0.6c-0.8,0.1-1.4,0.7-1.6,1.4c-0.2,0.7,0,1.5,0.6,2l15.8,15.7 c0,0.1,0.1,0.1,0.1,0.2l0.1,0.1c0,0,0.1,0.1,0.1,0.1c0,0,0,0,0.1,0c0.1,0.1,0.3,0.2,0.4,0.3c0,0,0,0,0.1,0c0,0,0.1,0,0.1,0.1 c0,0,0,0,0.1,0c0.1,0,0.1,0,0.2,0.1c0.2,0,0.4,0,0.6,0c0,0,0.1,0,0.1,0c0.2,0,0.3-0.1,0.5-0.2c0.3-0.1,0.5-0.3,0.7-0.6l15.9-15.8 c0.8-0.8,0.8-2.1,0-2.9c-0.8-0.8-2.1-0.8-2.9,0L76,87.1V24c0-0.6-0.2-1.1-0.6-1.5C75,22.1,74.4,21.9,73.8,21.9L73.8,21.9z M26,82 c-1.1,0-2,0.9-2,2c0,1.1,0.9,2,2,2c1.1,0,2-0.9,2-2C28,82.9,27.1,82,26,82z M26,90c-1.1,0-2,0.9-2,2s0.9,2,2,2c1.1,0,2-0.9,2-2 C28,90.9,27.1,90,26,90z"/>',
        py[bb] = '<path fill="currentColor" stroke="currentColor" d="M74,8c-4.8,0-9.3,1.9-12.7,5.3l-10,10c-2.9,2.9-4.7,6.6-5.1,10.6C46,34.6,46,35.3,46,36c0,2.7,0.6,5.4,1.8,7.8l3.1-3.1 C50.3,39.2,50,37.6,50,36c0-3.7,1.5-7.3,4.1-9.9l10-10c2.6-2.6,6.2-4.1,9.9-4.1s7.3,1.5,9.9,4.1c2.6,2.6,4.1,6.2,4.1,9.9 s-1.5,7.3-4.1,9.9l-10,10C71.3,48.5,67.7,50,64,50c-1.6,0-3.2-0.3-4.7-0.8l-3.1,3.1c2.4,1.1,5,1.8,7.8,1.8c4.8,0,9.3-1.9,12.7-5.3 l10-10C90.1,35.3,92,30.8,92,26s-1.9-9.3-5.3-12.7C83.3,9.9,78.8,8,74,8L74,8z M62,36c-0.5,0-1,0.2-1.4,0.6l-24,24 c-0.5,0.5-0.7,1.2-0.6,1.9c0.2,0.7,0.7,1.2,1.4,1.4c0.7,0.2,1.4,0,1.9-0.6l24-24c0.6-0.6,0.8-1.5,0.4-2.2C63.5,36.4,62.8,36,62,36 z M36,46c-4.8,0-9.3,1.9-12.7,5.3l-10,10c-3.1,3.1-5,7.2-5.2,11.6c0,0.4,0,0.8,0,1.2c0,4.8,1.9,9.3,5.3,12.7 C16.7,90.1,21.2,92,26,92s9.3-1.9,12.7-5.3l10-10C52.1,73.3,54,68.8,54,64c0-2.7-0.6-5.4-1.8-7.8l-3.1,3.1 c0.5,1.5,0.8,3.1,0.8,4.7c0,3.7-1.5,7.3-4.1,9.9l-10,10C33.3,86.5,29.7,88,26,88s-7.3-1.5-9.9-4.1S12,77.7,12,74 c0-3.7,1.5-7.3,4.1-9.9l10-10c2.6-2.6,6.2-4.1,9.9-4.1c1.6,0,3.2,0.3,4.7,0.8l3.1-3.1C41.4,46.6,38.7,46,36,46L36,46z M80,60 c-10.3,0-18.8,7.9-19.9,17.9C60,78.6,60,79.3,60,80c0,11,9,20,20,20s20-9,20-20S91,60,80,60z M80,64c8.8,0,16,7.2,16,16 s-7.2,16-16,16s-16-7.2-16-16S71.2,64,80,64z M73.2,71c-0.1,0-0.3,0-0.4,0h-0.2c-1,0.2-1.8,1.2-1.6,2.4c0,0.4,0.2,0.8,0.6,1.2 l5.6,5.6l-5.6,5.6c-0.8,0.8-0.8,2,0,2.8c0.8,0.8,2,0.8,2.8,0L80,83l5.6,5.6c0.8,0.8,2,0.8,2.8,0c0.8-0.8,0.8-2,0-2.8L82.8,80 l5.6-5.6c0.8-0.8,0.8-2,0.2-2.8c-0.4-0.4-1.2-0.8-1.8-0.6c-0.4,0-0.8,0.2-1.2,0.6L80,77.2l-5.6-5.6C74.1,71.3,73.7,71,73.2,71z"/>',
        py[wb] = '<path fill="currentColor" stroke="currentColor" d="M15.4,12.6l-2.9,2.9L47.1,50L12.6,84.6l2.9,2.9L50,52.9l34.6,34.6l2.9-2.9L52.9,50l34.6-34.6l-2.9-2.9L50,47.1L15.4,12.6z "/>',
        py[kb] = '<path fill="currentColor" stroke="currentColor" d="M27.2,8C17.7,8,10,15.7,10,25.2v37.6v14C10,86.3,17.7,94,27.2,94h45.6C82.3,94,90,86.3,90,76.8V61.2v-36 C90,15.7,82.3,8,72.8,8L27.2,8z M27.2,12h45.6C80.1,12,86,17.9,86,25.2v36v1.6C86,70.1,80.1,76,72.8,76H27.2 C19.9,76,14,70.1,14,62.8v-1.6v-36C14,17.9,19.9,12,27.2,12z M48,26v14.5L35.6,33l-2.1,3.4L46.1,44l-12.6,7.6l2.1,3.4L48,47.5V62 h4V47.5L64.4,55l2.1-3.4L53.9,44l12.6-7.6L64.4,33L52,40.5V26H48z M14,73.8c3.2,3.8,7.9,6.2,13.2,6.2h45.6c5.3,0,10-2.4,13.2-6.2 v3C86,84.1,80.1,90,72.8,90H27.2C19.9,90,14,84.1,14,76.8L14,73.8z"/>',
        py[Cb] = '<path fill="currentColor" stroke="currentColor" d="M50,4c-14.6,0-27.6,6.8-36,17.4V8c0-0.5-0.2-1.1-0.6-1.4C13,6.2,12.5,6,12,6c-1.1,0-2,0.9-2,2v20h20c0.7,0,1.4-0.4,1.8-1 s0.4-1.4,0-2c-0.4-0.6-1-1-1.8-1H17c7.7-9.7,19.6-16,33-16c23.2,0,42,18.8,42,42S73.2,92,50,92S8,73.2,8,50c0-0.7-0.4-1.4-1-1.8 s-1.4-0.4-2,0c-0.6,0.4-1,1-1,1.8c0,25.4,20.6,46,46,46s46-20.6,46-46S75.4,4,50,4L50,4z M50,38c-6.6,0-12,5.4-12,12s5.4,12,12,12 s12-5.4,12-12S56.6,38,50,38z M50,42c4.4,0,8,3.6,8,8s-3.6,8-8,8s-8-3.6-8-8S45.6,42,50,42z"/>',
        py[xb] = '<path fill="currentColor" stroke="currentColor" d="M50,2c-0.8,0-1.6,0.5-1.9,1.3L35.8,35.1L1.9,36.8c-0.8,0-1.5,0.6-1.8,1.4c-0.3,0.8,0,1.6,0.6,2.2l26.4,21.6l-8.7,32.8 c-0.2,0.8,0.1,1.6,0.8,2.1s1.6,0.5,2.3,0.1L50,78.6l28.5,18.3c0.7,0.4,1.6,0.4,2.3-0.1s1-1.3,0.8-2.1l-8.7-32.8l26.4-21.6 c0.6-0.5,0.9-1.4,0.6-2.2c-0.3-0.8-1-1.3-1.8-1.4l-33.9-1.7L51.9,3.3C51.6,2.5,50.8,2,50,2L50,2z M50,9.5l10.9,28.2 c0.3,0.7,1,1.2,1.8,1.3l30,1.5L69.3,59.7c-0.6,0.5-0.9,1.3-0.7,2.1l7.7,29L51.1,74.5c-0.7-0.4-1.5-0.4-2.2,0L23.6,90.7l7.7-29 c0.2-0.8-0.1-1.6-0.7-2.1L7.3,40.5l30-1.5c0.8,0,1.5-0.5,1.8-1.3L50,9.5z"/>',
        py[Eb] = '<path fill="currentColor" stroke="currentColor" d="M50.1,2c-0.8,0-1.6,0.6-1.8,1.2L36.6,33.7L7.5,4.6C7.1,4.2,6.6,4,6.1,4C5.2,4,4.5,4.5,4.2,5.2C3.9,6,4.1,6.8,4.7,7.4 l88,88c0.5,0.5,1.2,0.7,1.9,0.6s1.2-0.7,1.4-1.4c0.2-0.7,0-1.4-0.6-1.9L76.2,73.3l-3.1-11.4l26.4-21.4c0.6-0.4,0.8-1.4,0.6-2.2 c-0.2-0.8-1-1.4-1.8-1.4l-34-1.8L51.9,3.2C51.7,2.6,50.9,2,50.1,2L50.1,2z M50.1,9.6l10.8,28.2c0.2,0.8,1,1.2,1.8,1.2l30.2,1.6 l-23.4,19c-0.6,0.4-0.8,1.4-0.6,2l1.6,6L39.7,36.8L50.1,9.6z M27.1,35.6L1.9,36.8c-0.8,0-1.6,0.6-1.8,1.4c-0.2,0.8,0,1.6,0.6,2.2 l26.4,21.4l-8.6,33c-0.2,0.8,0,1.6,0.8,2.2c0.4,0.2,0.8,0.4,1.2,0.4s0.8-0.2,1-0.4l28.6-18.6l28.6,18.4c0.6,0.4,1.6,0.4,2.2,0 s1-1.4,0.8-2.2l-1.8-6.4l-5.6-5.6l2.2,8.2L51.1,74.4c-0.2-0.2-0.6-0.4-1-0.4s-0.8,0.2-1,0.4L23.7,90.8l7.8-29.2 c0.2-0.8,0-1.6-0.6-2l-23.6-19l23.6-1.2L27.1,35.6z"/>',
        py[Sb] = '<path fill="currentColor" stroke="currentColor" d="M27,4c-4.5,0-8.6,2.4-10.6,6.5c0,0,0,0-0.1,0.1L9.8,23.1c0,0.1,0,0.2-0.1,0.3c0,0,0,0-0.1,0.1c0,0,0,0,0,0.1 C8.6,25.4,8,27.6,8,30v52c0,7.7,6.3,14,14,14h56c7.7,0,14-6.3,14-14V30c0-2.4-0.6-4.5-1.6-6.5c0-0.2-0.1-0.4-0.2-0.6l-6.6-12.6 c0,0,0,0,0-0.1h-0.1C81.5,6.4,77.5,4,73,4L27,4z M27,8h46c3.1,0,5.8,1.6,7,4.1l2.4,4.6C81,16.3,79.6,16,78,16H22 c-1.5,0-2.9,0.2-4.3,0.7l2.3-4.4c0,0,0,0,0-0.1C21.3,9.6,23.9,8,27,8z M51.2,9.9c-1.5,0-2.9,0.1-4,0.4c-1.8,0.6-2,1.2-2,1.6 c0,0.4,0.2,1.2,2,1.6c1.2,0.2,2.6,0.4,4,0.4c1.6,0,3-0.2,4-0.4c1.8-0.6,2-1.2,2-1.6c0-0.4-0.2-1.2-2-1.6 C54.1,10.1,52.6,9.9,51.2,9.9z M22,20h56c5.5,0,10,4.5,10,10v52c0,5.5-4.5,10-10,10H22c-5.5,0-10-4.5-10-10V30 C12,24.5,16.5,20,22,20z M68,32c-3.3,0-6,2.7-6,6s2.7,6,6,6s6-2.7,6-6S71.3,32,68,32z M50,50c-3.3,0-6,2.7-6,6s2.7,6,6,6 s6-2.7,6-6S53.3,50,50,50z M32,68c-3.3,0-6,2.7-6,6c0,3.3,2.7,6,6,6s6-2.7,6-6C38,70.7,35.3,68,32,68z"/>',
        py[Lb] = '<path fill="currentColor" stroke="currentColor" d="M72.1,0c-1.9,0-3.8,1.1-5.3,3L50.3,26.3c-2.4-0.6-4.8-0.8-7.3-0.8c-8.4,0-16.4,3.3-22.3,9.2c-0.4,0.4-0.6,0.8-0.6,1.4 c0,0.5,0.2,1.1,0.6,1.4l41.8,41.8c0.4,0.4,0.9,0.6,1.4,0.6s1-0.2,1.4-0.6c7.9-7.9,11-19.2,8.3-29.9L97,33.4c1.8-1.3,2.9-3.1,3-4.9 c0.1-1.3-0.4-2.6-1.2-3.4L75.3,1.3C74.5,0.4,73.3,0,72.1,0L72.1,0z M33.1,55.5L0.4,96.8c-0.6,0.8-0.6,2,0.1,2.7 C1,99.8,1.5,100,2,100c0.4,0,0.9-0.1,1.3-0.4l41.2-32.6L33.1,55.5z"/>',
        py[Db] = '<path fill="currentColor" stroke="currentColor" d="M96.3,0c1,0.2,1.6,1.1,1.6,2.1V98c0,1.1-0.9,2.1-2.1,2.1H35.9c-1.1,0-2.1-0.9-2.1-2.1V78h4.1v17.9h55.9V4.1H38V22h-4.1V2 c0-1.1,1-2,2.1-2h59.9C96.1,0,96.2,0,96.3,0L96.3,0z M50.4,30.2c0.5,0.1,0.9,0.3,1.2,0.6l17.8,17.8l1.4,1.4l-1.4,1.4L51.6,69.1 c-0.5,0.6-1.3,0.9-2,0.7c-0.7-0.2-1.3-0.8-1.5-1.5s0.1-1.5,0.7-2L63.1,52h-59c-0.7,0-1.4-0.4-1.8-1s-0.4-1.4,0-2s1-1,1.8-1h59 L48.8,33.6c-0.6-0.6-0.8-1.5-0.4-2.3C48.7,30.6,49.5,30.1,50.4,30.2L50.4,30.2z"/>',
        py[Mb] = '<path fill="currentColor" stroke="currentColor" d="M50,4C24.6,4,4,24.6,4,50s20.6,46,46,46s46-20.6,46-46S75.4,4,50,4L50,4z M50,8c23.2,0,42,18.8,42,42S73.2,92,50,92 S8,73.2,8,50S26.8,8,50,8z M50.6,25c-7.5,0-12.4,4.5-13.5,11.4c-0.1,0.4,0.1,0.7,0.6,0.8l4.5,0.8c0.4,0.1,0.7-0.1,0.8-0.6 c0.9-4.4,3.4-6.8,7.5-6.8c4.1,0,7,2.6,7,6.7c0,2.4-0.9,4.1-3.4,7.5l-4.8,6.6c-1.5,2.1-2.1,3.6-2.1,6.5v2.9c0,0.4,0.3,0.7,0.7,0.7 h4.7c0.4,0,0.7-0.3,0.7-0.7v-2.3c0-2.4,0.4-3.4,1.9-5.4l4.8-6.6c2.4-3.4,3.7-5.9,3.7-9.3C63.6,30.1,58.3,25,50.6,25L50.6,25z M47.4,67c-0.4,0-0.7,0.3-0.7,0.7v6.2c0,0.4,0.3,0.7,0.7,0.7h5.5c0.4,0,0.7-0.3,0.7-0.7v-6.2c0-0.4-0.3-0.7-0.7-0.7H47.4z"/>',
        py[eb] = '<path fill="currentColor" stroke="currentColor" d="M50,0C37.8,0,28,9.6,28,21.4V22h15c1.1,0,2,0.9,2,2c0,1.1-0.9,2-2,2H28v4h15c1.1,0,2,0.9,2,2c0,1.1-0.9,2-2,2H28v4h15 c1.1,0,2,0.9,2,2s-0.9,2-2,2H28v4.6C28,58.4,37.8,68,50,68s22-9.6,22-21.4V42H57c-1.1,0-2-0.9-2-2c0-1.1,0.9-2,2-2h15v-4H57 c-1.1,0-2-0.9-2-2s0.9-2,2-2h15v-4H57c-1.1,0-2-0.9-2-2c0-1.1,0.9-2,2-2h15v-0.6C72,9.6,62.2,0,50,0L50,0z M19.6,34.3 c-0.8,0.2-1.4,0.9-1.4,1.7v10c0,15.4,11.1,28.4,25.8,31.2V88h12V77.2C70.6,74.4,81.8,61.4,81.8,46V36c0-1-0.8-1.8-1.8-1.8 c-1,0-1.7,0.8-1.7,1.8v10c0,15.6-12.6,28.2-28.3,28.2S21.8,61.6,21.8,46V36c0-0.5-0.2-1-0.6-1.3c-0.4-0.3-0.9-0.5-1.4-0.4 C19.8,34.3,19.7,34.3,19.6,34.3L19.6,34.3z M31,92c-3.8,0-6.9,3.1-6.9,6.9L24,100l51.8-0.1l0.1-0.9c0-3.8-3.1-6.9-6.9-6.9H31z"/>',
        py[Ab] = '<path fill="currentColor" stroke="currentColor" d="M10,10c-4.4,0-8,3.6-8,8v64c0,4.4,3.6,8,8,8h2v2h10v-2h56v2h10v-2h2c4.4,0,8-3.6,8-8V18c0-4.4-3.6-8-8-8L10,10z M10,14h80 c2.2,0,4,1.8,4,4v64c0,2.2-1.8,4-4,4H10c-2.2,0-4-1.8-4-4V18C6,15.8,7.8,14,10,14z M13.6,20c-1,0.2-1.6,1-1.6,2v23.4 c-0.1,0.4-0.1,0.8,0,1.2v7.1c0,0.1,0,0.1,0,0.2c0,0.1,0,0.3,0,0.4c0,0.1,0,0.1,0,0.2V78c0,1.1,0.9,2,2,2h72c1.1,0,2-0.9,2-2V22 c0-1.1-0.9-2-2-2H14c-0.1,0-0.1,0-0.2,0S13.7,20,13.6,20z M16,24h68v52H16V54.9l3.4-3.4c0.4-0.4,0.6-0.9,0.6-1.4s-0.2-1.1-0.6-1.4 L16,45.1L16,24z M49.8,27.9c-0.1,0-0.2,0-0.3,0.1c-0.1,0-0.1,0-0.2,0.1c-5.5,0.2-10.5,2.4-14.3,5.9c-0.5,0.2-0.9,0.6-1.1,1.1 c-3.4,3.7-5.6,8.6-5.9,13.9c-0.4,0.6-0.4,1.4,0,2c0.2,5.3,2.3,10.1,5.7,13.8c0.2,0.7,0.7,1.3,1.4,1.4c3.8,3.4,8.8,5.5,14.3,5.7 c0.1,0,0.1,0,0.2,0.1c0.1,0,0.3,0,0.4,0c0.1,0,0.3,0,0.4,0c0.1,0,0.1,0,0.2-0.1c5.4-0.2,10.4-2.3,14.2-5.7 c0.7-0.2,1.3-0.8,1.4-1.5c3.4-3.8,5.5-8.7,5.7-14.2c0,0,0-0.1,0.1-0.1c0,0,0,0,0-0.1c0-0.1,0-0.3,0-0.4c0-0.1,0-0.2,0-0.3 c0-0.1,0-0.3-0.1-0.4c-0.2-5.6-2.4-10.7-6-14.5c0,0,0,0-0.1-0.1c0,0,0-0.1-0.1-0.1c-0.2-0.2-0.4-0.4-0.6-0.6 c-3.8-3.6-8.9-5.9-14.4-6.1C50.5,27.9,50.1,27.9,49.8,27.9z M48,32.1c0,1.1,0.9,2,2,2c1.1,0,2-0.9,2-2c3.5,0.4,6.6,1.8,9.3,3.9 c-0.6,0.5-0.9,1.3-0.7,2c0.2,0.7,0.8,1.3,1.5,1.5c0.8,0.2,1.5-0.1,2-0.7c2.1,2.6,3.5,5.8,3.9,9.3c0,0-0.1,0-0.1,0 c-0.1,0-0.1,0-0.2,0c-1.1,0.1-1.8,1.1-1.7,2.1s1,1.9,2.1,1.9c-0.4,3.5-1.8,6.6-3.9,9.3c-0.4-0.4-1-0.6-1.6-0.6c-0.1,0-0.1,0-0.2,0 c-0.7,0.1-1.3,0.7-1.5,1.4c-0.2,0.7,0,1.5,0.5,2c-2.6,2.1-5.8,3.5-9.3,3.9c0-0.6-0.2-1.1-0.6-1.5c-0.4-0.4-1-0.6-1.5-0.5 c-0.1,0-0.2,0-0.3,0.1c-0.9,0.2-1.6,1-1.6,1.9c-3.5-0.4-6.6-1.8-9.3-3.9c0.6-0.6,0.7-1.5,0.4-2.2c-0.3-0.7-1.1-1.2-1.9-1.2 c-0.1,0-0.1,0-0.2,0c-0.4,0.1-0.8,0.3-1.1,0.6c-2.1-2.6-3.5-5.8-3.9-9.3c1.1,0,2-0.9,2-2c0-1.1-0.9-2-2-2c0.4-3.5,1.8-6.6,3.9-9.3 c0.5,0.6,1.3,0.9,2,0.7c0.7-0.2,1.3-0.8,1.5-1.5c0.2-0.8-0.1-1.5-0.7-2C41.4,33.9,44.5,32.4,48,32.1L48,32.1z M50,40 c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S55.5,40,50,40z M50,44c3.3,0,6,2.7,6,6s-2.7,6-6,6s-6-2.7-6-6S46.7,44,50,44z"/>',
        py[Tb] = '<path fill="currentColor" stroke="currentColor" d="M58,10c-0.1,0-0.2,0-0.3,0H10c-4.4,0-8,3.6-8,8v64c0,4.4,3.6,8,8,8h2v2h10v-2h35.7c0.2,0,0.4,0,0.7,0H78v2h10v-2h2 c4.4,0,8-3.6,8-8V18c0-4.4-3.6-8-8-8H58.3C58.2,10,58.1,10,58,10z M10,14h46v6H14c-1.1,0-2,0.9-2,2v56c0,1.1,0.9,2,2,2h42v6H22H12 h-2c-2.2,0-4-1.8-4-4V18C6,15.8,7.8,14,10,14z M60,14h6v72h-6V58v-8v-8V14z M60,42c0,1.1,0.9,2,2,2c1.1,0,2-0.9,2-2 c0-1.1-0.9-2-2-2C60.9,40,60,40.9,60,42z M60,50c0,1.1,0.9,2,2,2c1.1,0,2-0.9,2-2c0-1.1-0.9-2-2-2C60.9,48,60,48.9,60,50z M60,58 c0,1.1,0.9,2,2,2c1.1,0,2-0.9,2-2c0-1.1-0.9-2-2-2C60.9,56,60,56.9,60,58z M75.7,14H90c2.2,0,4,1.8,4,4v64c0,2.2-1.8,4-4,4h-2H78 h-2.3L87,79.8c0.6-0.4,1-1,1-1.8V62.9c0.7-1.6,1.4-3.1,1.5-3.4c0.4-0.3,0.8-0.7,1-1.1c0.4-0.7,0.6-1.4,0.9-2.3 c0.4-1.7,0.6-3.8,0.6-6.1c0-2.3-0.2-4.5-0.6-6.1c-0.2-0.8-0.5-1.6-0.9-2.3c-0.2-0.4-0.5-0.8-0.9-1.1c-0.3-0.6-0.8-1.9-1.6-3.7V22 c0-0.7-0.4-1.4-1-1.8L75.7,14z M70,15.4l14,7.8v5.9c-0.1-0.2-0.2-0.3-0.4-0.5C83.3,28.4,82.9,28,82,28c-1,0-1.7,0.5-2.2,1 c-0.5,0.5-0.8,1.1-1.1,1.7c-0.6,1.3-1,2.8-1.4,4.8C76.4,39.3,76,44.4,76,50s0.4,10.7,1.2,14.5c0.4,1.9,0.8,3.5,1.4,4.8 c0.3,0.6,0.6,1.2,1.1,1.7c0.5,0.5,1.3,1,2.2,1c1.1,0,1.4-0.5,1.6-0.7c0.2-0.2,0.3-0.3,0.4-0.4v6l-14,7.8V15.4z M16,24h40v52H16 L16,24z M82,33.4c0.5,1,1.1,2.2,1.7,3.4c0.9,1.9,1.5,3.5,2,4.6c0,0.1-0.1,0.1-0.1,0.2c-0.4,0.7-0.6,1.4-0.9,2.3 C84.2,45.5,84,47.7,84,50s0.2,4.5,0.6,6.1c0.2,0.8,0.5,1.6,0.9,2.3c0,0,0.1,0.1,0.1,0.1c-0.4,0.9-1,2.3-2.1,4.6 c-0.6,1.2-1.1,2.3-1.6,3.3c-0.3-0.8-0.5-1.5-0.8-2.7C80.4,60.3,80,55.4,80,50s0.4-10.3,1.1-13.8C81.4,35,81.7,34.2,82,33.4 L82,33.4z"/>',
        py[Fb] = '<path fill="currentColor" stroke="currentColor" d="M97.8,0c-0.3,0-0.5,0.1-0.7,0.2l-96,52c-0.7,0.4-1.1,1.1-1,1.9c0.1,0.8,0.6,1.5,1.4,1.7l27.2,8.9l-2.6,27 c-0.1,0.9,0.4,1.7,1.2,2.1c0.8,0.4,1.8,0.1,2.3-0.6l17.2-19.4l25.9,25.6c0.5,0.5,1.2,0.7,1.9,0.5c0.7-0.2,1.2-0.7,1.4-1.4l24-96 c0.2-0.6,0-1.3-0.4-1.8C99.1,0.2,98.5-0.1,97.8,0z M94.9,5.9L72.9,94.1L49.2,70.7l34.4-47.6c0.8-0.8,0.7-2.1-0.1-2.8 s-2.1-0.7-2.8,0.1L30.4,61.2L7,53.6L94.9,5.9z M71.6,33L45.3,69.4c-0.1,0.1-0.1,0.2-0.2,0.2L45,69.8c0,0.1-0.1,0.1-0.1,0.2 L30.6,86.1l2.1-21.6L71.6,33z"/>',
        py[Pb] = '<path fill="currentColor" stroke="currentColor" d="M16.4,16.4c-3.5,0-6.4,2.9-6.4,6.4s2.9,6.4,6.4,6.4s6.4-2.9,6.4-6.4S19.9,16.4,16.4,16.4z M16.4,19.6 c1.8,0,3.2,1.4,3.2,3.2c0,1.8-1.4,3.2-3.2,3.2s-3.2-1.4-3.2-3.2C13.2,21,14.6,19.6,16.4,19.6z M29.2,21.2v3.2H90v-3.2H29.2z M16.4,43.6c-3.5,0-6.4,2.9-6.4,6.4s2.9,6.4,6.4,6.4s6.4-2.9,6.4-6.4S19.9,43.6,16.4,43.6z M16.4,46.8c1.8,0,3.2,1.4,3.2,3.2 s-1.4,3.2-3.2,3.2s-3.2-1.4-3.2-3.2S14.6,46.8,16.4,46.8z M29.2,48.4v3.2H90v-3.2H29.2z M16.4,70.8c-3.5,0-6.4,2.9-6.4,6.4 c0,3.5,2.9,6.4,6.4,6.4s6.4-2.9,6.4-6.4C22.8,73.7,19.9,70.8,16.4,70.8z M16.4,74c1.8,0,3.2,1.4,3.2,3.2c0,1.8-1.4,3.2-3.2,3.2 s-3.2-1.4-3.2-3.2C13.2,75.4,14.6,74,16.4,74z M29.2,75.6v3.2H90v-3.2H29.2z"/>',
        py[Ob] = '<path fill="currentColor" stroke="currentColor" d="M30.1,20c-1.4,0-2.8,0.9-3.2,2.2L8.7,73.3H6.7c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7h10 c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7h-0.9l3.5-10h21.3l3.5,10h-0.9c-1.2,0-2.3,0.6-2.9,1.7 c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7h10c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7h-2.1 L33.1,22.2C32.7,20.9,31.5,20,30.1,20L30.1,20z M30,33.3l8.3,23.4H21.7L30,33.3z M76.7,40c-0.5,0-0.9,0.1-1.4,0.3 c-6,0.5-10.6,3.7-10.6,3.7c-1,0.7-1.5,1.9-1.3,3.1c0.1,1.2,0.9,2.2,2,2.7c1.1,0.5,2.4,0.3,3.3-0.4c0,0,3.8-2.7,8-2.7 c3.5,0,6.3,2.7,6.6,6.1c-0.2,0.1-0.5,0.3-1.2,0.5c-1.8,0.5-4.7,0.9-7.8,1.6c-3.1,0.7-6.4,1.5-9.3,3.6c-2.9,2-5.1,5.6-5.1,10 c0,3.4,1.8,6.5,4.5,8.6c2.7,2,6.3,3.1,10.5,3.1c5.1,0,8.6-1.5,11-3.3c1.8,2,4.5,3.3,7.4,3.3c1.2,0,2.3-0.6,2.9-1.7 c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7c-1.9,0-3.3-1.4-3.3-3.3c0,0,0-0.1,0-0.1V53.3c0-0.2,0-0.5-0.1-0.7 C89.5,45.6,83.7,40,76.7,40L76.7,40z M83.3,59.8v9.8c0,0.1-0.1,0.6-0.9,1.4c-1,1-2.8,2.3-7.4,2.3c-3,0-5.2-0.8-6.5-1.8 c-1.3-1-1.8-2-1.8-3.2c0-2.5,0.7-3.4,2.2-4.5c1.5-1.1,4-1.9,6.8-2.5C78.2,60.8,80.9,60.4,83.3,59.8L83.3,59.8z"/>',
        py[Ib] = '<path fill="currentColor" stroke="currentColor" d="M8,18v4h84v-4H8z M8,48v4h84v-4H8z M78.2,57.9c-0.8,0-1.6,0.6-2,1l-4.8,12.6L58,72.3c-0.8,0-1.6,0.6-1.8,1.4 c-0.2,0.8,0,1.8,0.8,2.2l10.2,8.4l-3.4,13C63.6,98,64,99,64.6,99.4c0.4,0.2,0.8,0.4,1.2,0.4c0.4,0,0.8-0.2,1.2-0.4l11.2-7.2 l11.2,7.4c0.6,0.6,1.6,0.4,2.2,0c0.8-0.6,1-1.4,0.8-2.2l-3.4-13l10.4-8.4c0.6-0.6,0.8-1.4,0.6-2.2c-0.2-0.8-1-1.4-1.8-1.4 l-13.4-0.8L80,59.1C79.8,58.5,79,57.9,78.2,57.9L78.2,57.9z M78.2,65.5l3.2,9c0.4,0.6,1,1.2,1.8,1.2l9.6,0.6l-7.4,6 c-0.6,0.4-0.8,1.2-0.6,2l2.4,9.2l-8-5.2c-0.2-0.2-0.6-0.4-1-0.4c-0.4,0-0.8,0.2-1.2,0.2l-8,5.2l2.4-9.2c0.2-0.6,0-1.6-0.6-2 l-7.4-6l9.6-0.4c0.8-0.2,1.4-0.6,1.8-1.4L78.2,65.5z M8,78v4h49.3l-3.5-2.8c-0.4-0.3-0.8-0.7-1.1-1.2H8z"/>',
        py[Nb] = '<path fill="currentColor" stroke="currentColor" d="M92,92H8v-4h84V92z M50,86.8L34.6,71.4l2.8-2.8L48,79.2V20.8L37.4,31.4l-2.8-2.8L50,13.2l15.4,15.4l-2.8,2.8L52,20.8v58.3 l10.6-10.6l2.8,2.8L50,86.8z M92,12H8V8h84V12z"/>',
        py[Rb] = '<path fill="currentColor" stroke="currentColor" d="M50,4C24.7,4,4,22.7,4,46c0,9.9,3.8,19,10.1,26.1H14c0.8,1.3,0.9,2.9,0.4,4.8c-0.4,1.9-1.4,4.1-2.6,6.1 c-1.2,2-2.5,3.8-3.6,5.3c-0.5,0.7-1,1.3-1.4,1.8c-0.2,0.2-0.3,0.5-0.4,0.7C6.3,91.1,6,91.1,6,92.2C6,93,6.3,94,7.1,94.8 c0.8,0.8,1.9,1.2,3.3,1.2c9.2,0,17.6-6.9,24-10.6C39.3,87,44.5,88,50,88c25.3,0,46-18.7,46-42S75.3,4,50,4L50,4z M50,8 c23.3,0,42,17.1,42,38S73.3,84,50,84c-5.4,0-10.6-0.9-15.3-2.6l-0.9-0.3l-0.8,0.5c-6.9,4-15.3,10.4-22.6,10.4 c0.3-0.4,0.5-0.7,0.9-1.2c1.1-1.5,2.5-3.5,3.8-5.7s2.5-4.7,3.1-7.3c0.6-2.6,0.5-5.3-0.9-7.8l-0.1-0.2l-0.1-0.1 C11.5,63.2,8,55,8,46C8,25.1,26.7,8,50,8L50,8z M32.7,24c-0.7,0.1-1.3,0.7-1.6,1.4l-6.1,17.5c-0.2,0.3-0.4,0.7-0.4,1.1l-2.6,7.4 c-0.4,0.7-0.3,1.5,0.2,2.2c0.5,0.6,1.3,0.9,2.1,0.7c0.8-0.2,1.3-0.8,1.5-1.6l2.3-6.6h9.6l2.3,6.6c0.1,0.8,0.7,1.4,1.5,1.6 c0.8,0.2,1.6-0.1,2.1-0.7c0.5-0.6,0.6-1.5,0.2-2.2l-9-26C34.6,24.4,33.7,23.9,32.7,24z M33,32.1l3.4,9.9h-6.9L33,32.1z M65.8,37.9 c-0.1,0-0.2,0-0.3,0.1c-0.9,0.2-1.6,1-1.6,2v4H54c-0.1,0-0.1,0-0.2,0c-0.1,0-0.1,0-0.2,0c-1.1,0.1-1.9,1.1-1.8,2.2 s1.1,1.9,2.2,1.8h17.4c-0.8,2.6-2.6,7.1-6.6,11.1c-3.4-3.4-4.9-6.2-4.9-6.2c-0.4-0.7-1.2-1.2-2-1.1c-0.7,0.1-1.3,0.5-1.6,1.1 c-0.3,0.6-0.3,1.3,0.1,1.9c0,0,1.7,3.1,5.4,6.8c-2.3,1.7-5,3.3-8.4,4.4c-0.8,0.1-1.4,0.7-1.6,1.5c-0.2,0.8,0.1,1.6,0.7,2.1 c0.6,0.5,1.5,0.6,2.2,0.2c4.1-1.4,7.4-3.4,10.1-5.5c2.3,1.9,5.1,3.8,8.4,5.4c1,0.5,2.2,0.1,2.7-0.9c0.5-1,0.1-2.2-0.9-2.7 c-2.8-1.4-5.2-2.9-7.2-4.5c5.1-5.3,7.1-11,7.9-13.7H78c0.7,0,1.4-0.4,1.8-1c0.4-0.6,0.4-1.4,0-2c-0.4-0.6-1-1-1.8-1H68v-4 c0-0.6-0.2-1.1-0.6-1.5C67,38.1,66.4,37.9,65.8,37.9z"/>',
        py[Bb] = '<path fill="currentColor" stroke="currentColor" d="M8,60c0,9.9,8.1,18,18,18l45.1,0L60.6,88.6l2.9,2.9l14-14l1.4-1.4l-1.4-1.4l-14-14l-2.9,2.9L71.1,74L26,74 c-7.7,0-14-6.3-14-14l0-22H8L8,60z M21.2,24l1.4,1.4l14,14l2.9-2.9L28.9,26L74,26c7.7,0,14,6.3,14,14l0,22h4l0-22 c0-9.9-8.1-18-18-18l-45.1,0l10.6-10.6l-2.9-2.9l-14,14L21.2,24z">',
        py[zb] = '<path fill="currentColor" stroke="currentColor" d="M11.9,9.9c-1.1,0-2,0.9-2,2v75.6c0,1.1,0.9,2,2,2h39.8V65.6v-4V39.8h33.8v13.9h4V11.9c0-1.1-0.9-2-2-2L11.9,9.9z M13.9,13.9h33.8v21.9H13.9L13.9,13.9z M51.7,13.9h33.8v21.9H51.7V13.9z M13.9,39.8h33.8v21.9H13.9L13.9,39.8z M73.6,55.7L72.4,62 c-0.6,0.2-1.4,0.4-2,0.8L65,59.1l-6,6l3.6,5c-0.2,0.8-0.6,1.4-0.8,2.2l-6.2,1v8.3l6.2,1c0.2,0.6,0.4,1.4,0.8,2l-3.6,5.4l6,6 l5.4-3.6c0.8,0.4,1.4,0.6,2.2,0.8l1,6.4h8.2l1.2-6.2c0.6-0.2,1.2-0.4,2-0.8l5.4,3.6l6-6l-3.8-5.2c0.4-0.8,0.6-1.6,0.8-2.2l6.2-1.2 v-8.3l-6.4-1c-0.2-0.6-0.4-1.4-0.8-2l3.6-5.4l-5.8-5.8l-5.2,3.8c-0.6-0.4-1.4-0.6-2-0.8l-1-6.4L73.6,55.7z M77,59.7h1.6l0.8,5.4 l1.2,0.4c1.2,0.4,2.4,0.8,3.4,1.4l1.2,0.8l4.6-3.4l1,1l-3.2,4.6l0.6,1c0.6,1.2,1,2.4,1.4,3.6l0.4,1.2l5.6,0.8v1.6l-5.4,1.2 l-0.4,1.2c-0.4,1.2-0.8,2.4-1.4,3.4l-0.8,1.2l3.4,4.6l-1.2,1.2l-4.6-3.2l-1,0.6c-1.2,0.6-2.4,1-3.6,1.4l-1.2,0.4l-1,5.6h-1.6 L76,90.1l-1.2-0.4c-1.2-0.4-2.4-0.8-3.4-1.4l-1.2-0.8l-4.8,3.2l-1.2-1.2l3.2-4.6l-0.6-1c-0.6-1.2-1-2.6-1.4-3.6L65,79.1l-5.4-1 v-1.6l5.6-1l0.2-1.4c0.2-1,0.6-2.2,1.2-3.2l0.8-1l-3.2-4.6l1.2-1.2l4.6,3.2l1-0.4c1.4-0.6,2.6-1.2,3.8-1.6l1.2-0.2L77,59.7z M13.9,65.6h33.8v19.9H13.9L13.9,65.6z M77.5,69.4c-4.4,0-8,3.6-8,8s3.6,8,8,8c4.4,0,8-3.4,8-8C85.5,73,81.9,69.4,77.5,69.4z M77.5,73.6c2.2,0,4,1.6,4,4c0,2.2-1.8,4-4,4c-2.2,0-4-1.8-4-4C73.6,75.4,75.4,73.6,77.5,73.6z"/>',
        py[Hb] = '<path fill="currentColor" stroke="currentColor" d="M49.5,5.9c-0.1,0-0.2,0-0.2,0.1c-0.9,0.2-1.6,1-1.6,2v56.8L35.2,52.3c-0.3-0.3-0.7-0.5-1.1-0.6c-0.3-0.1-0.5-0.1-0.8,0 c-0.7,0.1-1.3,0.7-1.6,1.4c-0.2,0.7,0,1.5,0.6,2L48,70.7c0.1,0.2,0.3,0.4,0.6,0.6l1.1,1.1l1.1-1.1c0.1,0,0.1-0.1,0.2-0.1l0.1-0.1 c0,0,0,0,0-0.1c0,0,0.1-0.1,0.1-0.1L67,55.1c0.8-0.8,0.8-2.1,0-2.9c-0.8-0.8-2.1-0.8-2.9,0L51.7,64.7V8c0-0.1,0-0.1,0-0.2 c0-0.1,0-0.1,0-0.2c0-0.1-0.1-0.3-0.1-0.4c0,0-0.1-0.1-0.1-0.1c0-0.1-0.1-0.3-0.2-0.4c0,0-0.1-0.1-0.1-0.1c-0.1,0-0.1-0.1-0.2-0.1 C50.6,6.1,50,5.9,49.5,5.9L49.5,5.9z M4,71.6v11.9c0,5.5,4.5,9.9,9.9,9.9h71.6c5.5,0,9.9-4.5,9.9-9.9V71.6h-4v11.9 c0,3.3-2.7,6-6,6H13.9c-3.3,0-6-2.7-6-6V71.6H4z"/>',
        py[Vb] = '<path fill="currentColor" stroke="currentColor" d="m50,4.36896c-25.16372,0 -45.63104,20.46732 -45.63104,45.63104c0,25.16372 20.46732,45.63104 45.63104,45.63104c25.16372,0 45.63104,-20.46732 45.63104,-45.63104c0,-25.16372 -20.46732,-45.63104 -45.63104,-45.63104zm0,17.85562c7.94358,0 15.35242,3.38668 20.58356,9.17581l5.20789,-5.20789l0,13.88771l-13.88771,0l5.88212,-5.88212c-4.49491,-5.05289 -10.91177,-8.00558 -17.78587,-8.00558c-13.12822,0 -23.8075,10.67927 -23.8075,23.8075l-3.96792,0c0,-15.31368 12.46174,-27.77541 27.77541,-27.77541zm0,55.55083c-7.92033,0 -15.36018,-3.37893 -20.59132,-9.16805l-5.20014,5.20014l0,-13.88771l13.88771,0l-5.88212,5.88212c4.48716,5.0529 10.92727,8.00558 17.78587,8.00558c13.12822,0 23.8075,-10.67927 23.8075,-23.8075l3.96792,0c0,15.31368 -12.46174,27.77541 -27.77541,27.77541z"/>',
        py[qb] = '<path fill="currentColor" stroke="currentColor" d="m49.89841,3.99187c-25.31246,0 -45.90654,20.59407 -45.90654,45.90654c0,25.31446 20.59407,45.90654 45.90654,45.90654c25.31446,0 45.90654,-20.59207 45.90654,-45.90654c0,-25.31246 -20.59207,-45.90654 -45.90654,-45.90654zm21.61,29.06482l-22.97522,33.85707l-17.95744,-16.66407c-0.80835,-0.74848 -0.85626,-2.0119 -0.10578,-2.82026c0.74848,-0.81035 2.0139,-0.85426 2.82026,-0.10578l14.55038,13.50051l20.36454,-30.0109c0.62074,-0.91214 1.86221,-1.14766 2.77236,-0.53092c0.91414,0.61874 1.15166,1.86021 0.53092,2.77435z"/>',
        py[Ub] = '<path fill="currentColor" stroke="currentColor" d="m49.5,12.375c-20.47192,0 -37.125,16.65308 -37.125,37.125c0,20.47193 16.65308,37.125 37.125,37.125c20.47193,0 37.125,-16.65307 37.125,-37.125c0,-20.47192 -16.65307,-37.125 -37.125,-37.125zm0,6.1875c17.12439,0 30.9375,13.81311 30.9375,30.9375c0,17.12439 -13.81311,30.9375 -30.9375,30.9375c-17.12439,0 -30.9375,-13.81311 -30.9375,-30.9375c0,-17.12439 13.81311,-30.9375 30.9375,-30.9375zm0,12.375c-9.18457,0 -16.78601,6.70715 -18.27246,15.46875l6.38086,0c1.37769,-5.32947 6.13916,-9.28125 11.8916,-9.28125c3.42005,0 6.47754,1.41394 8.70117,3.67383l-5.60742,5.60742l15.46875,0l0,-15.46875l-5.51074,5.51074c-3.35962,-3.35962 -7.93982,-5.51074 -13.05176,-5.51074l-0.00001,0zm-18.5625,21.65625l0,15.46875l5.51074,-5.51074c3.35962,3.35962 7.93982,5.51074 13.05176,5.51074c9.18457,0 16.78601,-6.70715 18.27246,-15.46875l-6.38086,0c-1.37768,5.32947 -6.13916,9.28125 -11.8916,9.28125c-3.42005,0 -6.47754,-1.41394 -8.70117,-3.67383l5.60742,-5.60742l-15.46874,0z"/>',
        py[_b] = '<path fill="currentColor" stroke="currentColor" d="m49.68421,12.42105c-20.5431,0 -37.26316,16.72007 -37.26316,37.26316c0,20.54309 16.72005,37.26316 37.26316,37.26316c20.5431,0 37.26316,-16.72007 37.26316,-37.26316c0,-20.54309 -16.72005,-37.26316 -37.26316,-37.26316zm0,6.21053c17.18669,0 31.05263,13.86596 31.05263,31.05263c0,17.18668 -13.86594,31.05263 -31.05263,31.05263c-17.18669,0 -31.05263,-13.86596 -31.05263,-31.05263c0,-17.18668 13.86594,-31.05263 31.05263,-31.05263zm15.36863,18.63158l-19.40789,19.40789l-10.09211,-10.09211l-4.34252,4.34858l14.43462,14.44069l23.75648,-23.75648l-4.34858,-4.34858z"/>',
        py[jb] = '<path fill="currentColor" stroke="currentColor" d="m49.86139,12.46535c-20.62138,0 -37.39604,16.77466 -37.39604,37.39604c0,20.62139 16.77466,37.39604 37.39604,37.39604c20.62139,0 37.39604,-16.77465 37.39604,-37.39604c0,-20.62138 -16.77465,-37.39604 -37.39604,-37.39604zm0,6.23267c17.24941,0 31.16337,13.91396 31.16337,31.16337c0,17.24941 -13.91396,31.16337 -31.16337,31.16337c-17.24941,0 -31.16337,-13.91396 -31.16337,-31.16337c0,-17.24941 13.91396,-31.16337 31.16337,-31.16337zm-12.46535,15.58168l0,31.16337l6.23267,0l0,-31.16337l-6.23267,0zm18.69802,0l0,31.16337l6.23267,0l0,-31.16337l-6.23267,0z"/>',
        py[Wb] = '<path fill="currentColor" stroke="currentColor" d="m9.9,89.09226c-0.03094,0 -0.05414,0 -0.08508,0c-1.06734,-0.04641 -1.91039,-0.92812 -1.89492,-1.99547c0.00774,-0.48726 1.14469,-48.13101 47.52,-49.44586l0,-13.89094c0,-0.7657 0.44086,-1.4618 1.12922,-1.78664c0.68062,-0.33258 1.5082,-0.23203 2.09601,0.2475l31.68,25.74c0.46406,0.37899 0.73476,0.9436 0.73476,1.53914c0,0.59555 -0.2707,1.16016 -0.72703,1.53914l-31.68,25.74c-0.59555,0.47953 -1.41539,0.57234 -2.10375,0.2475c-0.68836,-0.32485 -1.12922,-1.02094 -1.12922,-1.78664l0,-13.84453c-41.26289,0.75024 -43.49039,24.81961 -43.56773,25.85601c-0.06961,1.04414 -0.93586,1.84078 -1.97226,1.84078z"/>',
        py[$b] = '<path fill="currentColor" stroke="currentColor" d="M12,4c-1.1,0-2,0.9-2,2v20c0,1.1,0.9,2,2,2h14v21.7c0,0.2,0,0.4,0,0.7V84c0,1.1,0.9,2,2,2h26v8c0,1.1,0.9,2,2,2h32 c1.1,0,2-0.9,2-2V74c0-1.1-0.9-2-2-2H56c-1.1,0-2,0.9-2,2v8H30V52h24v8c0,1.1,0.9,2,2,2h32c1.1,0,2-0.9,2-2V40c0-1.1-0.9-2-2-2 H56c-1.1,0-2,0.9-2,2v8H30V28h14c1.1,0,2-0.9,2-2V6c0-1.1-0.9-2-2-2L12,4z M14,8h28v16H28.3c-0.1,0-0.2,0-0.3,0 c-0.1,0-0.2,0-0.3,0H14L14,8z M58,42h28v16H58v-7.7c0-0.2,0-0.4,0-0.7V42z M58,76h28v16H58v-7.7c0-0.2,0-0.4,0-0.7V76z"/>',
        py[Gb] = '<path fill="currentColor" stroke="currentColor" d="M16.7,13.3c-1.8,0-3.3,1.5-3.3,3.3v66.7c0,1.8,1.5,3.3,3.3,3.3h16.7c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4 c-0.6-1-1.7-1.7-2.9-1.7H20V20h13.3c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7L16.7,13.3z M66.7,13.3 c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7H80v60H66.7c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4 c0.6,1,1.7,1.7,2.9,1.7h16.7c1.8,0,3.3-1.5,3.3-3.3V16.7c0-1.8-1.5-3.3-3.3-3.3L66.7,13.3z"/>',
        py[Yb] = '<path fill="currentColor" stroke="currentColor" d="M23.3,13.3c-5.5,0-10,4.5-10,10v53.3c0,5.5,4.5,10,10,10H65c0.9,0,1.7-0.4,2.4-1l18.3-18.3c0.6-0.6,1-1.5,1-2.4V23.3 c0-5.5-4.5-10-10-10H23.3z M23.3,20h53.3c1.9,0,3.3,1.4,3.3,3.3v40H70c-3.7,0-6.7,3-6.7,6.7v10h-40c-1.9,0-3.3-1.4-3.3-3.3V23.3 C20,21.4,21.4,20,23.3,20z M33.3,36.7c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7h13.3 c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7H33.3z M60,36.7c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4 c0.6,1,1.7,1.7,2.9,1.7h6.7c1.2,0,2.3-0.6,2.9-1.7s0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7H60z M33.3,50c-1.2,0-2.3,0.6-2.9,1.7 c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7H60c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4S61.2,50,60,50H33.3z"/>',
        py[Kb] = '<path fill="currentColor" stroke="currentColor" d="M36.6,13.3c-1.6,0-2.9,1.2-3.2,2.7l-2.1,10.7H20c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4s1.7,1.7,2.9,1.7h9.9 l-6.7,33.3h-9.9c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7h8.6l-1.9,9.3c-0.3,1.2,0.1,2.4,1,3.2 c0.9,0.8,2.2,1.1,3.3,0.7s2-1.4,2.2-2.6l2.1-10.7h33.2l-1.9,9.3c-0.3,1.2,0.1,2.4,1,3.2c0.9,0.8,2.2,1.1,3.3,0.7 c1.1-0.4,2-1.4,2.2-2.6l2.1-10.7H80c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7h-9.9l6.7-33.3h9.9 c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7h-8.6l1.9-9.3c0.2-1,0-2-0.7-2.8s-1.6-1.2-2.6-1.2 c-1.6,0-2.9,1.2-3.2,2.7l-2.1,10.7H38.1l1.9-9.3c0.2-1,0-2-0.7-2.8S37.6,13.3,36.6,13.3L36.6,13.3z M36.7,33.3h33.2l-6.7,33.3 H30.1L36.7,33.3z"/>',
        py[Qb] = '<path fill="currentColor" stroke="currentColor" d="M76.7,10h-20c-1.7,0-3.4,0.7-4.7,2L12,52c-2.6,2.6-2.6,6.8,0,9.4L38.6,88c2.6,2.6,6.8,2.6,9.4,0c1.3-1.3,38.7-38.7,40-40 c1.3-1.3,2-3,2-4.7v-20C90,16,84,10,76.7,10z M76.7,30C73,30,70,27,70,23.3c0-3.7,3-6.7,6.7-6.7c3.7,0,6.7,3,6.7,6.7 C83.3,27,80.4,30,76.7,30z"/>',
        py[Jb] = '<path fill="currentColor" stroke="currentColor" d="M26.6,13.2c-0.3,0-0.6,0-1,0.1h-9c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7H20v60h-3.3 c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7h8.9c0.7,0.1,1.4,0.1,2.2,0h8.9c1.2,0,2.3-0.6,2.9-1.7 c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7h-3.3V53.3h33.3V80h-3.3c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4 s1.7,1.7,2.9,1.7h8.9c0.7,0.1,1.4,0.1,2.2,0h8.9c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7H80V20h3.3 c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7h-8.9c-0.4-0.1-0.8-0.1-1.2-0.1c-0.3,0-0.6,0-1,0.1h-9 c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4s1.7,1.7,2.9,1.7h3.3v26.7H33.3V20h3.3c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4 s-1.7-1.7-2.9-1.7h-8.9C27.3,13.3,27,13.2,26.6,13.2L26.6,13.2z"/>',
        py[Xb] = '<path fill="currentColor" stroke="currentColor" d="M23.3,13.3c-1.8,0-3.3,1.5-3.3,3.3c0,1.8,1.5,3.3,3.3,3.3h3.3v60h-3.3c-1.8,0-3.3,1.5-3.3,3.3s1.5,3.3,3.3,3.3h38.3 c11.9,0,21.7-9.7,21.7-21.7c0-8.8-5.2-16.3-12.8-19.7c3.7-3.4,6.1-8.2,6.1-13.6c0-10.1-8.2-18.3-18.3-18.3L23.3,13.3z M43.3,20 h8.3c6.4,0,11.7,5.2,11.7,11.7c0,6.4-5.2,11.7-11.7,11.7h-8.3L43.3,20z M43.3,50h5h3.3c8.3,0,15,6.7,15,15s-6.7,15-15,15h-8.3 L43.3,50z"/>',
        py[Zb] = '<path fill="currentColor" stroke="currentColor" d="M53.3,13.3c-0.3,0-0.5,0-0.7,0.1h-9.2c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4s1.7,1.7,2.9,1.7h4.8l-6.3,60h-5.1 c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7h20c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4 c-0.6-1-1.7-1.7-2.9-1.7h-4.8l6.3-60h5.1c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7h-9.2 C53.9,13.3,53.6,13.3,53.3,13.3L53.3,13.3z"/>',
        py[ew] = '<path fill="currentColor" stroke="currentColor" d="M20,13.3c-1.8,0-3.3,1.5-3.3,3.3v6.7c0,1.2,0.6,2.3,1.7,2.9c1,0.6,2.3,0.6,3.4,0c1-0.6,1.7-1.7,1.7-2.9V20h20v30h-20 c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7h53.3c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4 c-0.6-1-1.7-1.7-2.9-1.7h-20V20h20v3.3c0,1.2,0.6,2.3,1.7,2.9c1,0.6,2.3,0.6,3.4,0c1-0.6,1.7-1.7,1.7-2.9v-6.7 c0-1.8-1.5-3.3-3.3-3.3H20z M43.3,63.3V80H40c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4s1.7,1.7,2.9,1.7h20 c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7h-3.3V63.3L43.3,63.3z"/>',
        py[tw] = '<path fill="currentColor" stroke="currentColor" d="M59.9,10c-0.9,0-1.7,0.4-2.3,1L34.3,34.3c-0.3,0.3-0.6,0.7-0.7,1.1l-6.4,16l-3.8,3.8c-3.6,3.6-4.2,9.1-2,13.4L6.7,83.3 l20,6.7l8.1-8.1c4.3,2.2,9.8,1.6,13.4-2l3.8-3.8l16-6.4c0.4-0.2,0.8-0.4,1.1-0.7l23.3-23.3c0.9-0.8,1.2-2.1,0.9-3.2 c-0.3-1.2-1.2-2.1-2.4-2.4s-2.4,0-3.2,0.9l-11,11L51.4,26.7l11-11c1-1,1.3-2.4,0.7-3.7C62.6,10.7,61.3,9.9,59.9,10L59.9,10z M46.7,31.4L72,56.7L66.7,62L41.4,36.7L46.7,31.4z M37.9,42.6l22.9,22.9l-12,4.8c-0.4,0.2-0.8,0.4-1.1,0.7l-4.3,4.3 c-1.9,1.9-4.9,1.9-6.8,0l-8.5-8.5c-1.9-1.9-1.9-4.9,0-6.8l4.3-4.3c0.3-0.3,0.6-0.7,0.7-1.1L37.9,42.6z"/>',
        py[nw] = '<path fill="currentColor" stroke="currentColor" d="M56.6,13.3c-1.6,0-2.9,1.2-3.2,2.7L40.1,82.7c-0.3,1.2,0.1,2.4,1,3.2c0.9,0.8,2.2,1.1,3.3,0.7c1.1-0.4,2-1.4,2.2-2.6 l13.3-66.7c0.2-1,0-2-0.7-2.8S57.6,13.3,56.6,13.3z M24.2,26.6c-1.1,0-2.1,0.5-2.8,1.4l-14.1,20c-0.8,1.2-0.8,2.7,0,3.9l14.1,20 c1.1,1.5,3.1,1.9,4.6,0.8c1.5-1.1,1.9-3.1,0.8-4.6L14.1,50l12.8-18.1c0.7-1,0.8-2.4,0.3-3.5C26.6,27.3,25.4,26.6,24.2,26.6 L24.2,26.6z M76.5,26.6c-1.2,0-2.4,0.8-2.9,1.9c-0.5,1.1-0.4,2.4,0.3,3.4L86.7,50L73.9,68.1c-0.7,1-0.8,2.2-0.3,3.3 s1.5,1.8,2.7,1.9c1.2,0.1,2.3-0.4,3-1.4l14.1-20c0.8-1.2,0.8-2.7,0-3.9l-14.1-20C78.7,27.1,77.7,26.6,76.5,26.6L76.5,26.6z"/>',
        py[iw] = '<path fill="currentColor" stroke="currentColor" d="M16.7,13.3c-3.7,0-6.7,3-6.7,6.7v26.7c0,3.7,3,6.7,6.7,6.7h13.5c0.1,6-0.5,18.7-6.3,28.2c0,0,0,0,0,0 c-0.9,1.4-0.7,3.1,0.5,4.2c1.2,1.1,3,1.2,4.3,0.2c0,0,14.7-11.2,14.7-32.7V20c0-3.7-3-6.7-6.7-6.7L16.7,13.3z M63.3,13.3 c-3.7,0-6.7,3-6.7,6.7v26.7c0,3.7,3,6.7,6.7,6.7h13.5c0.1,6-0.5,18.7-6.3,28.2h0c-0.9,1.4-0.7,3.1,0.5,4.2c1.2,1.1,3,1.2,4.3,0.2 c0,0,14.7-11.2,14.7-32.7V20c0-3.7-3-6.7-6.7-6.7L63.3,13.3z"/>',
        py[rw] = '<path fill="currentColor" stroke="currentColor" d="M73.3,6.7C68,6.7,63,8.7,59.2,12.5l-6.7,6.7c-3.8,3.8-5.9,8.8-5.9,14.1c0,4.2,1.3,8.2,3.7,11.6l-5.5,5.5 c-3.4-2.4-7.4-3.7-11.6-3.7c-5.3,0-10.4,2.1-14.1,5.9l-6.7,6.7C8.7,63,6.7,68,6.7,73.3c0,5.3,2.1,10.4,5.9,14.1s8.8,5.9,14.1,5.9 c5.3,0,10.4-2.1,14.1-5.9l6.7-6.7c3.8-3.8,5.9-8.8,5.9-14.1c0-1.8-0.3-3.6-0.7-5.4l-6,6c-0.2,3.2-1.4,6.3-3.8,8.8l-6.7,6.7 c-5.2,5.2-13.7,5.2-18.9,0c-5.2-5.2-5.2-13.7,0-18.9l6.7-6.7c2.6-2.6,6-3.9,9.4-3.9c2.3,0,4.7,0.7,6.7,1.9L31,64.3 c-0.9,0.8-1.2,2.1-0.9,3.2c0.3,1.2,1.2,2.1,2.4,2.4c1.2,0.3,2.4,0,3.2-0.9L69,35.7c1-1,1.3-2.4,0.7-3.7c-0.5-1.3-1.8-2.1-3.2-2 c-0.9,0-1.7,0.4-2.3,1l-9.1,9.1c-3-5.1-2.4-11.8,2-16.2l6.7-6.7c2.6-2.6,6-3.9,9.4-3.9c3.4,0,6.8,1.3,9.4,3.9 c5.2,5.2,5.2,13.7,0,18.9l-6.7,6.7c-2.4,2.4-5.6,3.7-8.8,3.8l-6,6c1.7,0.5,3.5,0.7,5.4,0.7c5.3,0,10.4-2.1,14.1-5.9l6.7-6.7 c3.8-3.8,5.9-8.8,5.9-14.1c0-5.3-2.1-10.4-5.9-14.1C83.7,8.7,78.7,6.7,73.3,6.7z"/>',
        py[sw] = '<path fill="currentColor" stroke="currentColor" d="M18.2,10.1l-5.1,3.5V18l4.8-3.3h0.3v15.4h5.1v-20L18.2,10.1z M36.7,20c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4 c0.6,1,1.7,1.7,2.9,1.7h46.7c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7H36.7z M20,40 c-4.5,0-7.5,2.6-7.5,6.5v0.1H17v-0.1c0-1.6,1.2-2.7,2.8-2.7c1.6,0,2.7,1,2.7,2.4c0,1.1-0.7,2.1-3.6,4.8l-6.2,5.8V60h14.8v-3.9 h-8.2v-0.3l3.2-3c3.5-3.1,4.7-5,4.7-7.2C27.3,42.3,24.4,40,20,40z M36.7,46.7c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4 s1.7,1.7,2.9,1.7h46.7c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7H36.7z M19.9,66.7 c-4.4,0-7.2,2.4-7.3,6.1H17c0.1-1.5,1.2-2.5,2.8-2.5c1.7,0,2.7,0.9,2.7,2.2c0,1.4-1.1,2.3-2.7,2.3h-2.3v3.3h2.3c1.8,0,3,0.9,3,2.4 c0,1.4-1.2,2.4-2.9,2.4c-1.8,0-3-0.9-3.1-2.3h-4.6c0.2,3.7,3.2,6.1,7.6,6.1c4.6,0,7.9-2.4,7.9-5.8c0-2.4-1.7-4.2-4.3-4.4v-0.3 c2.1-0.4,3.6-2.1,3.6-4.3C27,68.8,24.1,66.7,19.9,66.7L19.9,66.7z M36.7,73.3c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4 c0.6,1,1.7,1.7,2.9,1.7h46.7c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7H36.7z"/>',
        py[ow] = '<path fill="currentColor" stroke="currentColor" d="M20,16.7c-3.7,0-6.7,3-6.7,6.7s3,6.7,6.7,6.7s6.7-3,6.7-6.7S23.7,16.7,20,16.7z M40,20c-1.2,0-2.3,0.6-2.9,1.7 c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7h43.3c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7H40z M20,43.3c-3.7,0-6.7,3-6.7,6.7s3,6.7,6.7,6.7s6.7-3,6.7-6.7S23.7,43.3,20,43.3z M40,46.7c-1.2,0-2.3,0.6-2.9,1.7 c-0.6,1-0.6,2.3,0,3.4s1.7,1.7,2.9,1.7h43.3c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7H40z M20,70 c-3.7,0-6.7,3-6.7,6.7c0,3.7,3,6.7,6.7,6.7s6.7-3,6.7-6.7C26.7,73,23.7,70,20,70z M40,73.3c-1.2,0-2.3,0.6-2.9,1.7 c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7h43.3c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7H40z"/>',
        py[aw] = '<path fill="currentColor" stroke="currentColor" d="M89.9,20c-0.9,0-1.7,0.4-2.3,1l-51,51l-21-21c-0.8-0.9-2.1-1.2-3.2-0.9s-2.1,1.2-2.4,2.4c-0.3,1.2,0,2.4,0.9,3.2L34.3,79 c1.3,1.3,3.4,1.3,4.7,0l53.3-53.3c1-1,1.3-2.4,0.7-3.7C92.6,20.7,91.3,19.9,89.9,20z"/>',
        py[lw] = '<path fill="currentColor" stroke="currentColor" d="M33.3,10l-20,20l20,20V36.7h23.3c9.3,0,16.7,7.4,16.7,16.7S66,70,56.7,70h-10c-2.4,0-4.6,1.2-5.9,3.3 c-1.2,2.1-1.2,4.6,0,6.7c1.2,2.1,3.4,3.3,5.9,3.3h10c15.6,0,28.1-12.2,29.5-27.4c0.3-0.8,0.5-1.7,0.5-2.6c0-16.5-13.5-30-30-30 H33.3L33.3,10z"/>',
        py[cw] = '<path fill="currentColor" stroke="currentColor" d="M66.7,10v13.3H43.3c-16.5,0-30,13.5-30,30c0,0.9,0.2,1.8,0.5,2.6c0,0,0,0,0,0c1.4,15.2,13.9,27.4,29.5,27.4h10 c2.4,0,4.6-1.2,5.9-3.3c1.2-2.1,1.2-4.6,0-6.7C58,71.2,55.7,70,53.3,70h-10c-9.3,0-16.7-7.4-16.7-16.7S34,36.7,43.3,36.7h23.3V50 l20-20L66.7,10z"/>',
        py[uw] = '<path fill="currentColor" stroke="currentColor" d="M49.9,30c-0.9,0-1.7,0.4-2.3,1L14.3,64.3c-0.9,0.8-1.2,2.1-0.9,3.2c0.3,1.2,1.2,2.1,2.4,2.4c1.2,0.3,2.4,0,3.2-0.9l31-31 l31,31c0.8,0.9,2.1,1.2,3.2,0.9c1.2-0.3,2.1-1.2,2.4-2.4c0.3-1.2,0-2.4-0.9-3.2L52.4,31C51.7,30.3,50.8,30,49.9,30L49.9,30z"/>',
        py[hw] = '<path fill="currentColor" stroke="currentColor" d="M83.3,30c-0.9,0-1.7,0.4-2.3,1L50,62L19,31c-0.6-0.6-1.5-1-2.4-1c-1.4,0-2.6,0.8-3.1,2.1c-0.5,1.3-0.2,2.7,0.8,3.6 L47.6,69c1.3,1.3,3.4,1.3,4.7,0l33.3-33.3c1-1,1.3-2.4,0.8-3.7C85.9,30.7,84.7,29.9,83.3,30z"/>',
        py[mw] = '<path fill="currentColor" stroke="currentColor" d="M49.9,16.7c-0.9,0-1.7,0.4-2.3,1L14.3,51c-0.9,0.8-1.2,2.1-0.9,3.2c0.3,1.2,1.2,2.1,2.4,2.4s2.4,0,3.2-0.9l31-31l31,31 c0.8,0.9,2.1,1.2,3.2,0.9c1.2-0.3,2.1-1.2,2.4-2.4s0-2.4-0.9-3.2L52.4,17.6C51.7,17,50.8,16.7,49.9,16.7L49.9,16.7z M49.9,40 c-0.9,0-1.7,0.4-2.3,1L14.3,74.3c-0.9,0.8-1.2,2.1-0.9,3.2c0.3,1.2,1.2,2.1,2.4,2.4s2.4,0,3.2-0.9l31-31l31,31 c0.8,0.9,2.1,1.2,3.2,0.9c1.2-0.3,2.1-1.2,2.4-2.4c0.3-1.2,0-2.4-0.9-3.2L52.4,41C51.7,40.3,50.8,40,49.9,40L49.9,40z"/>',
        py[vw] = '<path fill="currentColor" stroke="currentColor" d="M83.3,20c-0.9,0-1.7,0.4-2.3,1L50,52L19,21c-0.6-0.6-1.5-1-2.4-1c-1.4,0-2.6,0.8-3.1,2.1c-0.5,1.3-0.2,2.7,0.8,3.6 L47.6,59c1.3,1.3,3.4,1.3,4.7,0l33.3-33.3c1-1,1.3-2.4,0.8-3.7C85.9,20.7,84.7,19.9,83.3,20z M83.3,43.3c-0.9,0-1.7,0.4-2.3,1 l-31,31l-31-31c-0.6-0.6-1.5-1-2.4-1c-1.4,0-2.6,0.8-3.1,2.1s-0.2,2.7,0.8,3.6l33.3,33.3c1.3,1.3,3.4,1.3,4.7,0L85.7,49 c1-1,1.3-2.4,0.8-3.7C85.9,44.1,84.7,43.3,83.3,43.3L83.3,43.3z"/>',
        py[gw] = '<path fill="currentColor" stroke="currentColor" d="M90,20H10c-3.7,0-6.7,3-6.7,6.7v46.7c0,3.7,3,6.7,6.7,6.7h80c3.7,0,6.7-3,6.7-6.7V26.7C96.7,23,93.7,20,90,20L90,20z M66.7,33.3h6.7V40h-6.7V33.3z M53.3,33.3H60V40h-6.7V33.3z M66.7,46.7v6.7H60v-6.7H66.7z M40,33.3h6.7V40H40V33.3z M53.3,46.7 v6.7h-6.7v-6.7H53.3z M26.7,33.3h6.7V40h-6.7V33.3z M40,46.7v6.7h-6.7v-6.7H40z M13.3,33.3H20V40h-6.7V33.3z M13.3,46.7h13.3v6.7 H13.3V46.7z M20,66.7h-6.7V60H20V66.7z M73.3,66.7H26.7V60h46.7V66.7z M86.7,66.7H80V60h6.7V66.7z M86.7,53.3H73.3v-6.7h13.3V53.3 z M86.7,40H80v-6.7h6.7V40z"/>',
        py[yw] = '<path fill="currentColor" stroke="currentColor" d="M13.3,16.7c-3.7,0-6.7,3-6.7,6.7v53.3c0,3.7,3,6.7,6.7,6.7h73.3c3.7,0,6.7-3,6.7-6.7V23.3c0-3.7-3-6.7-6.7-6.7H13.3z M76.7,26.7c3.7,0,6.7,3,6.7,6.7c0,3.7-3,6.7-6.7,6.7C73,40,70,37,70,33.3C70,29.7,73,26.7,76.7,26.7z M16.7,33.3l16.6,16.6 l3.4,3.4l3.9,3.9c1.4,1.4,3.7,1.4,5.1,0c1.4-1.4,1.4-3.7,0-5.1l-3.8-3.8l4.9-4.9l9.9,9.9l7.3,7.3c1.4,1.4,3.7,1.4,5.1,0 c1.4-1.4,1.4-3.7,0-5.1l-0.5-0.5l4.9-4.9l10,10v13.3H16.7L16.7,33.3z"/>',
        py[ww] = '<path fill="currentColor" stroke="currentColor" d="M50,4C24.6,4,4,24.6,4,50s20.6,46,46,46s46-20.6,46-46S75.4,4,50,4L50,4z M50,8c23.2,0,42,18.8,42,42S73.2,92,50,92 S8,73.2,8,50S26.8,8,50,8z M50,14c-1.1,0-2,0.9-2,2v28.3c-2.4,0.8-4,3.1-4,5.7c0,0.9,0.2,1.8,0.6,2.6l-12,12 c-0.5,0.5-0.7,1.2-0.6,1.9c0.2,0.7,0.7,1.2,1.4,1.4c0.7,0.2,1.4,0,1.9-0.6l12-12c0.8,0.4,1.7,0.6,2.6,0.6c3.3,0,6-2.7,6-6 c0-2.5-1.6-4.8-4-5.6V16c0-0.5-0.2-1.1-0.6-1.4C51,14.2,50.5,14,50,14z"/>',
        py[pw] = '<path fill="currentColor" stroke="currentColor" d="M66.6,13.3c-0.9,0-1.7,0.4-2.3,1L31,47.6c-1.3,1.3-1.3,3.4,0,4.7l33.3,33.3c0.8,0.9,2.1,1.2,3.2,0.9 c1.2-0.3,2.1-1.2,2.4-2.4c0.3-1.2,0-2.4-0.9-3.2L38,50l31-31c1-1,1.3-2.4,0.7-3.7S68,13.3,66.6,13.3L66.6,13.3z"/>',
        py[dw] = '<path fill="currentColor" stroke="currentColor" d="M33.3,13.3c-1.4,0-2.6,0.8-3.1,2.1C29.7,16.6,30,18.1,31,19l31,31L31,81c-0.9,0.8-1.2,2.1-0.9,3.2 c0.3,1.2,1.2,2.1,2.4,2.4c1.2,0.3,2.4,0,3.2-0.9L69,52.4c1.3-1.3,1.3-3.4,0-4.7L35.7,14.3C35.1,13.7,34.2,13.3,33.3,13.3 L33.3,13.3z"/>',
        py[fw] = '<path fill="currentColor" stroke="currentColor" d="M70.1,13.3c-1.2,0-2.4,0.6-3,1.7l-40,66.7c-0.7,1-0.7,2.3-0.1,3.4c0.6,1.1,1.7,1.7,2.9,1.7c1.2,0,2.3-0.7,2.9-1.7l40-66.7 c0.6-1,0.7-2.3,0.1-3.3C72.4,14,71.3,13.3,70.1,13.3L70.1,13.3z M30,16.7c-7.3,0-13.3,6-13.3,13.3v6.7C16.7,44,22.7,50,30,50 c0.4,0,0.8-0.1,1.2-0.2c6.7-0.6,12.1-6.2,12.1-13.1V30c0-6.9-5.4-12.5-12.1-13.1C30.8,16.8,30.4,16.7,30,16.7z M30,23.3 c3.7,0,6.7,2.9,6.7,6.7v6.7c0,3.7-2.9,6.7-6.7,6.7s-6.7-2.9-6.7-6.7V30C23.3,26.3,26.3,23.3,30,23.3z M70,50 c-7.3,0-13.3,6-13.3,13.3V70c0,6.9,5.4,12.5,12.1,13.1c0.4,0.2,0.8,0.2,1.2,0.2c0.4,0,0.8-0.1,1.2-0.2c6.7-0.6,12.1-6.2,12.1-13.1 v-6.7C83.3,56,77.3,50,70,50z M70,56.7c3.7,0,6.7,2.9,6.7,6.7V70c0,3.7-2.9,6.7-6.7,6.7s-6.7-2.9-6.7-6.7v-6.7 C63.3,59.6,66.3,56.7,70,56.7z"/>',
        py[bw] = '<path fill="currentColor" stroke="currentColor" d="M13.3,10l-6.7,6.7L13.3,30l10,3.3L35,45l6.7-6.7L30,26.7l-3.3-10L13.3,10z M73.6,10c-5.5-0.2-11.1,1.8-15.3,6 c-5.5,5.5-5.9,12-3.2,18.2L16.3,72.9c-3.9,3.9-3.9,10.2,0,14.1c3.9,3.9,10.2,3.9,14.1,0l38.7-38.7c6.2,2.7,12.7,2.2,18.2-3.2 c5.6-5.6,7.3-13.7,5-20.8L80,36.7L69.3,34l-2.7-10.7L79,11C77.2,10.4,75.4,10.1,73.6,10z M68.4,58.8L55.9,71.3l16.1,16.1 c3.5,3.5,9.1,3.5,12.6,0c3.5-3.5,3.5-9.1,0-12.6L68.4,58.8z M23.3,76.7c1.8,0,3.3,1.5,3.3,3.3s-1.5,3.3-3.3,3.3 c-1.8,0-3.3-1.5-3.3-3.3C20,78.2,21.5,76.7,23.3,76.7z"/>',
        py[kw] = '<path fill="currentColor" stroke="currentColor" d="M50,4C24.6,4,4,24.6,4,50s20.6,46,46,46s46-20.6,46-46S75.4,4,50,4L50,4z M50,8c23.2,0,42,18.8,42,42S73.2,92,50,92 S8,73.2,8,50S26.8,8,50,8z M48,26v22H26v4h22v22h4V52h22v-4H52V26L48,26z"/>',
        py[Cw] = '<path fill="currentColor" stroke="currentColor" d="M50,4C24.6,4,4,24.6,4,50s20.6,46,46,46s46-20.6,46-46S75.4,4,50,4L50,4z M50,8c23.2,0,42,18.8,42,42S73.2,92,50,92 S8,73.2,8,50S26.8,8,50,8z M26,48v4h48v-4H26z"/>',
        py[xw] = '<path fill="currentColor" stroke="currentColor" d="M83.3,13.3c1.2,0,2.3,0.6,2.9,1.7c0.6,1,0.6,2.3,0,3.4c-0.6,1-1.7,1.7-2.9,1.7H16.7c-1.2,0-2.3-0.6-2.9-1.7 c-0.6-1-0.6-2.3,0-3.4c0.6-1,1.7-1.7,2.9-1.7L83.3,13.3z M83.3,30c1.2,0,2.3,0.6,2.9,1.7c0.6,1,0.6,2.3,0,3.4 c-0.6,1-1.7,1.7-2.9,1.7h-40c-1.2,0-2.3-0.6-2.9-1.7c-0.6-1-0.6-2.3,0-3.4c0.6-1,1.7-1.7,2.9-1.7H83.3z M13.3,30l20,20l-20,20V30z M83.3,46.7c1.2,0,2.3,0.6,2.9,1.7c0.6,1,0.6,2.3,0,3.4c-0.6,1-1.7,1.7-2.9,1.7h-40c-1.2,0-2.3-0.6-2.9-1.7c-0.6-1-0.6-2.3,0-3.4 c0.6-1,1.7-1.7,2.9-1.7H83.3z M83.3,63.3c1.2,0,2.3,0.6,2.9,1.7c0.6,1,0.6,2.3,0,3.4c-0.6,1-1.7,1.7-2.9,1.7h-40 c-1.2,0-2.3-0.6-2.9-1.7c-0.6-1-0.6-2.3,0-3.4c0.6-1,1.7-1.7,2.9-1.7H83.3z M83.3,80c1.2,0,2.3,0.6,2.9,1.7c0.6,1,0.6,2.3,0,3.4 c-0.6,1-1.7,1.7-2.9,1.7H16.7c-1.2,0-2.3-0.6-2.9-1.7c-0.6-1-0.6-2.3,0-3.4c0.6-1,1.7-1.7,2.9-1.7H83.3z"/>',
        py[Ew] = '<path fill="currentColor" stroke="currentColor" d="M83.3,13.3c1.2,0,2.3,0.6,2.9,1.7c0.6,1,0.6,2.3,0,3.4c-0.6,1-1.7,1.7-2.9,1.7H50c-1.2,0-2.3-0.6-2.9-1.7 c-0.6-1-0.6-2.3,0-3.4c0.6-1,1.7-1.7,2.9-1.7L83.3,13.3z M83.3,30c1.2,0,2.3,0.6,2.9,1.7c0.6,1,0.6,2.3,0,3.4 c-0.6,1-1.7,1.7-2.9,1.7h-50c-1.2,0-2.3-0.6-2.9-1.7c-0.6-1-0.6-2.3,0-3.4c0.6-1,1.7-1.7,2.9-1.7H83.3z M23.3,30v40l-20-20 L23.3,30z M83.3,46.7c1.2,0,2.3,0.6,2.9,1.7c0.6,1,0.6,2.3,0,3.4c-0.6,1-1.7,1.7-2.9,1.7h-50c-1.2,0-2.3-0.6-2.9-1.7 c-0.6-1-0.6-2.3,0-3.4s1.7-1.7,2.9-1.7H83.3z M83.3,63.3c1.2,0,2.3,0.6,2.9,1.7c0.6,1,0.6,2.3,0,3.4c-0.6,1-1.7,1.7-2.9,1.7h-50 c-1.2,0-2.3-0.6-2.9-1.7c-0.6-1-0.6-2.3,0-3.4c0.6-1,1.7-1.7,2.9-1.7H83.3z M83.3,80c1.2,0,2.3,0.6,2.9,1.7c0.6,1,0.6,2.3,0,3.4 c-0.6,1-1.7,1.7-2.9,1.7H50c-1.2,0-2.3-0.6-2.9-1.7s-0.6-2.3,0-3.4c0.6-1,1.7-1.7,2.9-1.7H83.3z"/>',
        py[Sw] = '<path fill="currentColor" stroke="currentColor" d="M12,12v24c0,0.7,0.4,1.4,1,1.8c0.6,0.4,1.4,0.4,2,0c0.6-0.4,1-1,1-1.8V16h20c0.7,0,1.4-0.4,1.8-1c0.4-0.6,0.4-1.4,0-2 c-0.4-0.6-1-1-1.8-1L12,12z M64,12c-1.1,0-2,0.9-2,1.9s0.8,2,1.9,2.1c0,0,0.1,0,0.1,0h20v20c0,1,0.8,1.9,1.8,2c0.1,0,0.1,0,0.2,0 c1.1,0,2-0.9,2-2V12H64z M14,64c-1.1,0-2,0.9-2,2v24h24c0.1,0,0.1,0,0.2,0c1.1-0.1,1.9-1,1.8-2.1C38,86.8,37.1,86,36,86H16V66 c0-0.5-0.2-1.1-0.6-1.4C15,64.2,14.5,64,14,64z M86,64c-1.1,0-2,0.9-2,2v20H64c-0.7,0-1.4,0.4-1.8,1c-0.4,0.6-0.4,1.4,0,2 c0.4,0.6,1,1,1.8,1h24V66c0-0.5-0.2-1.1-0.6-1.4S86.5,64,86,64z"/>',
        py[Lw] = '<path fill="currentColor" stroke="currentColor" d="M34,10c-1.1,0-2,0.9-2,2v20H12c-0.7,0-1.4,0.4-1.8,1c-0.4,0.6-0.4,1.4,0,2c0.4,0.6,1,1,1.8,1h24V12c0-0.5-0.2-1.1-0.6-1.4 C35,10.2,34.5,10,34,10L34,10z M66,10c-1,0-1.9,0.8-2,1.9c0,0,0,0.1,0,0.1v24h24c0.1,0,0.1,0,0.2,0c1.1-0.1,1.9-1,1.8-2.1 C90,32.8,89.1,32,88,32H68V12c0-0.5-0.2-1.1-0.6-1.4C67,10.2,66.5,10,66,10L66,10z M12,64c-0.7,0-1.4,0.4-1.8,1 c-0.4,0.6-0.4,1.4,0,2c0.4,0.6,1,1,1.8,1h20v20c0,0.7,0.4,1.4,1,1.8c0.6,0.4,1.4,0.4,2,0c0.6-0.4,1-1,1-1.8V64L12,64z M64,64v24 c0,0.7,0.4,1.4,1,1.8c0.6,0.4,1.4,0.4,2,0c0.6-0.4,1-1,1-1.8V68h20c0.7,0,1.4-0.4,1.8-1c0.4-0.6,0.4-1.4,0-2c-0.4-0.6-1-1-1.8-1 L64,64z"/>',
        py[Dw] = '<path fill="currentColor" stroke="currentColor" d="M57,22c-8.6,0-16,4.4-20.5,11c-1.4-0.5-2.9-1-4.5-1c-6.7,0-12.1,4.8-13.5,11C11.3,45.4,6,52,6,60c0,9.9,8.1,18,18,18h54 c8.8,0,16-7.2,16-16c0-7.4-5.2-13.4-12-15.2C81.8,33.1,70.7,22,57,22z M57,26c11.6,0,21,9.4,21,21c0,0.3,0,0.6-0.1,1.1 c-0.1,1,0.7,1.9,1.7,2.1C85.5,50.9,90,55.9,90,62c0,6.7-5.3,12-12,12H24c-7.8,0-14-6.2-14-14c0-6.6,4.5-12,10.6-13.6 c0.8-0.2,1.4-0.9,1.5-1.7c0.6-4.9,4.8-8.7,9.9-8.7c1.6,0,3.1,0.4,4.4,1c0.9,0.5,2.1,0.1,2.6-0.8C42.7,30.1,49.3,26,57,26L57,26z"/>',
        py[Mw] = '<path fill="currentColor" stroke="currentColor" d="M37,16c-4.4,0-8.3,3.3-9.2,7.6l-11.6,52c-0.5,2.2,0,4.3,1.2,5.9c1.2,1.6,3.2,2.6,5.4,2.6H79c4.4,0,8.3-3.3,9.2-7.6 l11.6-52c0.5-2.2,0-4.3-1.2-5.9C97.4,17,95.4,16,93.2,16L37,16z M37,20h56.2c1.1,0,1.8,0.4,2.2,1c0.5,0.6,0.7,1.4,0.4,2.6l-1,4.4 H30.8l0.8-3.6C32.1,22.2,34.8,20,37,20z M29.9,32H94l-9.6,43.6C83.9,77.8,81.2,80,79,80H22.8c-1.1,0-1.8-0.4-2.2-1 c-0.5-0.6-0.7-1.4-0.4-2.6L29.9,32z M0,36v4h19.6l0.9-4L0,36z M36.7,38c-0.8,0.1-1.4,0.7-1.6,1.5l-3.5,14c-0.2,0.6,0,1.2,0.4,1.7 c0.4,0.5,1,0.8,1.6,0.8H81c0.9,0,1.7-0.6,1.9-1.5l3.5-14c0.2-0.6,0-1.3-0.4-1.8c-0.4-0.5-1-0.8-1.6-0.8H37.1c-0.1,0-0.1,0-0.2,0 C36.9,38,36.8,38,36.7,38L36.7,38z M38.7,42h43.2l-2.4,10H36.2L38.7,42z M0,52v4h16l0.9-4H0z M0,68v4h12.4l0.9-4H0z"/>',
        py[Aw] = '<path fill="currentColor" stroke="currentColor" d="M83.3,13.3c-0.9,0-1.7,0.4-2.3,1l-21,21V20c0-0.9-0.3-1.8-1-2.4c-0.6-0.6-1.5-1-2.4-1c-1.8,0-3.3,1.5-3.3,3.4v22.8 c-0.2,1.1,0.2,2.1,0.9,2.9c0.8,0.8,1.8,1.1,2.9,0.9H80c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7H64.7 l21-21c1-1,1.3-2.4,0.7-3.7C85.9,14.1,84.6,13.3,83.3,13.3L83.3,13.3z M43.3,53.3c-0.1,0-0.2,0-0.4,0H20c-1.2,0-2.3,0.6-2.9,1.7 c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7h15.3l-21,21c-0.9,0.8-1.2,2.1-0.9,3.2c0.3,1.2,1.2,2.1,2.4,2.4 c1.2,0.3,2.4,0,3.2-0.9l21-21V80c0,1.2,0.6,2.3,1.7,2.9c1,0.6,2.3,0.6,3.4,0c1-0.6,1.7-1.7,1.7-2.9V57.1c0.1-1-0.2-2-0.8-2.7 C45.2,53.7,44.2,53.3,43.3,53.3L43.3,53.3z"/>',
        py[Tw] = '<path fill="currentColor" stroke="currentColor" d="M83.3,13.3c-0.1,0-0.2,0-0.4,0H60c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7h15.3L20,75.3V60 c0-0.9-0.3-1.8-1-2.4c-0.6-0.6-1.5-1-2.4-1c-1.8,0-3.3,1.5-3.3,3.4v22.8c-0.2,1.1,0.2,2.1,0.9,2.9c0.8,0.8,1.8,1.1,2.9,0.9H40 c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7H24.7L80,24.7V40c0,1.2,0.6,2.3,1.7,2.9c1,0.6,2.3,0.6,3.4,0 c1-0.6,1.7-1.7,1.7-2.9V17.1c0.1-1-0.2-2-0.8-2.7S84.2,13.3,83.3,13.3L83.3,13.3z"/>',
        py[Fw] = '<path fill="currentColor" stroke="currentColor" d="M26.7,13.3c-7.2,0-13.3,6.1-13.3,13.3S19.4,40,26.7,40c1,0,2-0.1,3-0.4L40,50L29.6,60.4c-1-0.2-1.9-0.4-3-0.4 c-7.2,0-13.3,6.1-13.3,13.3c0,7.2,6.1,13.3,13.3,13.3c7.2,0,13.3-6.1,13.3-13.3c0-1-0.1-2-0.4-3L50,60l18.5,18.5 c3.1,3.1,7.4,4.9,11.8,4.9h7.4c2.1,0,3.2-2.6,1.7-4.1L39.6,29.6c0.2-1,0.4-1.9,0.4-3C40,19.4,33.9,13.3,26.7,13.3L26.7,13.3z M80.2,16.7c-4.4,0-8.7,1.8-11.8,4.9L54.7,35.3l10,10l24.6-24.6c1.5-1.5,0.4-4.1-1.7-4.1L80.2,16.7z M26.7,20 c3.6,0,6.7,3.1,6.7,6.7s-3.1,6.7-6.7,6.7S20,30.2,20,26.7S23.1,20,26.7,20z M50,46.7c1.8,0,3.3,1.5,3.3,3.3s-1.5,3.3-3.3,3.3 s-3.3-1.5-3.3-3.3S48.2,46.7,50,46.7z M26.7,66.7c3.6,0,6.7,3.1,6.7,6.7S30.2,80,26.7,80S20,76.9,20,73.3S23.1,66.7,26.7,66.7z"/>',
        py[Pw] = '<path fill="currentColor" stroke="currentColor" d="M16.7,86.7c0.1,0,8.1-0.1,16.3-6.4c10.6-8.2,16.4-23.2,17-43.6H36.7c-1.3,0-2.6-0.8-3.1-2.1c-0.5-1.2-0.2-2.7,0.7-3.6 L57.6,7.6c1.3-1.3,3.4-1.3,4.7,0L85.7,31c1,1,1.2,2.4,0.7,3.6c-0.5,1.2-1.7,2.1-3.1,2.1H69.9c-1.8,55-47.9,56.7-53.3,56.7 c-1.8,0-3.3-1.5-3.3-3.3C13.3,88.2,14.8,86.7,16.7,86.7L16.7,86.7z"/>',
        py[Ow] = '<path fill="currentColor" stroke="currentColor" d="M16.7,13.3c0.1,0,8.1,0.1,16.3,6.4c10.6,8.2,16.4,23.2,17,43.6H36.7c-1.3,0-2.6,0.8-3.1,2.1c-0.5,1.2-0.2,2.7,0.7,3.6 l23.3,23.3c1.3,1.3,3.4,1.3,4.7,0L85.7,69c1-1,1.2-2.4,0.7-3.6c-0.5-1.2-1.7-2.1-3.1-2.1H69.9C68.2,8.3,22,6.7,16.7,6.7 c-1.8,0-3.3,1.5-3.3,3.3C13.3,11.8,14.8,13.3,16.7,13.3L16.7,13.3z"/>',
        py[Iw] = '<path fill="currentColor" stroke="currentColor" d="M49.9,9.9c-3.7,0.1-6.6,3.1-6.6,6.8V30H30c-2.4,0-4.6,1.2-5.9,3.3c-1.2,2.1-1.2,4.6,0,6.7c1.2,2.1,3.4,3.3,5.9,3.3h13.3 v13.3c0,2.4,1.2,4.6,3.3,5.9c2.1,1.2,4.6,1.2,6.7,0s3.3-3.4,3.3-5.9V43.3H70c2.4,0,4.6-1.2,5.9-3.3c1.2-2.1,1.2-4.6,0-6.7 C74.6,31.2,72.4,30,70,30H56.7V16.7c0-1.8-0.7-3.5-2-4.8C53.4,10.6,51.7,9.9,49.9,9.9z M30,73.3c-2.4,0-4.6,1.2-5.9,3.3 c-1.2,2.1-1.2,4.6,0,6.7c1.2,2.1,3.4,3.3,5.9,3.3h40c2.4,0,4.6-1.2,5.9-3.3c1.2-2.1,1.2-4.6,0-6.7c-1.2-2.1-3.4-3.3-5.9-3.3 L30,73.3z"/>',
        py[Nw] = '<path fill="currentColor" stroke="currentColor" d="M76.4,11.7c3.7,3.8,5.6,8.9,5,14.3c-0.5,4-2.4,7.6-5.2,10.5c-2.6,2.6-6.7,6.7-9.2,9.2c-2,2-4.4,3.6-7.1,4.5 c-4.5,1.4-9,1-12.8-0.9l2.9-2.9c1.4,0.5,3,0.8,4.5,0.8c3.6,0,7-1.4,9.5-3.9l9.6-9.6c3.3-3.3,4.7-8.1,3.5-13 c-0.3-1.2-0.8-2.4-1.5-3.5C73,13,68.7,10.6,64,10.6c-3.6,0-7,1.4-9.5,3.9L45,24c-2.5,2.5-3.9,5.9-3.9,9.5c0,1.6,0.3,3.1,0.8,4.5 l-3,3c-1.1-2.3-1.7-4.8-1.7-7.5c0-0.7,0-1.4,0.1-2.1c0.5-3.8,2.2-7.4,5-10.2l9.4-9.4C54.5,9,58.2,7,62.1,6.6 C67.5,6.1,72.6,7.9,76.4,11.7L76.4,11.7z M54.4,34.7c0.3,0.7,0.1,1.6-0.4,2.1L30.9,59.9c-0.5,0.5-1.2,0.7-1.9,0.5 s-1.2-0.7-1.4-1.4s0-1.4,0.5-1.9L51.2,34c0.3-0.4,0.8-0.6,1.3-0.6C53.4,33.5,54.1,34,54.4,34.7z M35.1,44.9l-2.9,2.9 c-1.4-0.5-3-0.8-4.5-0.8c-3.6,0-7,1.4-9.5,3.9l-9.6,9.6c-3.3,3.4-4.7,8.1-3.5,13c0.3,1.2,0.8,2.4,1.5,3.5 c2.6,4.2,6.9,6.6,11.6,6.6c3.6,0,7-1.4,9.5-3.9l9.6-9.6c2.5-2.5,3.9-5.9,3.9-9.5c0-1.6-0.3-3.1-0.8-4.5l2.9-2.9 c1.1,2.3,1.7,4.8,1.7,7.5c0,3-0.8,5.9-2.2,8.5c-0.8,1-1.5,1.9-2.1,2.9c-0.3,0.3-0.5,0.6-0.8,0.8l-9.4,9.4 c-2.9,2.9-6.6,4.8-10.6,5.2c-6.2,0.6-12-1.9-15.8-6.9c-2.4-3.2-3.6-7.2-3.4-11.2c0-0.1,0-0.2,0-0.3c0.3-4.2,2-8.1,5-11.1l9.4-9.4 c2-2,4.4-3.6,7.1-4.5C26.8,42.6,31.3,43,35.1,44.9L35.1,44.9z"/><path fill="currentColor" stroke="currentColor" d="M99.2,69.3c0-0.2,0-0.2,0-0.4c0-0.2,0-0.2,0-0.4s0-0.2-0.2-0.4c0-0.2,0-0.2-0.2-0.4l0,0l-0.2-0.2l-0.2-0.2L79.2,53 c-0.6-0.4-1.3-0.6-1.9-0.2c-0.8,0.4-1.2,1-1.2,1.7V62c-8.1,0.4-14.6,3.1-19.2,8.1c-8.5,9-7.7,22.5-7.7,23.1c0,0.2,0,0.2,0,0.4 c0,0.2,0,0.2,0,0.4s0.2,0.2,0.2,0.4l0.2,0.2c0.2,0.2,0.2,0.2,0.4,0.2l0.2,0.2c0.2,0,0.4,0,0.6,0.2H51l0,0l0,0c0,0,0,0,0.2,0 s0.2,0,0.4,0s0.2,0,0.4-0.2c0.2,0,0.2-0.2,0.4-0.2s0.2-0.2,0.4-0.2c0,0,0.2-0.2,0.2-0.4c0-0.2,0.2-0.2,0.2-0.4s0-0.2,0-0.4 c0-0.2,0-0.2,0-0.4c0-0.8,0.6-16.6,23.1-17.5v7.3c0,0.8,0.4,1.3,1,1.7c0.6,0.4,1.3,0.2,1.9-0.2l19.2-14l0.2-0.2l0.2-0.2l0,0 c0-0.2,0.2-0.2,0.2-0.4L99.2,69.3L99.2,69.3z"/>',
        py[Rw] = '<path fill="currentColor" stroke="currentColor" d="M49.4,68.5c0,0.2,0,0.2,0.2,0.4l0,0l0.2,0.2l0.2,0.2l19.3,14.1c0.6,0.4,1.3,0.6,1.9,0.2c0.6-0.4,1-1,1-1.7v-7.3 c22.5,0.8,23.1,16.8,23.1,17.6c0,0.2,0,0.2,0,0.4s0,0.2,0,0.4s0.2,0.2,0.2,0.4s0.2,0.2,0.2,0.4c0,0,0.2,0.2,0.4,0.2 c0.2,0,0.2,0.2,0.4,0.2s0.2,0,0.4,0.2c0.2,0,0.2,0,0.4,0c0,0,0,0,0.2,0l0,0l0,0h0.2c0.2,0,0.4,0,0.6-0.2l0.2-0.2 c0.2,0,0.2-0.2,0.4-0.2l0.2-0.2c0-0.2,0.2-0.2,0.2-0.4s0-0.2,0-0.4s0-0.2,0-0.4c0-0.6,0.8-14.1-7.7-23.2c-4.6-5-11.2-7.7-19.3-8.1 v-7.5c0-0.8-0.4-1.4-1.2-1.7c-0.6-0.4-1.3-0.2-1.9,0.2L49.8,66.4l-0.2,0.2l-0.2,0.2l0,0c0,0.2,0,0.2,0,0.4 c-0.2,0.2-0.2,0.2-0.2,0.4s0,0.2,0,0.4s0,0.2,0,0.4C49.2,68.4,49.2,68.5,49.4,68.5L49.4,68.5z"/><path fill="currentColor" stroke="currentColor" d="M76.4,11.7c3.7,3.8,5.6,8.9,5,14.3c-0.5,4-2.4,7.6-5.2,10.5c-2.6,2.6-6.7,6.7-9.2,9.2c-2,2-4.4,3.6-7.1,4.5 c-4.5,1.4-9,1-12.8-0.9l2.9-2.9c1.4,0.5,3,0.8,4.5,0.8c3.6,0,7-1.4,9.5-3.9l9.6-9.6c3.3-3.3,4.7-8.1,3.5-13 c-0.3-1.2-0.8-2.4-1.5-3.5C73,13,68.7,10.6,64,10.6c-3.6,0-7,1.4-9.5,3.9L45,24c-2.5,2.5-3.9,5.9-3.9,9.5c0,1.6,0.3,3.1,0.8,4.5 l-3,3c-1.1-2.3-1.7-4.8-1.7-7.5c0-0.7,0-1.4,0.1-2.1c0.5-3.8,2.2-7.4,5-10.2l9.4-9.4C54.5,9,58.2,7,62.1,6.6 C67.5,6.1,72.6,7.9,76.4,11.7L76.4,11.7z M54.4,34.7c0.3,0.7,0.1,1.6-0.4,2.1L30.9,59.9c-0.5,0.5-1.2,0.7-1.9,0.5s-1.2-0.7-1.4-1.4 s0-1.4,0.5-1.9L51.2,34c0.3-0.4,0.8-0.6,1.3-0.6C53.4,33.5,54.1,34,54.4,34.7z M35.1,44.9l-2.9,2.9c-1.4-0.5-3-0.8-4.5-0.8 c-3.6,0-7,1.4-9.5,3.9l-9.6,9.6c-3.3,3.4-4.7,8.1-3.5,13c0.3,1.2,0.8,2.4,1.5,3.5c2.6,4.2,6.9,6.6,11.6,6.6c3.6,0,7-1.4,9.5-3.9 l9.6-9.6c2.5-2.5,3.9-5.9,3.9-9.5c0-1.6-0.3-3.1-0.8-4.5l2.9-2.9c1.1,2.3,1.7,4.8,1.7,7.5c0,3-0.8,5.9-2.2,8.5 c-0.8,1-1.5,1.9-2.1,2.9c-0.3,0.3-0.5,0.6-0.8,0.8l-9.4,9.4c-2.9,2.9-6.6,4.8-10.6,5.2c-6.2,0.6-12-1.9-15.8-6.9 c-2.4-3.2-3.6-7.2-3.4-11.2c0-0.1,0-0.2,0-0.3c0.3-4.2,2-8.1,5-11.1l9.4-9.4c2-2,4.4-3.6,7.1-4.5C26.8,42.6,31.3,43,35.1,44.9 L35.1,44.9z"/>',
        py[Bw] = '<path fill="currentColor" stroke="currentColor" d="M23.3,6.7c-3.7,0-6.7,3-6.7,6.7v73.3c0,3.7,3,6.7,6.7,6.7h28.4c-3.2-4.8-5.1-10.5-5.1-16.7c0-16.6,13.4-30,30-30 c2.3,0,4.5,0.3,6.7,0.8V31.7c0-0.9-0.3-1.7-1-2.4L60.7,7.6c-0.6-0.6-1.5-1-2.4-1L23.3,6.7z M56.7,13L77,33.3H60 c-1.8,0-3.3-1.5-3.3-3.3L56.7,13z M76.7,53.3c-12.9,0-23.3,10.4-23.3,23.3S63.8,100,76.7,100S100,89.6,100,76.7 S89.6,53.3,76.7,53.3z M76.7,63.3c1.8,0,3.3,1.5,3.3,3.3v6.7h6.7c1.8,0,3.3,1.5,3.3,3.3c0,1.8-1.5,3.3-3.3,3.3H80v6.7 c0,1.8-1.5,3.3-3.3,3.3c-1.8,0-3.3-1.5-3.3-3.3V80h-6.7c-1.8,0-3.3-1.5-3.3-3.3s1.5-3.3,3.3-3.3h6.7v-6.7 C73.3,64.8,74.8,63.3,76.7,63.3L76.7,63.3z"/>',
        py[Vw] = '<path fill="currentColor" stroke="currentColor" d="M80,13.3H20c-3.7,0-6.7,3-6.7,6.7v60c0,3.7,3,6.7,6.7,6.7h60c3.7,0,6.7-3,6.7-6.7V20C86.7,16.3,83.7,13.3,80,13.3z M47,71.8H29.1v-4l7.4-7c3.5-3.2,4.3-4.4,4.3-5.8c0-1.7-1.3-2.9-3.2-2.9c-2,0-3.4,1.4-3.4,3.3v0.1h-5.5v-0.1 c0-4.7,3.6-7.8,9.1-7.8c5.3,0,8.8,2.8,8.8,7c0,2.6-1.5,4.9-5.7,8.6l-3.9,3.6v0.3H47L47,71.8z M71.4,52.9l-9.5,18.9h-6.3l9.8-18.6 v-0.3H54v-4.6h17.3V52.9z M80,33.3H20V20h60V33.3z"/>',
        py[Hw] = '<path fill="currentColor" stroke="currentColor" d="M50,3.3c-1.8,0-3.3,1.5-3.3,3.3c0,0.3,0.1,0.6,0.2,0.8c-2.1,1.1-3.5,3.3-3.5,5.8c0,1.4,0.4,2.7,1.2,3.8 C26.9,19.8,13.3,35,13.3,53.3C13.3,73.5,29.8,90,50,90s36.7-16.5,36.7-36.7c0-18.3-13.6-33.6-31.2-36.2c0.7-1.1,1.2-2.4,1.2-3.8 c0-2.5-1.4-4.7-3.5-5.8c0.1-0.3,0.2-0.5,0.2-0.8C53.3,4.8,51.8,3.3,50,3.3L50,3.3z M50,23.3c16.6,0,30,13.4,30,30s-13.4,30-30,30 s-30-13.4-30-30S33.4,23.3,50,23.3z M49.9,30c-1.8,0-3.3,1.5-3.3,3.4v20c0,0.9,0.4,1.7,1,2.4l10,10c0.8,0.9,2.1,1.2,3.2,0.9 c1.2-0.3,2.1-1.2,2.4-2.4c0.3-1.2,0-2.4-0.9-3.2l-9-9V33.3c0-0.9-0.3-1.8-1-2.4C51.7,30.3,50.8,29.9,49.9,30z"/>',
        py[zw] = '<path fill="currentColor" stroke="currentColor" d="M26.7,13.3c-3.7,0-6.7,3-6.7,6.7v3.3h60c3.7,0,6.7,3,6.7,6.7v43.3H90c3.7,0,6.7-3,6.7-6.7V20c0-3.7-3-6.7-6.7-6.7 L26.7,13.3z M10,30c-3.7,0-6.7,3-6.7,6.7V80c0,3.7,3,6.7,6.7,6.7h63.3c3.7,0,6.7-3,6.7-6.7V36.7c0-3.7-3-6.7-6.7-6.7H10z M40,43.3 c1.8,0,3.3,1.5,3.3,3.3v10h10c1.8,0,3.3,1.5,3.3,3.3s-1.5,3.3-3.3,3.3h-10v10c0,1.8-1.5,3.3-3.3,3.3s-3.3-1.5-3.3-3.3v-10h-10 c-1.8,0-3.3-1.5-3.3-3.3s1.5-3.3,3.3-3.3h10v-10C36.7,44.8,38.2,43.3,40,43.3z"/>',
        py[qw] = '<path fill="currentColor" stroke="currentColor" d="M33.5,16.7c-4.9,0-9.1,3.6-9.9,8.4l-9.1,54.4c-0.2,1,0.1,2,0.7,2.7c0.6,0.7,1.6,1.2,2.5,1.2h70c1.6,0,3-1.2,3.3-2.8 l8.7-52.2c1-6-3.7-11.6-9.9-11.6H33.5z M3.4,36.7c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7h7.7 c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7H3.4z M28.5,36.7h63.2l-6.7,40H21.8L28.5,36.7z M39.7,46.7 c-1.6,0-3,1.1-3.3,2.7l-2.7,13.3c-0.2,1,0.1,2,0.7,2.8c0.6,0.8,1.6,1.2,2.6,1.2h36.6c1.6,0,3-1.1,3.3-2.7l2.7-13.3 c0.2-1-0.1-2-0.7-2.8c-0.6-0.8-1.6-1.2-2.6-1.2L39.7,46.7z M3.4,50c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4 c0.6,1,1.7,1.7,2.9,1.7H9c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7H3.4z M3.4,63.3 c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7H7c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4 c-0.6-1-1.7-1.7-2.9-1.7H3.4z"/>',
        py[ak] = '<path fill="currentColor" stroke="currentColor" d="M25.4,13.3c-2.5,0-4.8,1.4-6,3.7l-6.1,12.2V30v10v40c0,3.7,3,6.7,6.7,6.7h60c3.7,0,6.7-3,6.7-6.7V40V30v-0.8L80.6,17 c-1.1-2.2-3.4-3.7-6-3.7L25.4,13.3z M25.4,20h49.2l5,10H20.4L25.4,20z M40,36.7h20c1.8,0,3.3,1.5,3.3,3.3c0,1.8-1.5,3.3-3.3,3.3 H40c-1.8,0-3.3-1.5-3.3-3.3C36.7,38.2,38.2,36.7,40,36.7z"/>',
        py[Uw] = '<path fill="currentColor" stroke="currentColor" d="M50,10c-1.2,0-2.5,0.2-3.7,0.7l-28.1,11c-2,0.8-2.1,3.6-0.1,4.5L48,38.9c0.6,0.3,1.3,0.4,2,0.4s1.3-0.1,2-0.4l29.8-12.6 c2-0.8,2-3.7-0.1-4.5l-28.1-11C52.5,10.2,51.2,10,50,10L50,10z M50,20c3.7,0,6.7,1.5,6.7,3.3c0,1.8-3,3.3-6.7,3.3 c-3.7,0-6.7-1.5-6.7-3.3C43.3,21.5,46.3,20,50,20z M12.9,31.7C11.4,31.9,10,33.2,10,35v33.5c0,3.8,2.1,7.3,5.6,9 c0,0,15.4,7.6,24.6,12.1c3,1.5,6.5-0.7,6.5-4.1V50.2c0-2.8-1.7-5.3-4.3-6.4L14.6,31.9C14,31.7,13.5,31.6,12.9,31.7L12.9,31.7z M87.1,31.7c-0.5-0.1-1.1,0-1.6,0.2L57.6,43.7c-2.6,1.1-4.3,3.6-4.3,6.4v35.2c0,3.4,3.5,5.6,6.5,4.1C69,85,84.4,77.4,84.4,77.4 c3.4-1.7,5.6-5.1,5.6-9V35C90,33.2,88.6,31.9,87.1,31.7L87.1,31.7z M19.3,41c0.2,0,0.4,0,0.7,0.1c1.8,0.6,3.3,3.3,3.3,6 c0,2.8-1.5,4.5-3.3,4c-1.8-0.6-3.3-3.3-3.3-6C16.7,42.6,17.8,40.9,19.3,41z M80.7,42.2c1.5,0,2.7,1.6,2.7,4.1c0,2.8-1.5,5.5-3.3,6 c-1.8,0.6-3.3-1.2-3.3-4c0-2.8,1.5-5.5,3.3-6C80.2,42.2,80.5,42.2,80.7,42.2L80.7,42.2z M67.3,47.6c1.5,0,2.7,1.6,2.7,4.1 c0,2.8-1.5,5.5-3.3,6c-1.8,0.6-3.3-1.2-3.3-4c0-2.8,1.5-5.5,3.3-6C66.9,47.7,67.1,47.6,67.3,47.6z M80.7,61c1.5,0,2.7,1.6,2.7,4.1 c0,2.8-1.5,5.5-3.3,6c-1.8,0.6-3.3-1.2-3.3-4s1.5-5.5,3.3-6C80.2,61,80.5,61,80.7,61L80.7,61z M32.7,67.6c0.2,0,0.4,0,0.7,0.1 c1.8,0.6,3.3,3.3,3.3,6c0,2.8-1.5,4.5-3.3,4c-1.8-0.6-3.3-3.3-3.3-6C30,69.3,31.1,67.6,32.7,67.6z M67.3,67.6 c1.5,0,2.7,1.6,2.7,4.1c0,2.8-1.5,5.5-3.3,6c-1.8,0.6-3.3-1.2-3.3-4c0-2.8,1.5-5.5,3.3-6C66.9,67.7,67.1,67.6,67.3,67.6z"/>',
        py[_w] = '<path fill="currentColor" stroke="currentColor" d="M13.3,10c-3.7,0-6.7,3-6.7,6.7v10v50c0,3.7,3,6.7,6.7,6.7h4.3c1.2,2,3.3,3.3,5.7,3.3h10c2.4,0,4.6-1.4,5.7-3.3h21.9 c1.2,2,3.3,3.3,5.7,3.3h10c2.4,0,4.6-1.4,5.7-3.3h4.3c3.7,0,6.7-3,6.7-6.7V23.3c0-3.7-3-6.7-6.7-6.7H37.3l-2.1-3.4 c-1.2-2-3.4-3.2-5.7-3.2L13.3,10z M26.7,53.3h46.7c1.9,0,3.3,1.4,3.3,3.3V80h-10V66.7c0-1.8-1.5-3.3-3.3-3.3H36.7 c-1.8,0-3.3,1.5-3.3,3.3V80h-10V56.7C23.3,54.8,24.8,53.3,26.7,53.3L26.7,53.3z"/>',
        py[jw] = '<path fill="currentColor" stroke="currentColor" d="M56.7,6.7c-5.5,0-10,4.5-10,10c0,3.3,1.6,6.3,4.3,8.2L46.8,40c-0.1,0-0.1,0-0.2,0c-2.9,0-5.8,1-8.1,2.8l-12.4-9.6 c0.3-1,0.5-2.1,0.5-3.2c0-5.5-4.5-10-10-10s-10,4.5-10,10s4.5,10,10,10c1.9,0,3.8-0.6,5.4-1.6L34.4,48c-0.7,1.7-1.1,3.5-1.1,5.3 c0,2.6,0.8,5.2,2.3,7.4L23.8,74.1c-1.2-0.5-2.5-0.7-3.8-0.7c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10c0-1.7-0.4-3.3-1.2-4.8 l11.8-13.3c1.9,1,4,1.5,6.1,1.5c2.1,0,4.2-0.5,6.1-1.5l11.8,13.3c-0.8,1.5-1.2,3.1-1.2,4.8c0,5.5,4.5,10,10,10s10-4.5,10-10 s-4.5-10-10-10c-1.3,0-2.6,0.3-3.8,0.7L57.7,60.8c1.5-2.2,2.3-4.8,2.3-7.4c0-0.1,0-0.1,0-0.2L75.1,49c1.9,2.7,4.9,4.3,8.2,4.3 c5.5,0,10-4.5,10-10s-4.5-10-10-10c-5.2,0-9.6,4-10,9.3l-15.1,4.1c-1.2-2.1-2.9-3.8-5-5l4.1-15.1c5.2-0.4,9.3-4.7,9.3-10 C66.7,11.1,62.2,6.7,56.7,6.7L56.7,6.7z"/>',
        py[Ww] = '<path fill="currentColor" stroke="currentColor" d="M20,13.3c-3.7,0-6.7,3-6.7,6.7v10c0,1.8,1.5,3.3,3.3,3.3h66.7c1.8,0,3.3-1.5,3.3-3.3V20c0-3.7-3-6.7-6.7-6.7H20z M16.7,40 c-1.8,0-3.3,1.5-3.3,3.3v13.3c0,1.8,1.5,3.3,3.3,3.3h66.7c1.8,0,3.3-1.5,3.3-3.3V43.3c0-1.8-1.5-3.3-3.3-3.3L16.7,40z M16.7,66.7 c-1.8,0-3.3,1.5-3.3,3.3v10c0,3.7,3,6.7,6.7,6.7h27.3c-0.8-2.3-0.8-4.9,0.1-7.2c0.5-1.2,1.2-2.3,2.2-3.2l9.6-9.6L16.7,66.7z M70,66.7c-0.9,0-1.7,0.3-2.4,1L54.3,81c-0.3,0.3-0.6,0.7-0.7,1.1c-0.3,0.8-0.3,1.7,0,2.6c0.2,0.4,0.4,0.8,0.7,1.1L67.6,99 c0.6,0.7,1.5,1,2.4,1s1.7-0.3,2.4-1c1.3-1.3,1.3-3.4,0-4.7l-7.6-7.6h32c1.8,0,3.3-1.5,3.3-3.3c0-1.8-1.5-3.3-3.3-3.3h-32l7.6-7.6 c1.3-1.3,1.3-3.4,0-4.7C71.7,67,70.9,66.7,70,66.7z"/>',
        py[$w] = '<path fill="currentColor" stroke="currentColor" d="M50,10c-22.1,0-40,17.9-40,40s17.9,40,40,40s40-17.9,40-40S72.1,10,50,10z M50,16.7c18.4,0,33.3,14.9,33.3,33.3 S68.4,83.3,50,83.3S16.7,68.4,16.7,50S31.6,16.7,50,16.7z M63.3,33.3c-0.4,0-0.7,0.1-1,0.2l-30,10C31,44,30,45.2,30,46.7 c0,1.6,1.1,2.9,2.6,3.2l14,3.5l3.5,14c0.3,1.5,1.6,2.6,3.2,2.6c1.5,0,2.7-1,3.1-2.3l10-30c0.1-0.3,0.2-0.7,0.2-1 C66.7,34.8,65.2,33.3,63.3,33.3L63.3,33.3z"/>',
        py[Gw] = '<path fill="currentColor" stroke="currentColor" d="M16.7,13.3c-3.7,0-6.7,3-6.7,6.7v10v45.9l6.7-6.7V30h66.7v53.3H30.8L24.1,90H90V30v-3.3V20c0-3.7-3-6.7-6.7-6.7L16.7,13.3 z M34,50c-1.5,0-2.2,1.8-1.2,2.8l4.8,4.8L12.4,82.9c-1.3,1.3-1.3,3.4,0,4.7c1.3,1.3,3.4,1.3,4.7,0l25.3-25.3l4.8,4.8 c1,1,2.8,0.3,2.8-1.2V51.7c0-0.9-0.7-1.7-1.7-1.7H34z"/>',
        py[Yw] = '<path fill="currentColor" stroke="currentColor" d="M20,16.7c-3.7,0-6.7,3-6.7,6.7s3,6.7,6.7,6.7s6.7-3,6.7-6.7S23.7,16.7,20,16.7z M40,20c-1.2,0-2.3,0.6-2.9,1.7 c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7h43.3c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7H40z M20,43.3c-3.7,0-6.7,3-6.7,6.7s3,6.7,6.7,6.7s6.7-3,6.7-6.7S23.7,43.3,20,43.3z M40,46.7c-1.2,0-2.3,0.6-2.9,1.7 c-0.6,1-0.6,2.3,0,3.4s1.7,1.7,2.9,1.7h43.3c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7H40z M20,70 c-3.7,0-6.7,3-6.7,6.7c0,3.7,3,6.7,6.7,6.7s6.7-3,6.7-6.7C26.7,73,23.7,70,20,70z M40,73.3c-1.2,0-2.3,0.6-2.9,1.7 c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7h43.3c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7H40z"/>',
        py[Qw] = '<path fill="currentColor" stroke="currentColor" d="M86.7,10c-0.3,0-0.6,0.1-0.9,0.1c-0.1,0-0.2,0.1-0.3,0.1L12.2,33.5v0C10.9,34,10,35.3,10,36.7c0,1.2,0.6,2.2,1.6,2.8 l22.3,17.7l44-35.1l-35.1,44l17.7,22.3c0.6,1,1.7,1.6,2.9,1.6c1.4,0,2.6-0.9,3.1-2.2h0l23.3-73.4c0-0.1,0-0.1,0.1-0.2 c0.1-0.3,0.1-0.6,0.1-0.9C90,11.5,88.5,10,86.7,10L86.7,10z"/>',
        py[Kw] = '<path fill="currentColor" stroke="currentColor" d="M6.7,10c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7h86.7c1.2,0,2.3-0.6,2.9-1.7 c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7L6.7,10z M6.7,23.3v50c0,3.7,3,6.7,6.7,6.7h33.3v4.2c-2.1,1.2-3.3,3.4-3.3,5.8 c0,3.7,3,6.7,6.7,6.7c3.7,0,6.7-3,6.7-6.7c0-2.4-1.3-4.6-3.3-5.8V80h33.3c3.7,0,6.7-3,6.7-6.7v-50L6.7,23.3z M36.7,33.3 c7.4,0,13.3,6,13.3,13.3H36.7V33.3z M30,40v13.3h13.3c0,7.4-6,13.3-13.3,13.3s-13.3-6-13.3-13.3S22.6,40,30,40z M63.3,40H80 c1.8,0,3.3,1.5,3.3,3.3c0,1.8-1.5,3.3-3.3,3.3H63.3c-1.8,0-3.3-1.5-3.3-3.3C60,41.5,61.5,40,63.3,40z M63.3,53.3H80 c1.8,0,3.3,1.5,3.3,3.3c0,1.8-1.5,3.3-3.3,3.3H63.3c-1.8,0-3.3-1.5-3.3-3.3C60,54.8,61.5,53.3,63.3,53.3z"/>',
        py[Jw] = '<path fill="currentColor" stroke="currentColor" d="M50,10c-22.1,0-40,17.9-40,40s17.9,40,40,40s40-17.9,40-40S72.1,10,50,10z M50,75c-2.8,0-5-2.2-5-5s2.2-5,5-5s5,2.2,5,5 C55,72.8,52.8,75,50,75z M56.9,51.7c-2.2,2-3.6,3.4-3.6,5h-6.7c0-4.6,3.2-7.6,5.7-9.9c2.7-2.5,4.3-4.1,4.3-6.8 c0-3.7-3-6.7-6.7-6.7c-3.7,0-6.7,3-6.7,6.7h-6.7c0-7.4,6-13.3,13.3-13.3s13.3,6,13.3,13.3C63.3,45.7,59.8,49,56.9,51.7L56.9,51.7z "/>',
        py[Xw] = '<path fill="currentColor" stroke="currentColor" d="M82.4,29.3L60.7,7.6c-0.6-0.6-1.5-1-2.4-1h-35c-3.7,0-6.7,3-6.7,6.7v73.3c0,3.7,3,6.7,6.7,6.7h53.3c3.7,0,6.7-3,6.7-6.7 v-55C83.3,30.8,83,29.9,82.4,29.3L82.4,29.3z M50,80c-1.8,0-3.3-1.5-3.3-3.3s1.5-3.3,3.3-3.3c7.4,0,13.3-6,13.3-13.3 s-6-13.3-13.3-13.3s-13.3,6-13.3,13.3h6.7l-10,13.3L23.3,60H30c0-11,9-20,20-20s20,9,20,20S61,80,50,80L50,80z M60,33.3 c-1.8,0-3.3-1.5-3.3-3.3V13L77,33.3H60z"/>',
        py[Zw] = '<path fill="currentColor" stroke="currentColor" d="M43.3,10C25,10,10,25,10,43.3s15,33.3,33.3,33.3c8,0,15.3-2.8,21.1-7.5L84.3,89c0.8,0.9,2.1,1.2,3.2,0.9 c1.2-0.3,2.1-1.2,2.4-2.4c0.3-1.2,0-2.4-0.9-3.2L69.1,64.4c4.7-5.7,7.5-13.1,7.5-21.1C76.7,25,61.7,10,43.3,10L43.3,10z M43.3,16.7C58.1,16.7,70,28.6,70,43.3S58.1,70,43.3,70S16.7,58.1,16.7,43.3S28.6,16.7,43.3,16.7z"/>',
        py[ek] = '<path fill="currentColor" stroke="currentColor" d="M52.5,8.1l9.6,28.4l29.9,0.3c2.6,0,3.6,3.3,1.6,4.8l-24,17.9l8.9,28.6c0.8,2.5-2,4.5-4.1,3L50,73.8L25.6,91.1 c-2.1,1.5-4.9-0.5-4.1-3l8.9-28.6l-24-17.9c-2.1-1.5-1-4.8,1.6-4.8l29.9-0.3l9.6-28.4C48.3,5.7,51.7,5.7,52.5,8.1z"/>',
        py[tk] = '<path fill="currentColor" stroke="currentColor" d="M50,10c-22.1,0-40,17.9-40,40s17.9,40,40,40s40-17.9,40-40S72.1,10,50,10z M67.7,51.3L42.3,66C41,66.7,40,66.1,40,64.6 V35.4c0-1.5,1-2.1,2.3-1.3l25.4,14.6C69,49.4,69,50.6,67.7,51.3z"/>',
        py[nk] = '<path fill="currentColor" stroke="currentColor" d="M50,10c-22.1,0-40,17.9-40,40s17.9,40,40,40s40-17.9,40-40S72.1,10,50,10z M66.7,63.3c0,1.8-1.5,3.3-3.3,3.3H36.7 c-1.8,0-3.3-1.5-3.3-3.3V36.7c0-1.8,1.5-3.3,3.3-3.3h26.7c1.8,0,3.3,1.5,3.3,3.3V63.3z"/>',
        py[ik] = '<path fill="currentColor" stroke="currentColor" d="M20,13.3c-3.7,0-6.7,3-6.7,6.7v60c0,3.7,3,6.7,6.7,6.7h60c3.7,0,6.7-3,6.7-6.7V20c0-3.7-3-6.7-6.7-6.7L20,13.3z M20,20h60 v13.3H20L20,20z M66.6,46.3h4.6v25h-4.2l-0.2-1.8c-0.4,0.7-1,1.2-1.6,1.5c-0.6,0.4-1.3,0.6-2.1,0.6c-1.9,0-3.3-0.7-4.3-2.2 c-1-1.4-1.5-3.6-1.5-6.3V62c0-2.9,0.5-5,1.5-6.5c1-1.4,2.4-2.1,4.3-2.1c0.7,0,1.3,0.2,1.9,0.5c0.6,0.3,1.1,0.7,1.5,1.3V46.3z M50.8,47.6h0.5v23.7h-4.6V53.2L42.1,55v-3.8L50.8,47.6z M29.5,51.7h4.4V58h4.6v4.3h0h-4.6v6.6h-4.4v-6.6h-4.7V58h4.7L29.5,51.7z M64.5,57.2c-0.5,0-0.8,0.1-1.1,0.3c-0.3,0.2-0.6,0.5-0.8,0.8c-0.2,0.4-0.3,0.9-0.4,1.5c-0.1,0.6-0.1,1.3-0.1,2.1v1.2 c0,0.8,0,1.5,0.1,2.1s0.2,1.1,0.4,1.5c0.2,0.4,0.4,0.7,0.8,0.8c0.3,0.2,0.7,0.3,1.2,0.3c0.5,0,0.9-0.1,1.2-0.3s0.6-0.5,0.8-0.9v-8 c-0.2-0.4-0.5-0.7-0.8-1C65.4,57.4,65,57.2,64.5,57.2L64.5,57.2z"/>',
        py[sk] = '<path fill="currentColor" stroke="currentColor" d="M20,13.3c-3.7,0-6.7,3-6.7,6.7v60c0,3.7,3,6.7,6.7,6.7h60c3.7,0,6.7-3,6.7-6.7V20c0-3.7-3-6.7-6.7-6.7L20,13.3z M20,20h60 v13.3H20L20,20z M64.7,46.3h4.6v25h-4.2L65,69.5c-0.4,0.7-1,1.2-1.6,1.5c-0.6,0.4-1.3,0.6-2.1,0.6c-1.9,0-3.3-0.7-4.3-2.2 s-1.5-3.6-1.5-6.3V62c0-2.9,0.5-5,1.5-6.5c1-1.4,2.4-2.1,4.3-2.1c0.7,0,1.4,0.2,1.9,0.5c0.6,0.3,1.1,0.7,1.5,1.3L64.7,46.3z M48.9,47.6h0.5v23.7h-4.6V53.2L40.2,55v-3.8L48.9,47.6z M62.7,57.2c-0.5,0-0.8,0.1-1.1,0.3c-0.3,0.2-0.6,0.5-0.8,0.8 c-0.2,0.4-0.3,0.9-0.4,1.5c-0.1,0.6-0.1,1.3-0.1,2.1v1.2c0,0.8,0,1.5,0.1,2.1c0.1,0.6,0.2,1.1,0.4,1.5c0.2,0.4,0.4,0.7,0.7,0.8 c0.3,0.2,0.7,0.3,1.2,0.3c0.5,0,0.9-0.1,1.2-0.3c0.3-0.2,0.6-0.5,0.8-0.9v-8c-0.2-0.4-0.5-0.7-0.8-1 C63.5,57.4,63.1,57.2,62.7,57.2L62.7,57.2z M27.6,59.2h8v3.8h-8V59.2z"/>',
        py[rk] = '<pat fill="currentColor" stroke="currentColor"h d="M66.7,6.7c-1,0-2,0.5-2.5,1.5l-4.6,8l-8.9-2.5c-2.2-0.6-4.2,1.4-3.6,3.6l2.5,8.9l-8,4.6c-2,1.1-2,4,0,5.1l8,4.6l0,0 l11.7-11.7c2.8-2.8,7.2-2.8,10,0c2.8,2.8,2.8,7.2,0,10L59.6,50.4l0,0l4.6,8c1.1,2,4,2,5.1,0l4.6-8l8.9,2.5 c2.2,0.6,4.2-1.4,3.6-3.6l-2.5-8.9l8-4.6c2-1.1,2-4,0-5.1l-8-4.6l2.5-8.9c0.6-2.2-1.4-4.2-3.6-3.6l-8.9,2.5l-4.6-8 C68.7,7.2,67.7,6.7,66.7,6.7L66.7,6.7z M49.5,40.5L12.1,77.9c-2.8,2.8-2.8,7.2,0,10s7.2,2.8,10,0l37.5-37.5L49.5,40.5z M63.3,66.6 c-1.8,0-3.3,1.5-3.3,3.4v3.3h-3.3c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7H60v3.3 c0,1.2,0.6,2.3,1.7,2.9c1,0.6,2.3,0.6,3.4,0c1-0.6,1.7-1.7,1.7-2.9V80H70c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4 c-0.6-1-1.7-1.7-2.9-1.7h-3.3V70c0-0.9-0.3-1.8-1-2.4C65.1,67,64.2,66.6,63.3,66.6L63.3,66.6z M86.6,76.6c-1.8,0-3.3,1.5-3.3,3.4 v3.3H80c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4S78.8,90,80,90h3.3v3.3c0,1.2,0.6,2.3,1.7,2.9c1,0.6,2.3,0.6,3.4,0 c1-0.6,1.7-1.7,1.7-2.9V90h3.3c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7H90V80c0-0.9-0.3-1.8-1-2.4 C88.4,77,87.5,76.6,86.6,76.6L86.6,76.6z"/>',
        py[ok] = '<path fill="currentColor" stroke="currentColor" d="M16.7,13.3c-3.7,0-6.7,3-6.7,6.7v46.7c0,3.7,3,6.7,6.7,6.7h6.6c3.3-2.4,7.2-3.6,9.9-4.4c1-0.3,2.4-0.7,3.5-1.1v-1.2 c-1.8-2.2-2.9-4-3.5-5.4c-0.4-0.4-0.7-0.8-1-1.2H16.7V20h66.7v40H67.6c-0.2,0.3-0.4,0.6-0.6,0.8c-0.6,1.5-1.6,3.4-3.6,5.8v1.2 c1,0.4,2.4,0.8,3.5,1.1c2.8,0.8,6.6,2,9.9,4.4h6.6c3.7,0,6.7-3,6.7-6.7V20c0-3.7-3-6.7-6.7-6.7L16.7,13.3z M50,30 c-8.1,0-14.6,4.9-14.6,13.6c0,3.7,2.1,6.5,2.1,6.5s-0.9,0.5-0.9,2.4c0,3.8,2.5,4.7,2.5,4.7c0.3,2.3,3.1,5.5,4.4,6.8v7 c-4.1,5.8-20,3.1-20,15.6h53.3c0-12.5-15.9-9.7-20-15.6v-7c1.3-1.3,4.1-4.5,4.4-6.8c0,0,2.5-1.7,2.5-4.7c0-2.1-0.9-2.4-0.9-2.4 s1.7-3.2,1.7-6.3c0-6.1-3.1-10.9-8.2-10.9C56,33,53.8,30,50,30z"/>',
        py[lk] = '<path fill="currentColor" stroke="currentColor" d="M40,13.3c-3.6,0-6.7,3-6.7,6.7v6.7H20c-3.6,0-6.7,3-6.7,6.7V80c0,3.6,3,6.7,6.7,6.7h40c3.6,0,6.7-3,6.7-6.7v-6.7H80 c3.6,0,6.7-3,6.7-6.7V20c0-3.6-3-6.7-6.7-6.7H40z M40,20h40v46.7H63.3c-1.8,0-3.3,1.5-3.3,3.3v10H20V33.3h16.7 c1.8,0,3.3-1.5,3.3-3.3V20z M70,30L60,40l10,10V30z M43.3,36.7c-1.8,0-3.3,1.5-3.3,3.3c0,1.8,1.5,3.3,3.3,3.3s3.3-1.5,3.3-3.3 S45.2,36.7,43.3,36.7z M50,46.7c-1.8,0-3.3,1.5-3.3,3.3s1.5,3.3,3.3,3.3s3.3-1.5,3.3-3.3S51.8,46.7,50,46.7z M30,50v20l10-10 L30,50z M56.7,56.7c-1.8,0-3.3,1.5-3.3,3.3s1.5,3.3,3.3,3.3S60,61.8,60,60S58.5,56.7,56.7,56.7z"/>',
        py[ck] = '<path fill="currentColor" stroke="currentColor" d="M68,4c-0.1,0-0.2,0-0.3,0H40v36H14v56h46V60h26V22.3c0-0.2,0-0.4,0-0.7v-0.5l-0.4-0.4c-0.1-0.1-0.2-0.3-0.4-0.4 c0,0,0,0,0,0L69.6,4.8c-0.1-0.1-0.2-0.3-0.4-0.4L68.8,4h-0.5C68.2,4,68.1,4,68,4L68,4z M44,8h22v16h16v32H58.8l-3.4-3.4l-2.8,2.8 l3.4,3.4V92H18V44h23.3l3.3,3.3l2.8-2.8L44,41L44,8z M70,10.8l9.2,9.2H70V10.8z M66.6,30.6l-8,8L54,34v12h12l-4.6-4.6l8-8 L66.6,30.6z M34,54l4.6,4.6l-8,8l2.8,2.8l8-8L46,66V54L34,54z"/>',
        py[uk] = '<path fill="currentColor" stroke="currentColor" d="M38,0v12l4,4V4h30v24h24v52H66v4h34V25.2L74.8,0L38,0z M76,6.8L93.2,24H76V6.8z M0,16v84h62V41.2l-0.6-0.6l-24-24L36.8,16 L0,16z M4,20h30v24h24v52H4L4,20z M38,22.9L55.1,40H38V22.9z"/>',
        py[hk] = '<path fill="currentColor" stroke="currentColor" d="M15.2,4C9.4,4,5.4,6.5,3.1,9.5S0,16,0,18.4c0,4.2,1.8,10.7,9.9,14.3c8,3.6,16.8,5.3,24.3,16.3 C26.7,60.1,17.9,61.7,9.9,65.3C1.8,68.9,0,75.4,0,79.6c0,2.4,0.7,5.8,3.1,8.9S9.4,94,15.2,94c6.1,0,10.2-2.8,12.6-6.1 c2.3-3.2,3.1-6.6,3.1-8.7c0-3.1-1.1-7.1-3.9-9.6c0.2-0.2,0.6-0.6,1.2-0.9c0,0,0.1,0,0.1,0c3.4-1.8,15.4-9.2,16.7-9.9l4.3,3.1 l27.3,19.6h0.1c0.1,0,3,2.3,7.2,3.5c4.3,1.3,10.2,1.5,15.4-2.8c0.5-0.4,0.8-1,0.8-1.6c0-0.6-0.3-1.2-0.8-1.6L61.8,51.5L58.4,49 l40.7-30.1c0.5-0.4,0.8-1,0.8-1.6c0-0.6-0.3-1.2-0.8-1.6c-2.6-2.1-5.4-3.2-8.1-3.5c-2.7-0.3-5.2,0.1-7.4,0.7 c-4.2,1.2-7.2,3.5-7.2,3.5h-0.1L44.9,39.1c-1.3-0.8-13.3-8.1-16.7-9.9c-0.6-0.3-1-0.7-1.2-0.9c2.8-2.5,3.9-6.4,3.9-9.6 c0-2.1-0.7-5.5-3.1-8.7S21.3,4,15.2,4L15.2,4z M15.2,8c4.9,0,7.6,2,9.3,4.4s2.3,5.4,2.3,6.3c0,2-1.2,5.5-2.7,6.8 c-0.7,0.6-1.3,1.4-1.5,2.4c-0.2,1,0.2,1.9,0.6,2.6c0.9,1.2,2,1.8,2.9,2.3c2.5,1.4,11.9,7.1,15.1,9l-4.4,3.1 c-0.2,0.1-0.4,0.3-0.5,0.5c-8-10.8-17.8-13.1-24.9-16.2C4.8,26.1,4,21.6,4,18.4c0-1.5,0.6-4.3,2.2-6.4S10.5,8,15.2,8z M14.7,11.5 c-4.2,0-7.6,3.6-7.1,7.9c0.5,4.2,4.3,7.4,8.5,7.4c4.4,0,7.3-4.2,6.8-8.4C22.4,14.3,18.7,11.5,14.7,11.5z M14.7,15.5 c2.2,0,4,1.4,4.2,3.4c0.2,2.1-1.1,3.9-2.9,3.9c-2,0-4.3-1.9-4.5-3.9S12.6,15.5,14.7,15.5z M89.1,16.1c0.5,0,1,0,1.5,0.1 c1.2,0.1,2.5,0.6,3.8,1.3L44.2,54.5c-0.5,0.1-0.9,0.4-1.1,0.8c-0.8,0.5-14,8.4-16.9,10c-0.9,0.5-2.1,1-2.9,2.3 c-0.4,0.6-0.8,1.6-0.6,2.6c0.2,1,0.8,1.8,1.5,2.4c1.4,1.2,2.7,4.8,2.7,6.8c0,0.9-0.6,3.9-2.3,6.3S20.2,90,15.2,90 c-4.8,0-7.4-1.8-9-3.9C4.6,83.9,4,81.1,4,79.6c0-3.3,0.8-7.7,7.5-10.7c8.1-3.6,19.5-6.1,28-21.1l39.4-28.2c0,0,0,0,0.1-0.1 c0,0,2.5-1.9,6-2.9C86.3,16.4,87.6,16.1,89.1,16.1z M46,45.8c-1.2,0-2.2,1-2.2,2.2c0,1.2,1,2.2,2.2,2.2s2.2-1,2.2-2.2 C48.2,46.8,47.2,45.8,46,45.8z M55.1,51.5l4.4,3.2l35,25.9c-3.3,1.7-6.6,1.5-9.5,0.7c-3.5-1-6-2.9-6-2.9c0,0,0,0-0.1-0.1 L51.5,58.7l-3.2-2.3L55.1,51.5z M16.1,71.2c-4.2,0-8,3.2-8.5,7.4c-0.5,4.2,2.9,7.9,7.1,7.9c4,0,7.7-2.8,8.2-6.9 C23.4,75.4,20.5,71.2,16.1,71.2L16.1,71.2z M16.1,75.2c1.8,0,3.1,1.8,2.9,3.9c-0.2,2.1-2,3.4-4.2,3.4c-2,0-3.4-1.4-3.1-3.4 C11.8,77.1,14.1,75.2,16.1,75.2L16.1,75.2z"/>',
        py[pk] = '<path fill="currentColor" stroke="currentColor" d="M29.6,0c-1,0.2-1.6,1-1.6,2v2H11.8C8.6,4,6,6.6,6,9.8V86c0,3.3,2.6,6,5.8,6H32v-4H11.8C11,88,10,87.1,10,86V9.8 C10,9,11,8,11.8,8H28v4H14v72h18v-4H18V16h10v2c0,1.1,0.9,2,2,2h28c1.1,0,2-0.9,2-2v-2h10v12h4V12H60V8h16.2C77,8,78,9,78,9.8V28 h4V9.8C82,6.6,79.4,4,76.2,4H60V2c0-1.1-0.9-2-2-2H30c-0.1,0-0.1,0-0.2,0C29.8,0,29.7,0,29.6,0L29.6,0z M32,4h24v12H32V4z M35.6,30c-1,0.2-1.6,1-1.6,2v66c0,1.1,0.9,2,2,2h56c1.1,0,2-0.9,2-2V32c0-1.1-0.9-2-2-2H36c-0.1,0-0.1,0-0.2,0S35.7,30,35.6,30z M38,34h52v62H38V34z M47.4,46c-1.1,0.2-1.9,1.2-1.7,2.3c0.2,1.1,1.2,1.9,2.3,1.7h34c0.7,0,1.4-0.4,1.8-1c0.4-0.6,0.4-1.4,0-2 c-0.4-0.6-1-1-1.8-1H48c-0.1,0-0.1,0-0.2,0c-0.1,0-0.1,0-0.2,0C47.6,46,47.5,46,47.4,46L47.4,46z M47.4,58 c-1.1,0.2-1.9,1.2-1.7,2.3c0.2,1.1,1.2,1.9,2.3,1.7h24c0.7,0,1.4-0.4,1.8-1c0.4-0.6,0.4-1.4,0-2c-0.4-0.6-1-1-1.8-1H48 c-0.1,0-0.1,0-0.2,0c-0.1,0-0.1,0-0.2,0C47.6,58,47.5,58,47.4,58L47.4,58z M47.4,70c-1.1,0.2-1.9,1.2-1.7,2.3 c0.2,1.1,1.2,1.9,2.3,1.7h34c0.7,0,1.4-0.4,1.8-1c0.4-0.6,0.4-1.4,0-2c-0.4-0.6-1-1-1.8-1H48c-0.1,0-0.1,0-0.2,0 c-0.1,0-0.1,0-0.2,0C47.6,70,47.5,70,47.4,70L47.4,70z M47.4,82c-1.1,0.2-1.9,1.2-1.7,2.3c0.2,1.1,1.2,1.9,2.3,1.7h24 c0.7,0,1.4-0.4,1.8-1c0.4-0.6,0.4-1.4,0-2c-0.4-0.6-1-1-1.8-1H48c-0.1,0-0.1,0-0.2,0c-0.1,0-0.1,0-0.2,0C47.6,82,47.5,82,47.4,82 L47.4,82z"/>',
        py[dk] = '<path fill="currentColor" stroke="currentColor" d="M38,2c-1,0-2.1,0.4-2.9,1.1C34.4,3.9,34,5,34,6H18c-3.3,0-6,2.7-6,6v76c0,3.3,2.7,6,6,6h64c3.3,0,6-2.7,6-6V12 c0-3.3-2.7-6-6-6H66c0-1-0.4-2.1-1.1-2.9C64.1,2.4,63,2,62,2L38,2z M38,6h24v12H38V6z M18,10h16v4H20v72h60V14H66v-4h16 c1.1,0,2,0.9,2,2v76c0,1.1-0.9,2-2,2H18c-1.1,0-2-0.9-2-2V12C16,10.9,16.9,10,18,10z M24,18h10c0,1,0.4,2.1,1.1,2.9 C35.9,21.6,37,22,38,22h24c1,0,2.1-0.4,2.9-1.1C65.6,20.1,66,19,66,18h10v64H24V18z M38,38v4h10v22h4V42h10v-4L38,38z"/>',
        py[fk] = '<path fill="currentColor" stroke="currentColor" d="M98.8,20l-1.4-1.4l-14-14c-0.8-0.8-2.1-0.8-2.9,0c-0.8,0.8-0.8,2.1,0,2.9L91.1,18H70c-17,0-30.8,13.3-31.9,30H0v4h38.2 C39.2,68.7,53,82,70,82h21.1L80.6,92.6c-0.8,0.8-0.8,2.1,0,2.9c0.8,0.8,2.1,0.8,2.9,0l14-14l1.4-1.4l-1.4-1.4l-14-14 c-0.8-0.8-2.1-0.8-2.9,0s-0.8,2.1,0,2.9L91.1,78H70c-15.5,0-28-12.5-28-28s12.5-28,28-28h21.1L80.6,32.6c-0.8,0.8-0.8,2.1,0,2.9 s2.1,0.8,2.9,0l14-14L98.8,20z"/>',
        py[gk] = '<path fill="currentColor" stroke="currentColor" d="M0,0v18h4V4h14V0L0,0z M26,0v4h20V0H26z M54,0v4h20V0H54z M82,0v4h14v14h4V0H82z M22,24v4h56v-4H22z M0,26v20h4V26H0z M96,26v20h4V26H96z M22,40v4h48v-4H22z M0,54v20h4V54H0z M96,54v20h4V54H96z M22,56v4h56v-4H22z M22,72v4h48v-4H22z M0,82v18h18 v-4H4V82H0z M96,82v14H82v4h18V82L96,82z M26,96v4h20v-4H26z M54,96v4h20v-4H54z"/>',
        py)
          , vk = {};
        function yk(e, t, n) {
            void 0 === n && (n = 16);
            var i = String(n)
              , r = e.firstChild;
            if (r && r instanceof SVGSVGElement && r.classList.contains(t))
                return r.setAttribute("width", i),
                void r.setAttribute("height", i);
            r && e.removeChild(r);
            var o = function(e) {
                if (!mk.hasOwnProperty(e))
                    return null;
                if (!vk.hasOwnProperty(e)) {
                    var t = document.createElementNS("http://www.w3.org/2000/svg", "svg");
                    t.setAttribute("viewBox", "0 0 100 100"),
                    t.innerHTML = mk[e],
                    t.classList.add(e),
                    vk[e] = t
                }
                return vk[e].cloneNode(!0)
            }(t);
            o && (o.setAttribute("width", i),
            o.setAttribute("height", i),
            e.appendChild(o))
        }
        function bk(e, t) {
            mk[e] = t,
            delete vk[e]
        }
        var wk = function(e, t) {
            return e[0] - t[0]
        };
        function kk(e) {
            if (0 === e.length)
                return e;
            e.sort(wk);
            for (var t = [e[0]], n = 1; n < e.length; n++) {
                var i = t.last();
                i[1] < e[n][0] ? t.push(e[n]) : i[1] < e[n][1] && (i[1] = e[n][1])
            }
            return t
        }
        var Ck = /[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,\-.\/:;<=>?@\[\]^_`{|}~]/
          , xk = /\s/
          , Ek = /[\u0F00-\u0FFF\u3040-\u30ff\u3400-\u4dbf\u4e00-\u9fff\uf900-\ufaff\uff66-\uff9f]/;
        function Sk(e) {
            for (var t = e.toLowerCase(), n = [], i = 0, r = 0; r < t.length; r++) {
                var o = t.charAt(r);
                xk.test(o) ? (i !== r && n.push(t.substring(i, r)),
                i = r + 1) : (Ck.test(o) || Ek.test(o)) && (i !== r && n.push(t.substring(i, r)),
                n.push(o),
                i = r + 1)
            }
            return i !== t.length && n.push(t.substring(i, t.length)),
            {
                query: e,
                tokens: n,
                fuzzy: t.split("")
            }
        }
        function Lk(e) {
            var t = Sk(e);
            return function(e) {
                return Ak(t, e)
            }
        }
        function Dk(e, t, n, i) {
            if (0 === e.length)
                return 0;
            var r = 0;
            r -= Math.max(0, e.length - 1),
            r -= i / 10;
            var o = e[0][0];
            return r -= (e[e.length - 1][1] - o + 1 - t) / 100,
            r -= o / 1e3,
            r -= n / 1e4
        }
        function Mk(e, t, n, i) {
            if (0 === e.length)
                return null;
            for (var r = n.toLowerCase(), o = 0, s = 0, a = [], l = 0; l < e.length; l++) {
                var c = e[l]
                  , u = r.indexOf(c, s);
                if (-1 === u)
                    return null;
                var h = n.charAt(u);
                if (u > 0 && !Ck.test(h) && !Ek.test(h)) {
                    var p = n.charAt(u - 1);
                    if (h.toLowerCase() !== h && p.toLowerCase() !== p || h.toUpperCase() !== h && !Ck.test(p) && !xk.test(p) && !Ek.test(p))
                        if (i) {
                            if (u !== s) {
                                s += c.length,
                                l--;
                                continue
                            }
                        } else
                            o += 1
                }
                if (0 === a.length)
                    a.push([u, u + c.length]);
                else {
                    var d = a[a.length - 1];
                    d[1] < u ? a.push([u, u + c.length]) : d[1] = u + c.length
                }
                s = u + c.length
            }
            return {
                matches: a,
                score: Dk(a, t.length, r.length, o)
            }
        }
        function Ak(e, t) {
            if ("" === e.query)
                return {
                    score: 0,
                    matches: []
                };
            var n = Mk(e.tokens, e.query, t, !1);
            return n || Mk(e.fuzzy, e.query, t, !0)
        }
        function Tk(e) {
            e.sort((function(e, t) {
                return t.match.score - e.match.score
            }
            ))
        }
        function Fk(e, t) {
            if (e)
                for (var n = 0, i = e; n < i.length; n++) {
                    var r = i[n];
                    r[0] += t,
                    r[1] += t
                }
        }
        function Pk(e, t) {
            for (var n = t.toLowerCase(), i = [], r = 0, o = e; r < o.length; r++) {
                var s = o[r];
                if (s) {
                    for (var a = !1, l = -1, c = s.length; -1 !== (l = n.indexOf(s, l)); )
                        a = !0,
                        i.push([l, l + c]),
                        l += c + 1;
                    if (!a)
                        return null
                }
            }
            return kk(i)
        }
        function Ok(e) {
            var t = e.toLowerCase().split(" ");
            return function(n) {
                return function(e, t, n) {
                    var i = Pk(e, n);
                    return i ? {
                        score: Dk(i, t.length, n.length, 0),
                        matches: i
                    } : null
                }(t, e, n)
            }
        }
        function Ik(e, t, n, i) {
            void 0 === i && (i = 0),
            Nk(e, t, n ? n.matches : null, i)
        }
        function Nk(e, t, n, i) {
            if (void 0 === i && (i = 0),
            n) {
                for (var r = 0, o = 0; r < t.length && o < n.length; o++) {
                    var s = n[o]
                      , a = s[0] + i
                      , l = s[1] + i;
                    if (!(l <= 0)) {
                        if (a >= t.length)
                            break;
                        a < 0 && (a = 0),
                        a !== r && e.appendText(t.substring(r, a)),
                        e.createSpan({
                            cls: "suggestion-highlight",
                            text: t.substring(a, l)
                        }),
                        r = l
                    }
                }
                r < t.length && e.appendText(t.substring(r))
            } else
                e.appendText(t)
        }
        function Rk(e) {
            return new Promise((function(t) {
                return setTimeout(t, e)
            }
            ))
        }
        var Bk = function() {
            function e() {
                this.promise = Promise.resolve()
            }
            return e.prototype.queue = function(e) {
                var t = this.promise.then(e, e);
                return this.promise = t,
                t
            }
            ,
            e
        }();
        function zk() {
            var e = {
                promise: null,
                resolve: null,
                reject: null
            };
            return e.promise = new Promise((function(t, n) {
                e.resolve = t,
                e.reject = n
            }
            )),
            e
        }
        function Hk(e, t, n) {
            var i = this;
            void 0 === n && (n = t);
            var r = null
              , a = 0
              , l = null;
            return function() {
                return o(i, void 0, Promise, (function() {
                    var i = this;
                    return s(this, (function(c) {
                        return l ? [2, l] : r && a > Date.now() ? [2, r] : [2, l = o(i, void 0, void 0, (function() {
                            return s(this, (function(i) {
                                switch (i.label) {
                                case 0:
                                    return a = Date.now() + n,
                                    [4, e()];
                                case 1:
                                    return r = i.sent(),
                                    a = Date.now() + t,
                                    l = null,
                                    setTimeout((function() {
                                        a > Date.now() && (r = null)
                                    }
                                    ), t),
                                    [2, r]
                                }
                            }
                            ))
                        }
                        ))]
                    }
                    ))
                }
                ))
            }
        }
        var Vk = function() {
            function e(e) {
                this.running = !1,
                this.cancelled = !1;
                var t = e || {}
                  , n = t.onStart
                  , i = t.onStop
                  , r = t.onCancel;
                this.onStart = n || null,
                this.onStop = i || null,
                this.onCancel = r || null
            }
            return e.prototype.start = function() {
                this.running || (this.running = !0,
                this.onStart && this.onStart())
            }
            ,
            e.prototype.stop = function() {
                this.running && (this.running = !1,
                this.onStop && this.onStop())
            }
            ,
            e.prototype.cancel = function() {
                this.stop(),
                this.cancelled || (this.cancelled = !0,
                this.onCancel && this.onCancel())
            }
            ,
            e.prototype.isRunning = function() {
                return this.running
            }
            ,
            e.prototype.isCancelled = function() {
                return this.cancelled
            }
            ,
            e
        }()
          , qk = function() {
            function e(e) {
                this.items = [],
                this.promise = null,
                this.debug = !1,
                this.runnable = new Vk(e)
            }
            return e.prototype.addList = function(e) {
                this.items = this.items.concat(e),
                this.notify(),
                this.debug && console.log("addlist")
            }
            ,
            e.prototype.add = function(e) {
                this.items.push(e),
                this.notify(),
                this.debug && console.log("add")
            }
            ,
            e.prototype.remove = function(e) {
                this.items.remove(e)
            }
            ,
            e.prototype.notify = function() {
                var e = this.promise;
                e && (this.promise = null,
                setTimeout((function() {
                    e && e.resolve()
                }
                ), 0))
            }
            ,
            e.prototype.cancel = function() {
                this.runnable.cancel()
            }
            ,
            e.prototype.generator = function() {
                return u(this, arguments, (function() {
                    var e, t;
                    return s(this, (function(n) {
                        switch (n.label) {
                        case 0:
                            e = this.runnable,
                            n.label = 1;
                        case 1:
                            return e.isCancelled() ? [4, c(void 0)] : [3, 3];
                        case 2:
                            return [2, n.sent()];
                        case 3:
                            return 0 !== (t = this.items).length ? [3, 5] : (e.stop(),
                            [4, c((this.promise = zk()).promise)]);
                        case 4:
                            return n.sent(),
                            [3, 8];
                        case 5:
                            return e.start(),
                            [4, c(t.shift())];
                        case 6:
                            return [4, n.sent()];
                        case 7:
                            n.sent(),
                            n.label = 8;
                        case 8:
                            return [3, 1];
                        case 9:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e
        }();
        function Uk(e) {
            return u(this, arguments, (function() {
                var t, n;
                return s(this, (function(i) {
                    switch (i.label) {
                    case 0:
                        t = 0,
                        n = e,
                        i.label = 1;
                    case 1:
                        return t < n.length ? [4, c(n[t])] : [3, 5];
                    case 2:
                        return [4, i.sent()];
                    case 3:
                        i.sent(),
                        i.label = 4;
                    case 4:
                        return t++,
                        [3, 1];
                    case 5:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        function _k(e, t) {
            return u(this, arguments, (function() {
                var n, i, r, o, a, l, u, p, d, f, g, m, v, y, b, w;
                return s(this, (function(s) {
                    switch (s.label) {
                    case 0:
                        i = (n = t || {}).batchSize,
                        r = void 0 === i ? 10 : i,
                        o = n.duration,
                        a = void 0 === o ? 5 : o,
                        l = n.maxDelay,
                        u = void 0 === l ? 100 : l,
                        p = n.beforePause,
                        d = 0,
                        f = performance.now(),
                        s.label = 1;
                    case 1:
                        s.trys.push([1, 9, 10, 15]),
                        g = h(e),
                        s.label = 2;
                    case 2:
                        return [4, c(g.next())];
                    case 3:
                        return (m = s.sent()).done ? [3, 8] : [4, c(m.value)];
                    case 4:
                        return [4, s.sent()];
                    case 5:
                        return s.sent(),
                        ++d % r != 0 ? [3, 7] : (v = performance.now()) - f > a ? (p && p(v),
                        [4, c(new Promise((function(e) {
                            return ze(e, u)
                        }
                        )))]) : [3, 7];
                    case 6:
                        s.sent(),
                        f = performance.now(),
                        s.label = 7;
                    case 7:
                        return [3, 2];
                    case 8:
                        return [3, 15];
                    case 9:
                        return y = s.sent(),
                        b = {
                            error: y
                        },
                        [3, 15];
                    case 10:
                        return s.trys.push([10, , 13, 14]),
                        m && !m.done && (w = g.return) ? [4, c(w.call(g))] : [3, 12];
                    case 11:
                        s.sent(),
                        s.label = 12;
                    case 12:
                        return [3, 14];
                    case 13:
                        if (b)
                            throw b.error;
                        return [7];
                    case 14:
                        return [7];
                    case 15:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        var jk = function() {
            function e() {
                this.promises = []
            }
            return e.prototype.add = function(e) {
                this.promises.push(e())
            }
            ,
            e.prototype.addPromise = function(e) {
                this.promises.push(e)
            }
            ,
            e.prototype.isEmpty = function() {
                return 0 === this.promises.length
            }
            ,
            e.prototype.promise = function() {
                return Promise.all(this.promises)
            }
            ,
            e
        }()
          , Wk = function(e, t) {
            return t.score - e.score
        }
          , $k = function(e) {
            function t(t, n, i) {
                var r = e.call(this, t, n, i) || this;
                return r.runnable = null,
                r.fileSuggestions = null,
                r.mode = "file",
                r.global = !1,
                r.suggestEl.createDiv("prompt-instructions", (function(e) {
                    e.createDiv("prompt-instruction", (function(e) {
                        e.createSpan({
                            cls: "prompt-instruction-command",
                            text: Te("editor.link-suggestion.label-type-hash")
                        }),
                        e.createSpan({
                            text: Te("editor.link-suggestion.label-link-heading")
                        })
                    }
                    )),
                    e.createDiv("prompt-instruction", (function(e) {
                        e.createSpan({
                            cls: "prompt-instruction-command",
                            text: Te("editor.link-suggestion.label-type-block")
                        }),
                        e.createSpan({
                            text: Te("editor.link-suggestion.label-link-block")
                        })
                    }
                    )),
                    e.createDiv("prompt-instruction", (function(e) {
                        e.createSpan({
                            cls: "prompt-instruction-command",
                            text: Te("editor.link-suggestion.label-type-pipe")
                        }),
                        e.createSpan({
                            text: Te("editor.link-suggestion.label-change-display-text")
                        })
                    }
                    ))
                }
                )),
                r.scope.register([], "Tab", (function(e) {
                    if (r.suggestions.useSelectedItem(e))
                        return !1
                }
                )),
                r.scope.register(null, "#", (function(e) {
                    if (("file" === r.mode || "heading" === r.mode) && r.suggestions.useSelectedItem(e))
                        return !1
                }
                )),
                r.scope.register(null, "^", (function(e) {
                    if ("file" === r.mode && r.suggestions.useSelectedItem(e))
                        return !1
                }
                )),
                r
            }
            return i(t, e),
            t.prototype.trigger = function(t, n) {
                e.prototype.trigger.call(this, t, n);
                var i = this.editor
                  , r = i.getCursor("from")
                  , o = i.getCursor("to");
                if (r.line !== o.line || r.ch !== o.ch)
                    return !1;
                var s = r.line
                  , a = i.getLine(s).substr(0, r.ch)
                  , l = a.lastIndexOf("[[")
                  , c = a.lastIndexOf("]");
                return -1 !== l && c < l && (n && (this.textStart = {
                    line: s,
                    ch: l + 2
                },
                this.textEnd = {
                    line: s,
                    ch: r.ch
                },
                this.populateSuggestions(a.substr(l + 2))),
                !0)
            }
            ,
            t.prototype.populateSuggestions = function(e) {
                var t = this
                  , n = this.runnable;
                n && n.cancel(),
                n = this.runnable = new Vk,
                e = e.trim(),
                o(t, void 0, void 0, (function() {
                    var t;
                    return s(this, (function(i) {
                        switch (i.label) {
                        case 0:
                            return [4, this.getSuggestionsAsync(n, e)];
                        case 1:
                            if (t = i.sent(),
                            n.isCancelled())
                                return [2];
                            if (!t || 0 === t.length) {
                                if (on.isMobile)
                                    return this.close(),
                                    [2];
                                t = [{
                                    type: "none",
                                    matches: null,
                                    score: 0
                                }]
                            }
                            return t.sort(Wk),
                            t.length > 100 && (t = t.slice(0, 100)),
                            this.suggestions.setSuggestions(t),
                            e && "^" !== e && "#" !== e || this.suggestions.forceSetSelectedItem(-1, !1),
                            this.updatePosition(!0),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.renderSuggestion = function(e, t) {
                var n = t.createDiv("suggestion-content")
                  , i = t.createDiv("suggestion-note")
                  , r = e.matches;
                if (!this.global || "heading" !== e.type && "block" !== e.type || i.setText(ie(e.file.path)),
                "none" === e.type)
                    n.setText(Te("editor.link-suggestion.label-no-match-found"));
                else if ("file" === e.type) {
                    var o = e.path
                      , s = W(o)
                      , a = o.substr(0, o.length - s.length);
                    Nk(i, a, r),
                    Nk(n, s, r, -a.length)
                } else if ("alias" === e.type)
                    i.setText(e.path),
                    Nk(n, e.alias, r),
                    n.createSpan({
                        cls: "suggestion-flair",
                        prepend: !0
                    }, (function(e) {
                        yk(e, Wb, 13),
                        Je(e, Te("interface.tooltip.alias"))
                    }
                    ));
                else if ("linktext" === e.type)
                    Nk(n, e.path, r);
                else if ("heading" === e.type)
                    Nk(n, e.heading, r),
                    n.createSpan({
                        cls: "suggestion-flair",
                        text: "H" + e.level,
                        prepend: !0
                    });
                else if ("block" === e.type) {
                    Nk(n, e.display, r);
                    var l = e.node.id;
                    l && String.isString(l) && (i.getText().trim() && i.appendText(" > "),
                    Nk(i, l, e.idMatch))
                }
            }
            ,
            t.prototype.getSuggestionsAsync = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    var n, i, r, o, a, l, c, u;
                    return s(this, (function(s) {
                        if (n = t.indexOf("|"),
                        i = null,
                        -1 !== n && (i = t.substr(n + 1),
                        t = t.substr(0, n)),
                        null === i) {
                            if (t.startsWith("##"))
                                return t = t.substr(2),
                                this.mode = "heading",
                                this.global = !0,
                                [2, this.getGlobalHeadingSuggestions(e, t)];
                            if (t.startsWith("^^"))
                                return t = t.substr(2),
                                this.mode = "block",
                                this.global = !0,
                                [2, this.getGlobalBlockSuggestions(e, t)]
                        }
                        return this.global = !1,
                        r = Ly(t),
                        o = r.path,
                        a = r.subpath,
                        null !== i ? (this.mode = "display",
                        [2, this.getDisplaySuggestions(e, o, a, i)]) : a ? a.startsWith("#^") ? (l = a.substr(2),
                        this.mode = "block",
                        [2, this.getBlockSuggestions(e, o, l)]) : (this.mode = "heading",
                        [2, this.getHeadingSuggestions(e, o, a)]) : -1 !== (c = o.lastIndexOf("^")) ? (u = o.substr(c + 1),
                        o = o.substr(0, c),
                        this.mode = "block",
                        [2, this.getBlockSuggestions(e, o, u)]) : (this.mode = "file",
                        [2, this.getFileSuggestions(e, o)])
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.getDisplaySuggestions = function(e, t, n, i) {
                return o(this, void 0, Promise, (function() {
                    var e, r, o, a, l, c, u, h, p, d, f;
                    return s(this, (function(s) {
                        if (e = this.app.metadataCache,
                        r = this.file,
                        !(o = e.getFirstLinkpathDest(t, r.path)))
                            return [2, []];
                        if (!(a = e.getFileCache(o)) || !a.frontmatter)
                            return [2, []];
                        if (!(l = my(a.frontmatter)))
                            return [2, []];
                        for (c = [],
                        u = Sk(i),
                        h = 0,
                        p = l; h < p.length; h++)
                            d = p[h],
                            (f = Ak(u, d)) && c.push({
                                type: "alias",
                                alias: d,
                                file: o,
                                path: t + n,
                                score: f.score,
                                matches: f.matches
                            });
                        return [2, c]
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.getHeadingSuggestions = function(e, t, n) {
                var i, r;
                return o(this, void 0, Promise, (function() {
                    var o, a, l, c, u, p, d, f, g, m, v, y, b, w, k, C;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            if (o = this.app.metadataCache,
                            a = this.file,
                            !(l = o.getFirstLinkpathDest(t, a.path)) || "md" !== l.extension)
                                return [2, []];
                            if (!(c = o.getFileCache(l)) || !c.headings || 0 === c.headings.length)
                                return [2, []];
                            u = n.split("#").filter((function(e) {
                                return !!e
                            }
                            )),
                            n.endsWith("#") && u.push(""),
                            (p = "#" + u.slice(0, u.length - 1).join("#")).endsWith("#") || (p += "#"),
                            d = 0,
                            f = 0,
                            g = [],
                            s.label = 1;
                        case 1:
                            s.trys.push([1, 6, 7, 12]),
                            m = h(_k(Uk(c.headings), {
                                maxDelay: 0
                            })),
                            s.label = 2;
                        case 2:
                            return [4, m.next()];
                        case 3:
                            if ((v = s.sent()).done)
                                return [3, 5];
                            if (y = v.value,
                            e.isCancelled())
                                return [3, 5];
                            if (y.level <= f || d >= u.length)
                                return [3, 5];
                            b = y.heading.toLowerCase(),
                            d === u.length - 1 ? "" === (w = u[d]) ? g.push({
                                type: "heading",
                                file: l,
                                path: t,
                                subpath: p,
                                level: y.level,
                                heading: y.heading,
                                score: 0,
                                matches: null
                            }) : (k = Ak(Sk(w), y.heading)) && g.push({
                                type: "heading",
                                file: l,
                                path: t,
                                subpath: p,
                                level: y.level,
                                heading: y.heading,
                                score: k.score,
                                matches: k.matches
                            }) : b === u[d].toLowerCase() && (d++,
                            f = y.level),
                            s.label = 4;
                        case 4:
                            return [3, 2];
                        case 5:
                            return [3, 12];
                        case 6:
                            return C = s.sent(),
                            i = {
                                error: C
                            },
                            [3, 12];
                        case 7:
                            return s.trys.push([7, , 10, 11]),
                            v && !v.done && (r = m.return) ? [4, r.call(m)] : [3, 9];
                        case 8:
                            s.sent(),
                            s.label = 9;
                        case 9:
                            return [3, 11];
                        case 10:
                            if (i)
                                throw i.error;
                            return [7];
                        case 11:
                            return [7];
                        case 12:
                            return 1 === g.length && g[0].heading.toLowerCase() === u.last().toLowerCase() ? [2, []] : [2, g]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.getGlobalHeadingSuggestions = function(e, t) {
                var n, i;
                return o(this, void 0, Promise, (function() {
                    var r, o, a, l, c, u, p, d, f, g, m, v, y;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            r = this.app.metadataCache,
                            o = [],
                            a = Sk(t),
                            l = 0,
                            c = r.getCachedFiles(),
                            s.label = 1;
                        case 1:
                            if (!(l < c.length))
                                return [3, 14];
                            if (u = c[l],
                            e.isCancelled())
                                return [3, 14];
                            if (!((p = this.app.vault.getAbstractFileByPath(u))instanceof Vf) || "md" !== p.extension)
                                return [3, 13];
                            if (!(d = r.getCache(u)) || !d.headings || 0 === d.headings.length)
                                return [3, 13];
                            s.label = 2;
                        case 2:
                            s.trys.push([2, 7, 8, 13]),
                            n = void 0,
                            f = h(_k(Uk(d.headings), {
                                maxDelay: 0
                            })),
                            s.label = 3;
                        case 3:
                            return [4, f.next()];
                        case 4:
                            if ((g = s.sent()).done)
                                return [3, 6];
                            if (m = g.value,
                            e.isCancelled())
                                return [3, 6];
                            (v = Ak(a, m.heading)) && o.push({
                                type: "heading",
                                file: p,
                                path: null,
                                subpath: "#",
                                level: m.level,
                                heading: m.heading,
                                score: v.score,
                                matches: v.matches
                            }),
                            s.label = 5;
                        case 5:
                            return [3, 3];
                        case 6:
                            return [3, 13];
                        case 7:
                            return y = s.sent(),
                            n = {
                                error: y
                            },
                            [3, 13];
                        case 8:
                            return s.trys.push([8, , 11, 12]),
                            g && !g.done && (i = f.return) ? [4, i.call(f)] : [3, 10];
                        case 9:
                            s.sent(),
                            s.label = 10;
                        case 10:
                            return [3, 12];
                        case 11:
                            if (n)
                                throw n.error;
                            return [7];
                        case 12:
                            return [7];
                        case 13:
                            return l++,
                            [3, 1];
                        case 14:
                            return [2, o]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.getBlockSuggestions = function(e, t, n) {
                var i, r;
                return o(this, void 0, Promise, (function() {
                    var o, a, l, c, u, p, d, f, g, m, v, y;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return o = this.app.metadataCache,
                            a = this.file,
                            (l = o.getFirstLinkpathDest(t, a.path)) && "md" === l.extension ? [4, o.blockCache.getForFile(e, l)] : [2, []];
                        case 1:
                            if (!(c = s.sent()))
                                return [2, []];
                            u = c.content,
                            p = n.toLowerCase().split(" "),
                            d = [],
                            s.label = 2;
                        case 2:
                            s.trys.push([2, 7, 8, 13]),
                            f = h(_k(Uk(c.blocks), {
                                maxDelay: 0
                            })),
                            s.label = 3;
                        case 3:
                            return [4, f.next()];
                        case 4:
                            if ((g = s.sent()).done)
                                return [3, 6];
                            if (m = g.value,
                            e.isCancelled())
                                return [3, 6];
                            (v = this.matchBlock(a, l, m, t, u, p)) && d.push(v),
                            s.label = 5;
                        case 5:
                            return [3, 3];
                        case 6:
                            return [3, 13];
                        case 7:
                            return y = s.sent(),
                            i = {
                                error: y
                            },
                            [3, 13];
                        case 8:
                            return s.trys.push([8, , 11, 12]),
                            g && !g.done && (r = f.return) ? [4, r.call(f)] : [3, 10];
                        case 9:
                            s.sent(),
                            s.label = 10;
                        case 10:
                            return [3, 12];
                        case 11:
                            if (i)
                                throw i.error;
                            return [7];
                        case 12:
                            return [7];
                        case 13:
                            return [2, d]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.getGlobalBlockSuggestions = function(e, t) {
                var n, i;
                return o(this, void 0, Promise, (function() {
                    var r, o, a, l, c, u, p, d, f, g, m, v, y, b;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            r = this.app.metadataCache,
                            o = this.file,
                            a = t.toLowerCase().split(" "),
                            l = [],
                            s.label = 1;
                        case 1:
                            s.trys.push([1, 6, 7, 12]),
                            c = h(_k(r.blockCache.getAll(e), {
                                batchSize: 1,
                                maxDelay: 0
                            })),
                            s.label = 2;
                        case 2:
                            return [4, c.next()];
                        case 3:
                            if ((u = s.sent()).done)
                                return [3, 5];
                            if (p = u.value,
                            e.isCancelled())
                                return [3, 5];
                            if (d = p.file,
                            f = p.content,
                            "md" !== d.extension)
                                return [3, 4];
                            for (g = 0,
                            m = p.blocks; g < m.length; g++)
                                v = m[g],
                                (y = this.matchBlock(o, d, v, null, f, a)) && l.push(y);
                            s.label = 4;
                        case 4:
                            return [3, 2];
                        case 5:
                            return [3, 12];
                        case 6:
                            return b = s.sent(),
                            n = {
                                error: b
                            },
                            [3, 12];
                        case 7:
                            return s.trys.push([7, , 10, 11]),
                            u && !u.done && (i = c.return) ? [4, i.call(c)] : [3, 9];
                        case 8:
                            s.sent(),
                            s.label = 9;
                        case 9:
                            return [3, 11];
                        case 10:
                            if (n)
                                throw n.error;
                            return [7];
                        case 11:
                            return [7];
                        case 12:
                            return [2, l]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.matchBlock = function(e, t, n, i, r, o) {
                if (t === e && n.node.position.start.line - 1 <= this.textStart.line && n.node.position.end.line - 1 >= this.textStart.line)
                    return null;
                var s = Pk(o, n.display.toLowerCase())
                  , a = s ? -(s.length + (s.length > 0 ? s[0][0] / 10 : 0)) : 0
                  , l = null
                  , c = n.node.id;
                return c && String.isString(c) && (l = Pk(o, c.toLowerCase())) && (a = 0),
                s || l ? {
                    type: "block",
                    file: t,
                    path: i,
                    content: r,
                    display: n.display,
                    node: n.node,
                    score: a,
                    matches: s,
                    idMatch: l
                } : null
            }
            ,
            t.prototype.getFileSuggestions = function(e, t) {
                var n, i;
                return o(this, void 0, Promise, (function() {
                    var r, o, a, l, c, u, p, d, f, g, m, v, y;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            if ((r = this.fileSuggestions) || (r = this.fileSuggestions = this.app.metadataCache.getLinkSuggestions()),
                            o = [],
                            "" === t) {
                                for (a = 0,
                                l = r; a < l.length; a++)
                                    d = l[a],
                                    (f = d.file) ? (g = d.alias) ? o.push({
                                        type: "alias",
                                        alias: g,
                                        file: f,
                                        path: d.path,
                                        score: f.stat.mtime,
                                        matches: null
                                    }) : o.push({
                                        type: "file",
                                        file: f,
                                        path: d.path,
                                        score: f.stat.mtime,
                                        matches: null
                                    }) : o.push({
                                        type: "linktext",
                                        path: d.path,
                                        score: 0,
                                        matches: null
                                    });
                                return [2, o.sort(Wk)]
                            }
                            c = r.length < 1e4 ? Lk(t) : Ok(t),
                            s.label = 1;
                        case 1:
                            s.trys.push([1, 6, 7, 12]),
                            u = h(_k(Uk(r), {
                                maxDelay: 0
                            })),
                            s.label = 2;
                        case 2:
                            return [4, u.next()];
                        case 3:
                            if ((p = s.sent()).done)
                                return [3, 5];
                            if (d = p.value,
                            e.isCancelled())
                                return [3, 5];
                            (f = d.file) ? (g = d.alias) ? (m = c(g)) && o.push({
                                type: "alias",
                                alias: g,
                                file: d.file,
                                path: d.path,
                                score: m.score,
                                matches: m.matches
                            }) : (m = Gk(c, d.path)) && o.push({
                                type: "file",
                                file: d.file,
                                path: d.path,
                                score: m.score,
                                matches: m.matches
                            }) : (m = c(d.path)) && o.push({
                                type: "linktext",
                                path: d.path,
                                score: m.score,
                                matches: m.matches
                            }),
                            s.label = 4;
                        case 4:
                            return [3, 2];
                        case 5:
                            return [3, 12];
                        case 6:
                            return v = s.sent(),
                            n = {
                                error: v
                            },
                            [3, 12];
                        case 7:
                            return s.trys.push([7, , 10, 11]),
                            p && !p.done && (i = u.return) ? [4, i.call(u)] : [3, 9];
                        case 8:
                            s.sent(),
                            s.label = 9;
                        case 9:
                            return [3, 11];
                        case 10:
                            if (n)
                                throw n.error;
                            return [7];
                        case 11:
                            return [7];
                        case 12:
                            return 1 === o.length && "file" === (y = o[0]).type && y.file.name.toLowerCase() === t.toLowerCase() ? [2, []] : [2, o]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.getSuggestions = function(e) {
                return []
            }
            ,
            t.prototype.selectSuggestion = function(e, t) {
                var n = this;
                this.close();
                var i = this.editor
                  , r = []
                  , o = null
                  , s = ""
                  , a = ""
                  , l = ""
                  , c = this.textStart
                  , u = this.textEnd
                  , h = t instanceof KeyboardEvent ? Zt(t) : ""
                  , p = this.app.vault.getConfig("useMarkdownLinks")
                  , d = this.file
                  , f = !p
                  , g = function(e, t) {
                    return null !== t ? t : e.path === d.path ? "" : n.app.metadataCache.fileToLinktext(e, d.path, f)
                }
                  , m = i.getLine(u.line).substr(u.ch).match(/^(\s*)(\|)?(.*?)(]])/);
                if ("none" !== e.type) {
                    if ("file" === e.type)
                        s = e.file.basename,
                        l = this.app.metadataCache.fileToLinktext(e.file, d.path, f);
                    else if ("alias" === e.type)
                        a = s = e.alias,
                        l = this.app.metadataCache.fileToLinktext(e.file, d.path, f);
                    else if ("linktext" === e.type)
                        s = e.path,
                        l = e.path;
                    else if ("heading" === e.type) {
                        var v = Ty(e.heading);
                        s = v,
                        l = (y = g(e.file, e.path)) + e.subpath + v
                    } else if ("block" === e.type) {
                        s = "";
                        var y = g(e.file, e.path)
                          , b = e.node;
                        if (b.id)
                            l = y + "#^" + b.id;
                        else {
                            var w = kf(6);
                            l = y + "#^" + w;
                            var k = e.file
                              , C = e.content
                              , x = b.position.start.offset
                              , E = b.position.end.offset
                              , S = 0
                              , L = "paragraph" === b.type || "listItem" === b.type
                              , D = "^" + w;
                            if (L) {
                                if (D = " " + D,
                                "listItem" === b.type) {
                                    var M = b.children;
                                    if (M && M.length > 1) {
                                        var A = M[M.length - 1]
                                          , T = M[M.length - 2];
                                        "list" === A.type && (E = T.position.end.offset)
                                    }
                                }
                            } else
                                D = "\n\n" + D,
                                S = 2;
                            if (d !== k)
                                L || "\n" === C.charAt(E) && "\n" === C.charAt(E + 1) || (D += "\n",
                                S++),
                                C = C.slice(0, E) + D + C.slice(E),
                                this.app.vault.modify(k, C);
                            else {
                                var F = C.substring(x, E);
                                if ("" === F)
                                    return void this.close();
                                for (var P = i.getValue(), O = 0, I = -99999; ; ) {
                                    var N = P.indexOf(F, O);
                                    if (-1 === N)
                                        break;
                                    Math.abs(x - N) < Math.abs(x - I) && (I = N),
                                    O = N + F.length
                                }
                                if (I >= 0) {
                                    var R = Bd(P, [I + F.length])[0];
                                    !L && i.getLine(R.line + 1) && (D += "\n",
                                    S++),
                                    r.push({
                                        from: R,
                                        text: D
                                    }),
                                    S > 0 && (R.line < u.line || R.line === u.line && R.ch < u.ch) && (c.line += S,
                                    u.line += S)
                                }
                            }
                        }
                    }
                    if (m && !m[0].contains("[[") && (m[2] && !a && (a = m[3],
                    s || (s = a)),
                    u = Fd(u, m[0].length)),
                    p && "#" !== h && "^" !== h)
                        c = Fd(c, -2),
                        l = "[" + s + "](" + Md(l) + ")",
                        r.push({
                            from: c,
                            to: u,
                            text: l
                        }),
                        o = s ? {
                            from: Fd(c, l.length)
                        } : {
                            from: Fd(c, 1)
                        };
                    else {
                        "#" === h && (l += "#",
                        "file" === e.type && q.contains(e.file.extension) && (l += "page=")),
                        "^" === h && (l += "^"),
                        a && (l += "|" + a),
                        l += "]]",
                        r.push({
                            from: c,
                            to: u,
                            text: l
                        });
                        var B = l.length;
                        "Tab" === h ? (B -= 2,
                        a && (o = {
                            from: Fd(c, B),
                            to: Fd(c, B - a.length)
                        })) : "#" !== h && "^" !== h || (B -= 2,
                        a && (B -= a.length + 1)),
                        o || (o = {
                            from: Fd(c, B)
                        })
                    }
                    i.transaction({
                        changes: r,
                        selection: o
                    }),
                    setTimeout((function() {
                        return i.focus()
                    }
                    ))
                } else
                    "Enter" !== h && "Tab" !== h || (u = Fd(u, m[0].length),
                    i.setSelection(u))
            }
            ,
            t.prototype.close = function() {
                e.prototype.close.call(this),
                this.fileSuggestions = null
            }
            ,
            t
        }(Wf);
        function Gk(e, t) {
            var n = W(t)
              , i = e(n);
            return i ? (Fk(i.matches, t.length - n.length),
            i) : ((i = e(t)) && (i.score -= 1),
            i)
        }
        var Yk = /(^|\s)#[^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]*$/g
          , Kk = function(e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }
            return i(t, e),
            t.prototype.trigger = function(t, n) {
                e.prototype.trigger.call(this, t, n);
                var i = this.editor
                  , r = i.getCursor("from")
                  , o = i.getCursor("to");
                if (r.line !== o.line || r.ch !== o.ch)
                    return !1;
                var s = r.line
                  , a = i.getLine(s).substr(0, r.ch);
                if (a.match(Yk)) {
                    if (n) {
                        var l = a.lastIndexOf("#")
                          , c = a.substr(l + 1);
                        this.textStart = {
                            line: s,
                            ch: l
                        },
                        this.textEnd = {
                            line: s,
                            ch: r.ch
                        },
                        this.populateSuggestions(c)
                    }
                    return !0
                }
                return !1
            }
            ,
            t.prototype.renderSuggestion = function(e, t) {
                Ik(t, e.tag, e)
            }
            ,
            t.prototype.selectSuggestion = function(e) {
                var t = this;
                this.close(),
                this.editor.transaction({
                    changes: [{
                        from: this.textStart,
                        to: this.textEnd,
                        text: e.tag + " "
                    }]
                }),
                setTimeout((function() {
                    return t.editor.focus()
                }
                ))
            }
            ,
            t.prototype.getSuggestions = function(e) {
                e = e.toLowerCase();
                var t = this.app.metadataCache.getTags()
                  , n = []
                  , i = [e];
                for (var r in t)
                    if (hf(t, r))
                        if ("" === e)
                            n.push({
                                tag: r,
                                score: 0,
                                matches: null
                            });
                        else {
                            var o = Pk(i, r.toLowerCase());
                            o && n.push({
                                tag: r,
                                score: Dk(o, e.length, r.length, 0),
                                matches: o
                            })
                        }
                return n.sort((function(e, t) {
                    return t.score - e.score
                }
                )),
                n
            }
            ,
            t
        }(Wf)
          , Qk = function() {
            function e(e, t, n) {
                this.suggests = [],
                this.currentSuggest = null,
                this.addSuggest(new $k(e,t,n)),
                this.addSuggest(new Kk(e,t,n))
            }
            return e.prototype.addSuggest = function(e) {
                this.suggests.push(e)
            }
            ,
            e.prototype.trigger = function(e, t) {
                for (var n = 0, i = this.suggests; n < i.length; n++) {
                    var r = i[n];
                    if (r.trigger(e, t))
                        return void (t && this.setCurrentSuggest(r))
                }
                this.close()
            }
            ,
            e.prototype.setCurrentSuggest = function(e) {
                var t = this.currentSuggest;
                t !== e && (t && t.close(),
                this.currentSuggest = e)
            }
            ,
            e.prototype.isShowingSuggestion = function() {
                var e = this.currentSuggest;
                return e && e.isOpen
            }
            ,
            e.prototype.reposition = function() {
                var e = this.currentSuggest;
                e && e.isOpen && e.updatePosition()
            }
            ,
            e.prototype.close = function() {
                this.setCurrentSuggest(null)
            }
            ,
            e
        }()
          , Jk = function() {
            function e() {
                this._loaded = !1,
                this._events = [],
                this._children = []
            }
            return e.prototype.load = function() {
                if (!this._loaded) {
                    this._loaded = !0,
                    this.onload();
                    for (var e = 0, t = this._children; e < t.length; e++) {
                        t[e].load()
                    }
                }
            }
            ,
            e.prototype.onload = function() {}
            ,
            e.prototype.unload = function() {
                if (this._loaded) {
                    this._loaded = !1;
                    for (var e = 0, t = this._children; e < t.length; e++) {
                        t[e].unload()
                    }
                    for (var n = 0, i = this._events; n < i.length; n++) {
                        (0,
                        i[n])()
                    }
                    this._events = [],
                    this.onunload()
                }
            }
            ,
            e.prototype.onunload = function() {}
            ,
            e.prototype.addChild = function(e) {
                return this._children.push(e),
                this._loaded && e.load(),
                e
            }
            ,
            e.prototype.removeChild = function(e) {
                var t = this._children
                  , n = t.indexOf(e);
                return -1 === n || (t.splice(n, 1),
                e.unload()),
                e
            }
            ,
            e.prototype.register = function(e) {
                this._events.push(e)
            }
            ,
            e.prototype.registerEvent = function(e) {
                this.register((function() {
                    return e.e.offref(e)
                }
                ))
            }
            ,
            e.prototype.registerDomEvent = function(e, t, n) {
                e.addEventListener(t, n),
                this.register((function() {
                    return e.removeEventListener(t, n)
                }
                ))
            }
            ,
            e.prototype.registerScopeEvent = function(e) {
                this.register((function() {
                    return e.scope.unregister(e)
                }
                ))
            }
            ,
            e.prototype.registerInterval = function(e) {
                this.register((function() {
                    return clearInterval(e)
                }
                ))
            }
            ,
            e
        }()
          , Xk = function() {
            function e(e) {
                var t = this;
                this.disabled = !1,
                this.menu = e;
                var n = this.dom = e.dom.createDiv("menu-item");
                this.iconEl = n.createDiv("menu-item-icon"),
                this.titleEl = n.createDiv("menu-item-title"),
                n.addEventListener("mousedown", (function(e) {
                    return e.preventDefault()
                }
                )),
                n.addEventListener("click", (function(e) {
                    if (t.disabled)
                        e.preventDefault();
                    else {
                        var n = t.clickCallback;
                        n && n(e)
                    }
                }
                ))
            }
            return e.prototype.setTitle = function(e) {
                return "string" == typeof e ? this.titleEl.setText(e) : (this.titleEl.empty(),
                this.titleEl.appendChild(e)),
                this
            }
            ,
            e.prototype.setIcon = function(e, t) {
                return void 0 === t && (t = 16),
                e ? yk(this.iconEl, e, t) : this.iconEl.empty(),
                this
            }
            ,
            e.prototype.removeIcon = function() {
                return this.iconEl.detach(),
                this
            }
            ,
            e.prototype.setActive = function(e) {
                return this.setIcon(e ? ib : null),
                this
            }
            ,
            e.prototype.setDisabled = function(e) {
                return this.disabled = e,
                this.dom.toggleClass("is-disabled", e),
                this
            }
            ,
            e.prototype.setIsLabel = function(e) {
                return this.dom.toggleClass("is-label", e),
                this
            }
            ,
            e.prototype.onClick = function(e) {
                return this.clickCallback = e,
                this
            }
            ,
            e
        }()
          , Zk = function(e) {
            function t(t) {
                var n = e.call(this) || this;
                n.items = 0,
                n.unloading = !1,
                n.app = t,
                n.scope = new nn(t.scope),
                n.dom = createDiv("menu");
                var i = n.bgEl = createDiv("suggestion-bg");
                return i.addEventListener("mousedown", (function(e) {
                    return e.preventDefault()
                }
                )),
                i.onClickEvent((function() {
                    return n.hide()
                }
                )),
                n
            }
            return i(t, e),
            t.prototype.onload = function() {
                var e = this;
                this.registerDomEvent(document, "click", this.hide.bind(this)),
                this.registerDomEvent(document, "mousedown", (function(t) {
                    var n = e.dom;
                    n === t.target || n.contains(t.target) || e.hide()
                }
                )),
                this.registerDomEvent(document, "contextmenu", this.hide.bind(this)),
                this.app.keymap.pushScope(this.scope)
            }
            ,
            t.prototype.onunload = function() {
                this.app.keymap.popScope(this.scope)
            }
            ,
            t.prototype.setNoIcon = function() {
                return this.dom.addClass("mod-no-icon"),
                this
            }
            ,
            t.prototype.addItem = function(e) {
                return this.items++,
                e(new Xk(this)),
                this
            }
            ,
            t.prototype.addSeparator = function() {
                return this.dom.createDiv("menu-separator"),
                this
            }
            ,
            t.prototype.showAtMouseEvent = function(e) {
                return this.showAtPosition({
                    x: e.clientX,
                    y: e.clientY
                })
            }
            ,
            t.prototype.showAtPosition = function(e) {
                if (this.unload(),
                0 === this.items)
                    return this;
                setTimeout(this.load.bind(this), 0);
                var t = this.dom
                  , n = this.bgEl;
                if (document.body.appendChild(t),
                on.isMobile) {
                    document.body.appendChild(n);
                    var i = t.offsetHeight - 1;
                    At(t, new Et({
                        duration: 300
                    }).addProp("transform", "translateY(" + i + "px)", "")),
                    At(n, new Et({
                        duration: 200
                    }).addProp("opacity", "0", "0.85"))
                } else {
                    var r = t.offsetWidth
                      , o = t.offsetHeight
                      , s = window.innerWidth
                      , a = window.innerHeight
                      , l = parseFloat(getComputedStyle(document.body).paddingTop);
                    l && !isNaN(l) || (l = 0);
                    var c = t.style;
                    e.x + r > s ? c.left = Math.max(0, e.x - r + 2) + "px" : c.left = e.x + 2 + "px",
                    e.y + o > a ? c.top = Math.max(l, e.y - o + 2) + "px" : c.top = e.y + 2 + "px",
                    Yt(t)
                }
                return this
            }
            ,
            t.prototype.hide = function() {
                var e = this;
                if (this.unload(),
                this.unloading)
                    return this;
                this.unloading = !0;
                var t = this
                  , n = t.dom
                  , i = t.bgEl
                  , r = t.hideCallback;
                if (on.isMobile) {
                    var o = n.offsetHeight - 1;
                    At(n, new Et({
                        duration: 300
                    }).addProp("transform", "", "translateY(" + o + "px)"), (function() {
                        n.detach(),
                        r && r(),
                        e.unloading = !1
                    }
                    )),
                    At(i, new Et({
                        duration: 200
                    }).addProp("opacity", null, "0"), (function() {
                        i.detach()
                    }
                    ))
                } else
                    n.detach(),
                    r && r(),
                    this.unloading = !1;
                return this
            }
            ,
            t.prototype.onHide = function(e) {
                this.hideCallback = e
            }
            ,
            t
        }(Jk)
          , eC = vi.define()
          , tC = vi.define()
          , nC = tC.of((function() {
            return !1
        }
        ))
          , iC = Qn.define({
            create: function() {
                return oo.none
            },
            update: function(e, t) {
                e = e.map(t.changes);
                for (var n = 0, i = t.effects; n < i.length; n++) {
                    var r = i[n];
                    r.is(eC) ? e = e.update({
                        add: r.value,
                        sort: !0
                    }) : r.is(tC) && (e = e.update({
                        filter: r.value
                    }))
                }
                return e
            },
            provide: function(e) {
                return wa.decorations.from(e)
            }
        })
          , rC = function(e, t) {
            var n = t.text.search(/\S/);
            return -1 === n ? -1 : bn(t.text.substr(0, n), 0, e.facet(Ai.tabSize))
        }
          , oC = Yl.of((function(e, t, n) {
            try {
                var i = e.doc.lineAt(t)
                  , r = rC(e, i);
                if (r < 0)
                    return;
                for (var o = null, s = i.number + 1, a = e.doc.lines; s <= a; ++s) {
                    var l = e.doc.line(s)
                      , c = rC(e, l);
                    if (-1 == c)
                        ;
                    else {
                        if (!(c > r))
                            break;
                        o = l
                    }
                }
                if (o)
                    return {
                        from: n,
                        to: o.to
                    }
            } catch (e) {
                console.error(e)
            }
            return null
        }
        ))
          , sC = Yl.of((function(e, t, n) {
            function i(t) {
                var n = function(e, t, n) {
                    return Ll(e).resolve(t, n).type.prop(bd)
                }(e, t.from, 1);
                return n && /\bheader\b/.test(n)
            }
            function r(t) {
                var n = t && t.text.match(/^#+/);
                if (n && i(t))
                    return n[0].length;
                if (e.doc.lines <= t.number)
                    return 100;
                var r = e.doc.line(t.number + 1);
                return (n = r.text.match(/^[=\-]+\s*$/)) && i(r) ? "=" == r.text[0] ? 1 : 2 : 100
            }
            try {
                var o = e.doc.lines
                  , s = e.doc.lineAt(t);
                if (s.number === o)
                    return null;
                var a = r(s);
                if (100 === a)
                    return null;
                for (var l = e.doc.line(s.number + 1), c = s.to; l && !(r(l) <= a) && (c = l.to,
                l.number !== o); )
                    l = e.doc.line(l.number + 1);
                return c === s.to ? null : {
                    from: s.to,
                    to: c
                }
            } catch (e) {
                console.error(e)
            }
            return null
        }
        ));
        function aC(e, t, n) {
            void 0 === n && (n = !0);
            var i = e.state.doc.lineAt(t.from).number
              , r = e.state.doc.lineAt(t.to).number;
            return wa.announce.of(e.state.phrase(n ? "Folded lines" : "Unfolded lines") + " " + i + " " + e.state.phrase("to") + " " + r + ".")
        }
        function lC(e, t) {
            return isFinite(t.ch) ? e.line(t.line + 1).from + t.ch : e.line(t.line + 1).to
        }
        function cC(e, t) {
            var n = e.lineAt(t);
            return {
                line: n.number - 1,
                ch: t - n.from
            }
        }
        var uC = new ii
          , hC = [];
        hC.push(function(e={}) {
            return [Ja.of(e), Xa || (Xa = To.fromClass(class {
                constructor(e) {
                    this.view = e,
                    this.decorations = oo.none,
                    this.decorationCache = Object.create(null),
                    this.decorator = this.makeDecorator(e.state.facet(Ja)),
                    this.decorations = this.decorator.createDeco(e)
                }
                makeDecorator(e) {
                    return new $a({
                        regexp: e.specialChars,
                        decoration: (t,n,i)=>{
                            let {doc: r} = n.state
                              , o = mn(t[0], 0);
                            if (9 == o) {
                                let e = r.lineAt(i)
                                  , t = n.state.tabSize
                                  , o = bn(r.sliceString(e.from, i), 0, t);
                                return oo.replace({
                                    widget: new el((t - o % t) * this.view.defaultCharacterWidth)
                                })
                            }
                            return this.decorationCache[o] || (this.decorationCache[o] = oo.replace({
                                widget: new Za(e,o)
                            }))
                        }
                        ,
                        boundary: e.replaceTabs ? void 0 : /[^]/
                    })
                }
                update(e) {
                    let t = e.state.facet(Ja);
                    e.startState.facet(Ja) != t ? (this.decorator = this.makeDecorator(t),
                    this.decorations = this.decorator.createDeco(e.view)) : this.decorations = this.decorator.updateDeco(e, this.decorations)
                }
            }
            , {
                decorations: e=>e.decorations
            }))]
        }()),
        hC.push(function(e={}) {
            return [kh, wh.of(e), wa.domEventHandlers({
                beforeinput: (e,t)=>"historyUndo" == e.inputType ? xh(t) : "historyRedo" == e.inputType && Eh(t)
            })]
        }()),
        hC.push(function(e={}) {
            return [Ra.of(e), za, Va]
        }()),
        hC.push(Ai.allowMultipleSelections.of(!0)),
        hC.push(Ai.transactionFilter.of((e=>{
            if (!e.docChanged || "input" != e.annotation(yi.userEvent))
                return e;
            let t = e.startState.languageDataAt("indentOnInput", e.startState.selection.main.head);
            if (!t.length)
                return e;
            let n = e.newDoc
              , {head: i} = e.newSelection.main
              , r = n.lineAt(i);
            if (i > r.from + 200)
                return e;
            let o = n.sliceString(r.from, i);
            if (!t.some((e=>e.test(o))))
                return e;
            let {state: s} = e
              , a = -1
              , l = [];
            for (let {head: e} of s.selection.ranges) {
                let t = s.doc.lineAt(e);
                if (t.from == a)
                    continue;
                a = t.from;
                let n = Hl(s, t.from);
                if (null == n)
                    continue;
                let i = /^\s*/.exec(t.text)[0]
                  , r = zl(s, n);
                i != r && l.push({
                    from: t.from,
                    to: t.from + i.length,
                    insert: r
                })
            }
            return l.length ? [e, {
                changes: l
            }] : e
        }
        ))),
        hC.push([wa.inputHandler.of(oc), tc]),
        hC.push(function(e) {
            let t = (null == e ? void 0 : e.eventFilter) || (e=>e.altKey && 0 == e.button);
            return wa.mouseSelectionStyle.of(((e,n)=>t(n) ? kp(e, n) : null))
        }()),
        hC.push(ud.define(CodeMirror.getMode({}, {
            name: "hypermd"
        }))),
        hC.push(Cd),
        hC.push(iC);
        var pC = uC.of(hC)
          , dC = new ii
          , fC = oo.mark({
            class: "obsidian-search-match-highlight"
        })
          , gC = function(e) {
            function t(t) {
                var n = e.call(this) || this;
                return n.cm = t,
                n
            }
            return i(t, e),
            t.prototype.refresh = function() {}
            ,
            t.prototype.getValue = function() {
                return this.cm.state.doc.toString()
            }
            ,
            t.prototype.setValue = function(e) {
                var t = this.cm;
                t.dispatch({
                    changes: {
                        from: 0,
                        to: t.state.doc.length,
                        insert: e
                    }
                })
            }
            ,
            t.prototype.getLine = function(e) {
                var t = this.cm.state.doc;
                return e >= t.lines ? "" : t.line(e + 1).text
            }
            ,
            t.prototype.lineCount = function() {
                return this.cm.state.doc.lines
            }
            ,
            t.prototype.lastLine = function() {
                return this.cm.state.doc.lines - 1
            }
            ,
            t.prototype.getSelection = function() {
                var e = this.cm
                  , t = e.state.selection.main;
                return e.state.doc.sliceString(t.from, t.to)
            }
            ,
            t.prototype.getRange = function(e, t) {
                var n = this.cm
                  , i = n.state.doc;
                return n.state.doc.sliceString(lC(i, e), lC(i, t))
            }
            ,
            t.prototype.replaceSelection = function(e) {
                var t = this.cm;
                t.dispatch(t.state.replaceSelection(e))
            }
            ,
            t.prototype.replaceRange = function(e, t, n) {
                var i = this.cm
                  , r = i.state.doc
                  , o = lC(r, t)
                  , s = n ? lC(r, n) : o;
                i.dispatch({
                    changes: {
                        from: o,
                        to: s,
                        insert: e
                    },
                    scrollIntoView: !0
                })
            }
            ,
            t.prototype.getCursor = function(e) {
                void 0 === e && (e = "head");
                var t = this.cm
                  , n = t.state.selection.main
                  , i = t.state.doc;
                switch (e) {
                case "from":
                    return cC(i, n.from);
                case "to":
                    return cC(i, n.to);
                case "anchor":
                    return cC(i, n.anchor);
                case "head":
                    return cC(i, n.head)
                }
                return null
            }
            ,
            t.prototype.listSelections = function() {
                for (var e = this.cm, t = e.state.selection.ranges, n = e.state.doc, i = [], r = 0, o = t; r < o.length; r++) {
                    var s = o[r];
                    i.push({
                        anchor: cC(n, s.anchor),
                        head: cC(n, s.head)
                    })
                }
                return i
            }
            ,
            t.prototype.setSelection = function(e, t) {
                var n = this.cm
                  , i = n.state.doc
                  , r = lC(i, e)
                  , o = t ? lC(i, t) : r;
                n.dispatch({
                    selection: {
                        anchor: r,
                        head: o
                    },
                    scrollIntoView: !0
                })
            }
            ,
            t.prototype.exec = function(e) {
                t.commands[e](this.cm)
            }
            ,
            t.prototype.focus = function() {
                this.cm.focus()
            }
            ,
            t.prototype.blur = function() {
                this.cm.contentDOM.blur()
            }
            ,
            t.prototype.hasFocus = function() {
                return this.cm.hasFocus
            }
            ,
            t.prototype.getScrollInfo = function() {
                var e = this.cm.scrollDOM;
                return {
                    top: e.scrollTop,
                    left: e.scrollLeft,
                    clientHeight: e.clientHeight,
                    clientWidth: e.clientWidth,
                    height: e.offsetHeight,
                    width: e.offsetWidth
                }
            }
            ,
            t.prototype.scrollTo = function(e, t) {
                var n = this.cm.scrollDOM;
                null == e && (e = n.scrollLeft),
                null == t && (t = n.scrollTop),
                n.scroll(e, t)
            }
            ,
            t.prototype.scrollIntoView = function(e, t) {
                var n = this.cm;
                n.scrollPosIntoView(lC(n.state.doc, e.from))
            }
            ,
            t.prototype.transaction = function(e) {
                var t = e.replaceSelection
                  , n = e.changes
                  , i = e.selection
                  , r = e.selections
                  , o = this.cm
                  , s = o.state.doc
                  , a = {}
                  , l = [];
                if (a.changes = l,
                a.scrollIntoView = !0,
                String.isString(t)) {
                    var c = o.state.replaceSelection(t);
                    l.push(c.changes),
                    a.selection = c.selection,
                    a.effects = c.effects
                }
                for (var u = 0, h = n; u < h.length; u++) {
                    c = h[u];
                    var p = lC(s, c.from)
                      , d = c.to ? lC(s, c.to) : p;
                    l.push({
                        from: p,
                        to: d,
                        insert: c.text
                    })
                }
                if (r)
                    a.selection = Vn.create(r.map((function(e) {
                        var t = lC(s, e.from)
                          , n = e.to ? lC(s, e.to) : t;
                        return Vn.range(t, n)
                    }
                    )));
                else if (i) {
                    p = lC(s, i.from),
                    d = i.to ? lC(s, i.to) : p;
                    a.selection = {
                        anchor: p,
                        head: d
                    }
                }
                this.cm.dispatch(a)
            }
            ,
            t.prototype.posToOffset = function(e) {
                return lC(this.cm.state.doc, e)
            }
            ,
            t.prototype.offsetToPos = function(e) {
                return cC(this.cm.state.doc, e)
            }
            ,
            t.prototype.undo = function() {
                xh(this.cm)
            }
            ,
            t.prototype.redo = function() {
                Eh(this.cm)
            }
            ,
            t.prototype.coordsAtPos = function(e, t) {
                var n = this.cm
                  , i = n.coordsAtPos(lC(n.state.doc, e))
                  , r = {
                    top: i.top,
                    left: i.left,
                    bottom: i.bottom,
                    right: i.right
                };
                if (t) {
                    var o = n.contentDOM.getBoundingClientRect();
                    r.top -= o.top,
                    r.bottom -= o.top,
                    r.left -= o.left,
                    r.right -= o.left
                }
                return r
            }
            ,
            t.prototype.posAtCoords = function(e, t) {
                var n = this.cm
                  , i = n.posAtCoords({
                    x: e,
                    y: t
                });
                return null === i ? null : cC(n.state.doc, i)
            }
            ,
            t.prototype.getClickableTokenAt = function(e) {
                if (!e)
                    return null;
                var t = this.cm
                  , n = t.state.doc
                  , i = []
                  , r = n.line(e.line + 1)
                  , o = Ll(t.state)
                  , s = r.from;
                o.iterate({
                    from: r.from,
                    to: r.to,
                    enter: function(e, t, n) {
                        var r = e.prop(bd);
                        r && (s < t && i.push({
                            type: "",
                            from: s,
                            to: t
                        }),
                        i.push({
                            type: r,
                            from: t,
                            to: n
                        }),
                        s = n)
                    }
                }),
                s < r.to && i.push({
                    type: "",
                    from: s,
                    to: r.to
                });
                for (var a = lC(n, e), l = -1, c = 0; c < i.length; c++) {
                    var u = i[c];
                    if (u.from <= a && u.to >= a) {
                        l = c;
                        break
                    }
                }
                if (!(l < 0)) {
                    var h = function(e) {
                        return n.sliceString(e.from, e.to)
                    }
                      , p = i[l]
                      , d = p.type.split(" ")
                      , f = h(p)
                      , g = "hmd-internal-link"
                      , m = d.contains(g)
                      , v = d.contains("formatting-link") && ["[[", "]]"].contains(f);
                    if (m || v) {
                        for (var y = l - 1; y >= 0; ) {
                            var b = i[y].type;
                            if (!b || !b.contains(g))
                                break;
                            y--
                        }
                        for (var w = l + 1; w < i.length; ) {
                            var k = i[w].type;
                            if (!k || !k.contains(g))
                                break;
                            w++
                        }
                        var C = ""
                          , x = r.to
                          , E = r.from;
                        for (c = y + 1; c < w; c++) {
                            var S = i[c];
                            S.type.contains(g) && (C += h(S),
                            S.from < x && (x = S.from),
                            S.to > E && (E = S.to))
                        }
                        return {
                            type: "internal-link",
                            text: xd(C),
                            start: cC(n, x),
                            end: cC(n, E)
                        }
                    }
                    if (d.contains("url")) {
                        var L = h(p);
                        if ("(" === L ? L = h(p = i[l + 1]) : ")" === L && (L = h(p = i[l - 1])),
                        !p)
                            return null;
                        try {
                            L = decodeURI(L)
                        } catch (e) {
                            return null
                        }
                        var D = !0;
                        return d.contains("string") ? D = !Ed(L) : /^([a-z0-9+.-]+):/.test(L) || (L = "https://" + L),
                        {
                            type: D ? "external-link" : "internal-link",
                            text: L,
                            start: cC(n, p.from),
                            end: cC(n, p.to)
                        }
                    }
                    if (d.contains("hashtag")) {
                        var M = "";
                        for (x = r.to,
                        E = r.from,
                        c = 0; c < i.length; c++) {
                            var A = i[c];
                            if (A.type && A.type.split(" ").contains("hashtag"))
                                M += h(A),
                                A.from < x && (x = A.from),
                                A.to > E && (E = A.to);
                            else {
                                if (!(c < l))
                                    break;
                                M = "",
                                x = a,
                                E = a
                            }
                        }
                        if (M)
                            return {
                                type: "tag",
                                text: M,
                                start: cC(n, x),
                                end: cC(n, E)
                            }
                    }
                    return null
                }
            }
            ,
            t.commands = {
                goUp: Fc,
                goDown: Pc,
                goLeft: Sc,
                goRight: Lc,
                goStart: Zc,
                goEnd: eu,
                indentMore: wu,
                indentLess: ku,
                newlineAndIndent: vu,
                swapLineUp: du,
                swapLineDown: fu,
                deleteLine: mu,
                toggleFold: function(e) {
                    return oh(e) || rh(e)
                },
                foldAll: ah,
                unfoldAll: lh
            },
            t
        }(Nd)
          , mC = function() {
            function e(e) {
                var t = this;
                this.type = "source",
                this.scope = null,
                this.hoverPopover = null,
                this.editorEl = null,
                this.indentSizeCache = {},
                this.scrolling = !1,
                this.cursorPopupEl = null,
                this.view = e;
                var n = this.app = e.app
                  , i = this.scope = new nn(n.scope)
                  , r = this.editorEl = e.contentEl.createDiv("markdown-source-view cm-s-obsidian mod-cm6")
                  , o = this.cm = new wa({
                    parent: r
                })
                  , s = this.editor = new gC(o);
                this.suggests = new Qk(n,i,s),
                this.clear(),
                o.scrollDOM.addEventListener("scroll", this.onScroll.bind(this)),
                o.contentDOM.addEventListener("focus", (function() {
                    var e = t.app;
                    on.isMobile && e.mobileToolbar.open(),
                    t.clearHighlights()
                }
                )),
                o.contentDOM.addEventListener("blur", (function() {
                    var e = t.app;
                    on.isMobile && e.mobileToolbar.close()
                }
                )),
                r.addEventListener("click", this.onEditorClick.bind(this)),
                r.addEventListener("contextmenu", this.onEditorContextMenu.bind(this)),
                r.on("mouseover", ".cm-hmd-internal-link", this.onEditorLinkMouseover.bind(this))
            }
            return e.prototype.show = function() {
                this.editorEl.show()
            }
            ,
            e.prototype.hide = function() {
                this.editorEl.hide(),
                this.suggests.close()
            }
            ,
            e.prototype.clear = function() {
                var e = Ai.create({
                    extensions: [pC, dC.of(this.getDynamicExtensions())]
                });
                this.cm.setState(e)
            }
            ,
            e.prototype.get = function() {
                return this.cm.state.doc.toString()
            }
            ,
            e.prototype.set = function(e, t) {
                var n = this.cm;
                if (t) {
                    var i = Ai.create({
                        doc: e,
                        extensions: [pC, dC.of(this.getDynamicExtensions())]
                    });
                    n.setState(i)
                } else {
                    for (var r = n.state.doc, o = e.split(/\r?\n/g), s = r.lines, a = 0; a < o.length && a < s && o[a] === r.line(a + 1).text; )
                        a++;
                    if (a === o.length && a === s)
                        return;
                    for (var l = s - 1, c = o.length - 1; l > a && c > a && r.line(l + 1).text === o[c]; )
                        l--,
                        c--;
                    var u = {
                        line: a,
                        ch: 0
                    }
                      , h = {
                        line: l,
                        ch: r.line(l + 1).length
                    }
                      , p = o.slice(a, c + 1).join("\n");
                    a === Math.min(s, o.length) && (u = {
                        line: a - 1,
                        ch: r.line(a).length
                    },
                    o.length > s && (p = "\n" + p)),
                    n.dispatch({
                        changes: {
                            from: lC(r, u),
                            to: lC(r, h),
                            insert: p
                        }
                    }),
                    this.scrolling = !0
                }
            }
            ,
            e.prototype.getEphemeralState = function(e) {
                var t = this.cm;
                if (t.hasFocus) {
                    var n = t.state.doc
                      , i = cC(n, t.state.selection.main.anchor)
                      , r = cC(n, t.state.selection.main.head);
                    e.cursor = {
                        from: {
                            line: i.line,
                            ch: i.ch
                        },
                        to: {
                            line: r.line,
                            ch: r.ch
                        }
                    }
                }
            }
            ,
            e.prototype.setEphemeralState = function(e) {
                var t = this.editor
                  , n = e.cursor
                  , i = t.getScrollInfo();
                if (n && n.from && n.to ? (t.focus(),
                t.setSelection(n.from, n.to),
                t.scrollTo(i.left, i.top)) : e.focus && !on.isMobile && (t.focus(),
                t.scrollTo(i.left, i.top)),
                e.hasOwnProperty("scroll") && this.applyScroll(e.scroll),
                void 0 !== e.startLoc && void 0 !== e.endLoc) {
                    var r = e.startLoc
                      , o = e.endLoc
                      , s = {
                        line: r.line,
                        ch: r.col
                    }
                      , a = o ? {
                        line: o.line,
                        ch: o.col
                    } : {
                        line: t.lastLine(),
                        ch: t.getLine(t.lastLine()).length
                    };
                    this.highlightSearchMatch(s, a),
                    this.onScroll()
                } else if (void 0 !== e.line && e.line >= 0) {
                    var l = e.line;
                    s = {
                        line: l,
                        ch: 0
                    },
                    a = {
                        line: l,
                        ch: t.getLine(l).length
                    };
                    this.highlightSearchMatch(s, a),
                    t.setSelection(a, a),
                    this.onScroll()
                } else if (void 0 !== e.match) {
                    var c = e.match
                      , u = Rd(c.content, c.matches);
                    this.highlightSearchMatches(u),
                    this.onScroll()
                }
            }
            ,
            e.prototype.highlightSearchMatch = function(e, t, n, i) {
                void 0 === n && (n = !0),
                void 0 === i && (i = !0);
                var r = this.cm
                  , o = this.editor
                  , s = [];
                i && s.push(nC),
                s.push(eC.of([fC.range(o.posToOffset(e), o.posToOffset(t))])),
                r.dispatch({
                    effects: s
                }),
                n && o.scrollIntoView({
                    from: e,
                    to: t
                }, this.editorEl.offsetHeight / 4)
            }
            ,
            e.prototype.highlightSearchMatches = function(e, t, n) {
                void 0 === t && (t = !0),
                void 0 === n && (n = !0);
                var i = this.cm
                  , r = this.editor
                  , o = [];
                n && o.push(nC);
                for (var s = [], a = 0, l = e; a < l.length; a++) {
                    var c = l[a];
                    s.push(fC.range(r.posToOffset(c.from), r.posToOffset(c.to)))
                }
                if (o.push(eC.of(s)),
                i.dispatch({
                    effects: o
                }),
                t && e.length > 0) {
                    c = e[0];
                    r.scrollIntoView(c, this.editorEl.offsetHeight / 4)
                }
            }
            ,
            e.prototype.clearHighlights = function() {
                this.cm.dispatch({
                    effects: nC
                })
            }
            ,
            e.prototype.updateEvent = function() {
                var e = this
                  , t = !1
                  , n = Pe((function() {
                    t && e.view.requestSave(),
                    e.suggests.trigger(e.view.file, t),
                    t = !1
                }
                ), 50)
                  , i = Pe(this.updateLinkPopup.bind(this), 300);
                return function(r) {
                    for (var o = 0, s = r.transactions; o < s.length; o++) {
                        if ("set" !== s[o].annotation(yi.userEvent)) {
                            t = t || r.docChanged,
                            n(),
                            e.view.triggerQuickPreview(r.state.doc.toString());
                            break
                        }
                    }
                    if ((r.docChanged || r.selectionSet) && i(),
                    on.isAndroidApp && r.transactions.length > 0 && r.transactions.some((function(e) {
                        return "input" === e.annotation(yi.userEvent)
                    }
                    ))) {
                        var a = 0
                          , l = !1
                          , c = 0;
                        r.changes.iterChanges((function(e, t, n, i, r) {
                            a++,
                            l = 2 === r.lines && "" === r.line(2).text,
                            c = i
                        }
                        )),
                        1 === a && l && setTimeout((function() {
                            e.cm.dispatch({
                                changes: [{
                                    from: c - 1,
                                    to: c,
                                    insert: ""
                                }]
                            }),
                            e.app.vault.getConfig("smartIndentList") ? e.editor.newlineAndIndentContinueMarkdownList() : e.editor.exec("newlineAndIndent")
                        }
                        ), 0)
                    }
                }
            }
            ,
            e.prototype.getDynamicExtensions = function() {
                var e = this
                  , t = this.app.vault
                  , n = t.getConfig("readableLineLength");
                this.editorEl.toggleClass("is-readable-line-width", n);
                var i = []
                  , r = t.getConfig("foldHeading")
                  , o = t.getConfig("foldIndent")
                  , s = t.getConfig("showLineNumber");
                (r || o || s) && i.push(Bu({
                    fixed: !1
                })),
                (r || o) && (i.push(function(e={}) {
                    let t = Object.assign(Object.assign({}, fh), e)
                      , n = new gh(t,!0)
                      , i = new gh(t,!1)
                      , r = To.fromClass(class {
                        constructor(e) {
                            this.from = e.viewport.from,
                            this.markers = this.buildMarkers(e)
                        }
                        update(e) {
                            (e.docChanged || e.viewportChanged || e.startState.facet(Il) != e.state.facet(Il) || e.startState.field(eh, !1) != e.state.field(eh, !1)) && (this.markers = this.buildMarkers(e.view))
                        }
                        buildMarkers(e) {
                            let t = new Ui;
                            return e.viewportLines((r=>{
                                let o = th(e.state, r.from, r.to) ? i : Ql(e.state, r.from, r.to) ? n : null;
                                o && t.add(r.from, r.from, o)
                            }
                            )),
                            t.finish()
                        }
                    }
                    );
                    return [r, Iu({
                        class: "cm-foldGutter",
                        markers(e) {
                            var t;
                            return (null === (t = e.plugin(r)) || void 0 === t ? void 0 : t.markers) || qi.empty
                        },
                        initialSpacer: ()=>new gh(t,!1),
                        domEventHandlers: {
                            click: (e,t)=>{
                                let n = th(e.state, t.from, t.to);
                                if (n)
                                    return e.dispatch({
                                        effects: Xu.of(n)
                                    }),
                                    !0;
                                let i = Ql(e.state, t.from, t.to);
                                return !!i && (e.dispatch({
                                    effects: Ju.of(i)
                                }),
                                !0)
                            }
                        }
                    }), ph()]
                }({
                    openText: "▼",
                    closedText: "►"
                })),
                r && i.push(sC),
                o && i.push(oC)),
                s && i.push(function(e={}) {
                    return [Wu.of(e), Yu]
                }());
                var a = t.getConfig("useTab")
                  , c = t.getConfig("tabSize");
                i.push(Ai.tabSize.of(c));
                var u = a ? "\t" : new Array(c).fill(" ").join("");
                i.push(Rl.of(u)),
                t.getConfig("lineWrap") && i.push(wa.theme({
                    ".cm-content": {
                        whiteSpace: "pre-wrap",
                        wordBreak: "break-word",
                        overflowWrap: "break-word"
                    }
                }));
                var h = t.getConfig("spellcheck");
                i.push(wa.contentAttributes.of({
                    spellcheck: String(h),
                    autocorrect: "on",
                    autocapitalize: "on"
                })),
                i.push(wa.updateListener.of(this.updateEvent()));
                var p = {
                    key: "Tab",
                    run: function() {
                        return e.editor.indentList(),
                        !0
                    },
                    shift: function() {
                        return e.editor.unindentList(),
                        !0
                    }
                }
                  , d = function() {
                    return e.suggests.isShowingSuggestion()
                };
                return i.push(Ta.of(l(l(l(l(l(l(l([{
                    key: "ArrowUp",
                    run: d,
                    preventDefault: !0
                }, {
                    key: "ArrowDown",
                    run: d,
                    preventDefault: !0
                }, {
                    key: "Enter",
                    run: d,
                    preventDefault: !0
                }, {
                    key: "Tab",
                    run: d,
                    preventDefault: !0
                }, {
                    key: "Enter",
                    run: function() {
                        return !!t.getConfig("smartIndentList") && (e.editor.newlineAndIndentContinueMarkdownList(),
                        !0)
                    },
                    preventDefault: !0
                }, p], sc), Cu.filter((function(e) {
                    return "Shift-Alt-ArrowUp" !== e.key && "Shift-Alt-ArrowDown" !== e.key
                }
                ))), td), Bh), ch), Lu), hp))),
                i.push(wa.updateListener.of((function(t) {
                    if (t.docChanged || t.viewportChanged || t.geometryChanged) {
                        var n = t.view
                          , i = e.indentSizeCache;
                        n.requestMeasure({
                            read: function(e) {
                                var t = [];
                                return e.viewportLines((function(n) {
                                    var r = e.domAtPos(n.from).node
                                      , o = e.state.doc.lineAt(n.from)
                                      , s = Od.exec(o.text)
                                      , a = 0;
                                    if (s && s[0]) {
                                        var l = s[0];
                                        i.hasOwnProperty(l) || r.style.textIndent || (i[l] = e.coordsAtPos(n.from + l.length, -1).right - e.coordsAtPos(n.from, 1).left),
                                        a = i[l]
                                    }
                                    t.push({
                                        el: r,
                                        size: a
                                    })
                                }
                                )),
                                t
                            },
                            write: function(e) {
                                for (var t = 0, n = e; t < n.length; t++) {
                                    var i = n[t]
                                      , r = i.el
                                      , o = i.size;
                                    o > 0 ? (r.style.textIndent = -o + "px",
                                    r.style.paddingLeft = 4 + o + "px") : (r.style.textIndent = "",
                                    r.style.paddingLeft = "")
                                }
                            }
                        })
                    }
                }
                ))),
                i
            }
            ,
            e.prototype.updateOptions = function() {
                this.cm.dispatch({
                    effects: dC.reconfigure(this.getDynamicExtensions())
                })
            }
            ,
            e.prototype.showSearch = function(e) {
                void 0 === e && (e = !1)
            }
            ,
            e.prototype.getSelection = function() {
                return this.editor.getSelection()
            }
            ,
            e.prototype.onScroll = function() {
                this.suggests.reposition(),
                this.scrolling ? this.scrolling = !1 : this.view.onMarkdownScroll()
            }
            ,
            e.prototype.getScroll = function() {
                var e = this.cm
                  , t = e.scrollDOM.scrollTop
                  , n = e.visualLineAtHeight(t, 0);
                return e.state.doc.lineAt(n.from).number - 1 + Math.max(0, t - n.top) / (n.height || 1)
            }
            ,
            e.prototype.applyScroll = function(e) {
                if (Number.isNumber(e) && !isNaN(e)) {
                    var t = Math.floor(e)
                      , n = e - t;
                    this.scrolling = !0;
                    var i = this.cm
                      , r = i.state.doc.line(t + 1)
                      , o = i.visualLineAt(r.from, 0);
                    i.scrollDOM.scrollTop = o.top + n * o.height
                }
            }
            ,
            e.prototype.getFoldInfo = function() {
                for (var e = this.cm, t = e.state.doc, n = [], i = (e.state.field(eh, !1) || qi.empty).iter(); i.value; ) {
                    var r = cC(t, i.from)
                      , o = cC(t, i.to);
                    n.push({
                        from: r.line,
                        to: o.line
                    }),
                    i.next()
                }
                return n.length > 0 ? {
                    folds: n,
                    lines: t.lines
                } : null
            }
            ,
            e.prototype.applyFoldInfo = function(e) {
                var t = this.cm;
                if (!e || t.state.doc.lines === e.lines) {
                    lh(t);
                    var n = [];
                    if (e)
                        for (var i = 0, r = e.folds; i < r.length; i++) {
                            var o = r[i]
                              , s = t.state.doc.line(o.from + 1)
                              , a = Ql(t.state, s.from, s.to);
                            a && n.push(Ju.of(a), aC(t, a))
                        }
                    0 !== n.length && t.dispatch({
                        effects: n
                    })
                }
            }
            ,
            e.prototype.onEditorClick = function(e) {
                if ((0 === e.button || 1 === e.button) && (rn.isModifier(e, "Mod") || 1 === e.button)) {
                    var t = this.editor.getClickableTokenAt(this.editor.posAtMouse(e));
                    t && (this.view.triggerClickableToken(t, e.shiftKey || 1 === e.button),
                    e.preventDefault())
                }
            }
            ,
            e.prototype.onEditorContextMenu = function(e) {
                var t = this.editor.getClickableTokenAt(this.editor.posAtMouse(e));
                if (t) {
                    var n = new Zk(this.app);
                    "internal-link" === t.type ? this.app.workspace.handleLinkContextMenu(n, t.text, this.view.file.path) && (e.preventDefault(),
                    n.showAtMouseEvent(e)) : "external-link" === t.type ? this.app.workspace.handleExternalLinkContextMenu(n, t.text) && (e.preventDefault(),
                    n.showAtMouseEvent(e)) : t.type
                }
            }
            ,
            e.prototype.onEditorLinkMouseover = function(e, t) {
                if (He(e, t)) {
                    var n = this.editor.getClickableTokenAt(this.editor.posAtMouse(e));
                    n && "internal-link" === n.type && this.app.workspace.trigger("hover-link", {
                        event: e,
                        source: "editor",
                        hoverParent: this,
                        targetEl: t,
                        linktext: n.text,
                        sourcePath: this.view.file.path
                    })
                }
            }
            ,
            e.prototype.updateLinkPopup = function() {
                var e = this
                  , t = this
                  , n = t.cm
                  , i = t.editor
                  , r = t.cursorPopupEl;
                r && (r.detach(),
                this.cursorPopupEl = null);
                var o = i.getCursor("from")
                  , s = i.getClickableTokenAt(o);
                if (s) {
                    var a = 0 === s.start.line
                      , l = n.scrollDOM
                      , c = n.contentDOM;
                    this.cursorPopupEl = l.createDiv();
                    var u = this.cursorPopupEl.createDiv({
                        cls: "follow-link-popover"
                    });
                    "internal-link" === s.type ? u.setText(Te("editor.link-popover.tooltip-follow-link")) : "external-link" === s.type ? u.setText(Te("editor.link-popover.tooltip-open-link")) : "tag" === s.type && u.setText(Te("editor.link-popover.tooltip-search-tag")),
                    u.createDiv("popover-arrow"),
                    u.style.position = "absolute",
                    a && u.addClass("mod-bottom"),
                    u.style.cursor = "pointer",
                    u.style.zIndex = "var(--layer-popover)",
                    u.style.top = "0",
                    u.style.left = "0";
                    var h = i.coordsAtPos(s.start, !0)
                      , p = i.coordsAtPos(s.end, !0)
                      , d = u.offsetWidth
                      , f = u.offsetParent ? u.offsetParent.clientWidth : l.clientWidth
                      , g = c.offsetTop
                      , m = (h.left + p.left) / 2 + c.offsetLeft - d / 2;
                    g += a ? h.bottom + 8 : h.top - u.offsetHeight - 8,
                    p.top >= h.bottom && (m = h.left + c.offsetLeft - d / 2),
                    u.style.top = g + "px",
                    u.style.left = Math.clamp(m, 0, f - d) + "px",
                    u.onClickEvent((function(t) {
                        u.detach(),
                        e.view.triggerClickableToken(s, t.shiftKey || 1 === t.button),
                        t.preventDefault()
                    }
                    )),
                    "internal-link" === s.type && u.addEventListener("mouseover", (function(t) {
                        He(t, u) && e.app.workspace.trigger("hover-link", {
                            event: t,
                            source: "editor",
                            hoverParent: e,
                            targetEl: u,
                            linktext: s.text,
                            sourcePath: e.view.file.path
                        })
                    }
                    ))
                }
            }
            ,
            e.prototype.onDocumentClick = function() {
                this.suggests.close()
            }
            ,
            e.prototype.onResize = function() {
                var e = this
                  , t = e.editorEl
                  , n = e.cm
                  , i = e.editor
                  , r = this.view.contentEl
                  , o = r.clientWidth
                  , s = r.clientHeight;
                this.suggests.reposition(),
                t.style.width = o + "px",
                t.style.height = s + "px",
                n.contentDOM.style.paddingBottom = Math.round(s / 2) + "px",
                on.isMobile && i.hasFocus() && i.scrollIntoView({
                    from: i.getCursor("anchor"),
                    to: i.getCursor("head")
                })
            }
            ,
            e.prototype.onCssChange = function() {
                this.indentSizeCache = {}
            }
            ,
            e
        }();
        var vC = function() {
            function e() {
                this.map = new WeakMap
            }
            return e.prototype.get = function(e) {
                return this.map.get(e)
            }
            ,
            e.prototype.set = function(e, t) {
                return this.map.set(e, t),
                this
            }
            ,
            e.prototype.has = function(e) {
                return this.map.has(e)
            }
            ,
            e.prototype.delete = function(e) {
                return this.map.delete(e)
            }
            ,
            e
        }()
          , yC = 0
          , bC = function() {
            function e() {
                this._ = "_weakmap_" + yC++
            }
            return e.prototype.get = function(e) {
                return this.has(e) ? e[this._] : void 0
            }
            ,
            e.prototype.set = function(e, t) {
                return Object.defineProperty(e, this._, {
                    configurable: !0,
                    value: t
                }),
                this
            }
            ,
            e.prototype.has = function(e) {
                return Object.hasOwnProperty.call(e, this._)
            }
            ,
            e.prototype.delete = function(e) {
                return this.has(e) && delete e[this._]
            }
            ,
            e
        }();
        function wC() {
            return window.WeakMap ? new vC : new bC
        }
        var kC = function() {
            function e(e) {
                this.promise = null,
                this.worker = e,
                this.worker.onmessage = this.onReceiveMessageFromWorker.bind(this)
            }
            return e.prototype.onReceiveMessageFromWorker = function(e) {
                if (this.promise) {
                    var t = this.promise;
                    this.promise = null,
                    t.resolve(e.data)
                }
            }
            ,
            e.prototype.submit = function(e, t) {
                return this.promise ? null : (this.promise = zk(),
                this.worker.postMessage(e, t),
                this.promise.promise)
            }
            ,
            e
        }();
        function CC(e, t) {
            return o(this, void 0, Promise, (function() {
                var n;
                return s(this, (function(i) {
                    switch (i.label) {
                    case 0:
                        return [4, ajaxPromise({
                            url: e
                        })];
                    case 1:
                        return n = i.sent(),
                        [2, new Worker(window.URL.createObjectURL(new Blob([n])),t)]
                    }
                }
                ))
            }
            ))
        }
        function xC(e, t) {
            return o(this, void 0, void 0, (function() {
                return s(this, (function(n) {
                    if (ce)
                        return [2, CC(e, t)];
                    try {
                        return [2, new Worker(e,t)]
                    } catch (t) {
                        return [2, CC(e)]
                    }
                    return [2]
                }
                ))
            }
            ))
        }
        var EC = function(e) {
            function t(t) {
                var n = e.call(this) || this;
                return n.containerEl = t,
                n
            }
            return i(t, e),
            t
        }(Jk)
          , SC = function() {
            function e(e) {
                this.rendered = !1,
                this.height = 0,
                this.computed = !1,
                this.lines = 0,
                this.lineStart = 0,
                this.lineEnd = 0,
                this.used = !0,
                this.highlightRanges = null,
                this.level = 0,
                this.headingCollapsed = !1,
                this.shown = !0,
                this.usesFrontMatter = !1,
                this.html = e || "",
                this.el = createDiv(),
                null === e && (this.rendered = !0)
            }
            return e.prototype.render = function() {
                if (!this.rendered) {
                    var e = bt(this.html);
                    this.el.appendChild(e),
                    this.rendered = !0,
                    this.computed = !1
                }
            }
            ,
            e.prototype.resetCompute = function() {
                this.computed = !1;
                var e = this.highlightRanges;
                if (e)
                    for (var t = 0, n = e; t < n.length; t++) {
                        n[t].rects = null
                    }
            }
            ,
            e.prototype.setCollapsed = function(e) {
                this.headingCollapsed = e,
                this.el.toggleClass("is-collapsed", e)
            }
            ,
            e
        }();
        function LC(e, t) {
            var n = e.firstChild;
            n instanceof HTMLHeadingElement && t(n)
        }
        function DC(e, t) {
            for (var n = 0, i = e.findAll("li"); n < i.length; n++) {
                var r = i[n]
                  , o = r.findAll("ul, ol");
                o && o.length > 0 && t(r)
            }
        }
        var MC = null
          , AC = function() {
            function e(e, t, n) {
                this.previewEl = null,
                this.sizerEl = null,
                this.pusherEl = null,
                this.header = null,
                this.footer = null,
                this.cssClasses = null,
                this.sections = [],
                this.asyncSections = [],
                this.recycledSections = [],
                this.lastText = null,
                this.text = "",
                this.frontmatter = null,
                this.queued = null,
                this.rendered = null,
                this.lastRender = 0,
                this.lastScroll = 0,
                this.viewportHeight = 0,
                this.renderedWidth = 0,
                this.showAll = !1,
                this.renderExtra = 1,
                this.renderExtraMinPx = 500,
                this.parsing = !1,
                this.scrolling = !1,
                this.owner = e,
                this.workerPath = n;
                var i = this.previewEl = t.createDiv("markdown-preview-view")
                  , r = this.sizerEl = i.createDiv("markdown-preview-sizer markdown-preview-section")
                  , o = this.pusherEl = createDiv("markdown-preview-pusher");
                o.style.width = "1px",
                o.style.height = "0.1px",
                r.on("click", "a.internal-link", this.onInternalLinkClick.bind(this)),
                r.on("auxclick", "a.internal-link", this.onInternalLinkClick.bind(this)),
                r.on("contextmenu", "a.internal-link", this.onInternalLinkContextMenu.bind(this)),
                r.on("mouseover", "a.internal-link", this.onInternalLinkMouseover.bind(this)),
                r.on("click", "a.external-link", this.onExternalLinkClick.bind(this)),
                r.on("click", "a.footnote-link", this.onFootnoteLinkClick.bind(this)),
                r.on("click", ".task-list-item-checkbox", this.onCheckboxClick.bind(this)),
                r.on("click", "a.tag", this.onTagClick.bind(this)),
                r.on("click", "a.internal-query", this.onInternalQueryClick.bind(this)),
                r.on("click", ".heading-collapse-indicator", this.onHeadingCollapseClick.bind(this)),
                r.on("click", "li > .list-collapse-indicator", this.onListCollapseClick.bind(this)),
                r.on("click", "img", this.onImageClick.bind(this)),
                i.addEventListener("scroll", this.onScroll.bind(this), zt),
                this.onResize()
            }
            return e.prototype.set = function(e) {
                this.text = e,
                this.queueRender()
            }
            ,
            e.prototype.rerender = function(e) {
                if (this.lastText = null,
                e)
                    for (var t = 0, n = this.sections; t < n.length; t++) {
                        var i = n[t];
                        i.rendered = !1,
                        i.el.empty()
                    }
                this.queueRender()
            }
            ,
            e.prototype.clear = function() {
                this.sections = [],
                this.asyncSections = [],
                this.recycledSections = [],
                this.rendered = [],
                this.sizerEl.empty(),
                this.text = "",
                this.lastText = null,
                this.lastScroll = 0,
                this.previewEl.scrollTop = 0,
                this.renderedWidth = 0,
                this.owner.onRenderComplete(),
                this.cleanupParentComponents()
            }
            ,
            e.prototype.belongsToMe = function(e) {
                for (; e; ) {
                    if (e === this.previewEl)
                        return !0;
                    if (e.classList.contains("markdown-preview-view"))
                        return !1;
                    var t = e.parentElement;
                    if (!t)
                        return this.sections.some((function(t) {
                            return t.el === e
                        }
                        ));
                    e = t
                }
                return !1
            }
            ,
            e.prototype.getSectionForElement = function(e) {
                for (var t = 0, n = this.sections; t < n.length; t++) {
                    var i = n[t];
                    if (i.el.contains(e))
                        return i
                }
                return null
            }
            ,
            e.prototype.getSectionInfo = function(e) {
                if (!this.belongsToMe(e))
                    return null;
                var t = this.getSectionForElement(e);
                return t ? {
                    text: this.lastText || "",
                    lineStart: t.lineStart,
                    lineEnd: t.lineEnd
                } : null
            }
            ,
            e.prototype.getInternalLinkHref = function(e) {
                var t = e.getAttr("data-href") || e.getAttr("href");
                return t && this.belongsToMe(e) ? t : null
            }
            ,
            e.prototype.onInternalLinkClick = function(e, t) {
                if (0 === e.button || 1 === e.button) {
                    var n = this.getInternalLinkHref(t);
                    n && this.owner.onInternalLinkClick(e, t, n)
                }
            }
            ,
            e.prototype.onInternalLinkContextMenu = function(e, t) {
                var n = this.getInternalLinkHref(t);
                n && this.owner.onInternalLinkRightClick(e, t, n)
            }
            ,
            e.prototype.onInternalLinkMouseover = function(e, t) {
                var n = this.getInternalLinkHref(t);
                n && this.owner.onInternalLinkMouseover(e, t, n)
            }
            ,
            e.prototype.onExternalLinkClick = function(e, t) {
                if (0 === e.button || 1 === e.button) {
                    var n = t.getAttr("href");
                    n && this.belongsToMe(t) && this.owner.onExternalLinkClick(e, t, n)
                }
            }
            ,
            e.prototype.onFootnoteLinkClick = function(e, t) {
                if (0 === e.button && this.belongsToMe(t)) {
                    e.preventDefault();
                    var n = t.getAttr("href");
                    if (n && n.startsWith("#")) {
                        for (var i = "[data-footnote-id=" + (n = n.substr(1)) + "]", r = null, o = null, s = 0, a = this.sections; s < a.length; s++) {
                            var l = a[s];
                            if (o = l.el.find(i)) {
                                r = l;
                                break
                            }
                        }
                        if (!o || !r)
                            return;
                        this.showSection(r),
                        this.applyScrollSection(r),
                        this.highlightEl(o),
                        this.updateVirtualDisplay(),
                        o.scrollIntoView({
                            block: "center"
                        }),
                        this.owner.onScroll()
                    }
                }
            }
            ,
            e.prototype.onCheckboxClick = function(e, t) {
                if (this.belongsToMe(t)) {
                    e.preventDefault();
                    var n = parseInt(t.getAttribute("data-line"));
                    if (!(n < 0 || isNaN(n))) {
                        var i = this.getSectionContainer(t);
                        if (i) {
                            var r = i.lineStart + n;
                            this.owner.onCheckboxClick(e, t, r)
                        }
                    }
                }
            }
            ,
            e.prototype.onTagClick = function(e, t) {
                if (0 === e.button && this.belongsToMe(t)) {
                    e.preventDefault();
                    var n = t.getText();
                    this.owner.onTagClick(e, t, n)
                }
            }
            ,
            e.prototype.onInternalQueryClick = function(e, t) {
                if ((0 === e.button || 1 === e.button) && this.belongsToMe(t)) {
                    e.preventDefault();
                    var n = t.getAttr("src");
                    this.owner.onQueryClick(e, t, n)
                }
            }
            ,
            e.prototype.onHeadingCollapseClick = function(e, t) {
                if (0 === e.button && !e.defaultPrevented) {
                    var n = t.parentNode;
                    if (n && n instanceof HTMLHeadingElement && this.belongsToMe(n)) {
                        var i = this.getSectionContainer(n);
                        i && (i.setCollapsed(!i.headingCollapsed),
                        window.getSelection().removeAllRanges(),
                        this.queueRender(),
                        this.owner.onFoldChange())
                    }
                }
            }
            ,
            e.prototype.onListCollapseClick = function(e, t) {
                if (0 === e.button && !e.defaultPrevented) {
                    var n = t.parentNode;
                    if (n && n instanceof HTMLLIElement)
                        if (this.belongsToMe(n))
                            if (n.findAll("ul, ol")) {
                                e.preventDefault(),
                                n.toggleClass("is-collapsed", !n.hasClass("is-collapsed")),
                                window.getSelection().removeAllRanges();
                                var i = this.getSectionContainer(t);
                                i && (i.resetCompute(),
                                this.queueRender()),
                                this.owner.onFoldChange()
                            }
                }
            }
            ,
            e.prototype.onImageClick = function(e, t) {
                !e.defaultPrevented && on.isMobile && t instanceof HTMLImageElement && function(e) {
                    var t = e.cloneNode()
                      , n = document.body.createDiv("mobile-image-viewer", (function(e) {
                        e.appendChild(t)
                    }
                    ))
                      , i = t.width
                      , r = t.height
                      , o = t.naturalWidth
                      , s = t.naturalHeight
                      , a = 5
                      , l = 0
                      , c = 0
                      , u = 1
                      , h = function() {
                        var e = (u - 1) / u / 2
                          , n = Math.max(0, i * e)
                          , o = Math.max(0, r * e);
                        l = Math.clamp(l, -n, n),
                        c = Math.clamp(c, -o, o),
                        u = Math.clamp(u, 1, a),
                        t.style.transform = "scale(" + u + ") translate(" + l + "px, " + c + "px)"
                    }
                      , p = 0
                      , d = 0
                      , f = 0
                      , g = 0
                      , m = function() {
                        cancelAnimationFrame(g);
                        var e = Date.now()
                          , t = e - f;
                        l += Math.cos(d) * p * t,
                        c += Math.sin(d) * p * t,
                        h(),
                        (p -= Math.min(.003 * t, p)) > .01 && (f = e,
                        g = requestAnimationFrame(m))
                    };
                    t.addEventListener("load", (function() {
                        i = t.width,
                        r = t.height,
                        o = t.naturalWidth,
                        s = t.naturalHeight,
                        (a = 2 * Math.max(o / i, s / r)) < 1 && (a = 1),
                        h()
                    }
                    ));
                    var v = null
                      , y = null
                      , b = function(e) {
                        cancelAnimationFrame(g);
                        for (var t = Date.now(), n = t - f, i = Array.prototype.slice.call(e.touches), r = null, o = null, s = 0, a = i; s < a.length; s++) {
                            var b = a[s];
                            v && b.identifier === v.identifier && (r = b),
                            y && b.identifier === y.identifier && (o = b)
                        }
                        if (o && !r && (v = y,
                        r = o,
                        y = null,
                        o = null),
                        r ? i.remove(r) : i.length > 0 && (r = i.first(),
                        i.splice(0, 1)),
                        o ? i.remove(o) : i.length > 0 && (o = i.first(),
                        i.splice(0, 1)),
                        v && r && v.identifier === r.identifier) {
                            var w = window.innerWidth / 2
                              , k = window.innerHeight / 2;
                            if (y && o && y.identifier === o.identifier) {
                                var C = -l + ((v.clientX + y.clientX) / 2 - w) / u
                                  , x = -c + ((v.clientY + y.clientY) / 2 - k) / u
                                  , E = (r.clientX + o.clientX) / 2
                                  , S = (r.clientY + o.clientY) / 2
                                  , L = v.clientX - y.clientX
                                  , D = v.clientY - y.clientY
                                  , M = r.clientX - o.clientX
                                  , A = r.clientY - o.clientY
                                  , T = L * L + D * D
                                  , F = M * M + A * A;
                                if (0 !== T && 0 !== F) {
                                    var P = Math.sqrt(F / T)
                                      , O = u * P;
                                    l = (E - w) / O - C,
                                    c = (S - k) / O - x,
                                    u = O,
                                    h()
                                }
                            } else {
                                var I = (r.clientX - v.clientX) / u
                                  , N = (r.clientY - v.clientY) / u;
                                l += I,
                                c += N,
                                p = Math.sqrt(I * I + N * N) / n,
                                d = Math.atan2(N, I),
                                h()
                            }
                        }
                        y = o,
                        (v = r) || y || (g = requestAnimationFrame(m)),
                        f = t
                    };
                    n.addEventListener("touchstart", b),
                    n.addEventListener("touchend", b),
                    n.addEventListener("touchmove", b),
                    n.addEventListener("touchcancel", b),
                    n.addEventListener("click", (function(e) {
                        n.remove(),
                        e.preventDefault(),
                        cancelAnimationFrame(g)
                    }
                    ))
                }(t)
            }
            ,
            e.prototype.queueRender = function() {
                this.rendered || (this.rendered = []);
                var e = this.queued
                  , t = !this.parsing;
                if (e)
                    t && !e.high && (e.cancel(),
                    this.queued = ze(this.onRender.bind(this), 0));
                else {
                    var n = t ? 0 : 200;
                    this.queued = ze(this.onRender.bind(this), n)
                }
            }
            ,
            e.prototype.parseAsync = function() {
                var e = this;
                this.parsing || (this.parsing = !0,
                o(e, void 0, Promise, (function() {
                    var e, t, n, i, r, o;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return s.trys.push([0, 6, , 7]),
                            MC ? [3, 2] : [4, xC(this.workerPath)];
                        case 1:
                            e = s.sent(),
                            MC = new kC(e),
                            s.label = 2;
                        case 2:
                            return MC.promise ? [4, MC.promise.promise] : [3, 4];
                        case 3:
                            return s.sent(),
                            [3, 2];
                        case 4:
                            return t = this.text,
                            [4, MC.submit({
                                parseSections: t,
                                options: oy.globalOptions
                            })];
                        case 5:
                            return n = s.sent(),
                            i = this.previewEl,
                            r = i.scrollTop,
                            this.parseFinish(t, n),
                            i.scrollTop = r,
                            this.onRender(),
                            this.parsing = !1,
                            [3, 7];
                        case 6:
                            return o = s.sent(),
                            this.parsing = !1,
                            console.error(o),
                            this.parseSync(),
                            this.queueRender(),
                            [3, 7];
                        case 7:
                            return [2]
                        }
                    }
                    ))
                }
                )))
            }
            ,
            e.prototype.parseSync = function() {
                var e = this.text
                  , t = function(e) {
                    var t = cy(e)
                      , n = {
                        definitions: yy(t)
                    }
                      , i = []
                      , r = []
                      , o = []
                      , s = t.children
                      , a = uy(t);
                    t.children = [null];
                    for (var l = function(e) {
                        var a = s[e]
                          , l = 7;
                        "heading" === a.type && (l = a.depth || 1);
                        var c = a.position.start.line - 1
                          , u = a.position.end.line - 1;
                        _v(a, "checklist", (function(e) {
                            var t = e.position.start.line - 1;
                            e.data.hProperties["data-line"] = String(t - c)
                        }
                        )),
                        _v(a, "listItem", (function(e) {
                            var t = e.position.start.line - 1
                              , n = e.data = e.data || {};
                            (n.hProperties = n.hProperties || {})["data-line"] = String(t - c)
                        }
                        )),
                        t.children[0] = a;
                        var h = hy(t, n);
                        i.push(h),
                        r.push([c, u]),
                        o.push(l)
                    }, c = 0; c < s.length; c++)
                        l(c);
                    return {
                        sectionHtml: i,
                        lineNumbers: r,
                        levels: o,
                        frontmatter: a
                    }
                }(e);
                this.parseFinish(e, t)
            }
            ,
            e.prototype.parseFinish = function(e, t) {
                for (var n = t.sectionHtml, i = t.lineNumbers, r = t.levels, o = t.frontmatter, s = this, a = s.recycledSections, l = s.header, c = s.footer, u = this.sections, h = new wf, p = 0, d = u; p < d.length; p++) {
                    var f = d[p];
                    f !== l && f !== c && (f.used = !1,
                    h.add(f.html, f))
                }
                for (var g = [], m = 0; m < n.length; m++) {
                    var v = n[m]
                      , y = null
                      , b = h.get(v);
                    if (b && b.length > 0)
                        for (var w = 0, k = b; w < k.length; w++) {
                            var C = k[w];
                            if (!C.used) {
                                C.used = !0,
                                y = C;
                                break
                            }
                        }
                    var x = i[m]
                      , E = x[0]
                      , S = x[1];
                    y ? 0 : y = new SC(v);
                    var L = 0 === m ? 0 : E
                      , D = m === n.length - 1 ? S + 1 : i[m + 1][0];
                    y.lines = D - L,
                    y.lineStart = E,
                    y.lineEnd = S,
                    y.level = r[m],
                    g.push(y)
                }
                var M = JSON.stringify(this.frontmatter) === JSON.stringify(o);
                if (this.frontmatter = o,
                M)
                    for (var A = 0, T = g; A < T.length; A++) {
                        (B = T[A]).usesFrontMatter && (B.rendered = !1,
                        B.el.empty())
                    }
                var F = this.cssClasses
                  , P = this.previewEl;
                F && (P.removeClasses(F),
                this.cssClasses = null);
                var O = function(e) {
                    return e && gy(e, /^cssclass(es)?$/i, !0) || []
                }(o);
                O && O.length > 0 && (this.cssClasses = O,
                P.addClasses(O)),
                l && g.unshift(l),
                c && g.push(c),
                this.sections = g;
                var I = this.asyncSections;
                this.asyncSections = [];
                for (var N = 0, R = I; N < R.length; N++) {
                    var B = R[N];
                    g.contains(B) && this.asyncSections.push(B)
                }
                for (var z = 0, H = u; z < H.length; z++) {
                    (B = H[z]).rendered && !B.used && a.push(B)
                }
                this.lastText = e,
                this.lastRender = Date.now()
            }
            ,
            e.prototype.onRender = function() {
                var t = this;
                this.queued = null;
                var n = this.previewEl;
                if (!!n.offsetParent) {
                    var i = n.scrollTop;
                    this.lastText !== this.text && (this.text.length < 10240 ? this.parseSync() : this.parseAsync());
                    for (var r = this, o = r.sections, s = r.sizerEl, a = r.pusherEl, l = 0, c = performance.now(), u = !1, h = function(n) {
                        if (n.rendered)
                            return "continue";
                        l++;
                        var i = n.el;
                        n.render();
                        for (var r = 0, o = e.recyclers; r < o.length; r++) {
                            (0,
                            o[r])(i, p.recycledSections)
                        }
                        LC(i, (function(e) {
                            yk(e.createDiv({
                                cls: "heading-collapse-indicator collapse-indicator collapse-icon",
                                prepend: !0
                            }), Ry, 8)
                        }
                        )),
                        DC(i, (function(e) {
                            yk(e.createDiv({
                                cls: "list-collapse-indicator collapse-indicator collapse-icon",
                                prepend: !0
                            }), Ry, 8)
                        }
                        ));
                        var s = [];
                        if ((p.owner.postProcess(n, s, p.frontmatter),
                        s.length > 0 && (p.asyncSections.push(n),
                        Promise.all(s).then((function() {
                            t.asyncSections.remove(n),
                            n.resetCompute(),
                            t.queueRender()
                        }
                        ))),
                        l % 10 == 0) && performance.now() - c > 5)
                            return u = !0,
                            "break"
                    }, p = this, d = 0, f = o; d < f.length; d++) {
                        if ("break" === h(S = f[d]))
                            break
                    }
                    for (var g = [], m = !1, v = [a], y = 0, b = 0, w = o; b < w.length; b++) {
                        var k = (S = w[b]).el
                          , C = k.parentElement === s;
                        if (!S.computed && S.rendered ? (C = !0,
                        g.push(S),
                        m = !0,
                        y++) : m && (C = !0,
                        m = !1),
                        C && v.push(k),
                        y > 100) {
                            u = !0;
                            break
                        }
                    }
                    s.setChildrenInPlace(v);
                    for (var x = 0, E = g; x < E.length; x++) {
                        var S = E[x];
                        this.measureSection(S)
                    }
                    if (this.updateShownSections(),
                    this.updateVirtualDisplay(i),
                    u)
                        this.queueRender();
                    else if (this.lastText === this.text) {
                        if (this.recycledSections = [],
                        this.asyncSections.length > 0)
                            return;
                        if (this.rendered)
                            for (var L = 0, D = this.rendered; L < D.length; L++) {
                                (0,
                                D[L])()
                            }
                        this.rendered = null,
                        this.owner.onRenderComplete(),
                        this.cleanupParentComponents()
                    }
                } else
                    setTimeout((function() {
                        return t.queueRender()
                    }
                    ), 200)
            }
            ,
            e.prototype.updateShownSections = function() {
                for (var e = 7, t = 0, n = this.sections; t < n.length; t++) {
                    var i = n[t];
                    i.level > e ? i.shown = !1 : (i.shown = !0,
                    e = 7,
                    i.headingCollapsed && (e = i.level))
                }
            }
            ,
            e.prototype.updateVirtualDisplay = function(e) {
                var t = this
                  , n = t.showAll
                  , i = t.previewEl
                  , r = t.sizerEl
                  , o = t.pusherEl
                  , s = t.sections
                  , a = i.scrollTop;
                if ("number" == typeof e && (a = e),
                n) {
                    var l = [];
                    l.push(o);
                    for (var c = 0, u = s; c < u.length; c++) {
                        var h = u[c];
                        l.push(h.el)
                    }
                    return r.setChildrenInPlace(l),
                    r.style.minHeight = "",
                    o.style.marginBottom = "0",
                    void (i.scrollTop = a)
                }
                this.lastScroll = a;
                for (var p = i.clientHeight, d = a + p, f = o.offsetTop, g = Math.min(a, i.scrollHeight - p), m = Math.max(p * this.renderExtra, this.renderExtraMinPx), v = g - m, y = d + m, b = 0, w = 0, k = 0; k < s.length; k++) {
                    (N = (h = s[k]).height) > 0 && (b += N,
                    w++)
                }
                var C = 0;
                w > 0 && (C = b / w);
                var x = 0
                  , E = 0
                  , S = [];
                S.push(o);
                var L = null
                  , D = null
                  , M = window.getSelection();
                if (M.rangeCount > 0) {
                    var A = M.getRangeAt(0);
                    !A.collapsed && i.contains(A.startContainer) && i.contains(A.endContainer) && (L = A.startContainer,
                    D = A.endContainer)
                }
                var T = -1
                  , F = -1
                  , P = -1
                  , O = -1;
                for (k = 0; k < s.length; k++) {
                    var I = (h = s[k]).el;
                    if (L && (I === L || I.contains(L)) && (P = k),
                    D && (I === D || I.contains(D)) && (O = k),
                    h.shown) {
                        var N = h.height;
                        if (h.computed)
                            (z = E + N) >= v && E <= y && (-1 === T && (T = k),
                            F = k),
                            E = z;
                        else
                            E += N,
                            0 === N && (E += C)
                    }
                }
                var R = T
                  , B = F;
                -1 !== P && -1 !== O && (R = Math.min(R, P),
                B = Math.max(B, O)),
                R < 0 && (R = 0),
                ++B > s.length - 1 && (B = s.length - 1),
                E = 0;
                for (k = 0; k < s.length; k++) {
                    I = (h = s[k]).el;
                    h.shown && R <= k && k <= B ? (S.push(I)) : (I.parentNode === r && I.detach());
                    var z;
                    N = h.height;
                    h.computed || 0 !== N || (N = C),
                    h.shown || (N = 0),
                    k === R && (x = E),
                    E = z = E + N
                }
                x > 0 && (x -= f) < 0 && (x = 0),
                E -= f,
                E = Math.max(0, E),
                o.style.marginBottom = x + "px",
                r.style.minHeight = E - 1 + "px",
                r.setChildrenInPlace(S),
                B !== s.length - 1 && B--;
                for (k = R; k <= B; k++) {
                    (h = s[k]).shown && this.measureSection(h)
                }
                i.scrollTop !== a && (i.scrollTop = a),
                this.renderHighlights(T, F)
            }
            ,
            e.prototype.renderHighlights = function(e, t) {
                var n = this.sections
                  , i = this.sizerEl
                  , r = i.offsetParent;
                if (r) {
                    for (var o = r.getBoundingClientRect(), s = [], a = e; a <= t; a++)
                        if (!(a < 0 || a >= n.length)) {
                            var l = n[a];
                            if (l.shown) {
                                var c = l.highlightRanges;
                                if (c && 0 !== c.length) {
                                    var u = [];
                                    jt(l.el, u);
                                    for (var h = u.map((function(e) {
                                        return e.textContent
                                    }
                                    )), p = 0, d = c; p < d.length; p++) {
                                        var f = d[p]
                                          , g = f.rects;
                                        if (!g) {
                                            g = f.rects = [];
                                            var m = Wt(u, h, f.start, f.end);
                                            if (!m)
                                                continue;
                                            for (var v = m.getClientRects(), y = 0; y < v.length; y++) {
                                                var b = v[y];
                                                g.push({
                                                    x: b.x - o.x + r.scrollLeft,
                                                    y: b.y - o.y + r.scrollTop,
                                                    w: b.width,
                                                    h: b.height
                                                })
                                            }
                                        }
                                        for (var w = 0, k = g; w < k.length; w++) {
                                            var C = k[w]
                                              , x = createDiv();
                                            f.active && x.addClass("is-active"),
                                            x.style.left = C.x + "px",
                                            x.style.top = C.y + "px",
                                            x.style.width = C.w + "px",
                                            x.style.height = C.h + "px",
                                            s.push(x)
                                        }
                                    }
                                }
                            }
                        }
                    if (s.length > 0) {
                        var E = createDiv("search-highlight");
                        E.setChildrenInPlace(s),
                        i.appendChild(E)
                    }
                }
            }
            ,
            e.prototype.measureSection = function(e) {
                if (e.rendered) {
                    var t = e === this.sections[0]
                      , n = e.el
                      , i = n.nextSibling
                      , r = t ? 0 : n.offsetTop
                      , o = i ? i.offsetTop : n.offsetTop + n.offsetHeight;
                    e.height = o - r,
                    e.computed = !0
                }
            }
            ,
            e.prototype.onRendered = function(e) {
                this.rendered ? this.rendered.push(e) : e()
            }
            ,
            e.prototype.onResize = function() {
                this.updateEndPadding();
                var e = this.sections
                  , t = this.previewEl;
                this.viewportHeight = t.clientHeight;
                var n = t.offsetWidth;
                if (n !== this.renderedWidth) {
                    this.renderedWidth = n;
                    for (var i = 0, r = e; i < r.length; i++) {
                        r[i].resetCompute()
                    }
                    this.queueRender()
                } else
                    this.updateVirtualDisplay()
            }
            ,
            e.prototype.updateEndPadding = function() {
                var e = this.previewEl
                  , t = this.sizerEl
                  , n = e.clientHeight;
                t.style.paddingBottom = Math.round(n / 2) + "px"
            }
            ,
            e.prototype.foldAllHeadings = function() {
                for (var e = function(e) {
                    LC(e.el, (function() {
                        e.setCollapsed(!0)
                    }
                    ))
                }, t = 0, n = this.sections; t < n.length; t++) {
                    e(n[t])
                }
                this.updateShownSections(),
                this.updateVirtualDisplay(),
                this.owner.onFoldChange()
            }
            ,
            e.prototype.unfoldAllHeadings = function() {
                for (var e = 0, t = this.sections; e < t.length; e++) {
                    var n = t[e];
                    n.setCollapsed(!1),
                    n.shown = !0
                }
                this.updateVirtualDisplay(),
                this.owner.onFoldChange()
            }
            ,
            e.prototype.foldAllLists = function() {
                for (var e = function(e) {
                    DC(e.el, (function(t) {
                        t.addClass("is-collapsed"),
                        e.resetCompute()
                    }
                    ))
                }, t = 0, n = this.sections; t < n.length; t++) {
                    e(n[t])
                }
                this.queueRender(),
                this.owner.onFoldChange()
            }
            ,
            e.prototype.unfoldAllLists = function() {
                for (var e = function(e) {
                    DC(e.el, (function(t) {
                        t.removeClass("is-collapsed"),
                        e.resetCompute()
                    }
                    ))
                }, t = 0, n = this.sections; t < n.length; t++) {
                    e(n[t])
                }
                this.queueRender(),
                this.owner.onFoldChange()
            }
            ,
            e.prototype.getFoldInfo = function() {
                var e = [];
                if (this.frontmatter)
                    for (var t = 0, n = this.sections; t < n.length; t++) {
                        var i = (u = n[t]).el.find(".frontmatter-container");
                        if (i) {
                            i.hasClass("is-collapsed") && e.push({
                                from: u.lineStart,
                                to: u.lineEnd
                            });
                            break
                        }
                    }
                for (var r = function(t) {
                    LC(t.el, (function() {
                        t.headingCollapsed && e.push({
                            from: t.lineStart,
                            to: t.lineEnd
                        })
                    }
                    ))
                }, o = 0, s = this.sections; o < s.length; o++) {
                    r(u = s[o])
                }
                for (var a = function(t) {
                    DC(t.el, (function(n) {
                        if (n.hasClass("is-collapsed")) {
                            var i = parseInt(n.getAttribute("data-line"));
                            if (i < 0 || isNaN(i))
                                return;
                            var r = t.lineStart + i;
                            e.push({
                                from: r,
                                to: r
                            })
                        }
                    }
                    ))
                }, l = 0, c = this.sections; l < c.length; l++) {
                    var u;
                    a(u = c[l])
                }
                return e.length > 0 ? {
                    folds: e,
                    lines: this.text.match(/^/gm).length
                } : null
            }
            ,
            e.prototype.applyFoldInfo = function(e) {
                var t = this;
                e && e.lines !== this.text.match(/^/gm).length || this.onRendered((function() {
                    var n = new Set;
                    if (e)
                        for (var i = 0, r = e.folds; i < r.length; i++) {
                            var o = r[i];
                            n.add(o.from)
                        }
                    if (t.frontmatter)
                        for (var s = 0, a = t.sections; s < a.length; s++) {
                            var l = (g = a[s]).el.find(".frontmatter-container");
                            if (l) {
                                l.toggleClass("is-collapsed", n.has(g.lineStart));
                                break
                            }
                        }
                    for (var c = function(e) {
                        LC(e.el, (function() {
                            e.setCollapsed(n.has(e.lineStart))
                        }
                        ))
                    }, u = 0, h = t.sections; u < h.length; u++) {
                        c(g = h[u])
                    }
                    for (var p = function(e) {
                        DC(e.el, (function(t) {
                            var i = parseInt(t.getAttribute("data-line"));
                            if (!(i < 0 || isNaN(i))) {
                                var r = e.lineStart + i
                                  , o = n.has(r);
                                t.hasClass("is-collapsed") !== o && (t.toggleClass("is-collapsed", o),
                                e.resetCompute())
                            }
                        }
                        ))
                    }, d = 0, f = t.sections; d < f.length; d++) {
                        var g;
                        p(g = f[d])
                    }
                    t.queueRender()
                }
                ))
            }
            ,
            e.prototype.onScroll = function() {
                var e = this
                  , t = e.previewEl
                  , n = e.lastScroll
                  , i = e.viewportHeight
                  , r = t.scrollTop;
                Math.abs(n - r) > Math.max(i * this.renderExtra, this.renderExtraMinPx) / 2 && this.updateVirtualDisplay(r),
                this.scrolling ? this.scrolling = !1 : this.owner.onScroll()
            }
            ,
            e.prototype.getScroll = function() {
                var e = this.previewEl
                  , t = this.sections;
                if (0 === t.length)
                    return null;
                for (var n = e.scrollTop, i = 0, r = 0, o = 0; o < t.length; o++) {
                    var s = t[o];
                    if (!s.computed)
                        return null;
                    if (!(n > r + s.height)) {
                        var a = s.height / s.lines
                          , l = n - r
                          , c = Math.floor(l / a);
                        return (i += c) + (l / a - c)
                    }
                    i += s.lines,
                    s.shown && (r += s.height)
                }
            }
            ,
            e.prototype.applyScroll = function(e, t) {
                if (!Number.isNumber(e) || isNaN(e))
                    return !1;
                if (this.text !== this.lastText)
                    return !1;
                var n = Math.floor(e)
                  , i = e - n;
                this.scrolling = !0;
                for (var r = this.sections, o = t || {}, s = o.highlight, a = o.center, l = 0, c = 0, u = 0; u < r.length; u++) {
                    var h = r[u];
                    if (!h.computed)
                        return !1;
                    if (!(l + h.lines <= n)) {
                        if (!h.shown && (this.showSection(h),
                        h.shown))
                            return this.applyScroll(e, t);
                        var p = h.height / h.lines
                          , d = n - l
                          , f = 0;
                        a && (f -= (this.previewEl.clientHeight - p) / 2);
                        var g = Math.max(0, c + p * (d + i) + f);
                        this.updateVirtualDisplay(g);
                        for (var m = null, v = 0, y = 0, b = h.el.findAll("li"); y < b.length; y++) {
                            var w = b[y];
                            if (this.belongsToMe(w)) {
                                var k = parseInt(w.getAttribute("data-line"));
                                if (!(k < 0 || isNaN(k))) {
                                    if (!(k <= d)) {
                                        var C = k - v;
                                        if (C > 0) {
                                            var x = m ? m.offsetTop : h.el.offsetTop;
                                            p = (w.offsetTop - x) / C
                                        }
                                        break
                                    }
                                    v = k,
                                    m = w,
                                    p = 0
                                }
                            }
                        }
                        if (m) {
                            0 === p && (p = (h.el.offsetTop + h.height - m.offsetTop) / (h.lines - v));
                            var E = m.offsetTop - h.el.offsetTop;
                            g = Math.max(0, c + E + p * (d - v + i) + f),
                            this.previewEl.scrollTop = g
                        }
                        return s && this.highlightEl(m || h.el),
                        !0
                    }
                    l += h.lines,
                    h.shown && (c += h.height)
                }
                return !0
            }
            ,
            e.prototype.getSectionTop = function(e) {
                for (var t = this.sections, n = 0, i = 0; i < t.length; i++) {
                    var r = t[i];
                    if (r === e)
                        return n;
                    var o = r.height;
                    !r.computed && 0 === o && i > 0 && (o = n / i),
                    r.shown || (o = 0),
                    n += o
                }
                return -1
            }
            ,
            e.prototype.showSection = function(e) {
                if (!e.shown) {
                    var t = this.sections
                      , n = t.indexOf(e);
                    if (-1 !== n) {
                        for (var i = e.level; n >= 0; ) {
                            var r = t[n];
                            r.headingCollapsed && r.level < i && (r.setCollapsed(!1),
                            i = r.level),
                            n--
                        }
                        this.updateShownSections(),
                        this.updateVirtualDisplay()
                    }
                }
            }
            ,
            e.prototype.applyScrollSection = function(e) {
                var t = this.previewEl
                  , n = this.getSectionTop(e);
                if (-1 !== n)
                    return this.scrolling = !0,
                    t.scrollTop = n,
                    !0
            }
            ,
            e.prototype.applyScrollDelayed = function(e, t, n) {
                var i = this;
                this.applyScroll(e, t) ? n && n() : this.onRendered((function() {
                    i.applyScroll(e, t),
                    n && n()
                }
                ))
            }
            ,
            e.prototype.highlightEl = function(e) {
                for (var t = 0, n = this.sections; t < n.length; t++)
                    for (var i = 0, r = n[t].el.findAllSelf(".is-flashing"); i < r.length; i++) {
                        r[i].removeClass("is-flashing")
                    }
                e.addClass("is-flashing"),
                setTimeout((function() {
                    e.removeClass("is-flashing")
                }
                ), 3e3)
            }
            ,
            e.prototype.getSectionContainer = function(e) {
                for (var t = null, n = 0, i = this.sections; n < i.length; n++) {
                    var r = i[n];
                    if (r.el.contains(e)) {
                        t = r;
                        break
                    }
                }
                return t
            }
            ,
            e.prototype.selectRange = function(e) {
                var t = this.sizerEl
                  , n = this.previewEl
                  , i = e.section
                  , r = e.start
                  , o = e.end;
                this.showSection(i);
                var s = this.getSectionTop(i);
                t.contains(i.el) || (n.scrollTop = s,
                this.updateVirtualDisplay());
                var a = function(e, t, n) {
                    var i = [];
                    jt(e, i);
                    var r = i.map((function(e) {
                        return e.textContent || ""
                    }
                    ));
                    return Wt(i, r, t, n)
                }(i.el, r, o);
                if (a) {
                    var l = function(e) {
                        for (; e; ) {
                            if (e instanceof HTMLElement)
                                return e;
                            e = e.parentNode
                        }
                        return null
                    }(a.startContainer);
                    if (l) {
                        var c = n.scrollTop + 40
                          , u = c + n.clientHeight - 40;
                        (l.offsetTop < c || l.offsetTop + l.offsetHeight > u) && l.scrollIntoView({
                            behavior: "auto",
                            block: "center",
                            inline: "nearest"
                        })
                    }
                    this.updateVirtualDisplay()
                }
            }
            ,
            e.prototype.addHeader = function() {
                this.header = new SC(null),
                this.sections.unshift(this.header),
                this.queueRender()
            }
            ,
            e.prototype.removeHeader = function() {
                this.sections.remove(this.header),
                this.header = null,
                this.queueRender()
            }
            ,
            e.prototype.addFooter = function() {
                this.footer = new SC(null),
                this.sections.push(this.footer),
                this.queueRender()
            }
            ,
            e.prototype.removeFooter = function() {
                this.sections.remove(this.footer),
                this.footer = null,
                this.queueRender()
            }
            ,
            e.prototype.updateHeader = function() {
                var e = this.header;
                e && (e.resetCompute(),
                this.queueRender())
            }
            ,
            e.prototype.updateFooter = function() {
                var e = this.footer;
                e && (e.resetCompute(),
                this.queueRender())
            }
            ,
            e.prototype.cleanupParentComponents = function() {
                for (var e = [], t = 0, n = this.owner._children; t < n.length; t++) {
                    (o = n[t])instanceof EC && (this.belongsToMe(o.containerEl) || e.push(o))
                }
                for (var i = 0, r = e; i < r.length; i++) {
                    var o = r[i];
                    this.owner.removeChild(o)
                }
            }
            ,
            e.registerPostProcessor = function(e, t) {
                e.sortOrder = t,
                this.postProcessors.push(e),
                this.postProcessors.sort((function(e, t) {
                    return (e.sortOrder || 0) - (t.sortOrder || 0)
                }
                ))
            }
            ,
            e.unregisterPostProcessor = function(e) {
                this.postProcessors.remove(e)
            }
            ,
            e.registerRecycler = function(e) {
                this.recyclers.push(e)
            }
            ,
            e.unregisterRecycler = function(e) {
                this.recyclers.remove(e)
            }
            ,
            e.createCodeBlockPostProcessor = function(e, t) {
                return function(n, i) {
                    var r = n.findAll("code.language-" + e);
                    if (0 !== r.length)
                        for (var o = 0, s = r; o < s.length; o++) {
                            var a = s[o]
                              , l = gf(a.innerHTML)
                              , c = a.parentElement
                              , u = createDiv("block-language-" + e);
                            c.replaceWith(u);
                            var h = t(l, u, i);
                            h && i.promises.push(h)
                        }
                }
            }
            ,
            e.postProcessors = [],
            e.recyclers = [],
            e
        }();
        AC.registerPostProcessor((function(e, t) {
            var n = e.find(".frontmatter")
              , i = t.frontmatter;
            if (n) {
                var r = createDiv("frontmatter-container");
                n.parentNode.insertBefore(r, n.nextSibling);
                var o = r.createDiv({
                    cls: "frontmatter-container-header",
                    text: "Metadata"
                });
                if (null === i)
                    return n.addClass("mod-failed"),
                    n.createDiv({
                        cls: "mod-error",
                        prepend: !0,
                        text: "Invalid YAML"
                    }),
                    void o.appendText(" (Invalid YAML)");
                if (!i)
                    return;
                yk(o.createDiv({
                    cls: "frontmatter-collapse-indicator collapse-indicator collapse-icon",
                    prepend: !0
                }), Ry, 6),
                o.addEventListener("click", (function() {
                    r.toggleClass("is-collapsed", !r.hasClass("is-collapsed"))
                }
                ));
                var s = my(i);
                if (s && s.length > 0) {
                    var a = r.createDiv({
                        cls: "frontmatter-section mod-aliases"
                    });
                    a.createSpan({
                        cls: "frontmatter-section-label",
                        text: "Aliases"
                    });
                    for (var l = a.createDiv("frontmatter-section-aliases"), c = 0, u = s; c < u.length; c++) {
                        var h = u[c];
                        l.createSpan({
                            cls: "frontmatter-alias",
                            text: h
                        }, (function(e) {
                            e.createSpan({
                                cls: "frontmatter-alias-icon",
                                prepend: !0
                            }, (function(e) {
                                yk(e, Wb, 11)
                            }
                            ))
                        }
                        ))
                    }
                }
                var p = vy(i);
                if (p && p.length > 0) {
                    var d = r.createDiv("frontmatter-section mod-tags");
                    d.createSpan({
                        cls: "frontmatter-section-label",
                        text: "Tags"
                    });
                    for (var f = d.createDiv("frontmatter-section-tags"), g = 0, m = p; g < m.length; g++) {
                        var v = m[g];
                        f.createEl("a", {
                            cls: "tag",
                            href: v,
                            attr: {
                                target: "_blank",
                                rel: "noopener"
                            },
                            text: v
                        })
                    }
                }
                s || p || r.hide()
            }
        }
        )),
        AC.registerPostProcessor((function(e, t) {
            for (var n = 0, i = e.findAll("[data-footnote-id]"); n < i.length; n++) {
                var r = i[n]
                  , o = r.getAttr("data-footnote-id");
                r.setAttr("data-footnote-id", o + "-" + t.docId),
                r.id = o + "-" + t.docId
            }
            for (var s = 0, a = e.findAll("a.footnote-link"); s < a.length; s++) {
                var l = a[s]
                  , c = l.getAttr("href");
                l.setAttr("href", c + "-" + t.docId)
            }
        }
        ));
        var TC = _t("/lib/mermaid.min.js", {
            after: function() {
                mermaid.initialize({
                    startOnLoad: !1,
                    theme: "base",
                    themeCSS: "foreignObject{overflow: visible}#arrowhead,#sequencenumber,.cluster text,.label text,text,text.actor{fill:var(--text-normal)}line{stroke:var(--text-normal)}g>g>circle,g>g>path{stroke:var(--background-accent)}color:var(--text-normal)}.label rect{display:none}.cluster rect{stroke-width:1px}.node circle,.node ellipse,.node path,.node polygon,.node rect{fill:var(--background-secondary-alt);stroke:var(--background-modifier-border);stroke-width:1px}.node .label{text-align:center}.node.clickable{cursor:pointer}.arrowheadPath{fill:var(--text-muted)}.edgePath .path{stroke:var(--text-muted);stroke-width:1.5px}.edgeLabel{background-color:var(--background-primary);text-align:center}.cluster rect{fill:var(--background-primary-alt);stroke:var(--background-modifier-border)}div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-size:12px;background:var(--background-secondary);border:1px solid var(--interactive-accent);border-radius:2px;pointer-events:none;z-index:100}.actor{stroke:var(--background-modifier-border);fill:var(--background-secondary-alt);font-family:inherit!important}text.actor{stroke:none}.actor-line{stroke:var(--text-muted)}.messageLine0,.messageLine1{stroke-width:1.5;stroke-dasharray:'2 2';stroke:var(--text-normal)}.sequenceNumber{fill:#fff}#crosshead path{fill:var(--text-normal)!important;stroke:var(--text-normal)!important}.messageText{fill:var(--text-normal);stroke:none;font-family:inherit!important}.labelBox{stroke:var(--background-modifier-border);fill:var(--background-secondary-alt)}.labelText,.loopText{fill:var(--text-normal);stroke:none}.loopLine{stroke-width:2;stroke-dasharray:'2 2';stroke:var(--background-modifier-border)}.note{stroke:#645c10;fill:#f3edb3}.noteText{fill:#000;stroke:none;font-size:14px}.activation0,.activation1,.activation2{fill:var(--background-secondary) stroke: var(--text-muted)}.section{stroke:none;opacity:.2}.section0,.section2{fill:var(--text-accent)}.section1,.section3{fill:#fff;opacity:.2}.sectionTitle0,.sectionTitle1,.sectionTitle2,.sectionTitle3{fill:var(--text-normal)}.sectionTitle{text-anchor:start;font-size:11px;text-height:14px}.grid .tick{stroke:var(--background-primary-alt);opacity:.8;shape-rendering:crispEdges}.grid path{stroke-width:0}.today{fill:none;stroke:#d42;stroke-width:2px}.task{stroke-width:2}.taskText{text-anchor:middle}.taskText:not([font-size]){font-size:11px}.taskTextOutsideRight{fill:var(--text-normal);text-anchor:start;font-size:11px}.taskTextOutsideLeft{fill:var(--text-normal);text-anchor:end;font-size:11px}.task.clickable,g.clickable{cursor:pointer}.taskText.clickable,.taskTextOutsideLeft.clickable,.taskTextOutsideRight.clickable{cursor:pointer;fill:#003163!important;font-weight:700}.taskText0,.taskText1,.taskText2,.taskText3{fill:#fff}.task0,.task1,.task2,.task3{fill:var(--interactive-accent);stroke:var(--interactive-accent)}.taskTextOutside0,.taskTextOutside1,.taskTextOutside2,.taskTextOutside3{fill:var(--text-normal)}.active0,.active1,.active2,.active3,g.classGroup rect,g.stateGroup rect{fill:var(--background-primary-alt); stroke: var(--background-modifier-border)}g.classGroup rect,g.stateGroup rect{stroke:var(--background-modifier-border)}.activeText0,.activeText1,.activeText2,.activeText3{fill:var(--text-normal)!important}.done0,.done1,.done2,.done3{stroke:var(--text-muted);fill:#bbb;stroke-width:2}.doneText0,.doneText1,.doneText2,.doneText3{fill:var(--text-normal)!important}.crit0,.crit1,.crit2,.crit3{stroke:#b1361b;fill:#d42;stroke-width:2}.activeCrit0,.activeCrit1,.activeCrit2,.activeCrit3,.classLabel .box{stroke:#b1361b;fill:var(--background-secondary-alt);stroke-width:2}.classLabel .box{stroke:none;stroke-width:0;opacity:.5}.doneCrit0,.doneCrit1,.doneCrit2,.doneCrit3{stroke:#b1361b;fill:#bbb;stroke-width:2;cursor:pointer;shape-rendering:crispEdges}.milestone{transform:rotate(45deg) scale(.8,.8)}.milestoneText{font-style:italic}.activeCritText0,.activeCritText1,.activeCritText2,.activeCritText3,.doneCritText0,.doneCritText1,.doneCritText2,.doneCritText3{fill:var(--text-normal)!important}.titleText{text-anchor:middle;font-size:18px;fill:var(--text-normal)}g.classGroup text{fill:var(--text-normal);stroke:none;font-size:11px}g.classGroup text .title{font-weight:bolder}#aggregationEnd,#aggregationStart,#compositionEnd,#compositionStart,.relation,g.classGroup line,g.stateGroup line{stroke:var(--background-modifier-border);stroke-width:1}.classLabel .label{font-size:11px}.relation{fill:none}.dashed-line{stroke-dasharray:3}#compositionEnd,#compositionStart{fill:var(--background-modifier-border)}#aggregationEnd,#aggregationStart{fill:var(--background-secondary-alt)}#dependencyEnd,#dependencyStart,#extensionEnd,#extensionStart{fill:var(--background-modifier-border);stroke:var(--background-modifier-border);stroke-width:1}.branch-label,.commit-id,.commit-msg{fill:#d3d3d3;color:#d3d3d3}.pieTitleText{text-anchor:middle;font-size:25px;fill:var(--text-normal)}.state-note text,g.stateGroup text{stroke:none;font-size:10px}g.stateGroup .state-title{font-weight:bolder;fill:var(--text-normal)}.transition{stroke:var(--background-modifier-border);stroke-width:1;fill:none}.stateGroup .composit{fill:#fff;border-bottom:1px}.stateGroup .alt-composit{fill:#e0e0e0;border-bottom:1px}.state-note{stroke:#645c10;fill:#f3edb3}.state-note text{fill:#000}.stateLabel .box{stroke:none;stroke-width:0;fill:var(--background-secondary-alt);opacity:.5}.stateLabel text{fill:var(--text-normal);font-size:10px;font-weight:700}.node circle.state-start{fill:var(--text-normal);stroke:var(--text-normal)}.node circle.state-end{stroke:var(--background-primary);stroke-width:2}#statediagram-barbEnd,g.stateGroup text{fill:var(--background-modifier-border)}.statediagram-cluster rect{stroke-width:1px}.statediagram-cluster rect,.statediagram-state .divider{stroke:var(--background-modifier-border)}.statediagram-cluster rect,.statediagram-cluster.statediagram-cluster .inner{fill:var(--background-secondary-alt)}.statediagram-cluster.statediagram-cluster-alt .inner{fill:var(--background-secondary)}.cluster-label text,.node circle.state-end{fill:var(--text-normal)}.statediagram-state rect.divider{stroke-dasharray:10,10;fill:var(--background-secondary)}.note-edge{stroke-dasharray:5}.statediagram-note rect{fill:#f3edb3;stroke:#645c10;stroke-width:1px}.error-icon{fill:var(--background-modifier-error)}.error-text{fill:var(--text-error);stroke:var(--text-error)}",
                    themeVariables: {
                        primaryColor: "var(--background-primary-alt)",
                        fontFamily: "var(--mermaid-font)",
                        secondaryColor: "var(--background-secondary)",
                        tertiaryColor: "var(--background-secondary-alt)",
                        primaryBorderColor: "var(--background-modifier-border)",
                        primaryTextColor: "var(--text-normal)",
                        secondaryBorderColor: "var(--background-modifier-border)",
                        secondaryTextColor: "var(--text-normal)",
                        tertiaryBorderColor: "var(--background-modifier-border)",
                        tertiaryTextColor: "var(--text-normal)",
                        noteBkgColor: "var(--background-primary-alt)",
                        noteTextColor: "var(--text-normal)",
                        noteBorderColor: "var(--background-modifier-border)",
                        lineColor: "var(--text-normal)",
                        textColor: "var(--text-normal)",
                        mainBkg: "var(--background-primary)",
                        errorBkgColor: "var(--background-primary)",
                        errorTextColor: "var(--text-error)",
                        taskTextDarkColor: "var(--text)",
                        nodeBorder: "var(--text-muted)",
                        edgeLabelBackground: "var(--background-secondary)",
                        activationBorderColor: "var(--background-modifier-border)",
                        sequenceNumberColor: "var(--text-muted)",
                        activeTaskBkgColor: "var(--background-primary-alt)",
                        fillType2: "var(--background-primary-alt)",
                        fillType3: "var(--background-primary-alt)",
                        fillType4: "var(--background-primary-alt)",
                        fillType5: "var(--background-primary-alt)",
                        fillType6: "var(--background-primary-alt)",
                        fillType7: "var(--background-primary-alt)",
                        pie1: "#8dd3c7",
                        pie2: "#ffffb3",
                        pie3: "#bebada",
                        pie4: "#fb8072",
                        pie5: "#80b1d3",
                        pie6: "#fdb462",
                        pie7: "#b3de69",
                        pie8: "#fccde5",
                        pie9: "#d9d9d9",
                        pie10: "#bc80bd",
                        pie11: "#ccebc5",
                        pie12: "#ffed6f"
                    },
                    flowchart: {
                        useMaxWidth: !1
                    },
                    sequence: {
                        useMaxWidth: !1
                    },
                    gantt: {
                        useMaxWidth: !1,
                        axisFormatter: [["%Y-%m-%d", function(e) {
                            return 1 === e.getDay()
                        }
                        ]]
                    },
                    journey: {
                        useMaxWidth: !1
                    },
                    class: {
                        useMaxWidth: !1
                    },
                    git: {
                        useMaxWidth: !1
                    },
                    state: {
                        useMaxWidth: !1
                    },
                    er: {
                        useMaxWidth: !1
                    },
                    pie: {
                        useMaxWidth: !1
                    }
                })
            }
        })
          , FC = wC()
          , PC = document.head.createEl("style", {
            type: "text/css"
        });
        AC.registerPostProcessor((function(e, t) {
            var n = e.findAll("code.language-mermaid");
            if (0 !== n.length)
                return TC.then((function() {
                    var e = t.containerEl
                      , i = document.createElementNS("http://www.w3.org/2000/svg", "svg");
                    i.setAttribute("viewBox", "0 0 100 100"),
                    i.innerHTML = '<g><foreignObject height="100" width="100"></foreignObject></g>';
                    var r = i.firstChild
                      , o = r.firstChild;
                    e.appendChild(i);
                    var s = o.clientWidth / r.getBBox().width;
                    e.removeChild(i),
                    s > 0 && (PC.textContent = ".mermaid svg g>foreignObject{transform:scale(" + s + ");}");
                    for (var a = function(t) {
                        var n = gf(t.innerHTML)
                          , i = t.parentElement
                          , r = e.clientWidth;
                        mermaid.mermaidAPI.updateSiteConfig({
                            pie: {
                                useWidth: r
                            },
                            gantt: {
                                useWidth: r
                            },
                            git: {
                                useWidth: r
                            }
                        });
                        var o = e.createDiv("mermaid")
                          , s = "m" + kf(16);
                        try {
                            var a = null;
                            if (mermaid.render(s, n, (function(e, t) {
                                a = o.firstChild.firstChild,
                                t && t(o)
                            }
                            ), o),
                            o.appendChild(a),
                            i.replaceWith(o),
                            FC.set(o, n),
                            a instanceof Element)
                                for (var l = a.findAll('[*|class*="internal-link"] > g.label foreignObject > div').slice(), c = 0, u = l; c < u.length; c++) {
                                    var h = u[c]
                                      , p = h.textContent;
                                    p && (h.empty(),
                                    h.createEl("a", {
                                        cls: "internal-link",
                                        href: p,
                                        text: p
                                    }))
                                }
                        } catch (e) {
                            var d = document.getElementById("d" + s);
                            d && d.detach(),
                            o.detach(),
                            console.error(e),
                            t.empty(),
                            t.appendText("Error parsing Mermaid diagram!\n\n" + (e.str || e.message))
                        }
                    }, l = 0, c = n; l < c.length; l++) {
                        a(c[l])
                    }
                    PC.textContent = ""
                }
                ))
        }
        ));
        var OC = function(e, t) {
            for (var n = 0, i = e; n < i.length; n++)
                for (var r = 0, o = i[n].el.findAll(".mermaid"); r < o.length; r++) {
                    var s = o[r];
                    if (t === FC.get(s))
                        return s
                }
            return null
        };
        AC.registerRecycler((function(e, t) {
            for (var n = 0, i = e.findAll("code.language-mermaid"); n < i.length; n++) {
                var r = i[n]
                  , o = gf(r.innerHTML)
                  , s = OC(t, o);
                s && (s.detach(),
                r.parentElement.replaceWith(s))
            }
        }
        ));
        var IC = _t("/lib/prism.min.js")
          , NC = wC();
        AC.registerPostProcessor((function(e) {
            var t = e.findAll('code[class*="language-"]:not(.is-loaded)');
            if (0 !== t.length)
                return IC.then((function() {
                    for (var e = 0, n = t; e < n.length; e++) {
                        var i = n[e]
                          , r = gf(i.innerHTML);
                        Prism.highlightElement(i),
                        NC.set(i, r),
                        i.addClass("is-loaded")
                    }
                }
                ))
        }
        ), 100);
        var RC = function(e) {
            return e.className.split(" ").filter((function(e) {
                return e.startsWith("language-")
            }
            )).first()
        }
          , BC = function(e, t, n) {
            for (var i = 0, r = e; i < r.length; i++)
                for (var o = 0, s = r[i].el.findAll('code[class*="language-"].is-loaded'); o < s.length; o++) {
                    var a = s[o];
                    if (n === NC.get(a) && t === RC(a))
                        return a
                }
            return null
        };
        AC.registerRecycler((function(e, t) {
            for (var n = 0, i = e.findAll('code[class*="language-"]:not(.is-loaded)'); n < i.length; n++) {
                var r = i[n]
                  , o = gf(r.innerHTML)
                  , s = RC(r)
                  , a = BC(t, s, o);
                a && (a.detach(),
                r.replaceWith(a))
            }
        }
        ));
        var zC = _t("/lib/mathjax/tex-chtml-full.js", {
            before: function() {
                window.MathJax = {
                    tex: {
                        inlineMath: [],
                        displayMath: [],
                        processEscapes: !1,
                        processEnvironments: !1,
                        processRefs: !1
                    },
                    startup: {
                        typeset: !1
                    },
                    options: {
                        renderActions: {
                            addMenu: [0, "", ""]
                        },
                        menuOptions: {
                            settings: {
                                renderer: "CHTML"
                            }
                        }
                    }
                },
                localStorage.removeItem("MathJax-Menu-Settings")
            }
        })
          , HC = null
          , VC = 0
          , qC = null
          , UC = function() {
            var e = MathJax.chtmlStylesheet();
            qC && e.textContent === qC.textContent || (qC && qC.detach(),
            qC = e,
            document.head.appendChild(e)),
            HC.resolve(),
            HC = null
        }
          , _C = wC();
        AC.registerPostProcessor((function(e) {
            var t = e.findAll(".math:not(.is-loaded)");
            if (0 !== t.length)
                return zC.then((function() {
                    for (var e = 0, n = t; e < n.length; e++) {
                        var i = n[e]
                          , r = gf(i.innerHTML);
                        i.empty();
                        try {
                            var o = MathJax.tex2chtml(r, {
                                display: i.classList.contains("math-block")
                            });
                            i.appendChild(o)
                        } catch (e) {
                            i.appendText(r)
                        }
                        i.addClass("is-loaded"),
                        _C.set(i, r)
                    }
                    return HC || (HC = zk()),
                    clearTimeout(VC),
                    VC = window.setTimeout(UC, 100),
                    HC.promise
                }
                ))
        }
        ));
        var jC = function(e, t, n) {
            for (var i = 0, r = e; i < r.length; i++)
                for (var o = 0, s = r[i].el.findAll(".math.is-loaded"); o < s.length; o++) {
                    var a = s[o];
                    if (t === _C.get(a) && a.classList.contains("math-block") === n)
                        return a
                }
            return null
        };
        function WC(e, t, n) {
            for (var i = 0, r = n; i < r.length; i++) {
                var o = r[i];
                if (e.getAttr(o) !== t.getAttr(o))
                    return !1
            }
            return !0
        }
        AC.registerRecycler((function(e, t) {
            for (var n = 0, i = e.findAll(".math:not(.is-loaded)"); n < i.length; n++) {
                var r = i[n]
                  , o = gf(r.innerHTML)
                  , s = jC(t, o, r.classList.contains("math-block"));
                s && (s.detach(),
                r.replaceWith(s))
            }
        }
        ));
        var $C = function(e, t) {
            for (var n = 0, i = e; n < i.length; n++)
                for (var r = 0, o = i[n].el.findAll(".internal-embed.is-loaded"); r < o.length; r++) {
                    var s = o[r];
                    if (WC(t, s, ["src", "width", "height", "alt"]))
                        return s
                }
            return null
        };
        AC.registerRecycler((function(e, t) {
            for (var n = 0, i = e.findAll(".internal-embed:not(.is-loaded)"); n < i.length; n++) {
                var r = i[n]
                  , o = $C(t, r);
                o && (o.detach(),
                r.replaceWith(o))
            }
        }
        )),
        AC.registerPostProcessor((function(e) {
            var t = e.findAll("img");
            if (0 !== t.length) {
                for (var n = [], i = function(e) {
                    e.referrerPolicy = "no-referrer",
                    e.complete || n.push(new Promise((function(t) {
                        e.addEventListener("load", t),
                        e.addEventListener("error", t)
                    }
                    )))
                }, r = 0, o = t; r < o.length; r++) {
                    i(o[r])
                }
                return Promise.all(n)
            }
        }
        ));
        var GC = function(e, t, n) {
            for (var i = 0, r = e; i < r.length; i++)
                for (var o = 0, s = r[i].el.findAll("img"); o < s.length; o++) {
                    var a = s[o];
                    if (a instanceof HTMLImageElement && (a.complete && t === a.src))
                        return a.setAttr("width", n.getAttr("width")),
                        a.setAttr("height", n.getAttr("height")),
                        a
                }
            return null
        };
        AC.registerRecycler((function(e, t) {
            for (var n = 0, i = e.findAll("img"); n < i.length; n++) {
                var r = i[n];
                if (r instanceof HTMLImageElement) {
                    var o = r.src
                      , s = GC(t, o, r);
                    s && (s.detach(),
                    r.replaceWith(s))
                }
            }
        }
        ));
        var YC = function(e) {
            function t(t) {
                var n = e.call(this) || this;
                return n.icon = By,
                n.navigation = !0,
                n.app = t.app,
                n.leaf = t,
                n.containerEl = createDiv("workspace-leaf-content"),
                n.containerEl.setAttribute("data-type", n.getViewType()),
                n
            }
            return i(t, e),
            t.prototype.open = function(e) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(t) {
                        switch (t.label) {
                        case 0:
                            return e.appendChild(this.containerEl),
                            this.load(),
                            [4, this.onOpen()];
                        case 1:
                            return t.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.close = function() {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(e) {
                        switch (e.label) {
                        case 0:
                            return this.containerEl.detach(),
                            this.unload(),
                            [4, this.onClose()];
                        case 1:
                            return e.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.onOpen = function() {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(e) {
                        return [2]
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.onClose = function() {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(e) {
                        return [2]
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.getState = function() {
                return {}
            }
            ,
            t.prototype.setState = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(e) {
                        return [2]
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.getEphemeralState = function() {
                return {}
            }
            ,
            t.prototype.setEphemeralState = function(e) {}
            ,
            t.prototype.getIcon = function() {
                return this.icon ? this.icon : By
            }
            ,
            t.prototype.onResize = function() {}
            ,
            t.prototype.onHeaderMenu = function(e) {}
            ,
            t.prototype.getSideTooltipPlacement = function() {
                var e = this.leaf.getRoot();
                return "left" === e.side ? "right" : "right" === e.side ? "left" : void 0
            }
            ,
            t
        }(Jk)
          , KC = function(e) {
            function t(t) {
                var n = e.call(this, t) || this;
                n.canDropAnywhere = !1;
                var i = n.app
                  , r = i.workspace
                  , o = n.headerEl = n.containerEl.createDiv("view-header");
                n.contentEl = n.containerEl.createDiv("view-content");
                var s = n.iconEl = o.createDiv("view-header-icon");
                (on.isMobile || Je(s, Te("interface.drag-to-rearrange")),
                n.titleContainerEl = o.createDiv("view-header-title-container"),
                n.titleEl = n.titleContainerEl.createDiv({
                    cls: "view-header-title"
                }),
                n.actionsEl = o.createDiv("view-actions"),
                on.isMobile ? (n.moreOptionsButtonEl = n.addAction(ub, Te("interface.menu.more-options"), (function() {
                    r.rightSplit.expand()
                }
                ), 24),
                n.moreOptionsButtonEl.addEventListener("contextmenu", n.onMoreOptions.bind(n))) : n.moreOptionsButtonEl = n.addAction(ub, Te("interface.menu.more-options"), n.onMoreOptions.bind(n)),
                on.isMobile) || n.addAction(wb, Te("interface.menu.close"), (function() {
                    t.detach()
                }
                ), 16).addClass("mod-close-leaf");
                var a = n.pinButtonEl = n.addAction(hb, Te("interface.menu.pin"), (function() {
                    t.togglePinned()
                }
                ));
                a.addClass("mod-pin-leaf"),
                a.hide(),
                s.addEventListener("mousedown", (function(e) {
                    r.onDragLeaf(e, n.leaf)
                }
                )),
                i.dragManager.handleDrop(n.containerEl, n.handleDrop.bind(n));
                var l = n.groupButtonEl = n.addAction(tb, Te("interface.menu.unlink-pane"), (function() {
                    for (var e = 0, n = r.getGroupLeaves(t.group); e < n.length; e++) {
                        n[e].unhighlight()
                    }
                    t.setGroup(null)
                }
                ));
                return l.addEventListener("mouseover", (function() {
                    yk(l, bb, 18);
                    for (var e = 0, n = r.getGroupLeaves(t.group); e < n.length; e++) {
                        n[e].highlight()
                    }
                }
                )),
                l.addEventListener("mouseout", (function() {
                    yk(l, tb, 18);
                    for (var e = 0, n = r.getGroupLeaves(t.group); e < n.length; e++) {
                        n[e].unhighlight()
                    }
                }
                )),
                n
            }
            return i(t, e),
            t.prototype.load = function() {
                e.prototype.load.call(this),
                this.onGroupChange();
                var t = this.app
                  , n = this.leaf;
                on.isMobile ? (yk(this.iconEl, Uy, 24),
                this.iconEl.addEventListener("click", (function() {
                    t.workspace.leftSplit.expand()
                }
                ))) : yk(this.iconEl, this.getIcon(), 18),
                this.titleEl.setText(this.getDisplayText()),
                this.registerEvent(n.on("pinned-change", this.onPinnedChange, this)),
                this.registerEvent(n.on("group-change", this.onGroupChange, this))
            }
            ,
            t.prototype.handleDrop = function(e, t, n) {
                if (this.canDropAnywhere || (se ? e.shiftKey : e.altKey) || this.headerEl.contains(e.target)) {
                    var i = this.leaf.handleDrop(e, t, n);
                    if (i)
                        return i.hoverEl = this.headerEl,
                        i.hoverClass = "is-highlighted",
                        i
                }
            }
            ,
            t.prototype.onPinnedChange = function(e) {
                this.pinButtonEl.toggleClass("is-active", e),
                e ? (yk(this.pinButtonEl, Lb, 20),
                this.pinButtonEl.show()) : (yk(this.pinButtonEl, hb, 20),
                this.pinButtonEl.hide())
            }
            ,
            t.prototype.onMoreOptionsMenu = function(e) {
                var t = this.app
                  , n = this.leaf;
                on.isMobile ? e.addItem((function(e) {
                    return e.setTitle(Te("interface.menu.close-current-pane")).setIcon(Xy).onClick((function() {
                        return n && n.detach()
                    }
                    ))
                }
                )) : (n.group || e.addItem((function(e) {
                    return e.setTitle(Te("interface.menu.link-pane")).setIcon(tb).onClick((function() {
                        return t.workspace.onStartLink(n)
                    }
                    ))
                }
                )),
                n.pinned || e.addItem((function(e) {
                    return e.setTitle(Te("interface.menu.pin")).setIcon(hb).onClick((function() {
                        return n.togglePinned()
                    }
                    ))
                }
                )),
                e.addItem((function(e) {
                    return e.setTitle(Te("commands.split-vertically")).setIcon(gb).onClick((function() {
                        return t.workspace.duplicateLeaf(n, "vertical")
                    }
                    ))
                }
                )).addItem((function(e) {
                    return e.setTitle(Te("commands.split-horizontally")).setIcon(fb).onClick((function() {
                        return t.workspace.duplicateLeaf(n, "horizontal")
                    }
                    ))
                }
                )))
            }
            ,
            t.prototype.onGroupChange = function() {
                this.groupButtonEl.toggle(!!this.leaf.group)
            }
            ,
            t.prototype.addAction = function(e, t, n, i) {
                void 0 === i && (i = 18);
                var r = createEl("a", "view-action");
                return this.actionsEl.prepend(r),
                yk(r, e, i),
                Je(r, t),
                r.onClickEvent((function(e) {
                    if (0 === e.button || 1 === e.button)
                        return n(e)
                }
                )),
                r
            }
            ,
            t.prototype.onMoreOptions = function(e) {
                e.preventDefault();
                var t = new Zk(this.app);
                this.onMoreOptionsMenu(t),
                t.showAtMouseEvent(e)
            }
            ,
            t.prototype.onHeaderMenu = function(t) {
                var n = this;
                e.prototype.onHeaderMenu.call(this, t),
                t.addItem((function(e) {
                    return e.setTitle(Te("interface.menu.close")).setIcon(wb).onClick((function() {
                        return n.leaf.detach()
                    }
                    ))
                }
                ))
            }
            ,
            t
        }(YC)
          , QC = createDiv("notice-container")
          , JC = function() {
            function e(e, t) {
                var n = this;
                void 0 === t && (t = 4e3),
                document.body.appendChild(QC);
                var i = this.noticeEl = QC.createDiv({
                    cls: "notice",
                    text: e
                });
                on.isMobile ? At(i, (new Et).addProp("marginBottom", -i.offsetHeight + "px", "0", "")) : At(i, (new Et).addProp("transform", "translateX(350px)", "", "")),
                t && setTimeout((function() {
                    return n.hide()
                }
                ), t),
                i.addEventListener("click", (function() {
                    return n.hide()
                }
                ))
            }
            return e.prototype.setMessage = function(e) {
                return this.noticeEl.setText(e),
                this
            }
            ,
            e.prototype.hide = function() {
                var e = this;
                setTimeout((function() {
                    var t = e.noticeEl;
                    if (on.isMobile)
                        At(t, (new Et).addProp("opacity", null, "0", ""), (function() {
                            t.detach(),
                            0 === QC.childElementCount && QC.detach()
                        }
                        ));
                    else {
                        var n = getComputedStyle(t)
                          , i = -(t.offsetHeight + parseInt(n.marginBottom)) + "px";
                        At(t, (new Et).addProp("marginTop", "0", i, ""), (function() {
                            t.detach(),
                            0 === QC.childElementCount && QC.detach()
                        }
                        ))
                    }
                }
                ))
            }
            ,
            e
        }();
        window.Notice = JC;
        var XC = function(e) {
            function t(t) {
                var n = e.call(this, t) || this;
                return n.allowNoFile = !1,
                n
            }
            return i(t, e),
            t.prototype.getDisplayText = function() {
                return this.file ? this.file.basename : Te("interface.no-file")
            }
            ,
            t.prototype.onload = function() {
                e.prototype.onload.call(this);
                var t = this.app.vault;
                this.registerEvent(t.on("rename", this.onRename.bind(this))),
                this.registerEvent(t.on("delete", this.onDelete.bind(this)))
            }
            ,
            t.prototype.getState = function() {
                var t = e.prototype.getState.call(this)
                  , n = this.file;
                return n && (t.file = n.path),
                t
            }
            ,
            t.prototype.getSyncViewState = function() {
                var e = this.getState();
                return e.sync = !0,
                {
                    state: e,
                    eState: this.getEphemeralState()
                }
            }
            ,
            t.prototype.syncState = function(e) {
                return o(this, void 0, void 0, (function() {
                    var t, n, i, r, o, a, l, c;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            if (t = this.leaf,
                            n = t.workspace,
                            !(i = t.group))
                                return [3, 4];
                            r = this.getSyncViewState(),
                            o = n.getGroupLeaves(i),
                            a = 0,
                            l = o,
                            s.label = 1;
                        case 1:
                            return a < l.length ? (c = l[a]) === t ? [3, 3] : e || c.view.getViewType() === this.getViewType() ? [4, c.openFile(this.file, r)] : [3, 3] : [3, 4];
                        case 2:
                            s.sent(),
                            s.label = 3;
                        case 3:
                            return a++,
                            [3, 1];
                        case 4:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.setState = function(t, n) {
                return o(this, void 0, Promise, (function() {
                    var i, r, o = this;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return (i = this.app.vault.getAbstractFileByPath(t.file))instanceof Vf ? [4, this.loadFile(i)] : [3, 2];
                        case 1:
                            return r = s.sent(),
                            [3, 4];
                        case 2:
                            return [4, this.loadFile(null)];
                        case 3:
                            r = s.sent(),
                            s.label = 4;
                        case 4:
                            return this.file || this.allowNoFile || (n.close = !0),
                            r && (n.layout = !0,
                            n.history = !0),
                            [4, e.prototype.setState.call(this, t, n)];
                        case 5:
                            return s.sent(),
                            t.sync || !n.layout && !n.history || (n.done = function() {
                                return o.syncState(!0)
                            }
                            ),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.onClose = function() {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(e) {
                        return this.contentEl.empty(),
                        this.loadFile(null),
                        [2]
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.loadFile = function(e) {
                return o(this, void 0, Promise, (function() {
                    var t, n, i, r;
                    return s(this, (function(o) {
                        switch (o.label) {
                        case 0:
                            return (t = this.file) === e ? [2, !1] : t ? [4, this.onUnloadFile(t)] : [3, 2];
                        case 1:
                            o.sent(),
                            o.label = 2;
                        case 2:
                            if (this.file = null,
                            !e)
                                return [3, 6];
                            o.label = 3;
                        case 3:
                            return o.trys.push([3, 5, , 6]),
                            this.file = e,
                            [4, this.onLoadFile(e)];
                        case 4:
                            return o.sent(),
                            [3, 6];
                        case 5:
                            return n = o.sent(),
                            this.file = null,
                            new JC('Failed to load "' + e.path + '". ' + n.message),
                            [3, 6];
                        case 6:
                            return this.titleEl.setText(this.getDisplayText()),
                            i = this.leaf,
                            (r = i.workspace).activeLeaf === i && r.requestActiveLeafEvents(),
                            this.leaf.updateHeader(),
                            [2, !0]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.onLoadFile = function(e) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(e) {
                        return [2]
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.onUnloadFile = function(e) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(e) {
                        return [2]
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.onMoreOptionsMenu = function(t) {
                var n = this;
                e.prototype.onMoreOptionsMenu.call(this, t);
                var i = this.file;
                on.isMobile || t.addSeparator(),
                t.addItem((function(e) {
                    return e.setTitle(Te("interface.menu.delete-file")).setIcon(Iy).onClick((function() {
                        return n.app.fileManager.promptForFileDeletion(i)
                    }
                    ))
                }
                )),
                i && this.app.workspace.trigger("file-menu", t, i, "pane-more-options", this.leaf)
            }
            ,
            t.prototype.onHeaderMenu = function(t) {
                e.prototype.onHeaderMenu.call(this, t);
                var n = this.file;
                n && this.app.workspace.trigger("file-menu", t, n, "sidebar-context-menu", this.leaf)
            }
            ,
            t.prototype.onRename = function(e) {
                return o(this, void 0, void 0, (function() {
                    return s(this, (function(t) {
                        return e === this.file && (this.titleEl.setText(e.basename),
                        this.leaf.updateStateResult({
                            history: !1,
                            layout: !0
                        })),
                        [2]
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.onDelete = function(e) {
                return o(this, void 0, void 0, (function() {
                    return s(this, (function(t) {
                        switch (t.label) {
                        case 0:
                            return e !== this.file ? [3, 4] : this.allowNoFile ? (this.loadFile(null),
                            [3, 3]) : [3, 1];
                        case 1:
                            return [4, this.leaf.open(null)];
                        case 2:
                            t.sent(),
                            t.label = 3;
                        case 3:
                            this.app.workspace.requestSaveLayout(),
                            t.label = 4;
                        case 4:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.canAcceptExtension = function(e) {
                return !1
            }
            ,
            t
        }(KC)
          , ZC = function(e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }
            return i(t, e),
            t.prototype.setEphemeralState = function(t) {
                e.prototype.setEphemeralState.call(this, t);
                var n = t.rename;
                if (n) {
                    var i = void 0;
                    "start" === n ? i = !0 : "end" === n && (i = !1),
                    Rt(this.titleEl, i)
                }
            }
            ,
            t.prototype.onOpen = function() {
                return o(this, void 0, Promise, (function() {
                    var e;
                    return s(this, (function(t) {
                        return (e = this.titleEl).contentEditable = "true",
                        e.spellcheck = !1,
                        e.tabIndex = -1,
                        e.addEventListener("blur", this.saveTitle.bind(this)),
                        e.addEventListener("input", this.onTitleChange.bind(this)),
                        [2]
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.onTitleChange = function() {
                this.clearTitleErrorTooltip();
                var e = this
                  , t = e.file
                  , n = e.app
                  , i = e.titleEl
                  , r = i.getText();
                (1 === i.childNodes.length && i.firstChild.nodeType === Node.TEXT_NODE || (i.setText(r),
                Rt(i, !1)),
                r = r.trim(),
                Df.test(r)) ? this.displayError(Te("plugins.file-explorer.msg-invalid-characters") + Sf, !1) : n.vault.checkForDuplicate(t, r) ? this.displayError(Te("plugins.file-explorer.msg-file-already-exists"), !1) : Mf.test(r) && this.displayError(Te("plugins.file-explorer.msg-unsafe-characters") + Lf, !1)
            }
            ,
            t.prototype.saveTitle = function() {
                return o(this, void 0, void 0, (function() {
                    var e, t, n, i, r, o, a;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            if (this.clearTitleErrorTooltip(),
                            t = (e = this).file,
                            n = e.titleEl,
                            "" === (i = n.getText().trim()))
                                return n.setText(t.basename),
                                this.displayError("File name cannot be empty.", !0),
                                [2];
                            if (r = t.getNewPathAfterRename(i),
                            t.path === r)
                                return [2];
                            s.label = 1;
                        case 1:
                            return s.trys.push([1, 3, , 4]),
                            [4, this.app.fileManager.renameFile(t, r)];
                        case 2:
                            return s.sent(),
                            [3, 4];
                        case 3:
                            return (o = s.sent()) && (a = o.message || o.code || o.toString(),
                            this.displayError(a, !0)),
                            [3, 4];
                        case 4:
                            return n.setText(t.basename),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.displayError = function(e, t) {
                Ke(this.titleContainerEl, e, {
                    classes: ["mod-wide", "mod-error"]
                }),
                t && setTimeout(this.clearTitleErrorTooltip.bind(this), 2e3)
            }
            ,
            t.prototype.clearTitleErrorTooltip = function() {
                Qe()
            }
            ,
            t
        }(XC)
          , ex = "audio"
          , tx = function(e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.icon = jy,
                t
            }
            return i(t, e),
            t.prototype.getViewType = function() {
                return ex
            }
            ,
            t.prototype.canAcceptExtension = function(e) {
                return H.contains(e)
            }
            ,
            t.prototype.onLoadFile = function(e) {
                return o(this, void 0, void 0, (function() {
                    var n, i, r, o;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return i = (n = this).app,
                            (r = n.contentEl).empty(),
                            o = r.createDiv("audio-container"),
                            [4, t.displayInEl(e, i, o)];
                        case 1:
                            return s.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.displayInEl = function(e, t, n) {
                return o(this, void 0, Promise, (function() {
                    var i;
                    return s(this, (function(r) {
                        return i = t.vault.getResourcePath(e),
                        [2, Ne(n, i)]
                    }
                    ))
                }
                ))
            }
            ,
            t.VIEW_TYPE = ex,
            t
        }(ZC)
          , nx = "image"
          , ix = function(e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.icon = Wy,
                t
            }
            return i(t, e),
            t.prototype.getViewType = function() {
                return nx
            }
            ,
            t.prototype.canAcceptExtension = function(e) {
                return z.contains(e)
            }
            ,
            t.prototype.onLoadFile = function(e) {
                return o(this, void 0, void 0, (function() {
                    var n, i, r, o;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return i = (n = this).app,
                            (r = n.contentEl).empty(),
                            o = r.createDiv("image-container"),
                            [4, t.displayInEl(e, i, o)];
                        case 1:
                            return s.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.displayInEl = function(e, t, n) {
                return o(this, void 0, Promise, (function() {
                    var i;
                    return s(this, (function(r) {
                        return i = t.vault.getResourcePath(e),
                        [2, Ie(n, i)]
                    }
                    ))
                }
                ))
            }
            ,
            t.VIEW_TYPE = nx,
            t
        }(ZC)
          , rx = function() {
            this.viewContainerEl = createDiv("pdf-container");
            var e = this.viewContainerEl.createDiv("pdf-scroll-container")
              , t = this.viewContainerEl.createDiv("pdf-controls");
            this.previousPageEl = t.createDiv("pdf-controls-pager mod-previous", (function(e) {
                return yk(e, Vy, 16)
            }
            )),
            this.pageInfoEl = t.createDiv("pdf-controls-page-info"),
            this.nextPageEl = t.createDiv("pdf-controls-pager mod-next", (function(e) {
                return yk(e, qy, 16)
            }
            )),
            this.canvasEl = e.createEl("canvas", "pdf-canvas")
        }
          , ox = _t("/lib/pdf.min.js", {
            after: function() {
                window.pdfjsLib.GlobalWorkerOptions.workerSrc = "/lib/pdf.worker.min.js"
            }
        })
          , sx = function(e) {
            function t(t, n) {
                var i = e.call(this) || this;
                i.dom = null,
                i.pdfDoc = null,
                i.pageNum = null,
                i.app = t,
                i.containerEl = n;
                var r = i.dom = new rx;
                return r.previousPageEl.addEventListener("click", (function() {
                    i.navigatePage(-1)
                }
                )),
                r.nextPageEl.addEventListener("click", (function() {
                    i.navigatePage(1)
                }
                )),
                i
            }
            return i(t, e),
            t.prototype.navigatePage = function(e) {
                var t = this.pdfDoc;
                if (this.pdfDoc) {
                    var n = this.pageNum + e;
                    n < 1 && (n = 1);
                    var i = t._pdfInfo.numPages;
                    n > i && (n = i),
                    this.pageNum = n,
                    this.renderPage()
                }
            }
            ,
            t.prototype.renderPage = function() {
                return o(this, void 0, void 0, (function() {
                    var e, t, n, i, r, o, a, l, c;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return t = (e = this).pdfDoc,
                            n = e.dom,
                            i = e.pageNum,
                            t ? (r = t._pdfInfo.numPages,
                            [4, t.getPage(i)]) : [2];
                        case 1:
                            return o = s.sent(),
                            5,
                            a = o.getViewport({
                                scale: 5
                            }),
                            l = n.canvasEl.getContext("2d"),
                            n.canvasEl.height = a.height,
                            n.canvasEl.width = a.width,
                            n.pageInfoEl.setText(o.pageNumber + " / " + r),
                            c = {
                                canvasContext: l,
                                viewport: a
                            },
                            [4, o.render(c).promise];
                        case 2:
                            return s.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.loadFile = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    var n, i, r, o, a, l, c, u, h;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return this.destroy(),
                            i = (n = this).app,
                            r = n.dom,
                            n.containerEl.append(r.viewContainerEl),
                            [4, i.vault.readBinary(e)];
                        case 1:
                            o = s.sent(),
                            s.label = 2;
                        case 2:
                            return s.trys.push([2, 5, , 6]),
                            [4, ox.promise];
                        case 3:
                            return s.sent(),
                            l = this,
                            [4, window.pdfjsLib.getDocument(o).promise];
                        case 4:
                            return a = l.pdfDoc = s.sent(),
                            this.pageNum = 1,
                            t && (c = t.match(/^#page=([0-9]+)/)) && (u = parseInt(c[1]),
                            isNaN(u) || (this.pageNum = Math.clamp(u, 1, a._pdfInfo.numPages))),
                            this.renderPage(),
                            [3, 6];
                        case 5:
                            return h = s.sent(),
                            console.error(h),
                            [3, 6];
                        case 6:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.onunload = function() {
                e.prototype.onunload.call(this),
                this.destroy()
            }
            ,
            t.prototype.destroy = function() {
                this.containerEl.empty();
                var e = this.pdfDoc;
                e && e.destroy(),
                this.pdfDoc = null,
                this.pageNum = null
            }
            ,
            t
        }(Jk)
          , ax = function(e) {
            function t(t, n) {
                var i = e.call(this) || this;
                return i.app = t,
                i.containerEl = n,
                i
            }
            return i(t, e),
            t.prototype.loadFile = function(e, t) {
                return o(this, void 0, void 0, (function() {
                    var n, i, r;
                    return s(this, (function(o) {
                        switch (o.label) {
                        case 0:
                            return this.destroy(),
                            [4, this.app.vault.readBinary(e)];
                        case 1:
                            return n = o.sent(),
                            i = this.url = URL.createObjectURL(new Blob([n],{
                                type: "application/pdf"
                            })),
                            (r = this.containerEl.createEl("iframe")).src = i + (t || ""),
                            r.style.width = "100%",
                            r.style.height = "100%",
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.onunload = function() {
                e.prototype.onunload.call(this),
                this.destroy()
            }
            ,
            t.prototype.destroy = function() {
                this.containerEl.empty(),
                URL.revokeObjectURL(this.url)
            }
            ,
            t
        }(Jk);
        function lx(e, t) {
            var n, i, r = null === (i = null === (n = window.process) || void 0 === n ? void 0 : n.versions) || void 0 === i ? void 0 : i.electron;
            return r && String.isString(r) && If("10.0.0", r) ? new ax(e,t) : new sx(e,t)
        }
        var cx = function(e) {
            function t(t) {
                var n = e.call(this, t) || this;
                return n.icon = $y,
                n.pdfRenderComponent = lx(n.app, n.contentEl),
                n.addChild(n.pdfRenderComponent),
                n
            }
            return i(t, e),
            t.prototype.getViewType = function() {
                return "pdf"
            }
            ,
            t.prototype.onLoadFile = function(e) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(t) {
                        switch (t.label) {
                        case 0:
                            return [4, this.pdfRenderComponent.loadFile(e, "")];
                        case 1:
                            return t.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.setEphemeralState = function(t) {
                e.prototype.setEphemeralState.call(this, t);
                var n = t.subpath;
                n && this.pdfRenderComponent.loadFile(this.file, n)
            }
            ,
            t.prototype.onUnloadFile = function(e) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(e) {
                        return this.pdfRenderComponent.destroy(),
                        [2]
                    }
                    ))
                }
                ))
            }
            ,
            t.VIEW_TYPE = "pdf",
            t
        }(ZC)
          , ux = function(e) {
            function t(t, n, i, r) {
                var o = e.call(this) || this;
                return o.app = t,
                o.containerEl = n,
                o.file = i,
                o.subpath = r,
                o.pdfRenderComponent = lx(o.app, n),
                o.addChild(o.pdfRenderComponent),
                o
            }
            return i(t, e),
            t.prototype.loadFile = function() {
                return o(this, void 0, void 0, (function() {
                    return s(this, (function(e) {
                        switch (e.label) {
                        case 0:
                            return [4, this.pdfRenderComponent.loadFile(this.file, this.subpath)];
                        case 1:
                            return e.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t
        }(Jk)
          , hx = "video"
          , px = function(e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }
            return i(t, e),
            t.prototype.getViewType = function() {
                return hx
            }
            ,
            t.prototype.canAcceptExtension = function(e) {
                return V.contains(e)
            }
            ,
            t.prototype.onLoadFile = function(e) {
                return o(this, void 0, void 0, (function() {
                    var n, i, r, o;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return i = (n = this).app,
                            (r = n.contentEl).empty(),
                            o = r.createDiv("video-container"),
                            [4, t.displayInEl(e, i, o)];
                        case 1:
                            return s.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.displayInEl = function(e, t, n) {
                return o(this, void 0, Promise, (function() {
                    var i;
                    return s(this, (function(r) {
                        return i = t.vault.getResourcePath(e),
                        [2, Re(n, i)]
                    }
                    ))
                }
                ))
            }
            ,
            t.VIEW_TYPE = hx,
            t
        }(ZC)
          , dx = function(e) {
            function t(t, n) {
                var i = e.call(this, t) || this;
                return i.loadFile = n,
                i
            }
            return i(t, e),
            t.prototype.loadFile = function() {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(e) {
                        return [2]
                    }
                    ))
                }
                ))
            }
            ,
            t
        }(EC)
          , fx = function() {
            function e() {}
            return e.load = function(e) {
                var t = this
                  , n = e.app
                  , i = e.linktext
                  , r = e.sourcePath
                  , a = e.containerEl
                  , l = e.remainingNestLevel
                  , c = void 0 === l ? 5 : l
                  , u = Ly(i)
                  , h = u.path
                  , p = u.subpath
                  , d = n.metadataCache.getFirstLinkpathDest(h, r);
                a.empty();
                var f = null;
                if (d) {
                    var g = d.extension;
                    z.contains(g) ? (a.addClass("image-embed"),
                    f = new dx(a,(function() {
                        return ix.displayInEl(d, n, a)
                    }
                    ))) : H.contains(g) ? (a.addClass("media-embed"),
                    f = new dx(a,(function() {
                        return tx.displayInEl(d, n, a)
                    }
                    ))) : V.contains(g) ? (a.addClass("media-embed"),
                    f = new dx(a,(function() {
                        return px.displayInEl(d, n, a)
                    }
                    ))) : q.contains(g) ? (a.addClass("pdf-embed"),
                    f = new ux(n,a,d,p)) : U.contains(g) && c > 0 ? f = zE.loadEmbed(e, d, a) : (a.addClass("file-embed"),
                    a.createDiv({
                        cls: "file-embed-title"
                    }, (function(e) {
                        e.createSpan({
                            cls: "file-embed-icon"
                        }, (function(e) {
                            yk(e, By, 22)
                        }
                        )),
                        e.appendText(" " + d.name)
                    }
                    )),
                    f = new dx(a,(function() {
                        return o(t, void 0, void 0, (function() {
                            return s(this, (function(e) {
                                return [2]
                            }
                            ))
                        }
                        ))
                    }
                    )),
                    a.addEventListener("click", (function() {
                        n.openWithDefaultApp(d.path)
                    }
                    )),
                    Je(a, Te("interface.embed-open-in-default-app-tooltip")))
                } else
                    a.appendText(Te("plugins.page-preview.label-empty-note", {
                        linktext: i
                    })),
                    a.addClass("file-embed", "mod-empty"),
                    a.onClickEvent((function(e) {
                        n.workspace.openLinkText(i, r, rn.isModifier(e, "Mod") || 1 === e.button)
                    }
                    ));
                return a.addClass("is-loaded"),
                f
            }
            ,
            e
        }()
          , gx = new Intl.Collator(void 0,{
            usage: "sort",
            sensitivity: "base",
            numeric: !0
        }).compare
          , mx = [["alphabetical", "alphabeticalReverse"], ["byModifiedTime", "byModifiedTimeReverse"], ["byCreatedTime", "byCreatedTimeReverse"]]
          , vx = {
            alphabetical: "plugins.file-explorer.label-sort-a-to-z",
            alphabeticalReverse: "plugins.file-explorer.label-sort-z-to-a",
            byModifiedTime: "plugins.file-explorer.label-sort-new-to-old",
            byModifiedTimeReverse: "plugins.file-explorer.label-sort-old-to-new",
            byCreatedTime: "plugins.file-explorer.label-sort-created-new-to-old",
            byCreatedTimeReverse: "plugins.file-explorer.label-sort-created-old-to-new"
        }
          , yx = {
            alphabetical: function(e, t) {
                return gx(e.basename, t.basename)
            },
            alphabeticalReverse: function(e, t) {
                return -yx.alphabetical(e, t)
            },
            byModifiedTime: function(e, t) {
                return t.stat.mtime - e.stat.mtime
            },
            byModifiedTimeReverse: function(e, t) {
                return -yx.byModifiedTime(e, t)
            },
            byCreatedTime: function(e, t) {
                return t.stat.ctime - e.stat.ctime
            },
            byCreatedTimeReverse: function(e, t) {
                return -yx.byCreatedTime(e, t)
            }
        };
        function bx(e) {
            return "children"in e && "childrenEl"in e
        }
        function wx() {
            var e = createDiv();
            return e.style.width = "1px",
            e.style.height = "0.1px",
            e.style.marginBottom = "0",
            e
        }
        var kx = function(e, t) {
            if (t(e),
            bx(e)) {
                var n = e.children;
                if (e.childrenEl.parentNode)
                    for (var i = 0, r = n; i < r.length; i++) {
                        var o = r[i];
                        kx(o, t)
                    }
            }
        }
          , Cx = function() {
            function e(e) {
                this.width = 0,
                this.height = 0,
                this.lastScroll = 0,
                this.queued = null,
                this.scrollEl = e;
                var t = getComputedStyle(e).overflowX;
                this.setWidth = "auto" === t || "scroll" === t,
                e.style.position = "relative",
                e.addEventListener("scroll", this.onScroll.bind(this), zt)
            }
            return e.prototype.invalidate = function(e, t) {
                t ? kx(e, (function(e) {
                    return e.info.computed = !1
                }
                )) : e.info.computed = !1,
                this.queueCompute()
            }
            ,
            e.prototype.invalidateAll = function() {
                this.rootEl && (kx(this.rootEl, (function(e) {
                    return e.info.computed = !1
                }
                )),
                this.queueCompute())
            }
            ,
            e.prototype.onScroll = function() {
                var e = this
                  , t = e.scrollEl
                  , n = e.lastScroll
                  , i = e.height
                  , r = t.scrollTop;
                Math.abs(n - r) > Math.max(i, 300) / 2 && this.updateVirtualDisplay(r)
            }
            ,
            e.prototype.onResize = function() {
                var e = this.scrollEl;
                if (null !== e.offsetParent) {
                    this.height = e.clientHeight;
                    var t = e.clientWidth;
                    t !== this.width ? (this.width = t,
                    this.invalidateAll()) : this.updateVirtualDisplay()
                }
            }
            ,
            e.prototype.queueCompute = function() {
                this.queued || (this.queued = ze(this.compute.bind(this), 50))
            }
            ,
            e.prototype.computeSync = function() {
                for (var e = 0; e < 10 && !this.rootEl.info.computed; e++)
                    this.compute()
            }
            ,
            e.prototype.compute = function() {
                this.queued && (this.queued.cancel(),
                this.queued = null);
                var e = this.scrollEl
                  , t = this.rootEl;
                if (t) {
                    var n = e.scrollTop;
                    if (null !== e.offsetParent) {
                        this._precompute(t),
                        this._layout(t),
                        this._measure(t);
                        var i = !0;
                        if (t.children)
                            for (var r = 0, o = t.children; r < o.length; r++) {
                                if (!o[r].info.computed) {
                                    i = !1;
                                    break
                                }
                            }
                        t.info.computed = i,
                        this.updateVirtualDisplay(n),
                        i || this.queueCompute()
                    }
                }
            }
            ,
            e.prototype._precompute = function(e) {
                if (bx(e)) {
                    var t = e.children
                      , n = e.childrenEl;
                    if (t && n.parentNode)
                        for (var i = 0, r = t; i < r.length; i++) {
                            var o = r[i];
                            this._precompute(o) || (e.info.computed = !1)
                        }
                }
                return e.info.queued = !1,
                e.info.computed
            }
            ,
            e.prototype._layout = function(e) {
                var t = e.info;
                if (!t.computed) {
                    var n = !0;
                    if (bx(e)) {
                        var i = e.children
                          , r = e.childrenEl
                          , o = e.pusherEl;
                        if (r.parentNode) {
                            o.style.marginBottom = "0";
                            for (var s = [o], a = 0, l = 0, c = i; l < c.length; l++) {
                                var u = c[l];
                                this._layout(u),
                                u.info.computed ? (kx(u, (function(e) {
                                    return a += e.info.height
                                }
                                )),
                                u.el.parentNode === r && s.push(u.el)) : (n = !1,
                                s.push(u.el))
                            }
                            r.setChildrenInPlace(s),
                            r.style.minHeight = a + "px"
                        }
                    }
                    n && (t.queued = !0)
                }
            }
            ,
            e.prototype._measure = function(e) {
                if (!e.info.computed && bx(e)) {
                    var t = e.children;
                    if (e.childrenEl.parentNode)
                        for (var n = 0, i = t; n < i.length; n++) {
                            var r = i[n];
                            this._measure(r),
                            r.info.queued && (this.measure(e, r),
                            r.info.computed = !0)
                        }
                }
            }
            ,
            e.prototype.measure = function(e, t) {
                var n = t.el
                  , i = t.info;
                if (n.offsetParent) {
                    i.hidden = !1;
                    var r = t === e.children[0]
                      , o = n.nextSibling
                      , s = r ? e.childrenEl.offsetTop : n.offsetTop
                      , a = o ? o.offsetTop : n.offsetTop + n.offsetHeight
                      , l = 0;
                    bx(t) && (l = t.childrenEl.offsetHeight),
                    i.height = a - s - l,
                    0 === i.height && 0 === l && (i.hidden = !0),
                    this.setWidth && (i.width = Math.max(n.scrollWidth, n.offsetWidth)),
                    bx(t) && (i.childTop = t.childrenEl.offsetTop - s)
                } else
                    i.hidden = !0
            }
            ,
            e.prototype.updateVirtualDisplay = function(e) {
                var t = this.scrollEl
                  , n = this.rootEl
                  , i = t.scrollTop;
                "number" == typeof e && (i = e),
                this.lastScroll = i;
                var r = t.clientHeight
                  , o = i + r
                  , s = Math.min(i, t.scrollTop)
                  , a = Math.max(r, 300)
                  , l = s - a
                  , c = o + a
                  , u = 0
                  , h = 0;
                kx(n, (function(e) {
                    var t = e.info.height;
                    t > 0 && (u += t,
                    h++)
                }
                )),
                u /= h,
                this.update(n, this.getRootTop(), l, c, u),
                t.scrollTop !== i && (t.scrollTop = i)
            }
            ,
            e.prototype.update = function(e, t, n, i, r) {
                if (bx(e)) {
                    var o = e.children
                      , s = e.childrenEl
                      , a = e.info
                      , l = e.pusherEl;
                    if (s.parentNode) {
                        if (a.hidden)
                            return;
                        var c = this.setWidth
                          , u = 0
                          , h = 0
                          , p = [l]
                          , d = !1
                          , f = 0;
                        t += a.height;
                        for (var g = function(e) {
                            var o = 0;
                            kx(e, (function(e) {
                                return o += e.info.hidden ? 0 : e.info.height || r
                            }
                            )),
                            h += o;
                            var s = t + o;
                            c && (f = Math.max(f, e.info.width)),
                            d = !1,
                            s < n ? u += o : t > i || (p.push(e.el),
                            m.update(e, t, n, i, r),
                            d = !0),
                            t = s
                        }, m = this, v = 0, y = o; v < y.length; v++) {
                            g(k = y[v])
                        }
                        s.setChildrenInPlace(p),
                        l.style.marginBottom = u + "px",
                        c && (f = Math.max(1, f),
                        l.style.width = f + "px"),
                        s.style.minHeight = d ? "" : h + "px"
                    } else {
                        p = [];
                        for (var b = 0, w = o; b < w.length; b++) {
                            var k = w[b];
                            p.push(k.el)
                        }
                        s.setChildrenInPlace(p),
                        s.style.minHeight = ""
                    }
                }
            }
            ,
            e.prototype.scrollIntoView = function(e) {
                var t = this.findElementTop(e, this.rootEl, this.getRootTop());
                if (null !== t) {
                    var n = 0;
                    kx(e, (function(e) {
                        return n += e.info.height
                    }
                    ));
                    var i = t + n
                      , r = this.scrollEl
                      , o = r.scrollTop
                      , s = o + r.clientHeight;
                    t < o ? r.scrollTop = t : i > s && (r.scrollTop = i - r.clientHeight),
                    this.updateVirtualDisplay()
                }
            }
            ,
            e.prototype.findElementTop = function(e, t, n) {
                if (e === t)
                    return n;
                if (bx(t)) {
                    var i = t.children
                      , r = t.childrenEl
                      , o = t.info;
                    if (r.parentNode) {
                        n += o.height;
                        for (var s = function(t) {
                            var i = a.findElementTop(e, t, n);
                            if (null !== i)
                                return {
                                    value: i
                                };
                            var r = 0;
                            kx(t, (function(e) {
                                return r += e.info.height
                            }
                            )),
                            r,
                            n += r
                        }, a = this, l = 0, c = i; l < c.length; l++) {
                            var u = s(c[l]);
                            if ("object" == typeof u)
                                return u.value
                        }
                    }
                }
                return null
            }
            ,
            e.prototype.getRootTop = function() {
                for (var e = this.scrollEl, t = this.rootEl.childrenEl, n = 0; t && t !== e; )
                    n += t.offsetTop,
                    t = t.offsetParent;
                return n
            }
            ,
            e
        }()
          , xx = (function() {
            function e(e, t) {
                this.elements = [],
                this.lastScroll = 0,
                this.viewportHeight = 0,
                this.renderedWidth = 0,
                this.showAll = !1,
                this.nodeInfos = wC(),
                this.containerEl = e,
                this.scrollEl = t = t || e,
                t.style.position = "relative",
                this.sizerEl = e.createDiv();
                var n = this.pusherEl = createDiv();
                n.style.width = "1px",
                n.style.height = "0.1px",
                t.addEventListener("scroll", this.onScroll.bind(this)),
                this.requestRerender = Pe(this.rerender.bind(this), 100),
                this.onResize()
            }
            e.prototype.append = function(e) {
                this.elements.push(e),
                this.requestRerender()
            }
            ,
            e.prototype.clear = function() {
                this.elements = [],
                this.requestRerender()
            }
            ,
            e.prototype.invalidate = function(e) {
                var t = this.nodeInfos.get(e);
                t && (t.valid = !1,
                this.requestRerender())
            }
            ,
            e.prototype.invalidateAll = function() {
                for (var e = this.elements, t = this.nodeInfos, n = 0, i = e; n < i.length; n++) {
                    var r = i[n]
                      , o = t.get(r);
                    o && (o.valid = !1)
                }
                this.requestRerender()
            }
            ,
            e.prototype.onResize = function() {
                var e = this.scrollEl
                  , t = this.containerEl;
                this.viewportHeight = e.clientHeight;
                var n = t.offsetWidth;
                n !== this.renderedWidth ? (this.renderedWidth = n,
                this.invalidateAll()) : this.updateVirtualDisplay()
            }
            ,
            e.prototype.onScroll = function() {
                var e = this
                  , t = e.scrollEl
                  , n = e.lastScroll
                  , i = e.viewportHeight
                  , r = t.scrollTop;
                Math.abs(n - r) > i / 8 && this.updateVirtualDisplay()
            }
            ,
            e.prototype.updateVirtualDisplay = function() {
                var e = this
                  , t = e.showAll
                  , n = e.scrollEl
                  , i = e.containerEl
                  , r = e.sizerEl
                  , o = e.pusherEl
                  , s = e.elements
                  , a = e.nodeInfos;
                if (t) {
                    var l = [];
                    l.push(o);
                    for (var c = 0, u = s; c < u.length; c++) {
                        var h = u[c];
                        l.push(h)
                    }
                    return r.setChildrenInPlace(l),
                    r.style.minHeight = "",
                    void (o.style.marginBottom = "0")
                }
                var p = n.scrollTop;
                this.lastScroll = p,
                n !== i && (p -= i.offsetTop);
                var d = n.clientHeight
                  , f = d / 4
                  , g = p - f
                  , m = p + d + f
                  , v = 0
                  , y = 0
                  , b = 1
                  , w = [];
                w.push(o);
                for (var k = 0, C = s; k < C.length; k++) {
                    h = C[k];
                    var x = a.get(h);
                    if (!x)
                        break;
                    var E = x.height
                      , S = x.width
                      , L = y + E;
                    b = Math.max(b, S),
                    L < g ? (h.parentNode === r && h.detach(),
                    v = L) : y > m ? (h.parentNode === r && h.detach()) : (w.push(h)),
                    y = L
                }
                r.setChildrenInPlace(w),
                r.style.minHeight = y + "px",
                o.style.marginBottom = v + "px"
            }
            ,
            e.prototype.rerender = function() {
                for (var e = this, t = e.scrollEl, n = e.sizerEl, i = e.pusherEl, r = e.elements, o = e.nodeInfos, s = t.scrollTop, a = [], l = !1, c = [i], u = 0, h = r; u < h.length; u++) {
                    var p = (m = h[u]).parentElement === n
                      , d = o.get(m);
                    d && d.valid ? l && (p = !0,
                    l = !1) : (p = !0,
                    a.push(m),
                    l = !0),
                    p && c.push(m)
                }
                i.style.marginBottom = "0",
                n.setChildrenInPlace(c);
                for (var f = 0, g = a; f < g.length; f++) {
                    var m, v = (m = g[f]).nextSibling, y = (v ? v.offsetTop : m.offsetTop + m.offsetHeight) - m.offsetTop;
                    o.set(m, {
                        height: y,
                        width: m.scrollWidth,
                        valid: !0
                    })
                }
                t.scrollTop = s,
                this.updateVirtualDisplay()
            }
        }(),
        /\r?\n\r?\n/y);
        function Ex(e, t, n, i, r) {
            !function(e, t, n, i) {
                for (var r = e, o = 0; o < n.length; o++) {
                    var s = n[o]
                      , a = s[0];
                    if (a >= t)
                        break;
                    var l = s[1];
                    l < e || (a < e && (a = e),
                    l > t && (l = t),
                    a > r && i(!1, r, a),
                    i(!0, a, l),
                    r = l)
                }
                r < t && i(!1, r, t)
            }(n, i, r, (function(n, i, r) {
                var o = t.substring(i, r);
                n ? e.createSpan({
                    cls: "search-result-file-matched-text",
                    text: o
                }) : e.createSpan({
                    text: o
                })
            }
            ))
        }
        var Sx = function() {
            function e(e, t, n, i, r, o) {
                var s = this;
                void 0 === o && (o = !0),
                this.collapsible = !0,
                this.collapsed = !1,
                this.extraContext = !0,
                this.separateMatches = !1,
                this.showTitle = !0,
                this.onMatchRender = null,
                this.info = {
                    height: 0,
                    width: 0,
                    childTop: 0,
                    computed: !1,
                    queued: !1,
                    hidden: !1
                },
                this.children = [],
                this.pusherEl = wx(),
                this.app = e,
                this.parent = t,
                this.file = n,
                this.result = i,
                this.content = r,
                this.showTitle = o;
                var a = this.el = this.containerEl = createDiv("tree-item search-result");
                if (o) {
                    var l = a.createDiv("tree-item-self search-result-file-title is-clickable")
                      , c = this.collapseEl = l.createDiv("tree-item-icon collapse-icon");
                    yk(c, Ry, 8),
                    c.style.visibility = "hidden",
                    l.onClickEvent(this.onResultClick.bind(this)),
                    l.addEventListener("mouseover", (function(e) {
                        return s.onResultMouseover(e, l)
                    }
                    )),
                    l.addEventListener("contextmenu", this.onResultContextMenu.bind(this)),
                    c.addEventListener("click", this.onCollapseClick.bind(this));
                    var u = l.createDiv("tree-item-inner");
                    if (i.filename || i.filepath) {
                        var h = void 0
                          , p = void 0;
                        if (i.filepath) {
                            if (h = n.path,
                            p = i.filepath,
                            i.filename)
                                for (var d = n.path.length - n.name.length, f = 0, g = i.filename; f < g.length; f++) {
                                    var m = g[f];
                                    p.push([m[0] + d, m[1] + d])
                                }
                        } else
                            h = n.name,
                            p = i.filename,
                            "md" === n.extension && (0 === p.length || p.last()[1] <= n.basename.length) && (h = n.basename);
                        Ex(u, h, 0, h.length, p)
                    } else
                        u.setText("md" === n.extension ? n.basename : n.name);
                    i.content && i.content.length > 0 && l.createDiv("tree-item-flair-outer").createSpan("tree-item-flair").setText(String(i.content.length))
                }
                this.childrenEl = a.createDiv("search-result-file-matches");
                var v = this.app.dragManager;
                v.handleDrag(a, (function(e) {
                    return v.dragFile(e, s.file)
                }
                ))
            }
            return e.prototype.renderContentMatches = function() {
                var e = this
                  , t = this
                  , n = t.file
                  , i = t.result
                  , r = t.content
                  , o = t.collapsible
                  , s = t.extraContext
                  , a = t.separateMatches
                  , l = t.collapseEl;
                this.children = [],
                this.showTitle && (l.style.visibility = "hidden");
                var c = i.content;
                if (c && 0 !== c.length) {
                    this.showTitle && o && (l.style.visibility = "");
                    var u = 0
                      , h = function(t, n, i, r) {
                        var o = u + 1;
                        if (!a)
                            for (; o < c.length; ) {
                                var s = c[o];
                                if (s[0] >= n)
                                    break;
                                if (s[1] > n) {
                                    n = s[1],
                                    o++;
                                    break
                                }
                                o++
                            }
                        var l = c.slice(u, o)
                          , h = new Lx(e,t,n,l);
                        h.onMatchRender = e.onMatchRender,
                        h.render(i, r),
                        e.children.push(h),
                        u = o
                    };
                    if (s)
                        for (var p = this.app.metadataCache.getFileCache(n) || {}, d = p.listItems, f = p.sections; u < c.length; ) {
                            m = c[u];
                            var g = this.getMatchExtraPositions(r, m, d, f);
                            h(g[0], g[1])
                        }
                    else
                        for (; u < c.length; ) {
                            var m = c[u]
                              , v = this.getMatchMinimalPositions(r, m);
                            h(v[0], v[1], v[2], v[3])
                        }
                    this.invalidate()
                }
            }
            ,
            e.prototype.getMatchMinimalPositions = function(e, t) {
                for (var n = 100, i = t[0] - 1, r = 0; r < n && i >= 0; ) {
                    if ("\n" === e.charAt(i))
                        break;
                    i--,
                    r++
                }
                i++;
                for (var o = r === n, s = t[1], a = 0; a < n && s < e.length; ) {
                    if ("\n" === e.charAt(s))
                        break;
                    s++,
                    a++
                }
                return [i, s, o, a === n]
            }
            ,
            e.prototype.getMatchExtraPositions = function(e, t, n, i) {
                if (n) {
                    var r = n[c = Ey(n, t[0])];
                    if (r && t[0] >= r.position.start.offset && t[1] <= r.position.end.offset) {
                        var o = r
                          , s = c + 1
                          , a = new Set;
                        for (a.add(o.position.start.line); s < n.length; ) {
                            var l = n[s];
                            if (!a.has(l.parent))
                                break;
                            a.add(l.position.start.line),
                            s++,
                            o = l
                        }
                        return [r.position.start.offset - r.position.start.col, o.position.end.offset]
                    }
                }
                if (i) {
                    var c, u = i[c = Ey(i, t[0])];
                    if (u && t[0] >= u.position.start.offset && t[1] <= u.position.end.offset)
                        return [u.position.start.offset, u.position.end.offset]
                }
                for (var h = t[0], p = h - 1e3; h > 0 && h > p && 10 !== e.charCodeAt(h - 1); )
                    h--;
                for (var d = t[0], f = d + 1e3; d < e.length && d < f && 10 !== e.charCodeAt(d); )
                    d++;
                var g = e.substring(h, d).match(Od);
                if (g && g[2]) {
                    for (var m = d; m < e.length; ) {
                        var v = e.indexOf("\n", m + 1);
                        -1 === v && (v = e.length);
                        var y = e.substring(m + 1, v).match(Od);
                        if (y && y[1].length <= g[1].length)
                            break;
                        m = v
                    }
                    return [h, m]
                }
                for (var b = h; b > 0 && b > p && (xx.lastIndex = b,
                !xx.test(e)); )
                    b--;
                for (; 10 === e.charCodeAt(b) && b < h; )
                    b++;
                for (var w = d; w < e.length && w < f && (xx.lastIndex = w,
                !xx.test(e)); )
                    w++;
                return [b, w]
            }
            ,
            e.prototype.getPrevPos = function(e) {
                var t = this.app.metadataCache.getFileCache(this.file) || {}
                  , n = t.listItems
                  , i = t.sections;
                if (n) {
                    var r = n[Ey(n, e, !0)];
                    if (r) {
                        var o = r.position
                          , s = o.start
                          , a = o.end;
                        if (s.offset - s.col <= e && a.offset >= e)
                            return s.offset - s.col
                    }
                }
                if (i) {
                    var l = i[Ey(i, e, !0)];
                    if (l && "list" !== l.type) {
                        var c = l.position;
                        s = c.start,
                        a = c.end;
                        if (s.offset - s.col <= e && a.offset >= e)
                            return s.offset - s.col
                    }
                }
                for (var u = this.content, h = e; h > 0 && 10 !== u.charCodeAt(h - 1); )
                    h--;
                return h
            }
            ,
            e.prototype.getNextPos = function(e) {
                var t = this.app.metadataCache.getFileCache(this.file) || {}
                  , n = t.listItems
                  , i = t.sections;
                if (n) {
                    var r = n[p = Ey(n, e, !0)];
                    if (r) {
                        var o = r.position
                          , s = o.start
                          , a = o.end;
                        if (s.offset - s.col <= e && a.offset >= e) {
                            var l = r
                              , c = p + 1
                              , u = new Set;
                            for (u.add(l.position.start.line); c < n.length; ) {
                                var h = n[c];
                                if (!u.has(h.parent))
                                    break;
                                u.add(h.position.start.line),
                                c++,
                                l = h
                            }
                            return l.position.end.offset
                        }
                    }
                }
                if (i) {
                    var p, d = i[p = Ey(i, e, !0)];
                    if (d && "list" !== d.type) {
                        var f = d.position;
                        s = f.start,
                        a = f.end;
                        if (s.offset - s.col <= e && a.offset >= e)
                            return a.offset
                    }
                }
                for (var g = this.content, m = e; m < g.length && 10 !== g.charCodeAt(m); )
                    m++;
                return m
            }
            ,
            e.prototype.onCollapseClick = function(e) {
                e.preventDefault(),
                this.setCollapse(!this.collapsed, !0)
            }
            ,
            e.prototype.onResultClick = function(e, t) {
                if ((0 === e.button || 1 === e.button) && !e.defaultPrevented) {
                    e.preventDefault();
                    var n = {
                        match: {
                            content: this.content,
                            matches: t || this.result.content || []
                        }
                    }
                      , i = this.app.workspace
                      , r = rn.isModifier(e, "Mod");
                    i.getLeaf(r || 1 === e.button).openFile(this.file, {
                        active: !0,
                        eState: n
                    })
                }
            }
            ,
            e.prototype.onResultMouseover = function(e, t, n) {
                if (!e.defaultPrevented && He(e, t)) {
                    e.preventDefault();
                    var i = this.file.path
                      , r = null;
                    if (n && n.length > 0)
                        r = {
                            scroll: Cf(this.content, n[0][0])
                        };
                    this.app.workspace.trigger("hover-link", {
                        event: e,
                        source: "search",
                        hoverParent: this.parent,
                        targetEl: t,
                        linktext: i,
                        state: r
                    })
                }
            }
            ,
            e.prototype.onResultContextMenu = function(e) {
                var t = new Zk(this.app);
                this.app.workspace.handleLinkContextMenu(t, this.file.path, "") && (e.preventDefault(),
                t.showAtMouseEvent(e))
            }
            ,
            e.prototype.setCollapse = function(e, t) {
                return o(this, void 0, void 0, (function() {
                    var n, i, r;
                    return s(this, (function(o) {
                        switch (o.label) {
                        case 0:
                            return this.collapsed = e,
                            i = (n = this).containerEl,
                            r = n.childrenEl,
                            i.toggleClass("is-collapsed", e),
                            [4, Ot(r, i, e, t)];
                        case 1:
                            return o.sent(),
                            this.invalidate(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.setCollapsible = function(e) {
                this.collapsible !== e && (this.collapsible = e,
                this.collapseEl.style.visibility = e ? "" : "hidden")
            }
            ,
            e.prototype.setExtraContext = function(e) {
                this.extraContext !== e && (this.extraContext = e,
                this.renderContentMatches())
            }
            ,
            e.prototype.invalidate = function() {
                this.parent.infinityScroll.invalidate(this, !0)
            }
            ,
            e
        }()
          , Lx = function() {
            function e(e, t, n, i) {
                var r = this;
                this.info = {
                    height: 0,
                    width: 0,
                    childTop: 0,
                    computed: !1,
                    queued: !1,
                    hidden: !1
                },
                this.onMatchRender = null,
                this.parent = e,
                this.start = t,
                this.end = n,
                this.matches = i;
                var o = this.el = createDiv("search-result-file-match");
                o.onClickEvent((function(t) {
                    return e.onResultClick(t, i)
                }
                ));
                var s = null
                  , a = null
                  , l = e.content.length;
                o.addEventListener("mouseover", (function(t) {
                    He(t, o) && (e.onResultMouseover(t, o, i),
                    s && s.detach(),
                    a && a.detach(),
                    r.start > 0 && (yk(s = o.createDiv("search-result-hover-button mod-top"), uw),
                    Je(s, Te("plugins.search.label-more-context"), {
                        placement: "top"
                    }),
                    s.addEventListener("click", (function(e) {
                        e.preventDefault();
                        for (var t = r.start; t > 0; ) {
                            t--;
                            var n = r.parent.getPrevPos(t);
                            if (n < t) {
                                t = n;
                                break
                            }
                        }
                        r.start = t,
                        r.render()
                    }
                    ))),
                    r.end < l && (yk(a = o.createDiv("search-result-hover-button mod-bottom"), hw),
                    Je(a, Te("plugins.search.label-more-context"), {
                        placement: "bottom"
                    }),
                    a.addEventListener("click", (function(e) {
                        e.preventDefault();
                        for (var t = r.end; t < l; ) {
                            t++;
                            var n = r.parent.getNextPos(t);
                            if (n > t) {
                                t = n;
                                break
                            }
                        }
                        r.end = t,
                        r.render()
                    }
                    ))))
                }
                )),
                o.addEventListener("mouseout", (function(e) {
                    He(e, o) && (s && s.detach(),
                    a && a.detach())
                }
                )),
                o.addEventListener("contextmenu", e.onResultContextMenu.bind(this))
            }
            return e.prototype.render = function(e, t) {
                var n = this
                  , i = n.el
                  , r = n.parent
                  , o = n.matches
                  , s = n.onMatchRender;
                i.empty(),
                e && i.appendText("..."),
                Ex(i, r.content, this.start, this.end, o),
                t && i.appendText("..."),
                s && s(o[0], i),
                r.parent.infinityScroll.invalidate(this)
            }
            ,
            e
        }()
          , Dx = function() {
            function e(e, t, n, i) {
                this.emptyStateEl = null,
                this.working = !1,
                this.showingEmptyState = !1,
                this.collapseAll = !1,
                this.extraContext = !1,
                this.cleared = !1,
                this.infinityScroll = null,
                this.children = [],
                this.resultDomLookup = new Map,
                this.sortOrder = "alphabetical",
                this.changed = Pe(this.onChange.bind(this), 0),
                this.info = {
                    height: 0,
                    width: 0,
                    childTop: 0,
                    computed: !1,
                    queued: !1,
                    hidden: !1
                },
                this.pusherEl = wx(),
                this.app = e,
                this.el = t,
                this.emptyStateEl = createDiv({
                    cls: "search-empty-state",
                    text: n
                }),
                this.childrenEl = this.el.createDiv("search-results-children"),
                this.infinityScroll = new Cx(i || this.el),
                this.infinityScroll.rootEl = this
            }
            return e.prototype.startLoader = function() {
                this.working = !0,
                this.el.addClass("is-loading"),
                this.onChange()
            }
            ,
            e.prototype.stopLoader = function() {
                this.cleared = !1,
                this.working = !1,
                this.el.removeClass("is-loading"),
                this.onChange()
            }
            ,
            e.prototype.onChange = function() {
                var e = this
                  , t = e.sortOrder
                  , n = e.children
                  , i = e.emptyStateEl
                  , r = e.infinityScroll
                  , o = yx[t];
                n.sort((function(e, t) {
                    return o(e.file, t.file)
                }
                )),
                0 !== n.length || this.cleared ? r.queueCompute() : this.childrenEl.setChildrenInPlace([i])
            }
            ,
            e.prototype.emptyResults = function() {
                this.children = [],
                this.resultDomLookup.clear(),
                this.cleared = !0,
                this.changed()
            }
            ,
            e.prototype.getResult = function(e) {
                return this.resultDomLookup.get(e)
            }
            ,
            e.prototype.removeResult = function(e) {
                var t = this.children
                  , n = this.resultDomLookup
                  , i = n.get(e);
                return i && (t.remove(i),
                n.delete(e),
                this.changed()),
                i
            }
            ,
            e.prototype.addResult = function(e, t, n, i) {
                if (void 0 === i && (i = !0),
                e) {
                    var r = this.children
                      , o = this.resultDomLookup
                      , s = this.removeResult(e)
                      , a = new Sx(this.app,this,e,t,n,i);
                    return s ? a.setCollapse(s.collapsed, !1) : a.setCollapse(this.collapseAll, !1),
                    a.extraContext = this.extraContext,
                    r.push(a),
                    o.set(e, a),
                    this.changed(),
                    a
                }
            }
            ,
            e.prototype.toggle = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(n) {
                        switch (n.label) {
                        case 0:
                            return [4, Pt(this.el, e, t)];
                        case 1:
                            return n.sent(),
                            e || this.infinityScroll.invalidateAll(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.setCollapseAll = function(e) {
                this.collapseAll = e;
                for (var t = 0, n = this.children; t < n.length; t++) {
                    n[t].setCollapse(e, !1)
                }
                this.infinityScroll.invalidateAll()
            }
            ,
            e.prototype.setExtraContext = function(e) {
                this.extraContext = e;
                for (var t = 0, n = this.children; t < n.length; t++) {
                    n[t].setExtraContext(e)
                }
                this.infinityScroll.invalidateAll()
            }
            ,
            e.prototype.onResize = function() {
                this.infinityScroll.onResize()
            }
            ,
            e.prototype.getFiles = function() {
                return this.children.map((function(e) {
                    return e.file
                }
                ))
            }
            ,
            e.prototype.getMatchCount = function() {
                for (var e = 0, t = 0, n = this.children; t < n.length; t++) {
                    e += n[t].children.length
                }
                return e
            }
            ,
            e
        }()
          , Mx = function(e) {
            function t(t, n) {
                var i = e.call(this) || this;
                return i.queue = null,
                i.app = t,
                i.dom = n,
                i
            }
            return i(t, e),
            t.prototype.onload = function() {
                var e = this.app.vault;
                this.registerEvent(e.on("rename", this.onFileChanged, this)),
                this.registerEvent(e.on("delete", this.onFileDeleted, this)),
                this.registerEvent(this.app.metadataCache.on("changed", this.onFileChanged, this))
            }
            ,
            t.prototype.onunload = function() {
                this.stop()
            }
            ,
            t.prototype.stop = function() {
                var e = this.queue;
                e && (e.cancel(),
                this.queue = null)
            }
            ,
            t.prototype.start = function() {
                var e = this
                  , t = this.app
                  , n = this.dom
                  , i = this.queue = new qk({
                    onStart: function() {
                        n.startLoader()
                    },
                    onStop: function() {
                        n.stopLoader()
                    },
                    onCancel: function() {
                        e.queue = null
                    }
                })
                  , r = t.vault.getFiles();
                return r.sort(yx[this.dom.sortOrder]),
                i.addList(r),
                i
            }
            ,
            t.prototype.onFileChanged = function(e) {
                var t = this.queue;
                t && t.add(e)
            }
            ,
            t.prototype.onFileDeleted = function(e) {
                var t = this.queue;
                t && t.remove(e),
                this.dom.removeResult(e)
            }
            ,
            t
        }(Jk)
          , Ax = /A-Za-z\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC/
          , Tx = /\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u4E00-\u9FD5\uAC00-\uD7A3\uA960-\uA97C\uD7B0-\uD7C6/
          , Fx = Ax.source + /0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19/.source
          , Px = new RegExp("[" + Fx + "]")
          , Ox = function(e) {
            if (0 === e.length)
                return "";
            var t = e.charAt(0)
              , n = e.charAt(e.length - 1)
              , i = Px.test(t)
              , r = Px.test(n);
            return (i ? "(?:^|[^" + Fx + "])" : "") + "(" + vf(e) + ")" + (r ? "(?![" + Fx + "])" : "()")
        }
          , Ix = function() {}
          , Nx = function() {
            function e(e, t, n, i) {
                this.cache = null,
                this.data = null,
                this.strings = e,
                this.original = t,
                this.keys = n,
                this.caseSensitive = i
            }
            return e.prototype.clone = function() {
                var t = new e(this.strings,this.original,this.keys,this.caseSensitive);
                return t.cache = this.cache,
                this.data && (t.data = new Map(this.data)),
                t
            }
            ,
            e.prototype.setData = function(e, t) {
                this.data || (this.data = new Map),
                this.data.set(e, t)
            }
            ,
            e.prototype.getData = function(e) {
                return this.data ? this.data.get(e) : null
            }
            ,
            e.prototype.deleteData = function(e) {
                this.data && (this.data.delete(e),
                0 === this.data.size && (this.data = null))
            }
            ,
            e
        }();
        function Rx(e, t) {
            for (var n in t)
                if (t.hasOwnProperty(n)) {
                    var i = t[n];
                    e.hasOwnProperty(n) ? e[n] = e[n].concat(i) : e[n] = i
                }
        }
        var Bx = function() {}
          , zx = function(e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }
            return i(t, e),
            t.prototype.match = function(e) {
                for (var t = {}, n = 0, i = e.keys; n < i.length; n++) {
                    var r = i[n]
                      , o = e.strings[r];
                    o && (t[r] = [[0, o.length]])
                }
                return t
            }
            ,
            t.prototype.getInfo = function() {
                return ""
            }
            ,
            t.prototype.requiredInputs = function() {
                return {
                    content: !0
                }
            }
            ,
            t
        }(Bx)
          , Hx = {}
          , Vx = {}
          , qx = Pe((function() {
            Hx = {},
            Vx = {}
        }
        ), 6e4, !0);
        function Ux(e, t, n) {
            var i = null
              , r = e.caseSensitive ? Hx : Vx;
            r.hasOwnProperty(t) && (i = r[t]),
            i || (i = r[t] = new RegExp(t,e.caseSensitive ? "gm" : "gmi"));
            for (var o = !1, s = {}, a = 0, l = e.keys; a < l.length; a++) {
                var c = l[a]
                  , u = e.strings[c];
                if (u) {
                    var h = [];
                    for (i.lastIndex = 0; ; ) {
                        var p = i.exec(u);
                        if (!p)
                            break;
                        var d = p[0].length;
                        if (0 !== d) {
                            if (n) {
                                if (!p[1] || 0 === p[1].length) {
                                    i.lastIndex++;
                                    continue
                                }
                                d = p[1].length
                            }
                            var f = i.lastIndex
                              , g = f - d;
                            h.push([g, f])
                        } else
                            i.lastIndex++
                    }
                    h.length > 0 && (s[c] = h,
                    o = !0)
                }
            }
            return o ? s : null
        }
        var _x = function(e) {
            function t(t) {
                var n = e.call(this) || this;
                return n.regex = t,
                n
            }
            return i(t, e),
            t.prototype.match = function(e) {
                if ("" !== this.regex)
                    return Ux(e, this.regex, !1)
            }
            ,
            t.prototype.getInfo = function() {
                return Te("plugins.search.label-match-regex") + "/" + this.regex + "/"
            }
            ,
            t.prototype.requiredInputs = function() {
                return {
                    content: !0
                }
            }
            ,
            t
        }(Bx)
          , jx = function(e) {
            function t(t) {
                var n = e.call(this) || this;
                return n.text = t,
                n.regex = Ox(t),
                n
            }
            return i(t, e),
            t.prototype.match = function(e) {
                if ("" !== this.text)
                    return Ux(e, this.regex, !0)
            }
            ,
            t.prototype.getInfo = function() {
                return Te("plugins.search.label-match-exact-text") + '"' + this.text + '"'
            }
            ,
            t.prototype.requiredInputs = function() {
                return {
                    content: !0
                }
            }
            ,
            t
        }(Bx)
          , Wx = function(e) {
            function t(t) {
                var n = e.call(this, vf(t)) || this;
                return n.text = t,
                n
            }
            return i(t, e),
            t.prototype.getInfo = function() {
                return Te("plugins.search.label-match-text") + '"' + this.text + '"'
            }
            ,
            t
        }(_x)
          , $x = function(e) {
            function t(t) {
                var n = e.call(this) || this;
                return n.matchers = [],
                n.matchers = t,
                n
            }
            return i(t, e),
            t.prototype.requiredInputs = function() {
                for (var e = {}, t = 0, n = this.matchers; t < n.length; t++) {
                    var i = n[t];
                    Object.assign(e, i.requiredInputs())
                }
                return e
            }
            ,
            t
        }(Bx)
          , Gx = function(e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }
            return i(t, e),
            t.prototype.match = function(e) {
                for (var t = void 0, n = 0, i = this.matchers; n < i.length; n++) {
                    var r = i[n].match(e);
                    if (null === r)
                        return null;
                    t ? r && Rx(t, r) : t = r
                }
                return t
            }
            ,
            t.prototype.getInfo = function() {
                return Te("plugins.search.label-match-all")
            }
            ,
            t
        }($x)
          , Yx = function(e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }
            return i(t, e),
            t.prototype.match = function(e) {
                for (var t = void 0, n = 0, i = this.matchers; n < i.length; n++) {
                    var r = i[n].match(e);
                    t || void 0 === r ? r && Rx(t, r) : t = r
                }
                return t
            }
            ,
            t.prototype.getInfo = function() {
                return Te("plugins.search.label-match-any")
            }
            ,
            t
        }($x)
          , Kx = function(e) {
            function t(t) {
                var n = e.call(this) || this;
                return n.matcher = t,
                n
            }
            return i(t, e),
            t.prototype.requiredInputs = function() {
                return this.matcher.requiredInputs()
            }
            ,
            t
        }(Bx)
          , Qx = function(e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }
            return i(t, e),
            t.prototype.match = function(e) {
                var t = this.matcher.match(e);
                if (void 0 !== t)
                    return t ? null : {}
            }
            ,
            t.prototype.getInfo = function() {
                return Te("plugins.search.label-excluding")
            }
            ,
            t
        }(Kx);
        function Jx(e) {
            for (var t = []; e.pos < e.tokens.length; ) {
                var n = Xx(e);
                if (n)
                    if (t.push(n),
                    e.pos < e.tokens.length)
                        if ("or" === e.tokens[e.pos].type) {
                            e.pos++;
                            continue
                        }
                break
            }
            return 0 === t.length ? null : 1 === t.length ? t[0] : new Yx(t)
        }
        function Xx(e) {
            for (var t = []; e.pos < e.tokens.length; ) {
                var n = Zx(e);
                if (!n)
                    break;
                t.push(n)
            }
            return 0 === t.length ? null : 1 === t.length ? t[0] : new Gx(t)
        }
        function Zx(e) {
            var t = e.tokens[e.pos];
            if (!t)
                return null;
            var n = t.type
              , i = t.content;
            if ("text" === n)
                return e.pos++,
                new Wx(i);
            if ("quoted" === n)
                return e.pos++,
                new jx(i);
            if ("regex" === n) {
                try {
                    new RegExp(i)
                } catch (e) {
                    throw console.error(e),
                    new Error("Failed to parse regular expression. " + e.message)
                }
                return e.pos++,
                new _x(i)
            }
            if ("group" === n && "(" === i)
                return e.pos++,
                function(e) {
                    var t = Jx(e);
                    if (e.pos < e.tokens.length) {
                        var n = e.tokens[e.pos]
                          , i = n.type
                          , r = n.content;
                        "group" === i && ")" === r && e.pos++
                    }
                    return t
                }(e);
            if ("group" === n && ")" === i)
                return null;
            if ("or" === n)
                return null;
            if ("not" === n)
                return e.pos++,
                (u = Zx(e)) ? new Qx(u) : null;
            if ("operator" === n) {
                var r = i
                  , o = e.operators[r];
                if (!o)
                    throw new Error('Operator "' + r + '" not recognized');
                if (o.exclusive)
                    for (var s = 0, a = e.operatorStack; s < a.length; s++) {
                        var l = a[s]
                          , c = e.operators[l];
                        if (c.exclusive && (!c.allowSelf || l !== r))
                            throw new Error('Operator "' + r + '" cannot be nested within "' + l + '"')
                    }
                e.pos++,
                e.operatorStack.push(r);
                var u = Zx(e);
                return e.operatorStack.pop(),
                u ? o.operate(u) : null
            }
            throw new Error("Failed to parse, error at " + t.pos + ' "' + i + '"')
        }
        var eE = function(e) {
            function t(t, n) {
                var i = e.call(this, t) || this;
                return i.caseSensitive = n,
                i
            }
            return i(t, e),
            t.prototype.match = function(e) {
                var t = e.clone();
                return t.caseSensitive = this.caseSensitive,
                this.matcher.match(t)
            }
            ,
            t.prototype.getInfo = function() {
                return this.caseSensitive ? Te("plugins.search.label-case-sensitive") : Te("plugins.search.label-case-insensitive")
            }
            ,
            t
        }(Kx)
          , tE = "filepath"
          , nE = function(e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }
            return i(t, e),
            t.prototype.match = function(e) {
                if (e.strings.hasOwnProperty(tE)) {
                    var t = e.clone();
                    return t.keys = [tE],
                    this.matcher.match(t)
                }
            }
            ,
            t.prototype.getInfo = function() {
                return Te("plugins.search.label-match-file-path")
            }
            ,
            t.prototype.requiredInputs = function() {
                return {}
            }
            ,
            t
        }(Kx)
          , iE = function(e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }
            return i(t, e),
            t.prototype.match = function(e) {
                if (e.strings.hasOwnProperty("filename")) {
                    var t = e.clone();
                    return t.keys = ["filename"],
                    this.matcher.match(t)
                }
            }
            ,
            t.prototype.getInfo = function() {
                return Te("plugins.search.label-match-file-name")
            }
            ,
            t.prototype.requiredInputs = function() {
                return {}
            }
            ,
            t
        }(Kx)
          , rE = function(e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }
            return i(t, e),
            t.prototype.match = function(e) {
                if (e.strings.hasOwnProperty("content")) {
                    var t = e.clone();
                    return t.keys = ["content"],
                    this.matcher.match(t)
                }
            }
            ,
            t.prototype.getInfo = function() {
                return Te("plugins.search.label-match-content")
            }
            ,
            t.prototype.requiredInputs = function() {
                return {
                    content: !0
                }
            }
            ,
            t
        }(Kx)
          , oE = function(e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }
            return i(t, e),
            t.prototype.splitContentMatch = function(e, t) {
                var n = this
                  , i = e.clone();
                i.keys = ["content"];
                var r = !1
                  , o = !1
                  , s = [];
                return t(i, (function(e, t) {
                    i.strings.content = e;
                    var a = n.matcher.match(i);
                    if (void 0 === a)
                        o = !0;
                    else if (a) {
                        r = !0;
                        var l = a.content;
                        if (l) {
                            Fk(l, t);
                            for (var c = 0, u = l; c < u.length; c++) {
                                var h = u[c];
                                s.push(h)
                            }
                        }
                    }
                }
                )),
                r ? {
                    content: s
                } : o ? void 0 : null
            }
            ,
            t
        }(Kx)
          , sE = function(e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }
            return i(t, e),
            t.prototype.match = function(e) {
                if (e.strings.hasOwnProperty("content")) {
                    var t = e.strings.content;
                    return this.splitContentMatch(e, (function(e, n) {
                        for (var i = 0, r = 0, o = t.split("\n"); r < o.length; r++) {
                            var s = o[r];
                            n(s, i),
                            i = i + s.length + 1
                        }
                    }
                    ))
                }
            }
            ,
            t.prototype.getInfo = function() {
                return Te("plugins.search.label-match-line")
            }
            ,
            t.prototype.requiredInputs = function() {
                return {
                    content: !0
                }
            }
            ,
            t
        }(oE)
          , aE = function(e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }
            return i(t, e),
            t.prototype.match = function(e) {
                if (e.strings.hasOwnProperty("content")) {
                    var t = e.cache;
                    if (!t)
                        return null;
                    var n = e.strings.content;
                    return this.splitContentMatch(e, (function(e, i) {
                        if (t.sections)
                            for (var r = 0, o = t.sections; r < o.length; r++) {
                                var s = o[r];
                                if ("list" !== s.type) {
                                    var a = (h = s.position).start.offset
                                      , l = h.end.offset;
                                    i(n.substring(a, l), a)
                                }
                            }
                        if (t.listItems)
                            for (var c = 0, u = t.listItems; c < u.length; c++) {
                                var h;
                                a = (h = u[c].position).start.offset,
                                l = h.end.offset;
                                i(n.substring(a, l), a)
                            }
                    }
                    ))
                }
            }
            ,
            t.prototype.getInfo = function() {
                return Te("plugins.search.label-match-block")
            }
            ,
            t.prototype.requiredInputs = function() {
                return {
                    content: !0
                }
            }
            ,
            t
        }(oE)
          , lE = new Ix;
        var cE = function(e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }
            return i(t, e),
            t.prototype.match = function(e) {
                if (e.strings.hasOwnProperty("content")) {
                    var t = e.cache;
                    if (!t)
                        return null;
                    var n = e.getData(lE)
                      , i = t.headings;
                    if (!i) {
                        if (n)
                            return null;
                        e.setData(lE, {
                            sections: null,
                            index: 0
                        });
                        var r = this.matcher.match(e);
                        return e.deleteData(lE),
                        r
                    }
                    var o, s, a, l = e.original, c = 0;
                    if (n) {
                        o = n.sections;
                        var u = n.index
                          , h = o[u];
                        if (0 === h.children)
                            return null;
                        c = h.start,
                        s = n.index + 1,
                        a = Math.min(o.length, s + h.children)
                    } else
                        o = function(e, t) {
                            for (var n = [], i = 0; i < e.length; i++) {
                                var r = e[i]
                                  , o = e[i + 1]
                                  , s = r.position.start.offset;
                                0 === i && s > 0 && n.push({
                                    start: 0,
                                    end: s,
                                    children: 0
                                });
                                for (var a = o ? o.position.start.offset : t, l = 0, c = i + 1; c < e.length && e[c].level > r.level; c++)
                                    l++;
                                n.push({
                                    start: s,
                                    end: a,
                                    children: l
                                })
                            }
                            return n
                        }(i, l.length),
                        s = 0,
                        a = o.length;
                    return this.splitContentMatch(e, (function(e, t) {
                        for (var n = s; n < a; n++) {
                            var i = o[n]
                              , r = i.start
                              , u = i.end;
                            u <= r || (e.setData(lE, {
                                sections: o,
                                index: n
                            }),
                            t(l.substring(r, u), r - c))
                        }
                    }
                    ))
                }
            }
            ,
            t.prototype.getInfo = function() {
                return Te("plugins.search.label-match-section")
            }
            ,
            t.prototype.requiredInputs = function() {
                return {
                    content: !0
                }
            }
            ,
            t
        }(oE)
          , uE = function(e) {
            function t(t, n) {
                var i = this;
                return t instanceof jx && "" === t.text && (t = new zx),
                (i = e.call(this, t) || this).completed = n,
                i
            }
            return i(t, e),
            t.prototype.match = function(e) {
                if (e.strings.hasOwnProperty("content")) {
                    var t = e.cache;
                    if (!t)
                        return null;
                    var n = e.strings.content
                      , i = this.completed;
                    return this.splitContentMatch(e, (function(e, r) {
                        if (t.listItems)
                            for (var o = 0, s = t.listItems; o < s.length; o++) {
                                var a = s[o];
                                if (void 0 !== a.task && ("boolean" != typeof i || i === (" " !== a.task))) {
                                    var l = a.position
                                      , c = l.start.offset
                                      , u = l.end.offset;
                                    r(n.substring(c, u), c)
                                }
                            }
                    }
                    ))
                }
            }
            ,
            t.prototype.getInfo = function() {
                var e = this.completed;
                return Te(!0 === e ? "plugins.search.label-match-task-done" : !1 === e ? "plugins.search.label-match-task-todo" : "plugins.search.label-match-task")
            }
            ,
            t.prototype.requiredInputs = function() {
                return {
                    content: !0
                }
            }
            ,
            t
        }(oE)
          , hE = function(e) {
            function t(t) {
                var n = e.call(this) || this;
                return "#" !== t.text.charAt(0) && (t = new Wx("#" + t.text)),
                n.matcher = t,
                n
            }
            return i(t, e),
            t.prototype.match = function(e) {
                var t = new RegExp("^" + this.matcher.regex + "($|\\/)","gmi");
                if (e.strings.hasOwnProperty("tag") && t.test(e.strings.tag))
                    return {};
                if (e.strings.hasOwnProperty("content")) {
                    var n = e.cache;
                    if (!n)
                        return null;
                    var i = []
                      , r = !1
                      , o = vy(n.frontmatter);
                    if (o)
                        for (var s = 0, a = o; s < a.length; s++) {
                            var l = a[s];
                            t.lastIndex = 0,
                            t.test(l) && (r = !0)
                        }
                    var c = n.tags;
                    if (c)
                        for (var u = 0, h = c; u < h.length; u++) {
                            l = h[u];
                            t.lastIndex = 0,
                            t.test(l.tag) && (i.push([l.position.start.offset, l.position.end.offset]),
                            r = !0)
                        }
                    return r ? {
                        content: i
                    } : null
                }
            }
            ,
            t.prototype.getInfo = function() {
                return Te("plugins.search.label-match-tag") + this.matcher.text
            }
            ,
            t.prototype.requiredInputs = function() {
                return {
                    content: !0
                }
            }
            ,
            t
        }(Bx)
          , pE = {
            "match-case": {
                operate: function(e) {
                    return new eE(e,!0)
                }
            },
            "ignore-case": {
                operate: function(e) {
                    return new eE(e,!1)
                }
            },
            path: {
                exclusive: !0,
                operate: function(e) {
                    return new nE(e)
                }
            },
            file: {
                exclusive: !0,
                operate: function(e) {
                    return new iE(e)
                }
            },
            content: {
                exclusive: !0,
                operate: function(e) {
                    return new rE(e)
                }
            },
            line: {
                exclusive: !0,
                operate: function(e) {
                    return new sE(e)
                }
            },
            block: {
                exclusive: !0,
                operate: function(e) {
                    return new aE(e)
                }
            },
            section: {
                exclusive: !0,
                allowSelf: !0,
                operate: function(e) {
                    return new cE(e)
                }
            },
            task: {
                exclusive: !0,
                operate: function(e) {
                    return new uE(e,void 0)
                }
            },
            "task-todo": {
                exclusive: !0,
                operate: function(e) {
                    return new uE(e,!1)
                }
            },
            "task-done": {
                exclusive: !0,
                operate: function(e) {
                    return new uE(e,!0)
                }
            },
            tag: {
                exclusive: !0,
                operate: function(e) {
                    if (!(e instanceof Wx))
                        throw new Error('Operator "tag" can only be followed by text');
                    return new hE(e)
                }
            }
        }
          , dE = function() {
            function e(e, t, n) {
                n = n || pE,
                this.query = e,
                this.caseSensitive = t;
                var i = function(e, t) {
                    for (var n = 0, i = e.length, r = [], o = function(e, t) {
                        "OR" === e ? r.push({
                            type: "or",
                            content: e,
                            pos: t
                        }) : r.push({
                            type: "text",
                            content: e,
                            pos: t
                        })
                    }; n < i; ) {
                        var s = e.charAt(n);
                        if ('"' !== s)
                            if ("/" !== s)
                                if ("-" !== s)
                                    for (var a = n, l = ""; n <= i; ) {
                                        if (n === i) {
                                            l && o(l, a);
                                            break
                                        }
                                        if (p = e.charAt(n),
                                        n++,
                                        "(" === p || ")" === p) {
                                            l && o(l, a),
                                            r.push({
                                                type: "group",
                                                content: p,
                                                pos: a
                                            });
                                            break
                                        }
                                        if (" " === p) {
                                            l && o(l, a);
                                            break
                                        }
                                        if (":" === p && "" !== l && t.hasOwnProperty(l)) {
                                            r.push({
                                                type: "operator",
                                                content: l,
                                                pos: a
                                            });
                                            break
                                        }
                                        l += p
                                    }
                                else {
                                    var c = n;
                                    n++,
                                    r.push({
                                        type: "not",
                                        content: s,
                                        pos: c
                                    })
                                }
                            else {
                                var u = n;
                                n++;
                                for (var h = ""; n <= i; ) {
                                    if (n === i) {
                                        r.push({
                                            type: "regex",
                                            content: h,
                                            pos: u
                                        });
                                        break
                                    }
                                    var p = e.charAt(n);
                                    if (n++,
                                    "\\" === p && n < e.length) {
                                        var d = e.charAt(n);
                                        if ("/" === d) {
                                            h += d,
                                            n++;
                                            continue
                                        }
                                        if ("\\" === d) {
                                            h += "\\\\",
                                            n++;
                                            continue
                                        }
                                    }
                                    if ("/" === p) {
                                        r.push({
                                            type: "regex",
                                            content: h,
                                            pos: u
                                        });
                                        break
                                    }
                                    h += p
                                }
                            }
                        else {
                            var f = n;
                            n++;
                            for (var g = ""; n <= i; ) {
                                if (n === i) {
                                    r.push({
                                        type: "quoted",
                                        content: g,
                                        pos: f
                                    });
                                    break
                                }
                                p = e.charAt(n);
                                if (n++,
                                "\\" === p && n < i)
                                    g += e.charAt(n),
                                    n++;
                                else {
                                    if ('"' === p) {
                                        r.push({
                                            type: "quoted",
                                            content: g,
                                            pos: f
                                        });
                                        break
                                    }
                                    g += p
                                }
                            }
                        }
                    }
                    return r
                }(e, n)
                  , r = this.matcher = function(e, t) {
                    return Jx({
                        tokens: e,
                        pos: 0,
                        operatorStack: [],
                        operators: t
                    })
                }(i, n);
                this.requiredInputs = r && r.requiredInputs()
            }
            return e.prototype.match = function(e, t, n) {
                var i = {
                    filename: e.name,
                    filepath: e.path,
                    content: t
                }
                  , r = "md" === e.extension ? ["filename", "content"] : []
                  , o = new Nx(i,t,r,this.caseSensitive);
                return o.cache = n,
                this._match(o)
            }
            ,
            e.prototype.matchTag = function(e) {
                var t = {
                    tag: e
                };
                return this._match(new Nx(t,e,["tag"],this.caseSensitive))
            }
            ,
            e.prototype.matchFilepath = function(e) {
                var t = {
                    filename: W(e),
                    filepath: e
                };
                return this._match(new Nx(t,e,["filename"],this.caseSensitive))
            }
            ,
            e.prototype._match = function(e) {
                qx();
                var t = this.matcher.match(e);
                if (t)
                    for (var n in t)
                        t.hasOwnProperty(n) && (t[n] = kk(t[n]));
                return void 0 === t && (t = {}),
                t
            }
            ,
            e
        }();
        function fE(e, t, n, i, r) {
            var a, l;
            return o(this, void 0, Promise, (function() {
                var o, c, u, p, d, f, g, m, v;
                return s(this, (function(s) {
                    switch (s.label) {
                    case 0:
                        o = _k(n.generator(), r),
                        s.label = 1;
                    case 1:
                        s.trys.push([1, 10, 11, 16]),
                        c = h(o),
                        s.label = 2;
                    case 2:
                        return [4, c.next()];
                    case 3:
                        if ((u = s.sent()).done)
                            return [3, 9];
                        if (p = u.value,
                        d = "md" === p.extension,
                        f = e.metadataCache.getFileCache(p),
                        g = "",
                        !d || !t.content)
                            return [3, 7];
                        s.label = 4;
                    case 4:
                        return s.trys.push([4, 6, , 7]),
                        [4, e.vault.cachedRead(p)];
                    case 5:
                        return g = s.sent(),
                        [3, 7];
                    case 6:
                        return m = s.sent(),
                        console.error(m),
                        [3, 7];
                    case 7:
                        if (n.runnable.isCancelled())
                            return [2];
                        i(p, g, f),
                        s.label = 8;
                    case 8:
                        return [3, 2];
                    case 9:
                        return [3, 16];
                    case 10:
                        return v = s.sent(),
                        a = {
                            error: v
                        },
                        [3, 16];
                    case 11:
                        return s.trys.push([11, , 14, 15]),
                        u && !u.done && (l = c.return) ? [4, l.call(c)] : [3, 13];
                    case 12:
                        s.sent(),
                        s.label = 13;
                    case 13:
                        return [3, 15];
                    case 14:
                        if (a)
                            throw a.error;
                        return [7];
                    case 15:
                        return [7];
                    case 16:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        var gE = function(e) {
            function t(t) {
                var n = e.call(this, t) || this;
                return n.navigation = !1,
                n.allowNoFile = !0,
                n.requestUpdate = Pe(n.update, 0),
                n
            }
            return i(t, e),
            t.prototype.load = function() {
                e.prototype.load.call(this);
                var t = this.app;
                this.registerEvent(t.workspace.on("file-open", this.onFileOpen, this))
            }
            ,
            t.prototype.onLoadFile = function(e) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(e) {
                        return this.requestUpdate(),
                        [2]
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.onUnloadFile = function(e) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(e) {
                        return this.requestUpdate(),
                        [2]
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.onFileOpen = function(e) {
                this.leaf.group || this.leaf.pinned || (e instanceof Vf ? this.loadFile(e) : this.loadFile(null),
                this.requestUpdate())
            }
            ,
            t.prototype.onGroupChange = function() {
                if (e.prototype.onGroupChange.call(this),
                this.leaf.group)
                    for (var t = 0, n = this.leaf.workspace.getGroupLeaves(this.leaf.group); t < n.length; t++) {
                        var i = n[t];
                        if (i !== this.leaf && i.view instanceof XC) {
                            var r = i.view.getSyncViewState();
                            this.leaf.openFile(i.view.file, r)
                        }
                    }
                else {
                    var o = this.leaf.workspace.getActiveFile();
                    this.loadFile(o)
                }
            }
            ,
            t
        }(XC)
          , mE = (Fe("plugins.file-explorer"),
        function() {
            function e(e, t) {
                this.navHeaderEl = null,
                this.navButtonsEl = null,
                this.app = e;
                var n = this.navHeaderEl = t.createDiv("nav-header");
                this.navButtonsEl = n.createDiv("nav-buttons-container")
            }
            return e.prototype.addNavButton = function(e, t, n, i) {
                var r = this.navButtonsEl.createDiv("nav-action-button");
                return i && r.addClass(i),
                r.addEventListener("click", n),
                on.isMobile ? yk(r, e, 24) : yk(r, e, 20),
                Je(r, t),
                r
            }
            ,
            e.prototype.addSortButton = function(e, t) {
                var n = this;
                return this.addNavButton(yb, Te("plugins.file-explorer.action-change-sort"), (function(i) {
                    i.preventDefault();
                    for (var r = new Zk(n.app), o = t(), s = 0, a = mx; s < a.length; s++) {
                        for (var l = function(t) {
                            var n = Te(vx[t]);
                            r.addItem((function(i) {
                                return i.setTitle(n).setActive(t === o).onClick((function() {
                                    e(t)
                                }
                                ))
                            }
                            ))
                        }, c = 0, u = a[s]; c < u.length; c++) {
                            l(u[c])
                        }
                        r.addSeparator()
                    }
                    r.showAtMouseEvent(i)
                }
                ))
            }
            ,
            e
        }())
          , vE = function() {
            function e(e) {
                this.components = [];
                var t = this.settingEl = e.createDiv("setting-item")
                  , n = this.infoEl = t.createDiv("setting-item-info");
                this.nameEl = n.createDiv("setting-item-name"),
                this.descEl = n.createDiv("setting-item-description"),
                this.controlEl = t.createDiv("setting-item-control")
            }
            return e.prototype.setName = function(e) {
                return this.nameEl.setText(e),
                this
            }
            ,
            e.prototype.setDesc = function(e) {
                return String.isString(e) ? this.descEl.setText(e) : (this.descEl.empty(),
                this.descEl.appendChild(e)),
                this
            }
            ,
            e.prototype.setClass = function(e) {
                return this.settingEl.addClass(e),
                this
            }
            ,
            e.prototype.setTooltip = function(e) {
                return Je(this.nameEl, e),
                this
            }
            ,
            e.prototype.setHeading = function() {
                return this.settingEl.addClass("setting-item-heading"),
                this
            }
            ,
            e.prototype.setDisabled = function(e) {
                this.settingEl.toggleClass("is-disabled", e);
                for (var t = 0, n = this.components; t < n.length; t++) {
                    n[t].setDisabled(e)
                }
                return this
            }
            ,
            e.prototype.addButton = function(e) {
                var t = new wE(this.controlEl);
                return this.components.push(t),
                e(t),
                this
            }
            ,
            e.prototype.addExtraButton = function(e) {
                var t = new kE(this.controlEl);
                return this.components.push(t),
                e(t),
                this
            }
            ,
            e.prototype.addToggle = function(e) {
                var t = new CE(this.controlEl);
                return this.components.push(t),
                e(t),
                this.settingEl.addClass("mod-toggle"),
                this
            }
            ,
            e.prototype.addText = function(e) {
                var t = new EE(this.controlEl);
                return this.components.push(t),
                e(t),
                this
            }
            ,
            e.prototype.addSearch = function(e) {
                var t = new SE(this.controlEl);
                return this.components.push(t),
                e(t),
                this
            }
            ,
            e.prototype.addTextArea = function(e) {
                var t = new LE(this.controlEl);
                return this.components.push(t),
                e(t),
                this
            }
            ,
            e.prototype.addMomentFormat = function(e) {
                var t = new DE(this.controlEl);
                return this.components.push(t),
                e(t),
                this
            }
            ,
            e.prototype.addDropdown = function(e) {
                var t = new ME(this.controlEl);
                return this.components.push(t),
                e(t),
                this
            }
            ,
            e.prototype.addSlider = function(e) {
                var t = new AE(this.controlEl);
                return this.components.push(t),
                e(t),
                this
            }
            ,
            e.prototype.then = function(e) {
                return e(this),
                this
            }
            ,
            e
        }()
          , yE = function() {
            function e() {
                this.disabled = !1
            }
            return e.prototype.then = function(e) {
                return e(this),
                this
            }
            ,
            e.prototype.setDisabled = function(e) {
                return this.disabled = e,
                this
            }
            ,
            e
        }()
          , bE = function(e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }
            return i(t, e),
            t.prototype.registerOptionListener = function(e, t) {
                var n = this;
                return e[t] = function(e) {
                    return void 0 !== e && n.setValue(e),
                    n.getValue()
                }
                ,
                this
            }
            ,
            t
        }(yE)
          , wE = function(e) {
            function t(t) {
                var n = e.call(this) || this;
                return (n.buttonEl = t.createEl("button")).addEventListener("click", (function(e) {
                    var t = n.clickCallback;
                    !n.disabled && t && t(e)
                }
                )),
                n
            }
            return i(t, e),
            t.prototype.setDisabled = function(t) {
                return e.prototype.setDisabled.call(this, t),
                this.buttonEl.disabled = t,
                this
            }
            ,
            t.prototype.setCta = function() {
                return this.buttonEl.addClass("mod-cta"),
                this
            }
            ,
            t.prototype.removeCta = function() {
                return this.buttonEl.removeClass("mod-cta"),
                this
            }
            ,
            t.prototype.setWarning = function() {
                return this.buttonEl.addClass("mod-warning"),
                this
            }
            ,
            t.prototype.setTooltip = function(e) {
                return Je(this.buttonEl, e),
                this
            }
            ,
            t.prototype.setButtonText = function(e) {
                return this.buttonEl.setText(e),
                this
            }
            ,
            t.prototype.setIcon = function(e) {
                return yk(this.buttonEl, e, 14),
                this
            }
            ,
            t.prototype.setClass = function(e) {
                return this.buttonEl.addClass(e),
                this
            }
            ,
            t.prototype.onClick = function(e) {
                return this.clickCallback = e,
                this
            }
            ,
            t
        }(yE)
          , kE = function(e) {
            function t(t) {
                var n = e.call(this) || this
                  , i = n.extraSettingsEl = t.createDiv("setting-editor-extra-setting-button clickable-icon");
                return yk(i, Gy),
                i.addEventListener("click", (function() {
                    var e = n.changeCallback;
                    !n.disabled && e && e()
                }
                )),
                n
            }
            return i(t, e),
            t.prototype.setDisabled = function(t) {
                return e.prototype.setDisabled.call(this, t),
                this.extraSettingsEl.toggleClass("is-disabled", t),
                this
            }
            ,
            t.prototype.setTooltip = function(e) {
                return Je(this.extraSettingsEl, e),
                this
            }
            ,
            t.prototype.setIcon = function(e) {
                return yk(this.extraSettingsEl, e),
                this
            }
            ,
            t.prototype.onClick = function(e) {
                return this.changeCallback = e,
                this
            }
            ,
            t
        }(yE)
          , CE = function(e) {
            function t(t) {
                var n = e.call(this) || this;
                return n.on = !1,
                (n.toggleEl = t.createDiv("checkbox-container")).addEventListener("click", n.onClick.bind(n)),
                n
            }
            return i(t, e),
            t.prototype.setDisabled = function(t) {
                return e.prototype.setDisabled.call(this, t),
                this.toggleEl.toggleClass("is-disabled", t),
                this
            }
            ,
            t.prototype.getValue = function() {
                return this.on
            }
            ,
            t.prototype.setValue = function(e) {
                this.on = e,
                this.toggleEl.toggleClass("is-enabled", e);
                var t = this.changeCallback;
                return t && t(e),
                this
            }
            ,
            t.prototype.setTooltip = function(e) {
                return Je(this.toggleEl, e),
                this
            }
            ,
            t.prototype.onClick = function() {
                this.disabled || this.setValue(!this.getValue())
            }
            ,
            t.prototype.onChange = function(e) {
                return this.changeCallback = e,
                this
            }
            ,
            t
        }(bE)
          , xE = function(e) {
            function t(t) {
                var n = e.call(this) || this;
                return n.inputEl = t,
                t.addEventListener("input", n.onChanged.bind(n)),
                t.setAttribute("spellcheck", "false"),
                n
            }
            return i(t, e),
            t.prototype.setDisabled = function(t) {
                return e.prototype.setDisabled.call(this, t),
                this.inputEl.disabled = t,
                this
            }
            ,
            t.prototype.getValue = function() {
                return this.inputEl.value
            }
            ,
            t.prototype.setValue = function(e) {
                return String.isString(e) && (this.inputEl.value = e),
                this
            }
            ,
            t.prototype.setPlaceholder = function(e) {
                return this.inputEl.setAttribute("placeholder", e),
                this
            }
            ,
            t.prototype.onChanged = function() {
                var e = this.changeCallback;
                e && e(this.inputEl.value)
            }
            ,
            t.prototype.onChange = function(e) {
                return this.changeCallback = e,
                this
            }
            ,
            t
        }(bE)
          , EE = function(e) {
            function t(t) {
                return e.call(this, t.createEl("input", {
                    type: "text"
                })) || this
            }
            return i(t, e),
            t
        }(xE)
          , SE = function(e) {
            function t(t) {
                var n = this
                  , i = t.createDiv("search-input-container")
                  , r = i.createEl("input", {
                    type: "text"
                });
                return (n = e.call(this, r) || this).containerEl = i,
                n.clearButtonEl = i.createDiv("search-input-clear-button", (function(e) {
                    e.addEventListener("click", (function() {
                        n.disabled || (r.value = "",
                        r.focus(),
                        n.onChanged())
                    }
                    )),
                    e.hide()
                }
                )),
                n
            }
            return i(t, e),
            t.prototype.onChanged = function() {
                var t = this.inputEl.value;
                this.clearButtonEl.toggle("" !== t),
                e.prototype.onChanged.call(this)
            }
            ,
            t.prototype.setValue = function(t) {
                return this.clearButtonEl.toggle("" !== t),
                e.prototype.setValue.call(this, t)
            }
            ,
            t
        }(xE)
          , LE = function(e) {
            function t(t) {
                return e.call(this, t.createEl("textarea")) || this
            }
            return i(t, e),
            t
        }(xE)
          , DE = function(e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }
            return i(t, e),
            t.prototype.setDefaultFormat = function(e) {
                return this.defaultFormat = e,
                this.setPlaceholder(e),
                this.updateSample(),
                this
            }
            ,
            t.prototype.setSampleEl = function(e) {
                return this.sampleEl = e,
                this.updateSample(),
                this
            }
            ,
            t.prototype.setValue = function(t) {
                return e.prototype.setValue.call(this, t),
                this.updateSample(),
                this
            }
            ,
            t.prototype.onChanged = function() {
                e.prototype.onChanged.call(this),
                this.updateSample()
            }
            ,
            t.prototype.updateSample = function() {
                var e = this.sampleEl;
                if (e) {
                    var t = this.inputEl.value || this.defaultFormat;
                    if (t) {
                        var n = window.moment().format(t);
                        e.setText(n)
                    } else
                        e.setText("")
                }
            }
            ,
            t
        }(EE)
          , ME = function(e) {
            function t(t) {
                var n = e.call(this) || this;
                return n.selectEl = t.createEl("select", "dropdown"),
                n.selectEl.addEventListener("change", (function() {
                    var e = n.changeCallback;
                    e && e(n.getValue())
                }
                )),
                n
            }
            return i(t, e),
            t.prototype.setDisabled = function(t) {
                return e.prototype.setDisabled.call(this, t),
                this.selectEl.disabled = t,
                this
            }
            ,
            t.prototype.addOption = function(e, t) {
                return this.selectEl.createEl("option", {
                    value: e,
                    text: t
                }),
                this
            }
            ,
            t.prototype.addOptions = function(e) {
                for (var t in e)
                    e.hasOwnProperty(t) && this.selectEl.createEl("option", {
                        value: t,
                        text: e[t]
                    });
                return this
            }
            ,
            t.prototype.getValue = function() {
                return this.selectEl.value
            }
            ,
            t.prototype.setValue = function(e) {
                return this.selectEl.value = e,
                this
            }
            ,
            t.prototype.onChange = function(e) {
                return this.changeCallback = e,
                this
            }
            ,
            t
        }(bE)
          , AE = function(e) {
            function t(t) {
                var n = e.call(this) || this;
                n.dynamicTooltip = !1;
                var i = n.sliderEl = t.createEl("input", {
                    type: "range",
                    cls: "slider"
                });
                return i.addEventListener("input", (function() {
                    var e = n.changeCallback;
                    e && e(n.getValue()),
                    n.dynamicTooltip && n.showTooltip()
                }
                )),
                i.addEventListener("click", (function(e) {
                    e.stopPropagation()
                }
                )),
                n
            }
            return i(t, e),
            t.prototype.setDisabled = function(t) {
                return e.prototype.setDisabled.call(this, t),
                this.sliderEl.disabled = t,
                this
            }
            ,
            t.prototype.setLimits = function(e, t, n) {
                return this.sliderEl.setAttrs({
                    min: e,
                    max: t,
                    step: n
                }),
                this
            }
            ,
            t.prototype.getValue = function() {
                return this.sliderEl.valueAsNumber
            }
            ,
            t.prototype.setValue = function(e) {
                this.sliderEl.valueAsNumber = e;
                var t = this.changeCallback;
                return t && t(e),
                this
            }
            ,
            t.prototype.getValuePretty = function() {
                var e = this.sliderEl
                  , t = this.getValue();
                return "any" === e.step || parseFloat(e.step) < 1 ? t.toFixed(2) : t.toString()
            }
            ,
            t.prototype.setDynamicTooltip = function() {
                var e = this.sliderEl;
                return e.addEventListener("mouseenter", this.showTooltip.bind(this)),
                e.addEventListener("mouseleave", Qe),
                this.dynamicTooltip = !0,
                this
            }
            ,
            t.prototype.showTooltip = function() {
                Ke(this.sliderEl, this.getValuePretty())
            }
            ,
            t.prototype.onChange = function(e) {
                return this.changeCallback = e,
                this
            }
            ,
            t
        }(bE)
          , TE = function(e) {
            function t(t) {
                var n = e.call(this) || this;
                return n.colorPickerEl = t.createEl("input", {
                    type: "color"
                }),
                n.colorPickerEl.addEventListener("change", (function() {
                    var e = n.changeCallback;
                    e && e(n.getValue())
                }
                )),
                n
            }
            return i(t, e),
            t.prototype.getValue = function() {
                return this.colorPickerEl.value.slice(1)
            }
            ,
            t.prototype.getValueInt = function() {
                return parseInt(this.getValue(), 16)
            }
            ,
            t.prototype.setValue = function(e) {
                this.colorPickerEl.value = "#" + e;
                var t = this.changeCallback;
                return t && t(this.getValue()),
                this
            }
            ,
            t.prototype.setValueInt = function(e) {
                return this.setValue(e.toString(16).padStart(6, "0"))
            }
            ,
            t.prototype.onChange = function(e) {
                return this.changeCallback = e,
                this
            }
            ,
            t
        }(bE)
          , FE = "backlink"
          , PE = function() {
            function e() {
                this.id = "backlink",
                this.name = Te("plugins.backlinks.name"),
                this.description = Te("plugins.backlinks.desc"),
                this.defaultOn = !0
            }
            return e.prototype.init = function(e, t) {
                var n = this;
                this.app = e,
                this.plugin = t,
                t.registerStatusBarItem(),
                t.registerViewType(FE, (function(e) {
                    return new OE(e)
                }
                )),
                t.registerGlobalCommand({
                    id: "backlink:open",
                    name: Te("plugins.backlinks.action-show"),
                    icon: rw,
                    callback: function() {
                        n.app.workspace.ensureSideLeaf(FE, "right", !1)
                    }
                }),
                t.registerGlobalCommand({
                    id: "backlink:open-backlinks",
                    name: Te("plugins.backlinks.action-open-for-current"),
                    icon: rw,
                    checkCallback: this.openBacklinksForActiveFile.bind(this)
                }),
                t.registerGlobalCommand({
                    id: "backlink:toggle-backlinks-in-document",
                    name: Te("plugins.backlinks.action-toggle-backlinks-in-document"),
                    icon: rw,
                    checkCallback: this.toggleBacklinksInDocument.bind(this)
                })
            }
            ,
            e.prototype.onEnable = function(e, t) {
                t.registerEvent(e.workspace.on("file-open", this.onFileOpen, this)),
                t.registerEvent(e.workspace.on("layout-ready", this.initLeaf, this)),
                t.registerEvent(e.workspace.on("file-menu", this.onFileMenu, this)),
                t.registerEvent(e.metadataCache.on("resolved", this.updateBacklinks, this));
                var n = this.plugin.statusBarEl;
                n && (n.addClass("mod-clickable"),
                n.addEventListener("click", (function() {
                    var t = e.workspace
                      , n = t.getLeavesOfType(FE);
                    n.length > 0 && t.revealLeaf(n[0])
                }
                )))
            }
            ,
            e.prototype.onUserEnable = function() {
                this.initLeaf()
            }
            ,
            e.prototype.onUserDisable = function(e) {
                for (var t = 0, n = e.workspace.getLeavesOfType(FE); t < n.length; t++) {
                    n[t].detach()
                }
                e.workspace.iterateAllLeaves((function(e) {
                    e.view instanceof gS && e.view.previewMode.setShowBacklinks(!1)
                }
                ))
            }
            ,
            e.prototype.initLeaf = function() {
                this.app.workspace.ensureSideLeaf(FE, "right", !1, !1)
            }
            ,
            e.prototype.onFileMenu = function(e, t, n, i) {
                var r = this;
                !on.isMobile && t instanceof Vf && i && "sidebar-context-menu" !== n && e.addItem((function(e) {
                    return e.setTitle(Te("plugins.backlinks.action-open")).setIcon(Rw).onClick((function() {
                        return o(r, void 0, void 0, (function() {
                            return s(this, (function(e) {
                                switch (e.label) {
                                case 0:
                                    return [4, this.app.workspace.splitLeafOrActive(i, "horizontal").setViewState({
                                        type: FE,
                                        active: !0,
                                        group: i,
                                        state: {
                                            file: t.path
                                        }
                                    })];
                                case 1:
                                    return e.sent(),
                                    [2]
                                }
                            }
                            ))
                        }
                        ))
                    }
                    ))
                }
                )),
                t instanceof Vf && i && i.view instanceof gS && "preview" === i.view.getMode() && e.addItem((function(e) {
                    return e.setTitle(Te("plugins.backlinks.action-toggle-backlinks-in-document")).setIcon(Rw).onClick((function() {
                        var e = i.view;
                        e instanceof gS && e.previewMode.setShowBacklinks(!e.previewMode.isShowingBacklinks())
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.onFileOpen = function(e) {
                this.file = e instanceof Vf ? e : null,
                this.updateBacklinks()
            }
            ,
            e.prototype.updateBacklinks = function() {
                var e = this.file
                  , t = 0;
                if (e) {
                    var n = e.path
                      , i = this.app.metadataCache.resolvedLinks;
                    for (var r in i)
                        r !== n && i.hasOwnProperty(r) && i[r].hasOwnProperty(n) && (t += i[r][n])
                }
                var o = this.plugin.statusBarEl;
                if (o) {
                    var s = Te("nouns.backlink-with-count", {
                        count: t
                    });
                    o.setText(s)
                }
            }
            ,
            e.prototype.openBacklinksForActiveFile = function(e) {
                var t = this.app.workspace
                  , n = t.getActiveFile();
                if (n) {
                    if (!e)
                        t.splitActiveLeaf("vertical").setViewState({
                            type: FE,
                            active: !0,
                            group: t.activeLeaf,
                            state: {
                                file: n.path
                            }
                        });
                    return !0
                }
            }
            ,
            e.prototype.toggleBacklinksInDocument = function(e) {
                var t = this.app.workspace.getActiveViewOfType(gS);
                if (t && "preview" === t.getMode())
                    return e || t.previewMode.setShowBacklinks(!t.previewMode.isShowingBacklinks()),
                    !0
            }
            ,
            e
        }()
          , OE = function(e) {
            function t(t) {
                var n = e.call(this, t) || this;
                n.icon = Rw;
                var i = n.contentEl;
                return n.backlink = n.addChild(new IE(n.app,i)),
                n.requestUpdate(),
                n
            }
            return i(t, e),
            t.prototype.getDisplayText = function() {
                return this.file ? Te("plugins.backlinks.tab-title", {
                    displayText: e.prototype.getDisplayText.call(this)
                }) : Te("plugins.backlinks.name")
            }
            ,
            t.prototype.getViewType = function() {
                return FE
            }
            ,
            t.prototype.canAcceptExtension = function(e) {
                return !0
            }
            ,
            t.prototype.getState = function() {
                var t = e.prototype.getState.call(this);
                return t.collapseAll = this.backlink.collapseAll,
                t.extraContext = this.backlink.extraContext,
                t.sortOrder = this.backlink.sortOrder,
                t.showSearch = this.backlink.showSearch,
                t.searchQuery = this.backlink.searchComponent.getValue(),
                t.backlinkCollapsed = this.backlink.backlinkCollapsed,
                t.unlinkedCollapsed = this.backlink.unlinkedCollapsed,
                t
            }
            ,
            t.prototype.setState = function(t, n) {
                return o(this, void 0, Promise, (function() {
                    var i, r, o, a, l, c, u;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return [4, e.prototype.setState.call(this, t, n)];
                        case 1:
                            return s.sent(),
                            i = t.collapseAll,
                            r = t.extraContext,
                            o = t.sortOrder,
                            a = t.showSearch,
                            l = t.searchQuery,
                            c = t.backlinkCollapsed,
                            u = t.unlinkedCollapsed,
                            isBoolean(i) && this.backlink.setCollapseAll(i),
                            isBoolean(r) && this.backlink.setExtraContext(r),
                            isBoolean(a) && this.backlink.setShowSearch(a),
                            String.isString(o) && yx.hasOwnProperty(o) && this.backlink.setSortOrder(o),
                            isBoolean(c) ? [4, this.backlink.setBacklinkCollapsed(c, !1)] : [3, 3];
                        case 2:
                            s.sent(),
                            s.label = 3;
                        case 3:
                            return isBoolean(u) ? [4, this.backlink.setUnlinkedCollapsed(u, !1)] : [3, 5];
                        case 4:
                            s.sent(),
                            s.label = 5;
                        case 5:
                            return String.isString(l) && (this.backlink.searchComponent.setValue(l),
                            this.backlink.updateSearch()),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.onResize = function() {
                this.backlink.onResize()
            }
            ,
            t.prototype.update = function() {
                this.leaf.updateHeader();
                var e = this.backlink;
                e.file = this.file,
                e.tooltipPlacement = this.getSideTooltipPlacement(),
                e.update()
            }
            ,
            t
        }(gE)
          , IE = function(e) {
            function t(t, n, i) {
                var r = e.call(this) || this;
                r.collapseAll = !1,
                r.extraContext = !1,
                r.sortOrder = "alphabetical",
                r.showSearch = !1,
                r.searchQuery = null,
                r.backlinkFile = null,
                r.backlinkCollapsed = !1,
                r.backlinkHeaderEl = null,
                r.backlinkCountEl = null,
                r.backlinkQueue = null,
                r.unlinkedFile = null,
                r.unlinkedCollapsed = !1,
                r.unlinkedHeaderEl = null,
                r.unlinkedCountEl = null,
                r.unlinkedAliases = "",
                r.unlinkedQueue = null,
                r.app = t;
                var o = r.headerDom = new mE(r.app,n);
                r.collapseAllButtonEl = o.addNavButton(Pb, Te("plugins.search.label-collapse-results"), r.onToggleCollapseClick.bind(r)),
                r.extraContextButtonEl = o.addNavButton(Nb, Te("plugins.search.label-more-context"), r.onToggleMoreContextClick.bind(r)),
                o.addSortButton((function(e) {
                    return r.setSortOrder(e)
                }
                ), (function() {
                    return r.sortOrder
                }
                )),
                r.showSearchButtonEl = o.addNavButton(pb, Te("plugins.backlinks.label-show-search"), r.onToggleShowSearchClick.bind(r)),
                r.searchComponent = new SE(n).setPlaceholder(Te("plugins.search.prompt-start-search")).onChange(Pe(r.updateSearch.bind(r), 400, !0)).then((function(e) {
                    Je(e.clearButtonEl, Te("plugins.search.tooltip-clear-search")),
                    e.inputEl.addEventListener("keypress", (function(e) {
                        "Enter" === e.key && (on.isMobile && Bt(),
                        r.updateSearch())
                    }
                    )),
                    e.containerEl.hide()
                }
                ));
                var s = n.createDiv("backlink-pane");
                i = i || s;
                var a = r.backlinkHeaderEl = s.createDiv("tree-item-self is-clickable");
                a.createSpan("tree-item-icon collapse-icon", (function(e) {
                    yk(e, Ry, 8)
                }
                )),
                a.createDiv({
                    cls: "tree-item-inner",
                    text: Te("plugins.backlinks.label-linked-mentions")
                }),
                a.addEventListener("click", r.toggleBacklinkCollapsed.bind(r)),
                r.backlinkCountEl = a.createDiv("tree-item-flair-outer").createSpan("tree-item-flair"),
                r.backlinkDom = new Dx(r.app,s.createDiv("search-result-container"),Te("plugins.backlinks.label-no-backlinks"),i);
                var l = r.unlinkedHeaderEl = s.createDiv("tree-item-self is-clickable");
                return l.createSpan("tree-item-icon collapse-icon", (function(e) {
                    yk(e, Ry, 8)
                }
                )),
                l.createDiv({
                    cls: "tree-item-inner",
                    text: Te("plugins.backlinks.label-unlinked-mentions")
                }),
                l.addEventListener("click", r.toggleUnlinkedCollapsed.bind(r)),
                r.unlinkedCountEl = l.createDiv("tree-item-flair-outer").createSpan("tree-item-flair"),
                r.unlinkedDom = new Dx(r.app,s.createDiv("search-result-container"),Te("plugins.backlinks.label-no-unlinked-mentions"),i),
                r.setUnlinkedCollapsed(!0, !1),
                r
            }
            return i(t, e),
            t.prototype.onload = function() {
                var e = this.app
                  , t = e.vault;
                this.registerEvent(e.metadataCache.on("resolve", this.onMetadataChanged, this)),
                this.registerEvent(t.on("create", this.onFileChanged, this)),
                this.registerEvent(t.on("modify", this.onFileChanged, this)),
                this.registerEvent(t.on("rename", this.onFileRename, this)),
                this.registerEvent(t.on("delete", this.onFileDeleted, this))
            }
            ,
            t.prototype.onToggleCollapseClick = function() {
                this.setCollapseAll(!this.collapseAll)
            }
            ,
            t.prototype.setCollapseAll = function(e) {
                e !== this.collapseAll && (this.collapseAll = e,
                this.backlinkDom.setCollapseAll(e),
                this.unlinkedDom.setCollapseAll(e),
                this.collapseAllButtonEl.toggleClass("is-active", e),
                this.app.workspace.requestSaveLayout())
            }
            ,
            t.prototype.onToggleMoreContextClick = function() {
                this.setExtraContext(!this.extraContext)
            }
            ,
            t.prototype.setExtraContext = function(e) {
                e !== this.extraContext && (this.extraContext = e,
                this.backlinkDom.setExtraContext(e),
                this.unlinkedDom.setExtraContext(e),
                this.extraContextButtonEl.toggleClass("is-active", e),
                this.app.workspace.requestSaveLayout())
            }
            ,
            t.prototype.onToggleShowSearchClick = function() {
                this.setShowSearch(!this.showSearch),
                this.showSearch && this.searchComponent.inputEl.focus()
            }
            ,
            t.prototype.setShowSearch = function(e) {
                e !== this.showSearch && (this.showSearch = e,
                this.searchComponent.containerEl.toggle(e),
                this.showSearchButtonEl.toggleClass("is-active", e),
                e || (this.searchComponent.setValue(""),
                this.updateSearch()),
                this.app.workspace.requestSaveLayout())
            }
            ,
            t.prototype.setSortOrder = function(e) {
                e !== this.sortOrder && (this.sortOrder = e,
                this.backlinkDom.sortOrder = e,
                this.backlinkDom.changed(),
                this.unlinkedDom.sortOrder = e,
                this.unlinkedDom.changed(),
                this.app.workspace.requestSaveLayout())
            }
            ,
            t.prototype.onResize = function() {
                this.backlinkDom.onResize(),
                this.unlinkedDom.onResize()
            }
            ,
            t.prototype.updateSearch = function() {
                var e = this.searchComponent.getValue()
                  , t = this.searchQuery;
                if (!(!t && !e || t && t.query === e))
                    try {
                        if (e) {
                            var n = new dE(e,!1);
                            n.matcher ? this.searchQuery = n : this.searchQuery = null
                        } else
                            this.searchQuery = null;
                        this.backlinkFile = null,
                        this.unlinkedFile = null,
                        this.update()
                    } catch (e) {
                        new JC(e.message),
                        console.log(e)
                    }
            }
            ,
            t.prototype.toggleBacklinkCollapsed = function() {
                this.setBacklinkCollapsed(!this.backlinkCollapsed, !0)
            }
            ,
            t.prototype.setBacklinkCollapsed = function(e, t) {
                return o(this, void 0, void 0, (function() {
                    return s(this, (function(n) {
                        switch (n.label) {
                        case 0:
                            return e === this.backlinkCollapsed ? [2] : (this.backlinkCollapsed = e,
                            [4, this.setSectionCollapsed(this.backlinkHeaderEl, this.backlinkDom, e, t)]);
                        case 1:
                            return n.sent(),
                            this.app.workspace.requestSaveLayout(),
                            this.backlinkDom.infinityScroll.updateVirtualDisplay(),
                            this.unlinkedDom.infinityScroll.updateVirtualDisplay(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.toggleUnlinkedCollapsed = function() {
                this.setUnlinkedCollapsed(!this.unlinkedCollapsed, !0)
            }
            ,
            t.prototype.setUnlinkedCollapsed = function(e, t) {
                return o(this, void 0, void 0, (function() {
                    return s(this, (function(n) {
                        switch (n.label) {
                        case 0:
                            return e === this.unlinkedCollapsed ? [2] : (this.unlinkedCollapsed = e,
                            [4, this.setSectionCollapsed(this.unlinkedHeaderEl, this.unlinkedDom, e, t)]);
                        case 1:
                            return n.sent(),
                            this.app.workspace.requestSaveLayout(),
                            this.backlinkDom.infinityScroll.updateVirtualDisplay(),
                            this.unlinkedDom.infinityScroll.updateVirtualDisplay(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.updateHeaderTooltip = function(e, t) {
                e.toggleClass("is-collapsed", t),
                Je(e, Te(t ? "interface.tooltip.click-to-expand" : "interface.tooltip.click-to-collapse"), {
                    placement: this.tooltipPlacement
                })
            }
            ,
            t.prototype.setSectionCollapsed = function(e, t, n, i) {
                return o(this, void 0, void 0, (function() {
                    return s(this, (function(r) {
                        switch (r.label) {
                        case 0:
                            return this.updateHeaderTooltip(e, n),
                            [4, t.toggle(n, i)];
                        case 1:
                            return r.sent(),
                            this.update(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.onMetadataChanged = function(e) {
                var t = this.backlinkQueue;
                if (t && t.add(e),
                this.onFileChanged(e),
                e === this.unlinkedFile) {
                    var n = ""
                      , i = this.app.metadataCache.getFileCache(e);
                    if (i) {
                        var r = my(i.frontmatter);
                        r && (n = JSON.stringify(r))
                    }
                    this.unlinkedAliases !== n && this.recomputeUnlinked(e)
                }
            }
            ,
            t.prototype.onFileChanged = function(e) {
                var t = this.unlinkedQueue;
                t && t.add(e)
            }
            ,
            t.prototype.onFileRename = function(e) {
                if (e === this.unlinkedFile)
                    this.recomputeBacklink(e),
                    this.recomputeUnlinked(e);
                else {
                    this.onFileChanged(e);
                    var t = this.backlinkQueue;
                    t && t.add(e)
                }
            }
            ,
            t.prototype.onFileDeleted = function(e) {
                var t = this.unlinkedQueue;
                t && t.remove(e);
                var n = this.backlinkQueue;
                n && n.remove(e),
                this.backlinkDom.removeResult(e),
                this.unlinkedDom.removeResult(e)
            }
            ,
            t.prototype.update = function() {
                var e = this.file;
                this.backlinkFile !== e && this.recomputeBacklink(e),
                this.unlinkedFile !== e && this.recomputeUnlinked(e),
                this.updateHeaderTooltip(this.backlinkHeaderEl, this.backlinkCollapsed),
                this.updateHeaderTooltip(this.unlinkedHeaderEl, this.unlinkedCollapsed)
            }
            ,
            t.prototype.passSearchFilter = function(e, t, n, i) {
                return o(this, void 0, void 0, (function() {
                    var i;
                    return s(this, (function(r) {
                        return (i = this.searchQuery) && !i.match(e, t, n) ? [2, !1] : [2, !0]
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.recomputeBacklink = function(e) {
                var t = this;
                this.stopBacklinkSearch();
                var n = this.backlinkCollapsed
                  , i = this.backlinkCountEl;
                if (n)
                    i.hide();
                else {
                    this.backlinkFile = e;
                    var r = this.app
                      , a = this.backlinkDom;
                    if (i.show(),
                    i.setText("0"),
                    a.emptyResults(),
                    e) {
                        var l = this.app.metadataCache
                          , p = this.backlinkQueue = new qk({
                            onStart: function() {
                                a.startLoader()
                            },
                            onStop: function() {
                                a.stopLoader()
                            },
                            onCancel: function() {
                                t.backlinkQueue = null
                            }
                        });
                        a.emptyResults();
                        var d = r.vault.getMarkdownFiles();
                        d.sort(yx[a.sortOrder]),
                        p.addList(d);
                        var f = function(t) {
                            var n = t.path
                              , i = l.resolvedLinks;
                            return i.hasOwnProperty(n) && i[n].hasOwnProperty(e.path)
                        }
                          , g = function() {
                            return u(this, arguments, (function() {
                                var e, t, n, i, r, o;
                                return s(this, (function(s) {
                                    switch (s.label) {
                                    case 0:
                                        s.trys.push([0, 8, 9, 14]),
                                        e = h(p.generator()),
                                        s.label = 1;
                                    case 1:
                                        return [4, c(e.next())];
                                    case 2:
                                        return (t = s.sent()).done ? [3, 7] : (n = t.value,
                                        f(n) ? [4, c(n)] : [3, 5]);
                                    case 3:
                                        return [4, s.sent()];
                                    case 4:
                                        return s.sent(),
                                        [3, 6];
                                    case 5:
                                        a.removeResult(n),
                                        s.label = 6;
                                    case 6:
                                        return [3, 1];
                                    case 7:
                                        return [3, 14];
                                    case 8:
                                        return i = s.sent(),
                                        r = {
                                            error: i
                                        },
                                        [3, 14];
                                    case 9:
                                        return s.trys.push([9, , 12, 13]),
                                        t && !t.done && (o = e.return) ? [4, c(o.call(e))] : [3, 11];
                                    case 10:
                                        s.sent(),
                                        s.label = 11;
                                    case 11:
                                        return [3, 13];
                                    case 12:
                                        if (r)
                                            throw r.error;
                                        return [7];
                                    case 13:
                                        return [7];
                                    case 14:
                                        return [2]
                                    }
                                }
                                ))
                            }
                            ))
                        }()
                          , m = _k(r.vault.generateFiles(g, !0), {
                            batchSize: 2
                        });
                        o(t, void 0, void 0, (function() {
                            var t, n, r, o, c, u, d, f, g, v, y, b, w, k, C;
                            return s(this, (function(s) {
                                switch (s.label) {
                                case 0:
                                    s.trys.push([0, 6, 7, 12]),
                                    t = h(m),
                                    s.label = 1;
                                case 1:
                                    return [4, t.next()];
                                case 2:
                                    return (n = s.sent()).done ? [3, 5] : (r = n.value,
                                    o = r.file,
                                    c = r.content,
                                    e === o ? [3, 4] : (u = !1,
                                    d = {},
                                    (f = l.getFileCache(o)) ? [4, this.passSearchFilter(o, c, f, p.runnable)] : (a.removeResult(o),
                                    [3, 4])));
                                case 3:
                                    if (!s.sent())
                                        return [3, 4];
                                    for (g = [],
                                    Dy(f, (function(t) {
                                        (function(t, n) {
                                            var i = Sy(n.link)
                                              , r = l.getFirstLinkpathDest(i, t);
                                            return r && r === e
                                        }
                                        )(o.path, t) && g.push(t)
                                    }
                                    )),
                                    d.content = [],
                                    v = 0,
                                    y = g; v < y.length; v++)
                                        b = y[v],
                                        d.content.push([b.position.start.offset, b.position.end.offset]),
                                        u = !0;
                                    if (!u)
                                        return a.removeResult(o),
                                        [3, 4];
                                    a.addResult(o, d, c).renderContentMatches(),
                                    i.setText(String(a.getMatchCount())),
                                    s.label = 4;
                                case 4:
                                    return [3, 1];
                                case 5:
                                    return [3, 12];
                                case 6:
                                    return w = s.sent(),
                                    k = {
                                        error: w
                                    },
                                    [3, 12];
                                case 7:
                                    return s.trys.push([7, , 10, 11]),
                                    n && !n.done && (C = t.return) ? [4, C.call(t)] : [3, 9];
                                case 8:
                                    s.sent(),
                                    s.label = 9;
                                case 9:
                                    return [3, 11];
                                case 10:
                                    if (k)
                                        throw k.error;
                                    return [7];
                                case 11:
                                    return [7];
                                case 12:
                                    return [2]
                                }
                            }
                            ))
                        }
                        ))
                    }
                }
            }
            ,
            t.prototype.stopBacklinkSearch = function() {
                var e = this.backlinkQueue;
                e && !e.runnable.isCancelled() && (e.runnable.cancel(),
                this.backlinkFile = null),
                this.backlinkQueue = null
            }
            ,
            t.prototype.recomputeUnlinked = function(e) {
                var t = this;
                this.stopUnlinkedSearch();
                var n = this.unlinkedCollapsed
                  , i = this.unlinkedCountEl;
                if (n)
                    i.hide();
                else {
                    this.unlinkedFile = e,
                    this.unlinkedAliases = "";
                    var r = this.app
                      , a = this.unlinkedDom;
                    if (i.show(),
                    i.setText("0"),
                    a.emptyResults(),
                    e) {
                        var l = new RegExp(Ox(e.basename),"gi")
                          , c = [l]
                          , u = this.app.metadataCache.getFileCache(e);
                        if (u) {
                            var p = my(u.frontmatter);
                            if (p) {
                                for (var d = 0, f = p; d < f.length; d++) {
                                    var g = f[d];
                                    g && c.push(new RegExp(Ox(g),"gi"))
                                }
                                this.unlinkedAliases = JSON.stringify(p)
                            }
                        }
                        var m = this.unlinkedQueue = new qk({
                            onStart: function() {
                                a.startLoader()
                            },
                            onStop: function() {
                                a.stopLoader()
                            },
                            onCancel: function() {
                                t.unlinkedQueue = null
                            }
                        });
                        a.emptyResults();
                        var v = r.vault.getMarkdownFiles();
                        v.sort(yx[a.sortOrder]),
                        m.addList(v);
                        var y = m.generator()
                          , b = _k(r.vault.generateFiles(y, !0));
                        o(t, void 0, void 0, (function() {
                            var t, n, o, u, p, d, f, g, v, y, w, k, C, x, E, S, L, D, M, A, T, F, P;
                            return s(this, (function(s) {
                                switch (s.label) {
                                case 0:
                                    s.trys.push([0, 6, 7, 12]),
                                    t = h(b),
                                    s.label = 1;
                                case 1:
                                    return [4, t.next()];
                                case 2:
                                    return (n = s.sent()).done ? [3, 5] : (o = n.value,
                                    u = o.file,
                                    p = o.content,
                                    e === u ? [3, 4] : (d = r.metadataCache.getFileCache(u),
                                    [4, this.passSearchFilter(u, p, d, m.runnable)]));
                                case 3:
                                    if (!s.sent())
                                        return [3, 4];
                                    for (f = !1,
                                    g = [],
                                    v = 0,
                                    y = c; v < y.length; v++)
                                        for ((w = y[v]).lastIndex = 0,
                                        k = w.exec(p); k; )
                                            C = w.lastIndex,
                                            x = C - k[1].length,
                                            g.push([x, C]),
                                            k = w.exec(p);
                                    for ((E = {}).content = [],
                                    S = function(e) {
                                        var t = Dy(d, (function(t) {
                                            return t.position.start.offset <= e[0] && t.position.end.offset >= e[1]
                                        }
                                        ));
                                        if (d && d.frontmatter) {
                                            var n = d.frontmatter.position;
                                            n && n.start.offset <= e[0] && n.end.offset >= e[1] && (t = !0)
                                        }
                                        t || (f = !0,
                                        E.content.push(e))
                                    }
                                    ,
                                    L = 0,
                                    D = g; L < D.length; L++)
                                        M = D[L],
                                        S(M);
                                    if (!f)
                                        return a.removeResult(u),
                                        [3, 4];
                                    A = a.addResult(u, E, p),
                                    this.addLinkFunction(A, e, u, l),
                                    A.separateMatches = !0,
                                    A.renderContentMatches(),
                                    i.setText(String(a.getMatchCount())),
                                    s.label = 4;
                                case 4:
                                    return [3, 1];
                                case 5:
                                    return [3, 12];
                                case 6:
                                    return T = s.sent(),
                                    F = {
                                        error: T
                                    },
                                    [3, 12];
                                case 7:
                                    return s.trys.push([7, , 10, 11]),
                                    n && !n.done && (P = t.return) ? [4, P.call(t)] : [3, 9];
                                case 8:
                                    s.sent(),
                                    s.label = 9;
                                case 9:
                                    return [3, 11];
                                case 10:
                                    if (F)
                                        throw F.error;
                                    return [7];
                                case 11:
                                    return [7];
                                case 12:
                                    return [2]
                                }
                            }
                            ))
                        }
                        ))
                    }
                }
            }
            ,
            t.prototype.stopUnlinkedSearch = function() {
                var e = this.unlinkedQueue;
                e && !e.runnable.isCancelled() && (e.runnable.cancel(),
                this.unlinkedFile = null),
                this.unlinkedQueue = null
            }
            ,
            t.prototype.addLinkFunction = function(e, t, n, i) {
                var r = this;
                e.onMatchRender = function(a, l) {
                    l.createEl("button", {
                        cls: "search-result-file-match-replace-button",
                        text: Te("plugins.backlinks.label-link-button-text")
                    }).addEventListener("click", (function(c) {
                        return o(r, void 0, void 0, (function() {
                            var r, o, u, h, p, d;
                            return s(this, (function(s) {
                                switch (s.label) {
                                case 0:
                                    return c.preventDefault(),
                                    l.detach(),
                                    e.invalidate(),
                                    r = this.app.vault,
                                    o = a[0],
                                    u = a[1],
                                    [4, r.read(n)];
                                case 1:
                                    return h = s.sent(),
                                    p = h.slice(o, u),
                                    d = this.app.fileManager.generateMarkdownLink(t, n.path, "", i.test(p) ? "" : p),
                                    h = h.slice(0, o) + d + h.slice(u),
                                    [4, r.modify(n, h)];
                                case 2:
                                    return s.sent(),
                                    [2]
                                }
                            }
                            ))
                        }
                        ))
                    }
                    ))
                }
            }
            ,
            t
        }(Jk)
          , NE = function(e) {
            function t(t, n) {
                var i = e.call(this, n) || this;
                return i.docId = kf(16),
                i.nesting = 5,
                i.hoverPopover = null,
                i.app = t,
                i.renderer = new AC(i,n,"worker.js"),
                i
            }
            return i(t, e),
            t.prototype.onload = function() {
                var e = this.app;
                this.registerEvent(e.vault.on("modify", this.onFileChange, this)),
                this.registerEvent(e.vault.on("delete", this.onFileChange, this)),
                this.registerEvent(e.metadataCache.on("changed", this.onFileChange, this))
            }
            ,
            t.prototype.onInternalLinkClick = function(e, t, n) {
                e.preventDefault();
                var i = rn.isModifier(e, "Mod");
                this.app.workspace.openLinkText(n, this.getFile().path, i || 1 === e.button, {
                    active: !0
                })
            }
            ,
            t.prototype.onInternalLinkRightClick = function(e, t, n) {
                var i = new Zk(this.app);
                this.app.workspace.handleLinkContextMenu(i, n, this.getFile().path) && (e.preventDefault(),
                i.showAtMouseEvent(e))
            }
            ,
            t.prototype.onExternalLinkClick = function(e, t, n) {
                n.startsWith("file:///") && (e.preventDefault(),
                window.open(n))
            }
            ,
            t.prototype.onInternalLinkMouseover = function(e, t, n) {
                this.app.workspace.trigger("hover-link", {
                    event: e,
                    source: "preview",
                    hoverParent: this,
                    targetEl: t,
                    linktext: n,
                    sourcePath: this.getFile().path
                })
            }
            ,
            t.prototype.onCheckboxClick = function(e, t, n) {
                e.preventDefault();
                for (var i = this.renderer.text, r = 0, o = 0; r < n; ) {
                    if (-1 === (o = i.indexOf("\n", o) + 1))
                        return;
                    r++
                }
                var s = i.indexOf("\n", o);
                -1 === s && (s = i.length);
                var a = i.slice(o, s).search(/\[.\]/);
                if (-1 !== a) {
                    var l = o + a + 1
                      , c = " " === i.charAt(l) ? "x" : " "
                      , u = i.slice(0, l) + c + i.slice(l + 1);
                    this.edit(u)
                }
            }
            ,
            t.prototype.onTagClick = function(e, t, n) {
                var i = this.app.internalPlugins.getPluginById("global-search");
                i && i.instance.openGlobalSearch("tag:" + n)
            }
            ,
            t.prototype.onQueryClick = function(e, t, n) {
                var i = this.app.internalPlugins.getPluginById("global-search");
                i && i.instance.openGlobalSearch(n)
            }
            ,
            t.prototype.postProcess = function(e, t, n) {
                for (var i = this, r = e.el.findAll("a.internal-link"), o = this.app.dragManager, s = function(e) {
                    e.addEventListener("dragstart", (function(t) {
                        var n = i.renderer.getInternalLinkHref(e);
                        if (!n)
                            return null;
                        o.onDragStart(t, o.dragLink(t, n, i.getFile().path))
                    }
                    ))
                }, a = 0, l = r; a < l.length; a++) {
                    s(l[a])
                }
                var c = zE.postProcess(this.app, {
                    docId: this.docId,
                    sourcePath: this.getFile().path,
                    frontmatter: n,
                    promises: t,
                    addChild: function(e) {
                        return i.addChild(e)
                    },
                    getSectionInfo: function(e) {
                        return i.renderer.getSectionInfo(e)
                    },
                    containerEl: this.renderer.sizerEl,
                    el: e.el,
                    remainingNestLevel: this.nesting
                });
                e.usesFrontMatter = !!c.usesFrontMatter,
                this.resolveLinks(e.el)
            }
            ,
            t.prototype.onScroll = function() {}
            ,
            t.prototype.onFoldChange = function() {}
            ,
            t.prototype.onRenderComplete = function() {}
            ,
            t.prototype.onFileChange = function(e) {
                for (var t = 0, n = this.renderer.sections; t < n.length; t++) {
                    var i = n[t];
                    i.rendered && this.resolveLinks(i.el)
                }
            }
            ,
            t.prototype.resolveLinks = function(e) {
                for (var t = this.app, n = this.renderer, i = 0, r = e.findAll("a.internal-link"); i < r.length; i++) {
                    var o = r[i]
                      , s = n.getInternalLinkHref(o);
                    if (s) {
                        var a = Sy(s)
                          , l = t.metadataCache.getFirstLinkpathDest(a, this.getFile().path);
                        o.toggleClass("is-unresolved", !l)
                    }
                }
            }
            ,
            t.postProcess = function(e, t) {
                for (var n = t.sourcePath, i = t.promises, r = t.el, o = t.displayMode, s = t.remainingNestLevel, a = void 0 === s ? 5 : s, l = function(i) {
                    var r = gf(i.innerHTML).trim()
                      , o = i.parentElement
                      , s = createDiv("internal-query is-embed");
                    o.replaceWith(s),
                    s.createDiv("internal-query-header", (function(e) {
                        e.createSpan("internal-query-header-icon", (function(e) {
                            return yk(e, Ny)
                        }
                        )),
                        e.createSpan({
                            cls: "internal-query-header-title",
                            text: r
                        })
                    }
                    )),
                    t.addChild(new VE(e,s,r,n))
                }, c = 0, u = r.findAll("code.language-query"); c < u.length; c++) {
                    l(u[c])
                }
                for (var h = 0, p = AC.postProcessors; h < p.length; h++) {
                    var d = (0,
                    p[h])(r, t);
                    d && d.then && i.push(d)
                }
                var f = r.findAll(".internal-embed:not(.is-loaded)");
                if (f.length > 0)
                    for (var g = 0, m = f; g < m.length; g++) {
                        var v = m[g]
                          , y = v.getAttribute("src")
                          , b = fx.load({
                            app: e,
                            linktext: y,
                            sourcePath: n,
                            containerEl: v,
                            displayMode: o,
                            showTitle: !0,
                            remainingNestLevel: a
                        });
                        b && (t.addChild(b),
                        i.push(b.loadFile()))
                    }
                return t
            }
            ,
            t.loadEmbed = function(e, t, n) {
                var i = e.app
                  , r = e.linktext
                  , o = e.showTitle
                  , s = e.sourcePath
                  , a = e.displayMode
                  , l = e.remainingNestLevel
                  , c = void 0 === l ? 5 : l
                  , u = e.state
                  , h = Ly(r).subpath;
                if (a)
                    return new RE(i,n,t,h,c - 1);
                var p = n.createDiv("markdown-embed");
                o && !h && p.createDiv({
                    cls: "markdown-embed-title",
                    text: t.basename
                });
                var d = p.createDiv("markdown-embed-content");
                return p.createDiv("markdown-embed-link", (function(e) {
                    yk(e, tb, 20),
                    Je(e, "Open link"),
                    e.onClickEvent((function(e) {
                        if (0 === e.button || 1 === e.button) {
                            e.preventDefault();
                            var t = rn.isModifier(e, "Mod");
                            i.workspace.openLinkText(r, s, t || 1 === e.button)
                        }
                    }
                    ))
                }
                )),
                new BE(i,d,t,h,c - 1,u)
            }
            ,
            t.renderMarkdown = function(e, t, n, i) {
                return o(this, void 0, void 0, (function() {
                    var r, o, a, l, c, u, h, p, d, f;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            for (r = cy(e),
                            o = uy(r),
                            a = hy(r),
                            l = bt(a),
                            t.appendChild(l),
                            c = [],
                            u = {
                                docId: kf(16),
                                sourcePath: n,
                                frontmatter: o,
                                promises: c,
                                addChild: function(e) {
                                    return i && i.addChild(e)
                                },
                                getSectionInfo: function() {
                                    return null
                                },
                                containerEl: t,
                                el: t,
                                displayMode: !0
                            },
                            h = 0,
                            p = AC.postProcessors; h < p.length; h++)
                                d = p[h],
                                (f = d(t, u)) && f.then && c.push(f);
                            return c.length > 0 ? [4, Promise.all(c)] : [3, 2];
                        case 1:
                            s.sent(),
                            s.label = 2;
                        case 2:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t
        }(EC)
          , RE = function(e) {
            function t(t, n, i, r, o) {
                var s = e.call(this) || this;
                return s.nesting = 5,
                s.app = t,
                s.containerEl = n,
                s.file = i,
                s.subpath = r,
                s.nesting = o,
                s
            }
            return i(t, e),
            t.prototype.loadFile = function() {
                return o(this, void 0, Promise, (function() {
                    var e, t, n, i, r, o, a, l, c, u, h, p, d, f, g = this;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return t = (e = this).app,
                            n = e.file,
                            i = e.subpath,
                            r = Fy(t.metadataCache.getFileCache(n), i),
                            [4, t.vault.cachedRead(n)];
                        case 1:
                            return o = s.sent(),
                            r && (a = r.start.offset,
                            l = r.end ? r.end.offset : o.length,
                            o = o.substring(a, l)),
                            c = cy(o),
                            u = uy(c),
                            h = hy(c),
                            p = bt(h),
                            (d = this.containerEl.createDiv("markdown-preview-view")).appendChild(p),
                            f = [],
                            zE.postProcess(this.app, {
                                docId: kf(16),
                                sourcePath: n.path,
                                frontmatter: u,
                                promises: f,
                                addChild: function(e) {
                                    return g.addChild(e)
                                },
                                getSectionInfo: function() {
                                    return null
                                },
                                containerEl: d,
                                el: d,
                                displayMode: !0
                            }),
                            f.length > 0 ? [4, Promise.all(f)] : [3, 3];
                        case 2:
                            s.sent(),
                            s.label = 3;
                        case 3:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t
        }(Jk)
          , BE = function(e) {
            function t(t, n, i, r, o, s) {
                var a = e.call(this, t, n) || this;
                return a.before = "",
                a.after = "",
                a.file = i,
                a.subpath = r,
                a.nesting = o,
                a.state = s,
                a
            }
            return i(t, e),
            t.prototype.loadFile = function() {
                return o(this, void 0, Promise, (function() {
                    var e, t, n, i, r, o, a, l, c, u, h;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return t = (e = this).app,
                            n = e.file,
                            i = e.subpath,
                            r = e.state,
                            o = Fy(t.metadataCache.getFileCache(n), i),
                            i && !o ? (this.renderer.set("### Unable to find section " + i + " in " + n.basename),
                            [2]) : [4, t.vault.cachedRead(n)];
                        case 1:
                            return a = s.sent(),
                            l = "",
                            c = "",
                            o && (u = o.start.offset,
                            h = o.end ? o.end.offset : a.length,
                            l = a.substring(0, u),
                            c = a.substring(h),
                            a = a.substring(u, h)),
                            this.before = l,
                            this.after = c,
                            this.renderer.set(a),
                            r && r.hasOwnProperty("scroll") && this.renderer.applyScrollDelayed(r.scroll, {
                                highlight: !0,
                                center: !0
                            }),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.edit = function(e) {
                var t = this;
                this.renderer.set(e);
                var n = this.before + e + this.after;
                o(t, void 0, void 0, (function() {
                    return s(this, (function(e) {
                        switch (e.label) {
                        case 0:
                            return [4, this.app.vault.modify(this.file, n)];
                        case 1:
                            return e.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.onFileChange = function(t) {
                e.prototype.onFileChange.call(this, t),
                t === this.file && this.loadFile()
            }
            ,
            t.prototype.getFile = function() {
                return this.file
            }
            ,
            t
        }(NE)
          , zE = function(e) {
            function t(t) {
                var n = this
                  , i = t.contentEl.createDiv();
                return i.style.width = "100%",
                i.style.height = "100%",
                (n = e.call(this, t.app, i) || this).type = "preview",
                n.view = t,
                n.search = new HE(n,i),
                n.backlinks = null,
                n.updateOptions(),
                n.onResize(),
                n.onFoldChange = Pe((function() {
                    return n.view.onMarkdownFold()
                }
                ), 500),
                n
            }
            return i(t, e),
            t.prototype.show = function() {
                this.containerEl.show()
            }
            ,
            t.prototype.hide = function() {
                this.containerEl.hide()
            }
            ,
            t.prototype.get = function() {
                return this.renderer.text
            }
            ,
            t.prototype.set = function(e, t) {
                t && this.clear(),
                this.renderer.set(e),
                this.updateBacklinks()
            }
            ,
            t.prototype.clear = function() {
                this.renderer.clear()
            }
            ,
            t.prototype.rerender = function(e) {
                this.renderer.rerender(e)
            }
            ,
            t.prototype.getEphemeralState = function(e) {}
            ,
            t.prototype.setEphemeralState = function(e) {
                var t = this;
                if (e.focus) {
                    var n = this.renderer.previewEl;
                    n.tabIndex = -1,
                    n.focus()
                }
                if (e.hasOwnProperty("scroll") && this.renderer.applyScrollDelayed(e.scroll),
                void 0 !== e.line && e.line >= 0 && this.renderer.applyScrollDelayed(e.line, {
                    highlight: !0
                }, (function() {
                    return t.view.onMarkdownScroll()
                }
                )),
                void 0 !== e.match) {
                    var i = e.match
                      , r = i.content
                      , o = i.matches;
                    if (o.length > 0) {
                        var s = Cf(r, o[0][0]);
                        this.renderer.applyScrollDelayed(s, {
                            highlight: !0
                        }, (function() {
                            return t.view.onMarkdownScroll()
                        }
                        ))
                    }
                }
            }
            ,
            t.prototype.getScroll = function() {
                return this.renderer.getScroll()
            }
            ,
            t.prototype.applyScroll = function(e) {
                this.renderer.applyScroll(e)
            }
            ,
            t.prototype.getFoldInfo = function() {
                return this.renderer.getFoldInfo()
            }
            ,
            t.prototype.applyFoldInfo = function(e) {
                this.renderer.applyFoldInfo(e)
            }
            ,
            t.prototype.onResize = function() {
                this.renderer.onResize(),
                null !== this.view.scroll && this.renderer.applyScrollDelayed(this.view.scroll)
            }
            ,
            t.prototype.showSearch = function() {
                this.search.show()
            }
            ,
            t.prototype.updateOptions = function() {
                var e = this.app
                  , t = this.renderer
                  , n = e.vault
                  , i = t.previewEl
                  , r = n.getConfig("readableLineLength");
                i.toggleClass("is-readable-line-width", r);
                var o = n.getConfig("foldHeading");
                i.toggleClass("allow-fold-headings", o);
                var s = n.getConfig("foldIndent");
                i.toggleClass("allow-fold-lists", s),
                o || t.unfoldAllHeadings(),
                s || t.unfoldAllLists(),
                i.toggleClass("show-frontmatter", n.getConfig("showFrontmatter")),
                oy.globalOptions.breaks = !n.getConfig("strictLineBreaks"),
                this.rerender()
            }
            ,
            t.prototype.edit = function(e) {
                var t = this;
                this.renderer.set(e),
                this.view.triggerQuickPreview(e),
                o(t, void 0, void 0, (function() {
                    return s(this, (function(e) {
                        switch (e.label) {
                        case 0:
                            return [4, this.view.save()];
                        case 1:
                            return e.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.onScroll = function() {
                Date.now() - this.renderer.lastRender < 100 || this.view.onMarkdownScroll()
            }
            ,
            t.prototype.getFile = function() {
                return this.view.file
            }
            ,
            t.prototype.onRenderComplete = function() {
                e.prototype.onRenderComplete.call(this),
                null === this.search.highlightRanges && this.search.isActive && this.search.updateQuery()
            }
            ,
            t.prototype.foldAll = function() {
                var e = this.app.vault
                  , t = e.getConfig("foldHeading")
                  , n = e.getConfig("foldIndent");
                t && this.renderer.foldAllHeadings(),
                n && this.renderer.foldAllLists()
            }
            ,
            t.prototype.unfoldAll = function() {
                var e = this.app.vault
                  , t = e.getConfig("foldHeading")
                  , n = e.getConfig("foldIndent");
                t && this.renderer.unfoldAllHeadings(),
                n && this.renderer.unfoldAllLists()
            }
            ,
            t.prototype.getSelection = function() {
                return window.getSelection().toString()
            }
            ,
            t.prototype.setShowBacklinks = function(e) {
                var t = this
                  , n = t.app
                  , i = t.renderer
                  , r = t.backlinks;
                e && !r ? (i.addFooter(),
                this.backlinks = this.addChild(new IE(n,i.footer.el,i.previewEl)),
                this.updateBacklinks()) : !e && r && (i.removeFooter(),
                this.removeChild(r),
                this.backlinks = null)
            }
            ,
            t.prototype.isShowingBacklinks = function() {
                return !!this.backlinks
            }
            ,
            t.prototype.updateBacklinks = function() {
                var e = this.backlinks;
                if (e) {
                    var t = null;
                    this.view.currentMode === this && (t = this.getFile()),
                    e.file = t,
                    e.update()
                }
            }
            ,
            t
        }(NE)
          , HE = function() {
            function e(e, t) {
                var n = this;
                this.scope = null,
                this.parentContainer = null,
                this.searchContainer = null,
                this.searchInputEl = null,
                this.isActive = !1,
                this.lastQuery = null,
                this.highlightRanges = null,
                this.selectedRange = -1,
                this.lastText = null,
                this.view = e;
                var i = this.scope = new nn(e.app.scope);
                this.parentContainer = t;
                var r = this.searchContainer = t.createDiv("document-search-container")
                  , o = this.searchContainer.createDiv("document-search");
                this.searchInputEl = o.createEl("input", {
                    cls: "document-search-input",
                    type: "text"
                });
                var s = o.createDiv({
                    cls: "document-search-buttons",
                    type: "text"
                });
                s.createEl("button", {
                    cls: "document-search-button",
                    text: Te("editor.search.label-previous")
                }, (function(e) {
                    Je(e, "Shift + F3", {
                        placement: "top"
                    }),
                    e.addEventListener("click", (function(e) {
                        e.preventDefault(),
                        n.findPrevious()
                    }
                    ))
                }
                )),
                s.createEl("button", {
                    cls: "document-search-button",
                    text: Te("editor.search.label-next")
                }, (function(e) {
                    Je(e, "Enter or F3", {
                        placement: "top"
                    }),
                    e.addEventListener("click", (function(e) {
                        e.preventDefault(),
                        n.findNext()
                    }
                    ))
                }
                )),
                s.createSpan("document-search-close-button", (function(e) {
                    Je(e, Te("editor.search.label-exit-search"), {
                        placement: "top"
                    }),
                    e.addEventListener("click", (function(e) {
                        e.preventDefault(),
                        n.hide()
                    }
                    ))
                }
                )),
                this.searchInputEl.addEventListener("input", Pe(this.onSearchInput.bind(this), 150, !0)),
                r.hide(),
                i.register(["Shift"], "F3", this.findPrevious.bind(this)),
                i.register([], "F3", this.findNext.bind(this)),
                i.register([], "Enter", this.onEnter.bind(this)),
                i.register([], "Escape", this.hide.bind(this))
            }
            return e.prototype.show = function() {
                this.isActive = !0;
                var e = this
                  , t = e.view
                  , n = e.parentContainer
                  , i = e.searchContainer
                  , r = e.searchInputEl;
                i.show();
                var o = window.getSelection().toString();
                o && (r.value = o),
                r.focus(),
                r.select(),
                this.updateQuery(),
                t.app.keymap.pushScope(this.scope),
                n.addClass("is-searching")
            }
            ,
            e.prototype.hide = function() {
                this.isActive = !1;
                var e = this
                  , t = e.view
                  , n = e.parentContainer
                  , i = e.searchContainer
                  , r = e.searchInputEl;
                i.hide(),
                r.value = "",
                r.removeClass("mod-no-match"),
                n.removeClass("is-searching"),
                t.app.keymap.popScope(this.scope),
                this.updateQuery()
            }
            ,
            e.prototype.updateQuery = function() {
                var e = this.getQuery().toLowerCase()
                  , t = this.view
                  , n = this.searchInputEl
                  , i = t.renderer
                  , r = i.lastText;
                e || (r = null);
                var o = this.lastText !== r
                  , s = this.lastQuery !== e;
                if (o && (this.lastText = r),
                s && (this.lastQuery = e,
                this.selectedRange = -1),
                o || s) {
                    n.removeClass("mod-no-match");
                    for (var a = 0, l = i.sections; a < l.length; a++) {
                        (p = l[a]).highlightRanges = null
                    }
                    if (i.queueRender(),
                    e) {
                        for (var c = [], u = 0, h = i.sections; u < h.length; u++) {
                            var p, d = [];
                            jt((p = h[u]).el, d);
                            for (var f = d.map((function(e) {
                                return e.textContent
                            }
                            )).join("").toLowerCase(), g = [], m = 0; -1 !== (m = f.indexOf(e, m)); ) {
                                var v = m + e.length
                                  , y = {
                                    section: p,
                                    start: m,
                                    end: v,
                                    active: !1
                                };
                                g.push(y),
                                c.push(y),
                                m = v
                            }
                            g.length > 0 && (p.highlightRanges = g)
                        }
                        this.highlightRanges = c,
                        n.toggleClass("mod-no-match", 0 === c.length)
                    } else
                        this.highlightRanges = null
                }
            }
            ,
            e.prototype.onSearchInput = function() {
                this.updateQuery(),
                this.selectRange(0)
            }
            ,
            e.prototype.findNext = function() {
                this.selectRange(this.selectedRange + 1)
            }
            ,
            e.prototype.findPrevious = function() {
                this.selectRange(this.selectedRange - 1)
            }
            ,
            e.prototype.selectRange = function(e) {
                var t = this.highlightRanges;
                if (t && 0 !== t.length) {
                    e > t.length - 1 && (e = 0),
                    e < 0 && (e = t.length - 1);
                    var n = t[this.selectedRange];
                    n && (n.active = !1),
                    this.selectedRange = e;
                    var i = t[this.selectedRange];
                    i.active = !0,
                    this.view.renderer.selectRange(i)
                }
            }
            ,
            e.prototype.getQuery = function() {
                return this.searchInputEl.value
            }
            ,
            e.prototype.onEnter = function(e) {
                this.searchInputEl === document.activeElement && this.findNext()
            }
            ,
            e
        }()
          , VE = function(e) {
            function t(t, n, i, r) {
                var o = e.call(this, n) || this;
                return o.searchQuery = null,
                o.app = t,
                o.query = i,
                o.sourcePath = r,
                o.dom = new Dx(t,n,Te("plugins.search.label-no-matches")),
                o.queue = new Mx(t,o.dom),
                o.addChild(o.queue),
                o
            }
            return i(t, e),
            t.prototype.onload = function() {
                var e = this
                  , t = e.app
                  , n = e.dom
                  , i = e.sourcePath;
                n.emptyResults();
                try {
                    var r = new dE(this.query,!1);
                    if (!r.matcher)
                        return;
                    this.searchQuery = r;
                    var o = this.queue.start();
                    fE(t, r.requiredInputs, o, (function(e, t, o) {
                        e.path === i && (t = t.replace(/```query([\s\S]*?)(```|$)/g, (function(e) {
                            return e.replace(/./g, " ")
                        }
                        )));
                        var s = r.match(e, t, o);
                        s ? n.addResult(e, s, t).renderContentMatches() : n.removeResult(e)
                    }
                    ))
                } catch (e) {
                    console.log(e)
                }
            }
            ,
            t.prototype.onResize = function() {
                this.dom.onResize()
            }
            ,
            t
        }(EC)
          , qE = new window.TurndownService({
            headingStyle: "atx",
            hr: "---",
            bulletListMarker: "-",
            codeBlockStyle: "fenced",
            fence: "```",
            linkStyle: "inlined"
        });
        function UE(e) {
            return qE.turndown(e)
        }
        qE.remove(["script", "style", "title"]),
        qE.addRule("strikethrough", {
            filter: ["del", "s"],
            replacement: function(e) {
                return "~~" + e + "~~"
            }
        }),
        qE.escape = function(e) {
            return e
        }
        ;
        var _E = {
            none: [],
            copy: ["copy"],
            copyLink: ["copy", "link"],
            copyMove: ["copy", "move"],
            link: ["link"],
            linkMove: ["link", "move"],
            move: ["move"],
            all: ["copy", "link", "move"],
            uninitialized: []
        };
        function jE(e, t) {
            t && function(e, t) {
                if ("none" === t)
                    return !0;
                var n = _E[e.dataTransfer.effectAllowed];
                return !!n && n.contains(t)
            }(e, t) && (e.dataTransfer.dropEffect = t)
        }
        var WE = function() {
            function e(e) {
                this.ghostEl = null,
                this.actionEl = null,
                this.draggable = null,
                this.sourceEls = null,
                this.sourceClass = "",
                this.hoverEl = null,
                this.hoverClass = "",
                this.app = e,
                window.addEventListener("drag", this.onDrag.bind(this)),
                window.addEventListener("dragover", this.onDragOver.bind(this)),
                window.addEventListener("dragend", this.onDragEnd.bind(this)),
                window.addEventListener("drop", this.onDragEnd.bind(this)),
                window.addEventListener("dragleave", this.onDragLeave.bind(this))
            }
            return e.prototype.onDrag = function(e) {
                var t = this.ghostEl;
                if (t) {
                    var n = e.clientX
                      , i = e.clientY;
                    if (0 === n && 0 === i)
                        return;
                    n += 5,
                    i += 5,
                    t.style.left = n + "px",
                    t.style.top = i + "px",
                    t.show()
                }
                this.setAction(null),
                e.dataTransfer.dropEffect = "none"
            }
            ,
            e.prototype.onDragOver = function(e) {
                e.defaultPrevented || (this.setAction(null),
                e.dataTransfer.dropEffect = "none",
                this.updateHover(null, ""))
            }
            ,
            e.prototype.onDragLeave = function(e) {
                var t = this.ghostEl;
                t && t.hide()
            }
            ,
            e.prototype.onDragEnd = function() {
                var e = this.ghostEl;
                e && e.detach(),
                this.draggable = null,
                this.updateSource(null, ""),
                this.updateHover(null, ""),
                document.body.removeClass("is-grabbing")
            }
            ,
            e.prototype.onDragStart = function(e, t) {
                this.draggable = t,
                document.body.addClass("is-grabbing"),
                e.dataTransfer.effectAllowed = "all";
                var n = this.ghostEl;
                n && n.detach();
                var i = this.ghostEl = document.body.createDiv("drag-ghost")
                  , r = i.createDiv("drag-ghost-self");
                t.icon && yk(r, t.icon),
                t.title && r.createSpan({
                    text: t.title
                }),
                this.actionEl = i.createDiv("drag-ghost-action"),
                e.dataTransfer.setDragImage(createDiv(), 0, 0)
            }
            ,
            e.prototype.handleDrag = function(e, t) {
                var n = this;
                on.isMobile || (e.draggable = !0,
                e.addEventListener("dragstart", (function(e) {
                    var i = t(e);
                    i && n.onDragStart(e, i)
                }
                )))
            }
            ,
            e.prototype.dragFile = function(e, t, n) {
                return Gt(e.dataTransfer, this.app.getObsidianUrl(t)),
                {
                    source: n,
                    type: "file",
                    icon: By,
                    title: ne(t.path),
                    file: t
                }
            }
            ,
            e.prototype.dragFolder = function(e, t, n) {
                return {
                    source: n,
                    type: "folder",
                    icon: zy,
                    title: t.name,
                    file: t
                }
            }
            ,
            e.prototype.dragFiles = function(e, t, n) {
                if (0 === t.length)
                    return null;
                for (var i, r = 0, o = 0, s = [], a = 0, l = t; a < l.length; a++) {
                    var c = l[a];
                    c instanceof Vf ? (r++,
                    s.push(this.app.getObsidianUrl(c))) : c instanceof qf && o++
                }
                return o > 0 && r > 0 ? i = r + " files and " + o + " folders" : o > 0 ? i = o + " folders" : r > 0 && (i = r + " files"),
                Gt(e.dataTransfer, s.join("\n")),
                {
                    source: n,
                    type: "files",
                    icon: Yy,
                    title: i,
                    files: t
                }
            }
            ,
            e.prototype.dragLink = function(e, t, n, i) {
                var r = this.app.metadataCache.getFirstLinkpathDest(Sy(t), n)
                  , o = t
                  , s = t;
                return r && (o = this.app.getObsidianUrl(r),
                s = ne(r.path)),
                Gt(e.dataTransfer, o),
                {
                    source: i,
                    type: "link",
                    icon: tb,
                    title: s,
                    linktext: t,
                    sourcePath: n,
                    file: r
                }
            }
            ,
            e.prototype.handleDrop = function(e, t, n) {
                var i = this;
                e.addEventListener("dragover", (function(e) {
                    if ((n || i.draggable) && !e.defaultPrevented) {
                        var r = t(e, i.draggable, !0);
                        if (r) {
                            e.preventDefault();
                            var o = r.action
                              , s = r.dropEffect
                              , a = r.hoverEl
                              , l = r.hoverClass;
                            o && i.setAction(o),
                            s && (e.dataTransfer.dropEffect = s),
                            a && l && i.updateHover(a, l)
                        }
                    }
                }
                )),
                e.addEventListener("drop", (function(e) {
                    (n || i.draggable) && (e.defaultPrevented || t(e, i.draggable, !1) && e.preventDefault())
                }
                ))
            }
            ,
            e.prototype.setAction = function(e) {
                var t = this.actionEl;
                t && (e ? (t.setText(e),
                t.show()) : t.hide())
            }
            ,
            e.prototype.updateSource = function(e, t) {
                if (this.sourceEls)
                    for (var n = 0, i = this.sourceEls; n < i.length; n++) {
                        i[n].removeClass(this.sourceClass)
                    }
                if (this.sourceEls = e,
                this.sourceClass = t,
                e)
                    for (var r = 0, o = e; r < o.length; r++) {
                        o[r].addClass(t)
                    }
            }
            ,
            e.prototype.updateHover = function(e, t) {
                e !== this.hoverEl && (this.hoverEl && this.hoverEl.removeClass(this.hoverClass),
                this.hoverEl = e,
                this.hoverClass = t,
                e && e.addClass(t))
            }
            ,
            e
        }()
          , $E = function() {
            function e(e, t) {
                this.view = e,
                this.app = e.app,
                this.editor = t
            }
            return e.prototype.handlePaste = function(e) {
                var t = this
                  , n = e.clipboardData
                  , i = this.handleDataTransfer(n);
                if (i)
                    return this.editor.replaceSelection(i),
                    void e.preventDefault();
                if (!n.getData("text/plain")) {
                    var r = n.items
                      , a = []
                      , l = function(e) {
                        if (!r.hasOwnProperty(e))
                            return "continue";
                        var t = r[e];
                        if ("file" !== t.kind)
                            return "continue";
                        var n = t.getAsFile();
                        if (!n)
                            return "continue";
                        var i = new FileReader
                          , o = null;
                        i.onload = function(e) {
                            o = e.target.result
                        }
                        ,
                        i.readAsArrayBuffer(n);
                        var s = n.type
                          , l = "";
                        "image/png" === s ? l = "png" : "image/jpeg" === s && (l = "jpg"),
                        l && o && a.push({
                            name: "Pasted image",
                            extension: l,
                            data: o
                        })
                    };
                    for (var c in r)
                        l(c);
                    o(t, void 0, void 0, (function() {
                        var e, t, n;
                        return s(this, (function(i) {
                            switch (i.label) {
                            case 0:
                                return on.isDesktopApp && 0 === a.length ? [4, ye()] : [3, 2];
                            case 1:
                                (n = i.sent()) && a.push(n),
                                i.label = 2;
                            case 2:
                                e = 0,
                                t = a,
                                i.label = 3;
                            case 3:
                                return e < t.length ? (n = t[e]).data ? [4, this.saveAttachment(n.name, n.extension, n.data)] : [3, 5] : [3, 6];
                            case 4:
                                i.sent(),
                                i.label = 5;
                            case 5:
                                return e++,
                                [3, 3];
                            case 6:
                                return [2]
                            }
                        }
                        ))
                    }
                    ))
                }
            }
            ,
            e.prototype.handleDragOver = function(e) {
                var t = this.app.dragManager.draggable;
                if (t) {
                    if (se ? e.shiftKey : e.altKey)
                        return;
                    "file" === t.type ? (jE(e, "link"),
                    this.app.dragManager.setAction(Te("interface.drag-and-drop.insert-link-here"))) : "files" === t.type ? (jE(e, "link"),
                    this.app.dragManager.setAction(Te("interface.drag-and-drop.insert-links-here"))) : "link" === t.type && (jE(e, "link"),
                    this.app.dragManager.setAction(Te("interface.drag-and-drop.insert-link-here")))
                } else
                    e.ctrlKey ? jE(e, "link") : jE(e, "copy")
            }
            ,
            e.prototype.handleDrop = function(e) {
                var t = this.app
                  , n = null
                  , i = t.dragManager.draggable;
                if (i) {
                    if (se ? e.shiftKey : e.altKey)
                        return e.preventDefault(),
                        void this.view.handleDrop(e, i, !1);
                    if ("file" === i.type)
                        n = t.fileManager.generateMarkdownLink(i.file, this.view.file.path);
                    else if ("files" === i.type) {
                        for (var r = [], o = 0, s = i.files; o < s.length; o++) {
                            var a = s[o];
                            a instanceof Vf && r.push(t.fileManager.generateMarkdownLink(a, this.view.file.path))
                        }
                        n = r.join("\n")
                    } else if ("link" === i.type)
                        if (i.file) {
                            var l = Ly(i.linktext).subpath;
                            n = t.fileManager.generateMarkdownLink(i.file, this.view.file.path, l)
                        } else
                            n = i.linktext
                } else
                    e.shiftKey || (n = this.handleDataTransfer(e.dataTransfer)),
                    n || (n = this.handleDropIntoEditor(e));
                if (String.isString(n)) {
                    var c = this.editor
                      , u = c.posAtMouse(e);
                    c.setCursor(u),
                    c.replaceSelection(n),
                    c.focus(),
                    e.preventDefault()
                }
            }
            ,
            e.prototype.handleDropIntoEditor = function(e) {
                var t = this
                  , n = e.dataTransfer.files;
                if (n.length > 0) {
                    for (var i = [], r = 0; r < n.length; r++) {
                        (l = n[r].path) && i.push(l)
                    }
                    if (e.ctrlKey) {
                        var a = [];
                        for (r = 0; r < i.length; r++) {
                            var l, c = W(te(l = i[r])), u = Q(c), h = Y(c), p = Md(l), d = "[" + h + "](" + (p = p.startsWith("/") ? "file://" + p : "file:///" + p) + ")";
                            z.contains(u) && (d = "!" + d),
                            a.push(d)
                        }
                        return a.join("\n")
                    }
                    return o(t, void 0, void 0, (function() {
                        var e, t, r, o, a, l;
                        return s(this, (function(s) {
                            switch (s.label) {
                            case 0:
                                e = 0,
                                s.label = 1;
                            case 1:
                                return e < i.length ? (t = i[e],
                                r = W(ee(t)),
                                o = Q(r),
                                a = Y(r),
                                [4, ge(t)]) : [3, 5];
                            case 2:
                                return (l = s.sent()) ? [4, this.saveAttachment(a, o, l, e < n.length - 1)] : [3, 4];
                            case 3:
                                s.sent(),
                                s.label = 4;
                            case 4:
                                return e++,
                                [3, 1];
                            case 5:
                                return [2]
                            }
                        }
                        ))
                    }
                    )),
                    ""
                }
                return null
            }
            ,
            e.prototype.handleDataTransfer = function(e) {
                var t = e.getData("text/html");
                if (t) {
                    return e.files.length > 0 && (/<!--StartFragment--><img src=[^>]+><!--EndFragment-->/.test(t) || /^<meta[^>]+><img src=[^>]+>/.test(t)) ? null : this.app.vault.getConfig("autoConvertHtml") ? UE(t) : null
                }
                var n = e.getData("text/plain") || ""
                  , i = e.getData("text/uri-list");
                if (i && i.toLowerCase() !== n.toLowerCase()) {
                    var r = Q(W(i))
                      , o = "[" + n + "](" + i + ")";
                    return z.contains(r) && (o = "!" + o),
                    o
                }
                return null
            }
            ,
            e.prototype.saveAttachment = function(e, t, n, i) {
                return o(this, void 0, void 0, (function() {
                    var r, o;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return "Pasted image" === e && (e += " " + window.moment().format("YYYYMMDDHHmmss")),
                            [4, this.app.saveAttachment(e, t, n)];
                        case 1:
                            return (r = s.sent()) && (o = this.app.fileManager.generateMarkdownLink(r, this.view.file.path),
                            i && (o += "\n\n"),
                            this.editor.replaceSelection(o)),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.onContextMenu = function(e) {
                return o(this, void 0, void 0, (function() {
                    var t, n, i, r, a, l, c, u, h, p, d, f, g, m, v, y, b, w, k, C, x, E, S, L = this;
                    return s(this, (function(D) {
                        switch (D.label) {
                        case 0:
                            return n = (t = this).app,
                            i = t.editor,
                            (r = i.posAtMouse(e)) ? (a = on.isDesktopApp && de("electron"),
                            l = !0,
                            c = !0,
                            u = !0,
                            h = "",
                            p = null,
                            d = null,
                            f = null,
                            (g = i.getSpellcheckStatus(e, r)) && (h = g.misspelledWord,
                            p = g.dictionarySuggestions,
                            d = g.replace,
                            f = g.addToDictionary),
                            a ? (m = a.ipcRenderer,
                            [4, new Promise((function(e) {
                                m.once("context-menu", (function(t, n) {
                                    e(n)
                                }
                                )),
                                m.send("context-menu")
                            }
                            ))]) : [3, 2]) : [2];
                        case 1:
                            return v = D.sent() || {},
                            S = v.editFlags || {},
                            l = S.canCut,
                            c = S.canCopy,
                            u = S.canPaste,
                            v.misspelledWord && (h = v.misspelledWord,
                            p = v.dictionarySuggestions,
                            d = function(e) {
                                m.send("context-menu-action", "replaceMisspelling", e)
                            }
                            ,
                            f = function(e) {
                                m.send("context-menu-action", "addWordToDictionary", e)
                            }
                            ),
                            [3, 3];
                        case 2:
                            e.preventDefault(),
                            D.label = 3;
                        case 3:
                            if (y = new Zk(n),
                            h) {
                                if (0 === (b = p || []).length)
                                    y.addItem((function(e) {
                                        return e.setTitle(Te("editor.spellcheck.no-suggestion"))
                                    }
                                    ));
                                else
                                    for (b.length > 6 && (b = b.slice(0, 6)),
                                    w = function(e) {
                                        y.addItem((function(t) {
                                            return t.setTitle(e).setIcon(Bb).onClick((function() {
                                                y.hide(),
                                                d && d(e)
                                            }
                                            ))
                                        }
                                        ))
                                    }
                                    ,
                                    k = 0,
                                    C = b; k < C.length; k++)
                                        x = C[k],
                                        w(x);
                                y.addSeparator().addItem((function(e) {
                                    return e.setTitle(Te("editor.spellcheck.add-to-dictionary")).setIcon($b).onClick((function() {
                                        f && f(h)
                                    }
                                    ))
                                }
                                )),
                                y.addSeparator()
                            }
                            return (E = i.getClickableTokenAt(r)) && ("internal-link" === E.type ? n.workspace.handleLinkContextMenu(y, E.text, this.view.file.path) : "external-link" === E.type ? n.workspace.handleExternalLinkContextMenu(y, E.text) : E.type),
                            n.workspace.trigger("editor-menu", y, i, this.view),
                            y.items > 0 && y.addSeparator(),
                            y.addItem((function(e) {
                                return e.setTitle(Te("interface.menu.cut")).setIcon(hk).setDisabled(!l).onClick((function() {
                                    return o(L, void 0, void 0, (function() {
                                        var e;
                                        return s(this, (function(t) {
                                            switch (t.label) {
                                            case 0:
                                                return a ? (a.ipcRenderer.send("context-menu-action", "cut"),
                                                [3, 3]) : [3, 1];
                                            case 1:
                                                return e = i.getSelection(),
                                                i.replaceSelection(""),
                                                [4, navigator.clipboard.writeText(e)];
                                            case 2:
                                                t.sent(),
                                                t.label = 3;
                                            case 3:
                                                return [2]
                                            }
                                        }
                                        ))
                                    }
                                    ))
                                }
                                ))
                            }
                            )),
                            y.addItem((function(e) {
                                return e.setTitle(Te("interface.menu.copy")).setIcon(uk).setDisabled(!c).onClick((function() {
                                    return o(L, void 0, void 0, (function() {
                                        var e;
                                        return s(this, (function(t) {
                                            switch (t.label) {
                                            case 0:
                                                return a ? (a.ipcRenderer.send("context-menu-action", "copy"),
                                                [3, 3]) : [3, 1];
                                            case 1:
                                                return e = i.getSelection(),
                                                [4, navigator.clipboard.writeText(e)];
                                            case 2:
                                                t.sent(),
                                                t.label = 3;
                                            case 3:
                                                return [2]
                                            }
                                        }
                                        ))
                                    }
                                    ))
                                }
                                ))
                            }
                            )),
                            y.addItem((function(e) {
                                return e.setTitle(Te("interface.menu.paste")).setIcon(pk).setDisabled(!u).onClick((function() {
                                    return o(L, void 0, void 0, (function() {
                                        var e;
                                        return s(this, (function(t) {
                                            switch (t.label) {
                                            case 0:
                                                return a ? (a.ipcRenderer.send("context-menu-action", "paste"),
                                                [3, 3]) : [3, 1];
                                            case 1:
                                                return [4, navigator.clipboard.readText()];
                                            case 2:
                                                e = t.sent(),
                                                i.replaceSelection(e),
                                                t.label = 3;
                                            case 3:
                                                return [2]
                                            }
                                        }
                                        ))
                                    }
                                    ))
                                }
                                ))
                            }
                            )),
                            y.addItem((function(e) {
                                return e.setTitle(Te("interface.menu.paste-as-plain-text")).setIcon(dk).setDisabled(!u).onClick((function() {
                                    return o(L, void 0, void 0, (function() {
                                        var e;
                                        return s(this, (function(t) {
                                            switch (t.label) {
                                            case 0:
                                                return a ? (a.ipcRenderer.send("context-menu-action", "pasteAndMatchStyle"),
                                                [3, 3]) : [3, 1];
                                            case 1:
                                                return [4, navigator.clipboard.readText()];
                                            case 2:
                                                e = t.sent(),
                                                i.replaceSelection(e),
                                                t.label = 3;
                                            case 3:
                                                return [2]
                                            }
                                        }
                                        ))
                                    }
                                    ))
                                }
                                ))
                            }
                            )),
                            y.addItem((function(e) {
                                return e.setTitle(Te("interface.menu.select-all")).setIcon(gk).onClick((function() {
                                    var e = i.lineCount() - 1;
                                    i.setSelection({
                                        line: 0,
                                        ch: 0
                                    }, {
                                        line: e,
                                        ch: i.getLine(e).length
                                    })
                                }
                                ))
                            }
                            )),
                            y.showAtMouseEvent(e),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e
        }()
          , GE = function() {
            function e(e, t, n) {
                var i = this;
                this.sourceView = null,
                this.scope = null,
                this.cmEditor = null,
                this.cmSearchCursor = null,
                this.parentContainer = null,
                this.searchContainer = null,
                this.searchInputEl = null,
                this.replaceInputEl = null,
                this.isActive = !1,
                this.sourceView = e,
                this.cmEditor = t;
                var r = this.scope = new nn(e.scope);
                this.parentContainer = n;
                var o = this.searchContainer = n.createDiv("document-search-container")
                  , s = this.searchContainer.createDiv("document-search");
                this.searchInputEl = s.createEl("input", {
                    cls: "document-search-input",
                    type: "text"
                });
                var a = s.createDiv({
                    cls: "document-search-buttons",
                    type: "text"
                });
                a.createEl("button", {
                    cls: "document-search-button",
                    text: Te("editor.search.label-previous")
                }, (function(e) {
                    Je(e, Te("editor.search.key-shift-f3"), {
                        placement: "top"
                    }),
                    e.addEventListener("click", (function(e) {
                        e.preventDefault(),
                        i.findPrevious()
                    }
                    ))
                }
                )),
                a.createEl("button", {
                    cls: "document-search-button",
                    text: Te("editor.search.label-next")
                }, (function(e) {
                    Je(e, Te("editor.search.key-enter-or-f3"), {
                        placement: "top"
                    }),
                    e.addEventListener("click", (function(e) {
                        e.preventDefault(),
                        i.findNext()
                    }
                    ))
                }
                )),
                a.createEl("button", {
                    cls: "document-search-button",
                    text: Te("editor.search.label-all")
                }, (function(e) {
                    e.addEventListener("click", (function(e) {
                        e.preventDefault(),
                        i.searchAll()
                    }
                    ))
                }
                )),
                a.createSpan("document-search-close-button", (function(e) {
                    Je(e, Te("editor.search.label-exit-search"), {
                        placement: "top"
                    }),
                    e.addEventListener("click", (function(e) {
                        e.preventDefault(),
                        i.hide()
                    }
                    ))
                }
                )),
                this.searchInputEl.addEventListener("input", this.onSearchInput.bind(this));
                var l = this.searchContainer.createDiv("document-replace");
                this.replaceInputEl = l.createEl("input", {
                    cls: "document-replace-input",
                    type: "text"
                });
                var c = l.createDiv({
                    cls: "document-replace-buttons",
                    type: "text"
                });
                c.createEl("button", {
                    cls: "document-search-button",
                    text: Te("editor.search.label-replace")
                }, (function(e) {
                    e.addEventListener("click", i.replaceCurrentMatch.bind(i)),
                    Je(e, Te("editor.search.key-enter"), {
                        placement: "top"
                    })
                }
                )),
                c.createEl("button", {
                    cls: "document-search-button",
                    text: Te("editor.search.label-replace-all")
                }, (function(e) {
                    e.addEventListener("click", i.replaceAll.bind(i))
                }
                )),
                o.hide(),
                r.register(["Shift"], "F3", this.findPrevious.bind(this)),
                r.register([], "F3", this.findNext.bind(this)),
                r.register([], "Enter", this.onEnter.bind(this)),
                r.register([], "Escape", this.hide.bind(this)),
                r.register([], "Tab", this.goToNextInput.bind(this)),
                r.register(["Shift"], "Tab", this.goToNextInput.bind(this))
            }
            return e.prototype.show = function(e) {
                void 0 === e && (e = !1),
                this.isActive = !0;
                var t = this
                  , n = t.cmEditor
                  , i = t.sourceView
                  , r = t.parentContainer
                  , o = t.searchContainer
                  , s = t.searchInputEl;
                o.show();
                var a = n.getDoc().getSelection();
                a && (s.value = a),
                s.focus(),
                s.select(),
                i.app.keymap.pushScope(this.scope),
                e ? (r.removeClass("is-searching"),
                r.addClass("is-replacing")) : (r.removeClass("is-replacing"),
                r.addClass("is-searching")),
                o.toggleClass("mod-replace-mode", e),
                this.onSearchInput()
            }
            ,
            e.prototype.hide = function() {
                this.isActive = !1;
                var e = this
                  , t = e.sourceView
                  , n = e.parentContainer
                  , i = e.searchContainer
                  , r = e.searchInputEl;
                i.hide(),
                r.value = "",
                r.removeClass("mod-no-match"),
                n.removeClass("is-replacing"),
                n.removeClass("is-searching"),
                this.cmSearchCursor = null,
                t.clearHighlights(),
                t.app.keymap.popScope(this.scope),
                this.cmEditor.focus()
            }
            ,
            e.prototype.onSearchInput = function() {
                this.cmSearchCursor = this.cmEditor.getSearchCursor(this.getQuery(), null, {
                    caseFold: !0
                }),
                this.sourceView.clearHighlights();
                var e = this.cmSearchCursor.findNext();
                e && this.highlightFoundMatch(),
                this.searchInputEl.toggleClass("mod-no-match", !e)
            }
            ,
            e.prototype.findPrevious = function() {
                if (this.cmSearchCursor) {
                    var e = this.cmEditor;
                    this.sourceView.clearHighlights();
                    var t = this.cmSearchCursor.findPrevious();
                    if (!t) {
                        var n = CodeMirror.Pos(e.getDoc().lastLine());
                        this.cmSearchCursor = e.getSearchCursor(this.getQuery(), n, {
                            caseFold: !0
                        }),
                        t = this.cmSearchCursor.findPrevious()
                    }
                    t && this.highlightFoundMatch()
                }
            }
            ,
            e.prototype.findNextOrReplace = function() {
                if (this.cmSearchCursor) {
                    var e = this.replaceInputEl.value;
                    this.replaceInputEl === document.activeElement && "" !== e && this.cmSearchCursor.replace(e),
                    this.findNext()
                }
            }
            ,
            e.prototype.replaceCurrentMatch = function() {
                if (this.cmSearchCursor) {
                    var e = this.replaceInputEl.value;
                    this.cmSearchCursor.replace(e),
                    this.findNext()
                }
            }
            ,
            e.prototype.replaceAll = function() {
                var e = this
                  , t = this.cmSearchCursor = this.cmEditor.getSearchCursor(this.getQuery(), null, {
                    caseFold: !0
                });
                this.sourceView.clearHighlights(),
                this.cmEditor.operation((function() {
                    for (var n = e.replaceInputEl.value, i = t.findNext(); i; )
                        t.replace(n, "searchReplace"),
                        i = t.findNext()
                }
                ))
            }
            ,
            e.prototype.findNext = function() {
                if (this.cmSearchCursor) {
                    var e = this.cmEditor;
                    this.sourceView.clearHighlights();
                    var t = this.cmSearchCursor.findNext();
                    t || (this.cmSearchCursor = e.getSearchCursor(this.getQuery(), null, {
                        caseFold: !0
                    }),
                    t = this.cmSearchCursor.findNext()),
                    t && this.highlightFoundMatch()
                }
            }
            ,
            e.prototype.searchAll = function() {
                this.cmSearchCursor = this.cmEditor.getSearchCursor(this.getQuery(), null, {
                    caseFold: !0
                }),
                this.sourceView.clearHighlights();
                for (var e = null, t = this.cmSearchCursor.findNext(); t; ) {
                    if (!e)
                        e = {
                            from: this.cmSearchCursor.from(),
                            to: this.cmSearchCursor.to()
                        };
                    this.highlightFoundMatch(!1, !1),
                    t = this.cmSearchCursor.findNext()
                }
                e && this.cmEditor.scrollIntoView(e)
            }
            ,
            e.prototype.highlightFoundMatch = function(e, t) {
                var n = this.cmSearchCursor.from()
                  , i = this.cmSearchCursor.to();
                this.sourceView.highlightSearchMatch(n, i, e, t)
            }
            ,
            e.prototype.goToNextInput = function(e) {
                this.searchInputEl === document.activeElement ? (this.replaceInputEl.focus(),
                e.preventDefault()) : this.replaceInputEl === document.activeElement && (this.searchInputEl.focus(),
                e.preventDefault())
            }
            ,
            e.prototype.getQuery = function() {
                return this.searchInputEl.value
            }
            ,
            e.prototype.onEnter = function(e) {
                this.searchInputEl !== document.activeElement && this.replaceInputEl !== document.activeElement || this.findNextOrReplace()
            }
            ,
            e
        }()
          , YE = "obsidian-search-match-highlight"
          , KE = window.CodeMirror
          , QE = null
          , JE = function() {
            var e = /^(url|inline-code|property|footref|hmd-footnote|math|hmd-internal-link|formatting-link|hmd-codeblock)$/
              , t = /[`|~^=$<>]/
              , n = /\s/
              , i = /[0-9]/
              , r = /[a-z]/i
              , o = new RegExp("[" + Tx.source + "]")
              , s = function(e) {
                return !function(e) {
                    return bf.test(e)
                }(e) && !t.test(e) && !n.test(e)
            };
            return {
                token: function(t) {
                    var n = t.peek()
                      , a = ""
                      , l = o.test(n);
                    if (!s(n))
                        return t.next(),
                        null;
                    for (; (n = t.peek()) && s(n) && l === o.test(n); )
                        a += n,
                        t.next();
                    if (t.start >= 1 && "'" === t.string.charAt(t.start - 1))
                        return null;
                    if ("'" === n)
                        return null;
                    if (i.test(a))
                        return null;
                    if (!r.test(a))
                        return null;
                    if (a === a.toUpperCase())
                        return null;
                    var c = t.pos;
                    t.pos = t.start;
                    var u = t.baseToken();
                    t.pos = c;
                    var h = "";
                    if (u && u.type && (h = u.type),
                    h)
                        for (var p = 0, d = h.trim().split(" "); p < d.length; p++) {
                            var f = d[p];
                            if (f && e.test(f))
                                return null
                        }
                    return QE ? QE.check(a) ? void 0 : "spell-error" : null
                }
            }
        }()
          , XE = "hmd-internal-link"
          , ZE = [{
            regex: /(！)?【【$/,
            replace: function(e) {
                return e[1] ? "![[" : "[["
            }
        }, {
            regex: /】】$/,
            replace: function() {
                return "]]"
            }
        }, {
            regex: /【【$/,
            replace: function() {
                return "[["
            }
        }];
        try {
            delete KE.keyMap.emacsy["Alt-F"],
            delete KE.keyMap.emacsy["Alt-B"],
            delete KE.keyMap.emacsy["Alt-D"],
            delete KE.keyMap.pcDefault["Ctrl-Up"],
            delete KE.keyMap.pcDefault["Ctrl-Down"],
            delete KE.keyMap.pcDefault["Alt-Left"],
            delete KE.keyMap.pcDefault["Alt-Right"],
            KE.keyMap.macDefault.fallthrough = "basic",
            KE.keyMap.macEmacsy = {
                fallthrough: ["macDefault", "emacsy"]
            }
        } catch (e) {
            console.error(e)
        }
        var eS, tS = function(e) {
            function t(t, n) {
                var i = e.call(this) || this;
                return i.view = t,
                i.cm = n,
                i
            }
            return i(t, e),
            t.prototype.getValue = function() {
                return this.cm.getValue()
            }
            ,
            t.prototype.setValue = function(e) {
                this.cm.setValue(e)
            }
            ,
            t.prototype.getLine = function(e) {
                return this.cm.getLine(e)
            }
            ,
            t.prototype.lineCount = function() {
                return this.cm.lineCount()
            }
            ,
            t.prototype.lastLine = function() {
                return this.cm.lastLine()
            }
            ,
            t.prototype.getSelection = function() {
                return this.cm.getSelection()
            }
            ,
            t.prototype.getRange = function(e, t) {
                return this.cm.getRange(e, t)
            }
            ,
            t.prototype.replaceSelection = function(e) {
                this.cm.replaceSelection(e)
            }
            ,
            t.prototype.replaceRange = function(e, t, n) {
                this.cm.replaceRange(e, t, n)
            }
            ,
            t.prototype.getCursor = function(e) {
                return this.cm.getCursor(e)
            }
            ,
            t.prototype.listSelections = function() {
                return this.cm.listSelections()
            }
            ,
            t.prototype.setSelection = function(e, t) {
                this.cm.setSelection(e, t)
            }
            ,
            t.prototype.exec = function(e) {
                this.cm.execCommand(t.commands[e])
            }
            ,
            t.prototype.focus = function() {
                this.cm.focus()
            }
            ,
            t.prototype.blur = function() {
                this.cm.getInputField().blur()
            }
            ,
            t.prototype.hasFocus = function() {
                return this.cm.hasFocus()
            }
            ,
            t.prototype.getScrollInfo = function() {
                return this.cm.getScrollInfo()
            }
            ,
            t.prototype.scrollTo = function(e, t) {
                this.cm.scrollTo(e, t)
            }
            ,
            t.prototype.scrollIntoView = function(e, t) {
                this.cm.scrollIntoView(e, t)
            }
            ,
            t.prototype.refresh = function() {
                this.cm.refresh()
            }
            ,
            t.prototype.transaction = function(e) {
                var t = e.replaceSelection
                  , n = e.changes
                  , i = e.selection
                  , r = e.selections
                  , o = this.cm;
                o.operation((function() {
                    if (String.isString(t) && o.replaceSelection(t),
                    n)
                        for (var e = 0, s = n; e < s.length; e++) {
                            var a = s[e];
                            o.replaceRange(a.text, a.from, a.to)
                        }
                    r ? o.setSelections(r.map((function(e) {
                        return {
                            head: e.from,
                            anchor: e.to || e.from
                        }
                    }
                    ))) : i && o.setSelection(i.from, i.to)
                }
                ))
            }
            ,
            t.prototype.posToOffset = function(e) {
                return this.cm.indexFromPos(e)
            }
            ,
            t.prototype.offsetToPos = function(e) {
                return this.cm.posFromIndex(e)
            }
            ,
            t.prototype.undo = function() {
                this.cm.undo()
            }
            ,
            t.prototype.redo = function() {
                this.cm.redo()
            }
            ,
            t.prototype.coordsAtPos = function(e, t) {
                var n = this.cm.cursorCoords(e, t ? "local" : "page")
                  , i = n.left;
                return {
                    top: n.top,
                    bottom: n.bottom,
                    left: i,
                    right: i
                }
            }
            ,
            t.prototype.posAtCoords = function(e, t) {
                return this.cm.coordsChar({
                    left: e,
                    top: t
                }, "window")
            }
            ,
            t.prototype.getClickableTokenAt = function(e) {
                var t = this.cm
                  , n = t.getLineTokens(e.line)
                  , i = t.getTokenAt(e, !0)
                  , r = i.type;
                if (r) {
                    for (var o = r.split(" "), s = o.contains(XE), a = o.contains("formatting-link") && ["[[", "]]"].contains(i.string), l = -1, c = 0; c < n.length; c++) {
                        if ((w = n[c]).start === i.start && w.end === i.end) {
                            l = c;
                            break
                        }
                    }
                    if (s || a) {
                        if (-1 !== l) {
                            for (var u = l - 1; u >= 0; ) {
                                var h = (w = n[u]).type;
                                if (!h || !h.contains(XE))
                                    break;
                                u--
                            }
                            for (var p = l + 1; p < n.length; ) {
                                var d = (w = n[p]).type;
                                if (!d || !d.contains(XE))
                                    break;
                                p++
                            }
                            var f = ""
                              , g = e.ch
                              , m = e.ch;
                            for (c = u + 1; c < p; c++) {
                                (w = n[c]).type.contains(XE) && (f += w.string,
                                w.start < g && (g = w.start),
                                w.end > m && (m = w.end))
                            }
                            return {
                                type: "internal-link",
                                text: xd(f),
                                start: {
                                    line: e.line,
                                    ch: g
                                },
                                end: {
                                    line: e.line,
                                    ch: m
                                }
                            }
                        }
                        return null
                    }
                    if (o.contains("url")) {
                        var v = i.string;
                        if ("(" === v ? i = n[l + 1] : ")" === v && (i = n[l - 1]),
                        !i)
                            return null;
                        v = i.string;
                        try {
                            v = decodeURI(v)
                        } catch (e) {
                            return null
                        }
                        var y = !0;
                        return o.contains("string") ? y = !Ed(v) : /^([a-z0-9+.-]+):/.test(v) || (v = "https://" + v),
                        {
                            type: y ? "external-link" : "internal-link",
                            text: v,
                            start: {
                                line: e.line,
                                ch: i.start
                            },
                            end: {
                                line: e.line,
                                ch: i.end
                            }
                        }
                    }
                    if (o.contains("hashtag")) {
                        var b = "";
                        for (g = e.ch,
                        m = e.ch,
                        c = 0; c < n.length; c++) {
                            var w;
                            if ((w = n[c]).type && w.type.split(" ").contains("hashtag"))
                                b += w.string,
                                w.start < g && (g = w.start),
                                w.end > m && (m = w.end);
                            else {
                                if (!(c < l))
                                    break;
                                b = "",
                                g = e.ch,
                                m = e.ch
                            }
                        }
                        if (b)
                            return {
                                type: "tag",
                                text: b,
                                start: {
                                    line: e.line,
                                    ch: g
                                },
                                end: {
                                    line: e.line,
                                    ch: m
                                }
                            }
                    }
                    return null
                }
            }
            ,
            t.prototype.getSpellcheckStatus = function(e, t) {
                var n = this
                  , i = e.target;
                if (i instanceof HTMLElement) {
                    if (!i.classList.contains("cm-spell-error"))
                        return null;
                    var r = i.innerText;
                    if (!r)
                        return null;
                    var o = this.cm
                      , s = {
                        line: t.line,
                        ch: t.ch
                    }
                      , a = o.getTokenAt(s, !0);
                    a.end < s.ch && (s.ch++,
                    a = o.getTokenAt(s, !0));
                    for (var l = i.getText(), c = -1; !(-1 === (c = a.string.indexOf(l, c)) || a.start + c <= s.ch && a.start + c + l.length >= s.ch); )
                        c++;
                    if (-1 !== c) {
                        var u = {
                            line: s.line,
                            ch: a.start + c
                        }
                          , h = {
                            line: s.line,
                            ch: a.start + c + l.length
                        }
                          , p = QE.correct(r);
                        return {
                            misspelledWord: r,
                            dictionarySuggestions: p,
                            replace: function(e) {
                                n.replaceRange(e, u, h),
                                o.focus(),
                                o.setCursor({
                                    line: u.line,
                                    ch: u.ch + e.length
                                })
                            },
                            addToDictionary: function(e) {
                                var t = n.view.app
                                  , i = t.vault.getConfig("spellcheckDictionary");
                                i && Array.isArray(i) || (i = []),
                                i.push(r),
                                QE.add(r),
                                t.vault.setConfig("spellcheckDictionary", i),
                                o.replaceRange("", u, h),
                                o.replaceRange(r, u, u)
                            }
                        }
                    }
                }
            }
            ,
            t.commands = {
                goUp: "goLineUp",
                goDown: "goLineDown",
                goLeft: "goCharLeft",
                goRight: "goCharRight",
                goStart: "goDocStart",
                goEnd: "goDocEnd",
                indentMore: "indentMore",
                indentLess: "indentLess",
                newlineAndIndent: "newlineAndIndent",
                swapLineUp: "swapLineUp",
                swapLineDown: "swapLineDown",
                deleteLine: "deleteLine",
                toggleFold: "toggleFold",
                foldAll: "foldAll",
                unfoldAll: "unfoldAll"
            },
            t
        }(Nd), nS = function() {
            function e(e) {
                this.type = "source",
                this.scope = null,
                this.hoverPopover = null,
                this.editorEl = null,
                this.search = null,
                this.lastCursor = null,
                this.scrolling = !1,
                this.view = e;
                var t = this.app = e.app
                  , n = this.scope = new nn(t.scope)
                  , i = this.editorEl = e.contentEl.createDiv("markdown-source-view mod-cm5")
                  , r = this.cmEditor = KE(this.editorEl, {
                    mode: "hypermd",
                    theme: "obsidian",
                    lineWrapping: !0,
                    styleActiveLine: !0,
                    configureMouse: function(e, t, n) {
                        return {
                            addNew: n.altKey && !n.ctrlKey && !n.metaKey
                        }
                    }
                })
                  , o = this.editor = new tS(e,r);
                this.clipboardManager = new $E(e,o),
                this.updateOptions();
                var s = r.getWrapperElement().find(".CodeMirror-vscrollbar");
                s.detach(),
                i.insertBefore(s, i.firstChild),
                s.style.width = "100%";
                var a = r.getInputField();
                if (a instanceof HTMLTextAreaElement) {
                    a.style.top = "0",
                    a.style.bottom = "";
                    var l = a.parentElement.style;
                    l.position = "absolute",
                    l.opacity = "0"
                }
                a.tabIndex = -1,
                this.search = new GE(this,this.cmEditor,this.editorEl),
                this.suggests = new Qk(t,n,o),
                this.attachCmEvents(),
                this.attachDomEvents(),
                t.workspace.trigger("codemirror", r)
            }
            return e.prototype.show = function() {
                this.editorEl.show(),
                this.cmEditor.refresh()
            }
            ,
            e.prototype.hide = function() {
                this.editorEl.hide(),
                this.suggests.close()
            }
            ,
            e.prototype.clear = function() {
                var e = this.cmEditor.getDoc();
                e.setValue(""),
                e.clearHistory()
            }
            ,
            e.prototype.get = function() {
                return this.cmEditor.getValue()
            }
            ,
            e.prototype.set = function(e, t) {
                var n = this.cmEditor;
                if (t)
                    n.setValue(e),
                    n.clearHistory(),
                    this.lastCursor = null;
                else {
                    for (var i = n.getScrollInfo(), r = e.split(/\r?\n/g), o = n.lineCount(), s = 0; s < r.length && s < o && r[s] === n.getLine(s); )
                        s++;
                    if (s === r.length && s === o)
                        return;
                    for (var a = o - 1, l = r.length - 1; a > s && l > s && n.getLine(a) === r[l]; )
                        a--,
                        l--;
                    var c = {
                        line: s,
                        ch: 0
                    }
                      , u = {
                        line: a,
                        ch: n.getLine(a).length
                    }
                      , h = r.slice(s, l + 1).join("\n");
                    s === Math.min(o, r.length) && (c = {
                        line: s - 1,
                        ch: n.getLine(s - 1).length
                    },
                    r.length > o && (h = "\n" + h)),
                    n.replaceRange(h, c, u, "setValue"),
                    this.scrolling = !0,
                    n.scrollTo(i.left, i.top)
                }
            }
            ,
            e.prototype.getEphemeralState = function(e) {
                var t = this.editor;
                if (t.hasFocus()) {
                    var n = t.getCursor("anchor")
                      , i = t.getCursor("head");
                    e.cursor = {
                        from: {
                            line: n.line,
                            ch: n.ch
                        },
                        to: {
                            line: i.line,
                            ch: i.ch
                        }
                    }
                }
            }
            ,
            e.prototype.setEphemeralState = function(e) {
                var t = this.cmEditor
                  , n = e.cursor
                  , i = t.getScrollInfo();
                if (n && n.from && n.to ? (t.focus(),
                t.setSelection(n.from, n.to),
                t.scrollTo(i.left, i.top)) : e.focus && (this.lastCursor ? t.setCursor(this.lastCursor) : t.execCommand("goDocStart"),
                t.focus(),
                t.scrollTo(i.left, i.top)),
                e.hasOwnProperty("scroll") && this.applyScroll(e.scroll),
                void 0 !== e.startLoc && void 0 !== e.endLoc) {
                    var r = e.startLoc
                      , o = e.endLoc
                      , s = {
                        line: r.line,
                        ch: r.col
                    }
                      , a = o ? {
                        line: o.line,
                        ch: o.col
                    } : {
                        line: t.lastLine(),
                        ch: t.getLine(t.lastLine()).length
                    };
                    this.highlightSearchMatch(s, a),
                    this.onScroll()
                } else if (void 0 !== e.line && e.line >= 0) {
                    var l = e.line;
                    s = {
                        line: l,
                        ch: 0
                    },
                    a = {
                        line: l,
                        ch: t.getLine(l).length
                    };
                    this.highlightSearchMatch(s, a),
                    t.setSelection(a, a),
                    this.onScroll()
                } else if (void 0 !== e.match) {
                    var c = e.match
                      , u = Rd(c.content, c.matches);
                    this.highlightSearchMatches(u),
                    this.onScroll()
                }
            }
            ,
            e.prototype.updateOptions = function() {
                var e, t = this, n = this.app.vault, i = this.cmEditor, r = n.getConfig("readableLineLength");
                this.editorEl.toggleClass("is-readable-line-width", r);
                var o = "";
                n.getConfig("autoPairBrackets") && (o += "()[]{}''\"\""),
                n.getConfig("autoPairMarkdown") && (o += "**__``==~~$$%%"),
                o ? i.setOption("autoCloseBrackets", {
                    pairs: o,
                    explode: "",
                    surroundOnly: "=~$%",
                    override: !0
                }) : i.setOption("autoCloseBrackets", !1);
                var s = n.getConfig("foldHeading")
                  , a = n.getConfig("foldIndent");
                if (s || a) {
                    i.setOption("foldGutter", !0),
                    i.setOption("gutters", ["CodeMirror-linenumbers", "CodeMirror-foldgutter"]);
                    var c = [KE.fold.frontmatter];
                    s && c.push(KE.fold.markdown),
                    a && c.push(KE.fold.indent);
                    var u = 1 === c.length ? c[0] : new ((e = KE.fold.combine).bind.apply(e, l([void 0], c)));
                    i.setOption("foldOptions", {
                        rangeFinder: u
                    })
                } else
                    i.setOption("foldGutter", !1),
                    i.setOption("gutters", []),
                    i.setOption("foldOptions", {});
                var h = n.getConfig("showLineNumber");
                i.setOption("lineNumbers", h);
                var p = n.getConfig("useTab");
                i.setOption("indentWithTabs", !!p);
                var d = n.getConfig("tabSize");
                i.setOption("tabSize", d),
                i.setOption("indentUnit", d),
                i.setOption("scrollPastEnd", !0);
                var f = n.getConfig("lineWrap");
                i.setOption("lineWrapping", f);
                var g = n.getConfig("vimMode")
                  , m = n.getConfig("emacsyKeys");
                if (g ? i.setOption("keyMap", "vim") : se && m ? i.setOption("keyMap", "macEmacsy") : i.setOption("keyMap", "default"),
                g && (a || s) && (KE.Vim.defineAction("fold", (function(e) {
                    return e.execCommand("fold")
                }
                )),
                KE.Vim.mapCommand("zc", "action", "fold"),
                KE.Vim.defineAction("unfold", (function(e) {
                    return e.execCommand("unfold")
                }
                )),
                KE.Vim.mapCommand("zo", "action", "unfold"),
                KE.Vim.defineAction("toggleFold", (function(e) {
                    return e.execCommand("toggleFold")
                }
                )),
                KE.Vim.mapCommand("za", "action", "toggleFold")),
                n.getConfig("spellcheck")) {
                    if (QE || fe((function(e) {
                        window.process.versions.electron;
                        try {
                            var t = window.require("fs")
                              , n = e.ipcRenderer.sendSync("resources")
                              , i = t.readFileSync(n + "/spellcheck/en_US.aff", "utf8")
                              , r = t.readFileSync(n + "/spellcheck/en_US.dic", "utf8")
                              , o = new window.nspell(i,r);
                            QE = {
                                check: function(e) {
                                    return o.correct(e)
                                },
                                correct: function(e) {
                                    return o.suggest(e)
                                },
                                add: function(e) {
                                    o.add(e)
                                },
                                remove: function(e) {
                                    o.remove(e)
                                }
                            }
                        } catch (e) {
                            console.error("Failed to load spellcheck dictionary.", e)
                        }
                    }
                    )),
                    JE && (i.addOverlay(JE),
                    QE))
                        for (var v = 0, y = n.getConfig("spellcheckDictionary"); v < y.length; v++) {
                            var b = y[v];
                            QE.add(b)
                        }
                } else
                    JE && i.removeOverlay(JE);
                var w = {
                    Up: this.passIfNoSuggestion.bind(this),
                    Down: this.passIfNoSuggestion.bind(this),
                    Tab: this.passIfNoSuggestion.bind(this)
                }
                  , k = n.getConfig("smartIndentList");
                w.Enter = function(e) {
                    if (!t.suggests.isShowingSuggestion()) {
                        if (!k)
                            return KE.Pass;
                        e.execCommand("newlineAndIndentContinueMarkdownList")
                    }
                }
                ,
                k && (g || (w[se ? "Cmd-[" : "Ctrl-["] = function(e) {
                    e.execCommand("indentLess"),
                    e.execCommand("indentUnindentContinueMarkdownList")
                }
                ,
                w[se ? "Cmd-]" : "Ctrl-]"] = function(e) {
                    e.execCommand("indentMore"),
                    e.execCommand("indentUnindentContinueMarkdownList")
                }
                ),
                w.Tab = function(e) {
                    t.suggests.isShowingSuggestion() || e.execCommand("autoIndentMarkdownList")
                }
                ,
                w["Shift-Tab"] = "autoUnindentMarkdownList"),
                w.End = function(e) {
                    for (var t = !1, n = 0, i = e.getLineTokens(e.getCursor("to").line); n < i.length; n++) {
                        var r = i[n];
                        if (r.type && r.type.split(" ").contains("line-HyperMD-table-row")) {
                            t = !0;
                            break
                        }
                    }
                    t ? e.execCommand("goLineEnd") : e.execCommand("goLineRight")
                }
                ,
                w.Home = "goLineLeftSmart",
                g || (w[se ? "Cmd-D" : "Ctrl-D"] = !1),
                this.cmEditor.setOption("extraKeys", w),
                i.refresh()
            }
            ,
            e.prototype.showSearch = function(e) {
                void 0 === e && (e = !1),
                this.search.show(e)
            }
            ,
            e.prototype.getSelection = function() {
                return this.editor.getSelection()
            }
            ,
            e.prototype.highlightSearchMatch = function(e, t, n, i) {
                void 0 === n && (n = !0),
                void 0 === i && (i = !0);
                var r = this.cmEditor;
                r.refresh(),
                i && this.clearHighlights(),
                r.markText(e, t, {
                    className: YE
                }),
                n && r.scrollIntoView({
                    from: e,
                    to: t
                }, r.getWrapperElement().offsetHeight / 4)
            }
            ,
            e.prototype.highlightSearchMatches = function(e, t, n) {
                void 0 === t && (t = !0),
                void 0 === n && (n = !0);
                var i = this.cmEditor;
                i.refresh(),
                n && this.clearHighlights();
                for (var r = 0, o = e; r < o.length; r++) {
                    var s = o[r];
                    i.markText(s.from, s.to, {
                        className: YE
                    });
                    for (var a = 0, l = i.findMarksAt(s.from); a < l.length; a++) {
                        var c = l[a];
                        c.__isFold && c.clear()
                    }
                }
                if (t && e.length > 0) {
                    s = e[0];
                    i.scrollIntoView(s, i.getWrapperElement().offsetHeight / 4)
                }
            }
            ,
            e.prototype.clearHighlights = function() {
                for (var e = 0, t = this.cmEditor.getAllMarks(); e < t.length; e++) {
                    var n = t[e];
                    n.className === YE && n.clear()
                }
            }
            ,
            e.prototype.onScroll = function() {
                this.suggests.reposition(),
                this.scrolling ? this.scrolling = !1 : this.view.onMarkdownScroll()
            }
            ,
            e.prototype.getScroll = function() {
                var e = this.cmEditor
                  , t = e.getScrollInfo()
                  , n = e.lineAtHeight(t.top, "local")
                  , i = e.charCoords({
                    line: n,
                    ch: 0
                }, "local")
                  , r = e.charCoords({
                    line: n + 1,
                    ch: 0
                }, "local")
                  , o = i.top;
                0 === n && (o = 0);
                var s = r.top;
                return n + Math.max(0, (t.top - o) / (s - o))
            }
            ,
            e.prototype.applyScroll = function(e) {
                if (Number.isNumber(e) && !isNaN(e)) {
                    var t = Math.floor(e)
                      , n = e - t;
                    this.scrolling = !0;
                    var i = this.cmEditor
                      , r = i.charCoords({
                        line: t,
                        ch: 0
                    }, "local")
                      , o = i.charCoords({
                        line: t + 1,
                        ch: 0
                    }, "local")
                      , s = r.top;
                    0 === t && (s = 0);
                    var a = o.top;
                    i.scrollTo(null, s + (a - s) * n)
                }
            }
            ,
            e.prototype.getFoldInfo = function() {
                for (var e = this.cmEditor, t = [], n = 0, i = e.getAllMarks(); n < i.length; n++) {
                    var r = i[n];
                    if (r.__isFold) {
                        var o = r.find();
                        o && t.push({
                            from: o.from.line,
                            to: o.to.line
                        })
                    }
                }
                return t.length > 0 ? {
                    folds: t,
                    lines: e.lineCount()
                } : null
            }
            ,
            e.prototype.applyFoldInfo = function(e) {
                var t = this.cmEditor;
                if ((!e || t.lineCount() === e.lines) && (t.execCommand("unfoldAll"),
                e))
                    for (var n = new Set, i = 0, r = e.folds; i < r.length; i++) {
                        var o = r[i].from;
                        n.has(o) || (n.add(o),
                        t.foldCode({
                            line: o,
                            ch: 0
                        }, null, "fold"))
                    }
            }
            ,
            e.prototype.attachCmEvents = function() {
                var e = this
                  , t = this.cmEditor
                  , n = !1
                  , i = Pe((function() {
                    e.suggests.trigger(e.view.file, n),
                    n = !1
                }
                ), 50)
                  , r = Pe((function() {
                    return e.view.onMarkdownFold()
                }
                ), 500)
                  , o = Pe(this.fixIME.bind(this), 100, !0);
                t.on("changes", (function(o, s) {
                    for (var a = 0, l = s; a < l.length; a++) {
                        if ("+input" === (h = l[a]).origin || "*compose" === h.origin) {
                            e.expandText();
                            break
                        }
                    }
                    for (var c = 0, u = s; c < u.length; c++) {
                        var h;
                        if ("setValue" !== (h = u[c]).origin) {
                            e.view.requestSave(),
                            r(),
                            n = !0,
                            i();
                            var p = t.getValue();
                            e.view.triggerQuickPreview(p);
                            break
                        }
                    }
                }
                )),
                t.on("markerAdded", r),
                t.on("markerCleared", r),
                t.on("cursorActivity", (function() {
                    e.saveCursor(),
                    i(),
                    o()
                }
                )),
                t.on("focus", (function() {
                    e.clearHighlights(),
                    e.saveCursor(),
                    on.isMobile && e.app.mobileToolbar.open()
                }
                )),
                t.on("blur", (function() {
                    e.suggests.close(),
                    on.isMobile && e.app.mobileToolbar.close()
                }
                )),
                t.on("paste", (function(t, n) {
                    e.clipboardManager.handlePaste(n)
                }
                )),
                t.on("scroll", this.onScroll.bind(this)),
                t.on("refresh", (function() {
                    var e = t.getWrapperElement().find(".CodeMirror-measure");
                    if (!e.offsetParent)
                        return;
                    var n = e.createSpan();
                    n.appendText("x");
                    for (var i = {}, r = 0, o = s; r < o.length; r++) {
                        i[u = o[r]] = n.createSpan({
                            text: u
                        })
                    }
                    n.appendText("x");
                    for (var l = 0, c = s; l < c.length; l++) {
                        var u;
                        a[u = c[l]] = i[u].getBoundingClientRect().width
                    }
                    n.detach()
                }
                ));
                for (var s = [" ", "*", "+", "-", "1", "2", "3", "4", "5", "6", "7", "8", "9", "0", ".", ">"], a = {}, l = 0, c = s; l < c.length; l++) {
                    a[c[l]] = 0
                }
                t.on("renderLine", (function(e, t, n) {
                    var i = n.firstChild;
                    i.style.paddingRight = "";
                    var r = (/^\s*([*+-]\s+|\d+\.\s+|>\s*|\[.]\s+)*/.exec(t.text) || [""])[0]
                      , o = 0;
                    if (r) {
                        for (var s = e.getOption("tabSize"), l = 0; l < r.length; l++) {
                            o += "\t" === r.charAt(l) ? s * a[" "] : a[r.charAt(l)] || a[" "]
                        }
                        n.style.textIndent = "-" + o + "px",
                        n.style.paddingLeft = 4 + o + "px"
                    }
                    for (var c = i.firstChild; c; ) {
                        var u = c.nextSibling;
                        if (!u)
                            break;
                        c instanceof HTMLElement && u instanceof HTMLElement && c.classList.contains("cm-hashtag-end") && u.classList.contains("cm-hashtag-end") && c.removeClass("cm-hashtag-end"),
                        c = u
                    }
                }
                )),
                t.setOption("dragDrop", !1);
                var u = t.display.dragFunctions
                  , h = Pe(u.over, 0);
                u.over = function(t) {
                    e.clipboardManager.handleDragOver(t),
                    t.preventDefault(),
                    h({
                        target: t.target,
                        clientX: t.clientX,
                        clientY: t.clientY,
                        defaultPrevented: !1,
                        preventDefault: function() {
                            this.defaultPrevented = !0
                        }
                    })
                }
                ,
                t.setOption("dragDrop", !0),
                t.on("dragleave", (function() {
                    h.cancel()
                }
                )),
                t.on("drop", (function(t, n) {
                    h.cancel(),
                    e.clipboardManager.handleDrop(n)
                }
                )),
                t.refresh()
            }
            ,
            e.prototype.attachDomEvents = function() {
                var e = this
                  , t = this.editorEl;
                t.addEventListener("mousedown", this.onCodeMirrorMousedown.bind(this)),
                t.addEventListener("contextmenu", (function(t) {
                    return e.clipboardManager.onContextMenu(t)
                }
                )),
                t.on("mouseover", ".cm-hmd-internal-link", this.onInternalLinkMouseover.bind(this))
            }
            ,
            e.prototype.onCodeMirrorMousedown = function(e) {
                if ((0 === e.button || 1 === e.button) && (rn.isModifier(e, "Mod") || 1 === e.button)) {
                    var t = this.editor.getClickableTokenAt(this.editor.posAtMouse(e));
                    t && (this.view.triggerClickableToken(t, e.shiftKey || 1 === e.button),
                    e.preventDefault())
                }
            }
            ,
            e.prototype.passIfNoSuggestion = function() {
                if (!this.suggests.isShowingSuggestion())
                    return KE.Pass
            }
            ,
            e.prototype.onInternalLinkMouseover = function(e, t) {
                var n = this.editor.getClickableTokenAt(this.editor.posAtMouse(e));
                n && "internal-link" === n.type && this.app.workspace.trigger("hover-link", {
                    event: e,
                    source: "editor",
                    hoverParent: this,
                    targetEl: t,
                    linktext: n.text,
                    sourcePath: this.view.file.path
                })
            }
            ,
            e.prototype.expandText = function() {
                var e = this.editor
                  , t = e.getCursor("anchor")
                  , n = e.getCursor("head");
                if (t.line === n.line && t.ch === n.ch)
                    for (var i = e.getLine(t.line).substr(0, t.ch), r = 0, o = ZE; r < o.length; r++) {
                        var s = o[r]
                          , a = i.match(s.regex);
                        if (a) {
                            var l = a[0].length
                              , c = s.replace(a);
                            e.replaceRange(c, Fd(t, -l), t);
                            break
                        }
                    }
            }
            ,
            e.prototype.fixIME = function() {
                if (!on.isMobile) {
                    var e = this.cmEditor
                      , t = ""
                      , n = ""
                      , i = ""
                      , r = e.getCursor("anchor");
                    if (r) {
                        var o = e.getTokenTypeAt(r);
                        o = (o || "").trim();
                        var s = createSpan();
                        s.className = o.split(" ").filter((function(e) {
                            return e
                        }
                        )).map((function(e) {
                            return "cm-" + e
                        }
                        )).join(" "),
                        e.getWrapperElement().find(".CodeMirror-measure").appendChild(s);
                        var a = getComputedStyle(s);
                        n = a.fontSize,
                        t = a.lineHeight,
                        i = a.fontFamily,
                        s.detach()
                    }
                    var l = e.getInputField();
                    l.style.height = t,
                    t || (l.style.height = "1px");
                    var c = l.parentElement.style;
                    c.lineHeight = t,
                    c.height = t,
                    c.fontSize = n,
                    c.fontFamily = i
                }
            }
            ,
            e.prototype.saveCursor = function() {
                var e = this.editor;
                e.hasFocus() && (this.lastCursor = e.getCursor("anchor"))
            }
            ,
            e.prototype.onDocumentClick = function() {
                this.suggests.close(),
                this.clearHighlights()
            }
            ,
            e.prototype.onResize = function() {
                this.editor.refresh(),
                this.suggests.reposition()
            }
            ,
            e.removeFromSpellcheck = function(e) {
                QE && QE.remove(e)
            }
            ,
            e
        }(), iS = /[^a-zA-Z0-9]/, rS = /\s/, oS = /[\r\n]/, sS = /\n\r?\n$/, aS = /^\r?\n\r?\n/;
        function lS(e, t) {
            return e < t ? e : t
        }
        function cS(e, t) {
            return e > t ? e : t
        }
        !function(e) {
            e[e.DIFF_DELETE = -1] = "DIFF_DELETE",
            e[e.DIFF_INSERT = 1] = "DIFF_INSERT",
            e[e.DIFF_EQUAL = 0] = "DIFF_EQUAL"
        }(eS || (eS = {}));
        var uS = function() {
            function e() {
                this.diffTimeout = 1,
                this.diffEditCost = 4,
                this.matchThreshold = .5,
                this.matchDistance = 1e3,
                this.patchDeleteThreshold = .5,
                this.patchMargin = 4,
                this.matchMaxBits = 32
            }
            return e.prototype.diff_main = function(e, t, n, i) {
                void 0 === i && (i = this.diffTimeout <= 0 ? Number.MAX_VALUE : Date.now() + 1e3 * this.diffTimeout);
                var r = i;
                if (null == e || null == t)
                    throw new Error("Null input. (diff_main)");
                if (e === t)
                    return e ? [[eS.DIFF_EQUAL, e]] : [];
                void 0 === n && (n = !0);
                var o = n
                  , s = this.diff_commonPrefix(e, t)
                  , a = e.substring(0, s);
                e = e.substring(s),
                t = t.substring(s),
                s = this.diff_commonSuffix(e, t);
                var l = e.substring(e.length - s);
                e = e.substring(0, e.length - s),
                t = t.substring(0, t.length - s);
                var c = this.diff_compute_(e, t, o, r);
                return a && c.unshift([eS.DIFF_EQUAL, a]),
                l && c.push([eS.DIFF_EQUAL, l]),
                this.diff_cleanupMerge(c),
                c
            }
            ,
            e.prototype.diff_commonPrefix = function(e, t) {
                if (!e || !t || e.charAt(0) !== t.charAt(0))
                    return 0;
                for (var n = 0, i = lS(e.length, t.length), r = i, o = 0; n < r; )
                    e.substring(o, r) === t.substring(o, r) ? o = n = r : i = r,
                    r = Math.floor((i - n) / 2 + n);
                return r
            }
            ,
            e.prototype.diff_commonSuffix = function(e, t) {
                if (!e || !t || e.charAt(e.length - 1) !== t.charAt(t.length - 1))
                    return 0;
                for (var n = 0, i = lS(e.length, t.length), r = i, o = 0; n < r; )
                    e.substring(e.length - r, e.length - o) === t.substring(t.length - r, t.length - o) ? o = n = r : i = r,
                    r = Math.floor((i - n) / 2 + n);
                return r
            }
            ,
            e.prototype.diff_cleanupSemantic = function(e) {
                for (var t = !1, n = [], i = 0, r = null, o = 0, s = 0, a = 0, l = 0, c = 0; o < e.length; )
                    e[o][0] === eS.DIFF_EQUAL ? (n[i++] = o,
                    s = l,
                    a = c,
                    l = 0,
                    c = 0,
                    r = e[o][1]) : (e[o][0] === eS.DIFF_INSERT ? l += e[o][1].length : c += e[o][1].length,
                    r && r.length <= cS(s, a) && r.length <= cS(l, c) && (e.splice(n[i - 1], 0, [eS.DIFF_DELETE, r]),
                    e[n[i - 1] + 1][0] = eS.DIFF_INSERT,
                    i--,
                    o = --i > 0 ? n[i - 1] : -1,
                    s = 0,
                    a = 0,
                    l = 0,
                    c = 0,
                    r = null,
                    t = !0)),
                    o++;
                for (t && this.diff_cleanupMerge(e),
                this.diff_cleanupSemanticLossless(e),
                o = 1; o < e.length; ) {
                    if (e[o - 1][0] === eS.DIFF_DELETE && e[o][0] === eS.DIFF_INSERT) {
                        var u = e[o - 1][1]
                          , h = e[o][1]
                          , p = this.diff_commonOverlap_(u, h)
                          , d = this.diff_commonOverlap_(h, u);
                        p >= d ? (p >= u.length / 2 || p >= h.length / 2) && (e.splice(o, 0, [eS.DIFF_EQUAL, h.substring(0, p)]),
                        e[o - 1][1] = u.substring(0, u.length - p),
                        e[o + 1][1] = h.substring(p),
                        o++) : (d >= u.length / 2 || d >= h.length / 2) && (e.splice(o, 0, [eS.DIFF_EQUAL, u.substring(0, d)]),
                        e[o - 1][0] = eS.DIFF_INSERT,
                        e[o - 1][1] = h.substring(0, h.length - d),
                        e[o + 1][0] = eS.DIFF_DELETE,
                        e[o + 1][1] = u.substring(d),
                        o++),
                        o++
                    }
                    o++
                }
            }
            ,
            e.prototype.diff_cleanupSemanticLossless = function(e) {
                for (var t = 1; t < e.length - 1; ) {
                    if (e[t - 1][0] === eS.DIFF_EQUAL && e[t + 1][0] === eS.DIFF_EQUAL) {
                        var n = e[t - 1][1]
                          , i = e[t][1]
                          , r = e[t + 1][1]
                          , o = this.diff_commonSuffix(n, i);
                        if (o) {
                            var s = i.substring(i.length - o);
                            n = n.substring(0, n.length - o),
                            i = s + i.substring(0, i.length - o),
                            r = s + r
                        }
                        for (var a = n, l = i, c = r, u = this.diff_cleanupSemanticScore_(n, i) + this.diff_cleanupSemanticScore_(i, r); i.charAt(0) === r.charAt(0); ) {
                            n += i.charAt(0),
                            i = i.substring(1) + r.charAt(0),
                            r = r.substring(1);
                            var h = this.diff_cleanupSemanticScore_(n, i) + this.diff_cleanupSemanticScore_(i, r);
                            h >= u && (u = h,
                            a = n,
                            l = i,
                            c = r)
                        }
                        e[t - 1][1] !== a && (a ? e[t - 1][1] = a : (e.splice(t - 1, 1),
                        t--),
                        e[t][1] = l,
                        c ? e[t + 1][1] = c : (e.splice(t + 1, 1),
                        t--))
                    }
                    t++
                }
            }
            ,
            e.prototype.diff_cleanupEfficiency = function(e) {
                for (var t = !1, n = [], i = 0, r = null, o = 0, s = !1, a = !1, l = !1, c = !1; o < e.length; )
                    e[o][0] === eS.DIFF_EQUAL ? (e[o][1].length < this.diffEditCost && (l || c) ? (n[i++] = o,
                    s = l,
                    a = c,
                    r = e[o][1]) : (i = 0,
                    r = null),
                    l = c = !1) : (e[o][0] === eS.DIFF_DELETE ? c = !0 : l = !0,
                    r && (s && a && l && c || r.length < this.diffEditCost / 2 && Number(s) + Number(a) + Number(l) + Number(c) === 3) && (e.splice(n[i - 1], 0, [eS.DIFF_DELETE, r]),
                    e[n[i - 1] + 1][0] = eS.DIFF_INSERT,
                    i--,
                    r = null,
                    s && a ? (l = c = !0,
                    i = 0) : (o = --i > 0 ? n[i - 1] : -1,
                    l = c = !1),
                    t = !0)),
                    o++;
                t && this.diff_cleanupMerge(e)
            }
            ,
            e.prototype.diff_cleanupMerge = function(e) {
                e.push([eS.DIFF_EQUAL, ""]);
                for (var t, n = 0, i = 0, r = 0, o = "", s = ""; n < e.length; )
                    switch (e[n][0]) {
                    case eS.DIFF_INSERT:
                        r++,
                        s += e[n][1],
                        n++;
                        break;
                    case eS.DIFF_DELETE:
                        i++,
                        o += e[n][1],
                        n++;
                        break;
                    case eS.DIFF_EQUAL:
                        i + r > 1 ? (0 !== i && 0 !== r && (0 !== (t = this.diff_commonPrefix(s, o)) && (n - i - r > 0 && e[n - i - r - 1][0] === eS.DIFF_EQUAL ? e[n - i - r - 1][1] += s.substring(0, t) : (e.splice(0, 0, [eS.DIFF_EQUAL, s.substring(0, t)]),
                        n++),
                        s = s.substring(t),
                        o = o.substring(t)),
                        0 !== (t = this.diff_commonSuffix(s, o)) && (e[n][1] = s.substring(s.length - t) + e[n][1],
                        s = s.substring(0, s.length - t),
                        o = o.substring(0, o.length - t))),
                        n -= i + r,
                        e.splice(n, i + r),
                        o.length && (e.splice(n, 0, [eS.DIFF_DELETE, o]),
                        n++),
                        s.length && (e.splice(n, 0, [eS.DIFF_INSERT, s]),
                        n++),
                        n++) : 0 !== n && e[n - 1][0] === eS.DIFF_EQUAL ? (e[n - 1][1] += e[n][1],
                        e.splice(n, 1)) : n++,
                        r = 0,
                        i = 0,
                        o = "",
                        s = ""
                    }
                "" === e[e.length - 1][1] && e.pop();
                var a = !1;
                for (n = 1; n < e.length - 1; )
                    e[n - 1][0] === eS.DIFF_EQUAL && e[n + 1][0] === eS.DIFF_EQUAL && (e[n][1].substring(e[n][1].length - e[n - 1][1].length) === e[n - 1][1] ? (e[n][1] = e[n - 1][1] + e[n][1].substring(0, e[n][1].length - e[n - 1][1].length),
                    e[n + 1][1] = e[n - 1][1] + e[n + 1][1],
                    e.splice(n - 1, 1),
                    a = !0) : e[n][1].substring(0, e[n + 1][1].length) === e[n + 1][1] && (e[n - 1][1] += e[n + 1][1],
                    e[n][1] = e[n][1].substring(e[n + 1][1].length) + e[n + 1][1],
                    e.splice(n + 1, 1),
                    a = !0)),
                    n++;
                a && this.diff_cleanupMerge(e)
            }
            ,
            e.prototype.diff_xIndex = function(e, t) {
                var n, i = 0, r = 0, o = 0, s = 0;
                for (n = 0; n < e.length && (e[n][0] !== eS.DIFF_INSERT && (i += e[n][1].length),
                e[n][0] !== eS.DIFF_DELETE && (r += e[n][1].length),
                !(i > t)); n++)
                    o = i,
                    s = r;
                return e.length !== n && e[n][0] === eS.DIFF_DELETE ? s : s + (t - o)
            }
            ,
            e.prototype.diff_prettyHtml = function(e) {
                for (var t = [], n = /&/g, i = /</g, r = />/g, o = /\n/g, s = 0; s < e.length; s++) {
                    var a = e[s][0]
                      , l = e[s][1].replace(n, "&amp;").replace(i, "&lt;").replace(r, "&gt;").replace(o, "&para;<br>");
                    switch (a) {
                    case eS.DIFF_INSERT:
                        t[s] = '<ins style="background:#e6ffe6;">' + l + "</ins>";
                        break;
                    case eS.DIFF_DELETE:
                        t[s] = '<del style="background:#ffe6e6;">' + l + "</del>";
                        break;
                    case eS.DIFF_EQUAL:
                        t[s] = "<span>" + l + "</span>"
                    }
                }
                return t.join("")
            }
            ,
            e.prototype.diff_text1 = function(e) {
                for (var t = [], n = 0; n < e.length; n++)
                    e[n][0] !== eS.DIFF_INSERT && (t[n] = e[n][1]);
                return t.join("")
            }
            ,
            e.prototype.diff_text2 = function(e) {
                for (var t = [], n = 0; n < e.length; n++)
                    e[n][0] !== eS.DIFF_DELETE && (t[n] = e[n][1]);
                return t.join("")
            }
            ,
            e.prototype.diff_levenshtein = function(e) {
                for (var t = 0, n = 0, i = 0, r = 0; r < e.length; r++) {
                    var o = e[r][0]
                      , s = e[r][1];
                    switch (o) {
                    case eS.DIFF_INSERT:
                        n += s.length;
                        break;
                    case eS.DIFF_DELETE:
                        i += s.length;
                        break;
                    case eS.DIFF_EQUAL:
                        t += cS(n, i),
                        n = 0,
                        i = 0
                    }
                }
                return t += cS(n, i)
            }
            ,
            e.prototype.diff_toDelta = function(e) {
                for (var t = [], n = 0; n < e.length; n++)
                    switch (e[n][0]) {
                    case eS.DIFF_INSERT:
                        t[n] = "+" + encodeURI(e[n][1]);
                        break;
                    case eS.DIFF_DELETE:
                        t[n] = "-" + e[n][1].length;
                        break;
                    case eS.DIFF_EQUAL:
                        t[n] = "=" + e[n][1].length
                    }
                return t.join("\t").replace(/%20/g, " ")
            }
            ,
            e.prototype.diff_fromDelta = function(e, t) {
                for (var n = [], i = 0, r = 0, o = t.split(/\t/g), s = 0; s < o.length; s++) {
                    var a = o[s].substring(1);
                    switch (o[s].charAt(0)) {
                    case "+":
                        try {
                            n[i++] = [eS.DIFF_INSERT, decodeURI(a)]
                        } catch (e) {
                            throw new Error("Illegal escape in diff_fromDelta: " + a)
                        }
                        break;
                    case "-":
                    case "=":
                        var l = parseInt(a, 10);
                        if (isNaN(l) || l < 0)
                            throw new Error("Invalid number in diff_fromDelta: " + a);
                        var c = e.substring(r, r += l);
                        "=" === o[s].charAt(0) ? n[i++] = [eS.DIFF_EQUAL, c] : n[i++] = [eS.DIFF_DELETE, c];
                        break;
                    default:
                        if (o[s])
                            throw new Error("Invalid diff operation in diff_fromDelta: " + o[s])
                    }
                }
                if (r !== e.length)
                    throw new Error("Delta length (" + r + ") does not equal source text length (" + e.length + ")");
                return n
            }
            ,
            e.prototype.match_main = function(e, t, n) {
                if (null == e || null == t || null == n)
                    throw new Error("Null input. (match_main)");
                return n = cS(0, lS(n, e.length)),
                e === t ? 0 : e.length ? e.substring(n, n + t.length) === t ? n : this.match_bitap_(e, t, n) : -1
            }
            ,
            e.prototype.patch_make = function(e, t, n) {
                var i, r;
                if ("string" == typeof e && "string" == typeof t && void 0 === n)
                    i = e,
                    (r = this.diff_main(i, t, !0)).length > 2 && (this.diff_cleanupSemantic(r),
                    this.diff_cleanupEfficiency(r));
                else if (e && "object" == typeof e && void 0 === t && void 0 === n)
                    r = e,
                    i = this.diff_text1(r);
                else if ("string" == typeof e && t && "object" == typeof t && void 0 === n)
                    i = e,
                    r = t;
                else {
                    if ("string" != typeof e || "string" != typeof t || !n || "object" != typeof n)
                        throw new Error("Unknown call format to patch_make");
                    i = e,
                    r = n
                }
                if (0 === r.length)
                    return [];
                for (var o = [], s = new hS, a = 0, l = 0, c = 0, u = i, h = i, p = 0; p < r.length; p++) {
                    var d = r[p][0]
                      , f = r[p][1];
                    switch (a || d === eS.DIFF_EQUAL || (s.start1 = l,
                    s.start2 = c),
                    d) {
                    case eS.DIFF_INSERT:
                        s.diffs[a++] = r[p],
                        s.length2 += f.length,
                        h = h.substring(0, c) + f + h.substring(c);
                        break;
                    case eS.DIFF_DELETE:
                        s.length1 += f.length,
                        s.diffs[a++] = r[p],
                        h = h.substring(0, c) + h.substring(c + f.length);
                        break;
                    case eS.DIFF_EQUAL:
                        f.length <= 2 * this.patchMargin && a && r.length !== p + 1 ? (s.diffs[a++] = r[p],
                        s.length1 += f.length,
                        s.length2 += f.length) : f.length >= 2 * this.patchMargin && a && (this.patch_addContext_(s, u),
                        o.push(s),
                        s = new hS,
                        a = 0,
                        u = h,
                        l = c)
                    }
                    d !== eS.DIFF_INSERT && (l += f.length),
                    d !== eS.DIFF_DELETE && (c += f.length)
                }
                return a && (this.patch_addContext_(s, u),
                o.push(s)),
                o
            }
            ,
            e.prototype.patch_deepCopy = function(e) {
                for (var t = [], n = 0; n < e.length; n++) {
                    for (var i = e[n], r = new hS, o = 0; o < i.diffs.length; o++)
                        r.diffs[o] = [i.diffs[o][0], i.diffs[o][1]];
                    r.start1 = i.start1,
                    r.start2 = i.start2,
                    r.length1 = i.length1,
                    r.length2 = i.length2,
                    t[n] = r
                }
                return t
            }
            ,
            e.prototype.patch_apply = function(e, t) {
                if (0 === e.length)
                    return [t, []];
                e = this.patch_deepCopy(e);
                var n = this.patch_addPadding(e);
                t = n + t + n,
                this.patch_splitMax(e);
                for (var i = 0, r = [], o = 0; o < e.length; o++) {
                    var s = e[o].start2 + i
                      , a = this.diff_text1(e[o].diffs)
                      , l = void 0
                      , c = -1;
                    if (a.length > this.matchMaxBits ? -1 !== (l = this.match_main(t, a.substring(0, this.matchMaxBits), s)) && (-1 === (c = this.match_main(t, a.substring(a.length - this.matchMaxBits), s + a.length - this.matchMaxBits)) || l >= c) && (l = -1) : l = this.match_main(t, a, s),
                    -1 === l)
                        r[o] = !1,
                        i -= e[o].length2 - e[o].length1;
                    else {
                        r[o] = !0,
                        i = l - s;
                        var u = void 0;
                        if (a === (u = -1 === c ? t.substring(l, l + a.length) : t.substring(l, c + this.matchMaxBits)))
                            t = t.substring(0, l) + this.diff_text2(e[o].diffs) + t.substring(l + a.length);
                        else {
                            var h = this.diff_main(a, u, !1);
                            if (a.length > this.matchMaxBits && this.diff_levenshtein(h) / a.length > this.patchDeleteThreshold)
                                r[o] = !1;
                            else {
                                this.diff_cleanupSemanticLossless(h);
                                for (var p = 0, d = 0, f = 0; f < e[o].diffs.length; f++) {
                                    var g = e[o].diffs[f];
                                    g[0] !== eS.DIFF_EQUAL && (d = this.diff_xIndex(h, p)),
                                    g[0] === eS.DIFF_INSERT ? t = t.substring(0, l + d) + g[1] + t.substring(l + d) : g[0] === eS.DIFF_DELETE && (t = t.substring(0, l + d) + t.substring(l + this.diff_xIndex(h, p + g[1].length))),
                                    g[0] !== eS.DIFF_DELETE && (p += g[1].length)
                                }
                            }
                        }
                    }
                }
                return [t = t.substring(n.length, t.length - n.length), r]
            }
            ,
            e.prototype.patch_addPadding = function(e) {
                for (var t = this.patchMargin, n = "", i = 1; i <= t; i++)
                    n += String.fromCharCode(i);
                for (i = 0; i < e.length; i++)
                    e[i].start1 += t,
                    e[i].start2 += t;
                var r = e[0]
                  , o = r.diffs;
                if (0 === o.length || o[0][0] !== eS.DIFF_EQUAL)
                    o.unshift([eS.DIFF_EQUAL, n]),
                    r.start1 -= t,
                    r.start2 -= t,
                    r.length1 += t,
                    r.length2 += t;
                else if (t > o[0][1].length) {
                    var s = t - o[0][1].length;
                    o[0][1] = n.substring(o[0][1].length) + o[0][1],
                    r.start1 -= s,
                    r.start2 -= s,
                    r.length1 += s,
                    r.length2 += s
                }
                if (0 === (o = (r = e[e.length - 1]).diffs).length || o[o.length - 1][0] !== eS.DIFF_EQUAL)
                    o.push([eS.DIFF_EQUAL, n]),
                    r.length1 += t,
                    r.length2 += t;
                else if (t > o[o.length - 1][1].length) {
                    s = t - o[o.length - 1][1].length;
                    o[o.length - 1][1] += n.substring(0, s),
                    r.length1 += s,
                    r.length2 += s
                }
                return n
            }
            ,
            e.prototype.patch_splitMax = function(e) {
                for (var t = this.matchMaxBits, n = 0; n < e.length; n++)
                    if (!(e[n].length1 <= t)) {
                        var i = e[n];
                        e.splice(n--, 1);
                        for (var r = i.start1, o = i.start2, s = ""; 0 !== i.diffs.length; ) {
                            var a = new hS
                              , l = !0;
                            for (a.start1 = r - s.length,
                            a.start2 = o - s.length,
                            "" !== s && (a.length1 = a.length2 = s.length,
                            a.diffs.push([eS.DIFF_EQUAL, s])); 0 !== i.diffs.length && a.length1 < t - this.patchMargin; ) {
                                var c = i.diffs[0][0]
                                  , u = i.diffs[0][1];
                                c === eS.DIFF_INSERT ? (a.length2 += u.length,
                                o += u.length,
                                a.diffs.push(i.diffs.shift()),
                                l = !1) : c === eS.DIFF_DELETE && 1 === a.diffs.length && a.diffs[0][0] === eS.DIFF_EQUAL && u.length > 2 * t ? (a.length1 += u.length,
                                r += u.length,
                                l = !1,
                                a.diffs.push([c, u]),
                                i.diffs.shift()) : (u = u.substring(0, t - a.length1 - this.patchMargin),
                                a.length1 += u.length,
                                r += u.length,
                                c === eS.DIFF_EQUAL ? (a.length2 += u.length,
                                o += u.length) : l = !1,
                                a.diffs.push([c, u]),
                                u === i.diffs[0][1] ? i.diffs.shift() : i.diffs[0][1] = i.diffs[0][1].substring(u.length))
                            }
                            s = (s = this.diff_text2(a.diffs)).substring(s.length - this.patchMargin);
                            var h = this.diff_text1(i.diffs).substring(0, this.patchMargin);
                            "" !== h && (a.length1 += h.length,
                            a.length2 += h.length,
                            0 !== a.diffs.length && a.diffs[a.diffs.length - 1][0] === eS.DIFF_EQUAL ? a.diffs[a.diffs.length - 1][1] += h : a.diffs.push([eS.DIFF_EQUAL, h])),
                            l || e.splice(++n, 0, a)
                        }
                    }
            }
            ,
            e.prototype.patch_toText = function(e) {
                for (var t = [], n = 0; n < e.length; n++)
                    t[n] = e[n];
                return t.join("")
            }
            ,
            e.prototype.patch_fromText = function(e) {
                var t = [];
                if (!e)
                    return t;
                for (var n = e.split("\n"), i = 0, r = /^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/; i < n.length; ) {
                    var o = n[i].match(r);
                    if (!o)
                        throw new Error("Invalid patch string: " + n[i]);
                    var s = new hS;
                    t.push(s),
                    s.start1 = parseInt(o[1], 10),
                    "" === o[2] ? (s.start1--,
                    s.length1 = 1) : "0" === o[2] ? s.length1 = 0 : (s.start1--,
                    s.length1 = parseInt(o[2], 10)),
                    s.start2 = parseInt(o[3], 10),
                    "" === o[4] ? (s.start2--,
                    s.length2 = 1) : "0" === o[4] ? s.length2 = 0 : (s.start2--,
                    s.length2 = parseInt(o[4], 10)),
                    i++;
                    for (var a = void 0, l = void 0, c = void 0; i < n.length; ) {
                        a = n[i].charAt(0),
                        c = n[i].substring(1);
                        try {
                            l = decodeURI(c)
                        } catch (e) {
                            throw new Error("Illegal escape in patch_fromText: " + c)
                        }
                        if ("-" === a)
                            s.diffs.push([eS.DIFF_DELETE, l]);
                        else if ("+" === a)
                            s.diffs.push([eS.DIFF_INSERT, l]);
                        else if (" " === a)
                            s.diffs.push([eS.DIFF_EQUAL, l]);
                        else {
                            if ("@" === a)
                                break;
                            if ("" !== a)
                                throw new Error('Invalid patch mode "' + a + '" in: ' + l)
                        }
                        i++
                    }
                }
                return t
            }
            ,
            e.prototype.diff_compute_ = function(e, t, n, i) {
                var r;
                if (!e)
                    return [[eS.DIFF_INSERT, t]];
                if (!t)
                    return [[eS.DIFF_DELETE, e]];
                var o = e.length > t.length ? e : t
                  , s = e.length > t.length ? t : e
                  , a = o.indexOf(s);
                if (-1 !== a)
                    return r = [[eS.DIFF_INSERT, o.substring(0, a)], [eS.DIFF_EQUAL, s], [eS.DIFF_INSERT, o.substring(a + s.length)]],
                    e.length > t.length && (r[0][0] = eS.DIFF_DELETE,
                    r[2][0] = eS.DIFF_DELETE),
                    r;
                if (1 === s.length)
                    return [[eS.DIFF_DELETE, e], [eS.DIFF_INSERT, t]];
                var l = this.diff_halfMatch_(e, t);
                if (l) {
                    var c = l[0]
                      , u = l[1]
                      , h = l[2]
                      , p = l[3]
                      , d = l[4]
                      , f = this.diff_main(c, h, n, i)
                      , g = this.diff_main(u, p, n, i);
                    return f.concat([[eS.DIFF_EQUAL, d]], g)
                }
                return n && e.length > 100 && t.length > 100 ? this.diff_lineMode_(e, t, i) : this.diff_bisect_(e, t, i)
            }
            ,
            e.prototype.diff_lineMode_ = function(e, t, n) {
                var i = this.diff_linesToChars_(e, t);
                e = i.chars1,
                t = i.chars2;
                var r = i.lineArray
                  , o = this.diff_main(e, t, !1, n);
                this.diff_charsToLines_(o, r),
                this.diff_cleanupSemantic(o),
                o.push([eS.DIFF_EQUAL, ""]);
                for (var s = 0, a = 0, l = 0, c = "", u = ""; s < o.length; ) {
                    switch (o[s][0]) {
                    case eS.DIFF_INSERT:
                        l++,
                        u += o[s][1];
                        break;
                    case eS.DIFF_DELETE:
                        a++,
                        c += o[s][1];
                        break;
                    case eS.DIFF_EQUAL:
                        if (a >= 1 && l >= 1) {
                            o.splice(s - a - l, a + l),
                            s = s - a - l;
                            for (var h = this.diff_main(c, u, !1, n), p = h.length - 1; p >= 0; p--)
                                o.splice(s, 0, h[p]);
                            s += h.length
                        }
                        l = 0,
                        a = 0,
                        c = "",
                        u = ""
                    }
                    s++
                }
                return o.pop(),
                o
            }
            ,
            e.prototype.diff_bisect_ = function(e, t, n) {
                for (var i = e.length, r = t.length, o = Math.ceil((i + r) / 2), s = o, a = 2 * o, l = new Array(a), c = new Array(a), u = 0; u < a; u++)
                    l[u] = -1,
                    c[u] = -1;
                l[s + 1] = 0,
                c[s + 1] = 0;
                for (var h = i - r, p = h % 2 != 0, d = 0, f = 0, g = 0, m = 0, v = 0; v < o && !(Date.now() > n); v++) {
                    for (var y = -v + d; y <= v - f; y += 2) {
                        for (var b = s + y, w = void 0, k = (w = y === -v || y !== v && l[b - 1] < l[b + 1] ? l[b + 1] : l[b - 1] + 1) - y; w < i && k < r && e.charAt(w) === t.charAt(k); )
                            w++,
                            k++;
                        if (l[b] = w,
                        w > i)
                            f += 2;
                        else if (k > r)
                            d += 2;
                        else if (p) {
                            if ((x = s + h - y) >= 0 && x < a && -1 !== c[x])
                                if (w >= (E = i - c[x]))
                                    return this.diff_bisectSplit_(e, t, w, k, n)
                        }
                    }
                    for (var C = -v + g; C <= v - m; C += 2) {
                        for (var x = s + C, E = void 0, S = (E = C === -v || C !== v && c[x - 1] < c[x + 1] ? c[x + 1] : c[x - 1] + 1) - C; E < i && S < r && e.charAt(i - E - 1) === t.charAt(r - S - 1); )
                            E++,
                            S++;
                        if (c[x] = E,
                        E > i)
                            m += 2;
                        else if (S > r)
                            g += 2;
                        else if (!p) {
                            if ((b = s + h - C) >= 0 && b < a && -1 !== l[b]) {
                                k = s + (w = l[b]) - b;
                                if (w >= (E = i - E))
                                    return this.diff_bisectSplit_(e, t, w, k, n)
                            }
                        }
                    }
                }
                return [[eS.DIFF_DELETE, e], [eS.DIFF_INSERT, t]]
            }
            ,
            e.prototype.diff_bisectSplit_ = function(e, t, n, i, r) {
                var o = e.substring(0, n)
                  , s = t.substring(0, i)
                  , a = e.substring(n)
                  , l = t.substring(i)
                  , c = this.diff_main(o, s, !1, r)
                  , u = this.diff_main(a, l, !1, r);
                return c.concat(u)
            }
            ,
            e.prototype.diff_linesToChars_ = function(e, t) {
                var n = []
                  , i = {};
                return n[0] = "",
                {
                    chars1: this.diff_linesToCharsMunge_(e, n, i, 4e4),
                    chars2: this.diff_linesToCharsMunge_(t, n, i, 65535),
                    lineArray: n
                }
            }
            ,
            e.prototype.diff_linesToCharsMunge_ = function(e, t, n, i) {
                for (var r = "", o = 0, s = -1, a = t.length; s < e.length - 1; ) {
                    -1 === (s = e.indexOf("\n", o)) && (s = e.length - 1);
                    var l = e.substring(o, s + 1);
                    (n.hasOwnProperty ? n.hasOwnProperty(l) : void 0 !== n[l]) ? r += String.fromCharCode(n[l]) : (a === i && (l = e.substring(o),
                    s = e.length),
                    r += String.fromCharCode(a),
                    n[l] = a,
                    t[a++] = l),
                    o = s + 1
                }
                return r
            }
            ,
            e.prototype.diff_charsToLines_ = function(e, t) {
                for (var n = 0; n < e.length; n++) {
                    for (var i = e[n][1], r = [], o = 0; o < i.length; o++)
                        r[o] = t[i.charCodeAt(o)];
                    e[n][1] = r.join("")
                }
            }
            ,
            e.prototype.diff_commonOverlap_ = function(e, t) {
                var n = e.length
                  , i = t.length;
                if (0 === n || 0 === i)
                    return 0;
                n > i ? e = e.substring(n - i) : n < i && (t = t.substring(0, n));
                var r = lS(n, i);
                if (e === t)
                    return r;
                for (var o = 0, s = 1; ; ) {
                    var a = e.substring(r - s)
                      , l = t.indexOf(a);
                    if (-1 === l)
                        return o;
                    s += l,
                    0 !== l && e.substring(r - s) !== t.substring(0, s) || (o = s,
                    s++)
                }
            }
            ,
            e.prototype.diff_halfMatch_ = function(e, t) {
                if (this.diffTimeout <= 0)
                    return null;
                var n = e.length > t.length ? e : t
                  , i = e.length > t.length ? t : e;
                if (n.length < 4 || 2 * i.length < n.length)
                    return null;
                var r, o, s, a, l, c = this.diff_halfMatchI_(n, i, Math.ceil(n.length / 4)), u = this.diff_halfMatchI_(n, i, Math.ceil(n.length / 2));
                if (!c && !u)
                    return null;
                var h = (r = u ? c && c[4].length > u[4].length ? c : u : c)[4];
                return e.length > t.length ? (o = r[0],
                s = r[1],
                a = r[2],
                l = r[3]) : (a = r[0],
                l = r[1],
                o = r[2],
                s = r[3]),
                [o, s, a, l, h]
            }
            ,
            e.prototype.diff_halfMatchI_ = function(e, t, n) {
                for (var i, r, o, s, a = e.substring(n, n + Math.floor(e.length / 4)), l = "", c = t.indexOf(a, 0); -1 !== c; ) {
                    var u = this.diff_commonPrefix(e.substring(n), t.substring(c))
                      , h = this.diff_commonSuffix(e.substring(0, n), t.substring(0, c));
                    l.length < h + u && (l = t.substring(c - h, c) + t.substring(c, c + u),
                    i = e.substring(0, n - h),
                    r = e.substring(n + u),
                    o = t.substring(0, c - h),
                    s = t.substring(c + u)),
                    c = t.indexOf(a, c + 1)
                }
                return 2 * l.length >= e.length ? [i, r, o, s, l] : null
            }
            ,
            e.prototype.diff_cleanupSemanticScore_ = function(e, t) {
                if (!e || !t)
                    return 6;
                var n = e.charAt(e.length - 1)
                  , i = t.charAt(0)
                  , r = n.match(iS)
                  , o = i.match(iS)
                  , s = r && n.match(rS)
                  , a = o && i.match(rS)
                  , l = s && n.match(oS)
                  , c = a && i.match(oS)
                  , u = l && e.match(sS)
                  , h = c && t.match(aS);
                return u || h ? 5 : l || c ? 4 : r && !s && a ? 3 : s || a ? 2 : r || o ? 1 : 0
            }
            ,
            e.prototype.match_bitap_ = function(e, t, n) {
                if (t.length > this.matchMaxBits)
                    throw new Error("Pattern too long for this browser");
                var i = this.match_alphabet_(t)
                  , r = this.matchThreshold
                  , o = e.indexOf(t, n);
                -1 !== o && (r = lS(this.match_bitapScore_(0, o, t, n), r),
                -1 !== (o = e.lastIndexOf(t, n + t.length)) && (r = lS(this.match_bitapScore_(0, o, t, n), r)));
                var s, a, l = 1 << t.length - 1;
                o = -1;
                for (var c, u = t.length + e.length, h = 0; h < t.length; h++) {
                    for (s = 0,
                    a = u; s < a; )
                        this.match_bitapScore_(h, n + a, t, n) <= r ? s = a : u = a,
                        a = Math.floor((u - s) / 2 + s);
                    u = a;
                    var p = cS(1, n - a + 1)
                      , d = lS(n + a, e.length) + t.length
                      , f = Array(d + 2);
                    f[d + 1] = (1 << h) - 1;
                    for (var g = d; g >= p; g--) {
                        var m = i[e.charAt(g - 1)];
                        if (f[g] = 0 === h ? (f[g + 1] << 1 | 1) & m : (f[g + 1] << 1 | 1) & m | (c[g + 1] | c[g]) << 1 | 1 | c[g + 1],
                        f[g] & l) {
                            var v = this.match_bitapScore_(h, g - 1, t, n);
                            if (v <= r) {
                                if (r = v,
                                !((o = g - 1) > n))
                                    break;
                                p = cS(1, 2 * n - o)
                            }
                        }
                    }
                    if (this.match_bitapScore_(h + 1, n, t, n) > r)
                        break;
                    c = f
                }
                return o
            }
            ,
            e.prototype.match_bitapScore_ = function(e, t, n, i) {
                var r = e / n.length
                  , o = Math.abs(i - t);
                return this.matchDistance ? r + o / this.matchDistance : o ? 1 : r
            }
            ,
            e.prototype.match_alphabet_ = function(e) {
                for (var t = {}, n = 0; n < e.length; n++)
                    t[e.charAt(n)] = 0;
                for (n = 0; n < e.length; n++)
                    t[e.charAt(n)] |= 1 << e.length - n - 1;
                return t
            }
            ,
            e.prototype.patch_addContext_ = function(e, t) {
                if (0 !== t.length) {
                    if (null == e.start2)
                        throw Error("patch not initialized");
                    for (var n = t.substring(e.start2, e.start2 + e.length1), i = 0; t.indexOf(n) !== t.lastIndexOf(n) && n.length < this.matchMaxBits - this.patchMargin - this.patchMargin; )
                        i += this.patchMargin,
                        n = t.substring(e.start2 - i, e.start2 + e.length1 + i);
                    i += this.patchMargin;
                    var r = t.substring(e.start2 - i, e.start2);
                    r && e.diffs.unshift([eS.DIFF_EQUAL, r]);
                    var o = t.substring(e.start2 + e.length1, e.start2 + e.length1 + i);
                    o && e.diffs.push([eS.DIFF_EQUAL, o]),
                    e.start1 -= r.length,
                    e.start2 -= r.length,
                    e.length1 += r.length + o.length,
                    e.length2 += r.length + o.length
                }
            }
            ,
            e
        }()
          , hS = function() {
            function e() {
                this.diffs = [],
                this.start1 = 0,
                this.start2 = 0,
                this.length1 = 0,
                this.length2 = 0
            }
            return e.prototype.toString = function() {
                for (var e, t = ["@@ -" + (0 === this.length1 ? this.start1 + ",0" : 1 === this.length1 ? this.start1 + 1 : this.start1 + 1 + "," + this.length1) + " +" + (0 === this.length2 ? this.start2 + ",0" : 1 === this.length2 ? this.start2 + 1 : this.start2 + 1 + "," + this.length2) + " @@\n"], n = 0; n < this.diffs.length; n++) {
                    switch (this.diffs[n][0]) {
                    case eS.DIFF_INSERT:
                        e = "+";
                        break;
                    case eS.DIFF_DELETE:
                        e = "-";
                        break;
                    case eS.DIFF_EQUAL:
                        e = " "
                    }
                    t[n + 1] = e + encodeURI(this.diffs[n][1]) + "\n"
                }
                return t.join("").replace(/%20/g, " ")
            }
            ,
            e
        }();
        function pS(e, t, n) {
            var i = new uS
              , r = i.diff_main(e, t, !0, 0);
            r.length > 2 && (i.diff_cleanupSemantic(r),
            i.diff_cleanupEfficiency(r));
            var o = i.patch_make(e, r);
            return i.patch_apply(o, n)[0]
        }
        var dS = function(e) {
            function t(t) {
                var n = e.call(this, t) || this;
                n.lastSavedData = null,
                n.saving = !1,
                n.saveAgain = !1,
                n.data = null,
                n.dirty = !1;
                var i = Pe(n.save.bind(n), 2e3);
                return n.requestSave = function() {
                    n.dirty = !0,
                    i()
                }
                ,
                n
            }
            return i(t, e),
            t.prototype.onload = function() {
                e.prototype.onload.call(this);
                var t = this.app.vault;
                this.registerEvent(t.on("modify", this.onModify, this))
            }
            ,
            t.prototype.onUnloadFile = function(e) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(e) {
                        switch (e.label) {
                        case 0:
                            return [4, this.save(!0)];
                        case 1:
                            return e.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.onLoadFile = function(e) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(t) {
                        switch (t.label) {
                        case 0:
                            return [4, this.loadFileInternal(e, !0)];
                        case 1:
                            return t.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.save = function(e) {
                return o(this, void 0, Promise, (function() {
                    var t, n, i, r;
                    return s(this, (function(o) {
                        switch (o.label) {
                        case 0:
                            if (this.dirty = !1,
                            !(t = this.file))
                                return [2];
                            if (this.saving)
                                return e || (this.saveAgain = !0),
                                [2];
                            if (this.saveAgain = !1,
                            n = this.getViewData(),
                            !t || this.lastSavedData === n || null === this.lastSavedData)
                                return [3, 5];
                            i = this.lastSavedData,
                            e ? (this.data = null,
                            this.lastSavedData = null,
                            this.clear()) : (this.data = n,
                            this.lastSavedData = n),
                            this.saving = !0,
                            o.label = 1;
                        case 1:
                            return o.trys.push([1, 3, 4, 5]),
                            [4, this.app.vault.modify(t, n)];
                        case 2:
                            return o.sent(),
                            [3, 5];
                        case 3:
                            throw r = o.sent(),
                            this.lastSavedData = i,
                            console.error(r),
                            new JC(Te("interface.msg-fail-to-save-file", {
                                filepath: t.path,
                                message: r.message
                            })),
                            r;
                        case 4:
                            return this.saving = !1,
                            this.saveAgain && !e && this.save(),
                            [7];
                        case 5:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.onModify = function(e) {
                if (!this.saving && e === this.file) {
                    var t = this.file;
                    this.loadFileInternal(t, !1)
                }
            }
            ,
            t.prototype.loadFileInternal = function(e, t) {
                return o(this, void 0, void 0, (function() {
                    var n, i, r;
                    return s(this, (function(o) {
                        switch (o.label) {
                        case 0:
                            return e.saving ? [4, this.app.vault.cachedRead(e)] : [3, 2];
                        case 1:
                            return n = o.sent(),
                            [3, 4];
                        case 2:
                            return [4, this.app.vault.read(e)];
                        case 3:
                            n = o.sent(),
                            o.label = 4;
                        case 4:
                            if (i = this.lastSavedData,
                            this.lastSavedData = n,
                            !t && i) {
                                if (i === n)
                                    return [2];
                                if (this.dirty) {
                                    if ((r = this.getViewData()) === n)
                                        return [2];
                                    r !== i && (n = pS(i, r, n),
                                    new JC(Te("interface.msg-file-changed", {
                                        file: e.path
                                    })))
                                }
                            }
                            return this.setData(n, t),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.setData = function(e, t) {
                this.data !== e && (this.data = e,
                this.setViewData(e, t))
            }
            ,
            t
        }(ZC)
          , fS = "markdown"
          , gS = function(e) {
            function t(t) {
                var n = e.call(this, t) || this;
                n.icon = By,
                n.previewButtonEl = null,
                n.editButtonEl = null,
                n.modes = {},
                n.currentMode = null,
                n.scroll = null,
                on.isMobile ? (n.editMode = n.registerMode(new mC(n)),
                n.editor = n.editMode.editor,
                n.sourceMode = {
                    cmEditor: n.editor
                }) : (n.sourceMode = n.registerMode(new nS(n)),
                n.editor = n.sourceMode.editor),
                n.previewMode = n.registerMode(new zE(n)),
                n.editButtonEl = n.addAction(Hy, Te("interface.menu.edit-view"), n.onSwitchView.bind(n), on.isMobile ? 23 : 17),
                n.previewButtonEl = n.addAction(cb, Te("interface.menu.preview-view"), n.onSwitchView.bind(n), on.isMobile ? 24 : 18);
                var i = n.modes;
                for (var r in i)
                    i.hasOwnProperty(r) && i[r].hide();
                var o = n.app.vault.getConfig("defaultViewMode");
                o && i.hasOwnProperty(o) || (o = "source"),
                n.currentMode = i[o],
                n.containerEl.setAttribute("data-mode", n.getMode()),
                n.currentMode.show(),
                n.updateButtons(),
                n.addChild(n.previewMode);
                var s = 0;
                return n.containerEl.addEventListener("wheel", (function(e) {
                    if (n.app.vault.getConfig("baseFontSizeAction")) {
                        var t = e.ctrlKey
                          , i = Date.now();
                        if (t && !(s > i - 500)) {
                            if (t && 0 !== e.deltaY) {
                                if (se && Number.isInteger(e.deltaY))
                                    return;
                                var r = n.app.vault.getConfig("baseFontSize");
                                e.deltaY < 0 ? r++ : r--,
                                n.app.changeBaseFontSize(r)
                            }
                        } else
                            s = i
                    }
                }
                ), {
                    passive: !0
                }),
                n.titleEl.addEventListener("keydown", n.onTitleKeydown.bind(n)),
                n
            }
            return i(t, e),
            t.prototype.onload = function() {
                e.prototype.onload.call(this);
                var t = this.leaf;
                this.registerEvent(t.workspace.on("quick-preview", this.onQuickPreview, this)),
                this.registerEvent(t.workspace.on("click", this.onDocumentClick, this)),
                this.registerEvent(t.workspace.on("resize", this.onResize, this)),
                this.registerEvent(t.workspace.on("css-change", this.onCssChange, this)),
                this.onResize()
            }
            ,
            t.prototype.getViewType = function() {
                return fS
            }
            ,
            t.prototype.canAcceptExtension = function(e) {
                return U.contains(e)
            }
            ,
            t.prototype.getState = function() {
                var t = e.prototype.getState.call(this);
                return t.mode = this.getMode(),
                this.previewMode.isShowingBacklinks() && (t.backlinks = !0),
                t
            }
            ,
            t.prototype.setState = function(t, n) {
                return o(this, void 0, Promise, (function() {
                    var i, r, o, a;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return i = !1,
                            r = t.mode,
                            o = t.backlinks,
                            r ? (a = this.modes).hasOwnProperty(r) ? [4, this.setMode(a[r])] : [3, 2] : [3, 2];
                        case 1:
                            i = s.sent(),
                            s.label = 2;
                        case 2:
                            return i && (n.layout = !0),
                            "boolean" == typeof o && this.previewMode.setShowBacklinks(o),
                            [4, e.prototype.setState.call(this, t, n)];
                        case 3:
                            return s.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.getEphemeralState = function() {
                var t = e.prototype.getEphemeralState.call(this);
                return this.currentMode.getEphemeralState(t),
                null !== this.scroll && (t.scroll = this.scroll),
                t
            }
            ,
            t.prototype.setEphemeralState = function(t) {
                e.prototype.setEphemeralState.call(this, t);
                var n = t.subpath;
                if (n) {
                    var i = Fy(this.app.metadataCache.getFileCache(this.file), n);
                    i && (t.line = i.start.line,
                    t.startLoc = i.start,
                    t.endLoc = i.end || null)
                }
                this.currentMode.setEphemeralState(t),
                t.hasOwnProperty("scroll") && (this.scroll = t.scroll)
            }
            ,
            t.prototype.registerMode = function(e) {
                return this.modes[e.type] = e,
                e
            }
            ,
            t.prototype.getMode = function() {
                return this.currentMode.type
            }
            ,
            t.prototype.updateButtons = function() {
                var e = this.currentMode;
                this.previewButtonEl.toggle("preview" !== e.type),
                this.editButtonEl.toggle("source" !== e.type)
            }
            ,
            t.prototype.getSyncViewState = function() {
                var t = e.prototype.getSyncViewState.call(this);
                return delete t.state.mode,
                delete t.eState.cursor,
                t
            }
            ,
            t.prototype.setMode = function(e) {
                return o(this, void 0, Promise, (function() {
                    var t, n, i, r;
                    return s(this, (function(o) {
                        switch (o.label) {
                        case 0:
                            return e && this.currentMode !== e ? (n = (t = this).currentMode,
                            i = t.scroll,
                            "source" !== n.type ? [3, 2] : [4, this.save()]) : [2, !1];
                        case 1:
                            o.sent(),
                            o.label = 2;
                        case 2:
                            return r = n.getFoldInfo(),
                            this.app.foldManager.save(this.file, r),
                            n.hide(),
                            this.currentMode = e,
                            e.show(),
                            null !== this.data && e.set(this.data, !1),
                            e.onResize(),
                            null !== i && e.setEphemeralState({
                                scroll: i
                            }),
                            e.applyFoldInfo(r),
                            this.updateButtons(),
                            this.containerEl.setAttribute("data-mode", this.getMode()),
                            [2, !0]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.getViewData = function() {
                return this.currentMode.get()
            }
            ,
            t.prototype.clear = function() {
                var e = this
                  , t = e.currentMode
                  , n = e.sourceMode
                  , i = e.modes;
                for (var r in t === n && this.onMarkdownFold(),
                this.scroll = null,
                i)
                    i.hasOwnProperty(r) && i[r].clear()
            }
            ,
            t.prototype.onSwitchView = function(e) {
                return o(this, void 0, void 0, (function() {
                    var t, n, i, r, o;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return e.preventDefault(),
                            t = this.leaf,
                            n = rn.isModifier(e, "Mod"),
                            (i = this.getState()).mode = "preview" === this.getMode() ? "source" : "preview",
                            r = {
                                type: fS,
                                state: i
                            },
                            (n || 1 === e.button) && (o = this.app.workspace,
                            t = o.createLeafBySplit(this.leaf),
                            r.active = !0,
                            r.group = this.leaf),
                            [4, t.setViewState(r)];
                        case 1:
                            return s.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.onMarkdownScroll = function() {
                var e = this.currentMode.getScroll();
                null !== e && (this.scroll = e),
                this.syncState(!1)
            }
            ,
            t.prototype.onMarkdownFold = function() {
                this.app.foldManager.save(this.file, this.currentMode.getFoldInfo())
            }
            ,
            t.prototype.onMoreOptionsMenu = function(t) {
                var n = this;
                e.prototype.onMoreOptionsMenu.call(this, t),
                t.addItem((function(e) {
                    return e.setTitle(Te("interface.menu.find")).setIcon(pb).onClick((function() {
                        return n.showSearch()
                    }
                    ))
                }
                )),
                "source" === this.getMode() && t.addItem((function(e) {
                    return e.setTitle(Te("interface.menu.replace")).setIcon(pb).onClick((function() {
                        return n.showSearch(!0)
                    }
                    ))
                }
                )),
                on.isDesktopApp && t.addItem((function(e) {
                    return e.setTitle(Te("commands.export-pdf")).setIcon(By).onClick((function() {
                        return n.app.commands.executeCommandById("workspace:export-pdf")
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.onHeaderMenu = function(t) {
                var n = this;
                e.prototype.onHeaderMenu.call(this, t);
                var i = this.getMode();
                "preview" === i ? t.addItem((function(e) {
                    return e.setTitle(Te("interface.menu.edit")).setIcon(Hy).onClick(n.onSwitchView.bind(n))
                }
                )) : "source" === i && t.addItem((function(e) {
                    return e.setTitle(Te("interface.menu.preview")).setIcon(cb).onClick(n.onSwitchView.bind(n))
                }
                ))
            }
            ,
            t.prototype.onResize = function() {
                this.currentMode.onResize()
            }
            ,
            t.prototype.onCssChange = function() {
                this.editMode && this.editMode.onCssChange()
            }
            ,
            t.prototype.onTitleKeydown = function(e) {
                e.isComposing || "Enter" !== e.key && "Tab" !== e.key || (e.preventDefault(),
                this.setEphemeralState({
                    focus: !0
                }))
            }
            ,
            t.prototype.triggerQuickPreview = function(e) {
                this.data = e,
                this.leaf.workspace.onQuickPreview(this.file, e)
            }
            ,
            t.prototype.onQuickPreview = function(e, t) {
                e === this.file && this.setData(t, !1)
            }
            ,
            t.prototype.setViewData = function(e, t) {
                var n = this.currentMode
                  , i = this.modes;
                if (t) {
                    for (var r in this.scroll = null,
                    i)
                        i.hasOwnProperty(r) && i[r].set(e, !0);
                    var o = this.app.foldManager.load(this.file);
                    o && n.applyFoldInfo(o)
                } else
                    n.set(e, !1)
            }
            ,
            t.prototype.onDocumentClick = function() {
                var e = this
                  , t = e.currentMode
                  , n = e.sourceMode
                  , i = e.editMode;
                t === n && n.onDocumentClick(),
                t === i && i.onDocumentClick()
            }
            ,
            t.prototype.updateOptions = function() {
                var e = this.modes;
                for (var t in e)
                    e.hasOwnProperty(t) && e[t].updateOptions()
            }
            ,
            t.prototype.showSearch = function(e) {
                void 0 === e && (e = !1),
                this.currentMode.showSearch(e)
            }
            ,
            t.prototype.getSelection = function() {
                return this.currentMode.getSelection()
            }
            ,
            t.prototype.printToPdf = function() {
                new vS(this.app,this.file).open()
            }
            ,
            t.prototype.triggerClickableToken = function(e, t) {
                var n = this;
                if ("internal-link" === e.type)
                    setTimeout((function() {
                        n.app.workspace.openLinkText(e.text, n.file.path, t)
                    }
                    ), 100);
                else if ("external-link" === e.type)
                    window.open(e.text);
                else if ("tag" === e.type) {
                    var i = e.text;
                    i.startsWith("#") || (i = "#" + i);
                    var r = this.app.internalPlugins.getPluginById("global-search");
                    r && r.instance.openGlobalSearch("tag:" + i)
                }
            }
            ,
            t.prototype.followLinkUnderCursor = function(e) {
                var t = this.editor.getClickableTokenAt(this.editor.getCursor());
                t && this.triggerClickableToken(t, e)
            }
            ,
            t.VIEW_TYPE = fS,
            t
        }(dS)
          , mS = Fe("editor.print-modal")
          , vS = function(e) {
            function t(t, n) {
                var i = e.call(this, t) || this;
                i.file = n,
                i.modalEl.addClass("mod-narrow"),
                i.titleEl.setText(mS("title"));
                var r = i.contentEl;
                r.createEl("p", {
                    cls: "u-muted",
                    text: mS("caption", {
                        filename: n.basename
                    })
                });
                var a = t.vault.getConfig("pdfExportSettings");
                return new vE(r).setName(mS("setting-page-size")).addDropdown((function(e) {
                    return e.addOption("A3", mS("setting-page-size-a3")).addOption("A4", mS("setting-page-size-a4")).addOption("A5", mS("setting-page-size-a5")).addOption("Legal", mS("setting-page-size-legal")).addOption("Letter", mS("setting-page-size-letter")).addOption("Tabloid", mS("setting-page-size-tabloid")).setValue(a.pageSize).then((function(e) {
                        return i.pageSize = e
                    }
                    ))
                }
                )),
                new vE(r).setName(mS("setting-landscape")).addToggle((function(e) {
                    return e.setValue(a.landscape).then((function(e) {
                        return i.landscape = e
                    }
                    ))
                }
                )),
                new vE(r).setName(mS("setting-margin")).addDropdown((function(e) {
                    return e.addOption("0", mS("setting-margin-default")).addOption("2", mS("setting-margin-minimal")).addOption("1", mS("setting-margin-none")).setValue(a.margin).then((function(e) {
                        return i.marginsType = e
                    }
                    ))
                }
                )),
                new vE(r).setName(mS("setting-downscale-percent")).addSlider((function(e) {
                    return e.setLimits(1, 100, 1).setDynamicTooltip().setValue(a.downscalePercent).then((function(e) {
                        return i.scaleFactor = e
                    }
                    ))
                }
                )),
                r.createDiv("modal-button-container", (function(e) {
                    e.createEl("button", {
                        cls: "mod-cta",
                        text: mS("button-export-to-pdf")
                    }, (function(e) {
                        e.addEventListener("click", (function() {
                            return o(i, void 0, void 0, (function() {
                                var e, n, i, r;
                                return s(this, (function(o) {
                                    switch (o.label) {
                                    case 0:
                                        return e = {
                                            pageSize: this.pageSize.getValue(),
                                            landscape: this.landscape.getValue(),
                                            margin: this.marginsType.getValue(),
                                            downscalePercent: this.scaleFactor.getValue()
                                        },
                                        t.vault.setConfig("pdfExportSettings", e),
                                        (n = {}).pageSize = e.pageSize,
                                        n.landscape = e.landscape,
                                        n.marginsType = parseInt(e.margin),
                                        n.scaleFactor = e.downscalePercent,
                                        n.open = !0,
                                        i = this.file,
                                        [4, de("electron").remote.dialog.showSaveDialog({
                                            defaultPath: i.basename + ".pdf",
                                            filters: [{
                                                name: "PDF Files",
                                                extensions: ["pdf"]
                                            }, {
                                                name: "All Files",
                                                extensions: ["*"]
                                            }],
                                            properties: ["showOverwriteConfirmation"]
                                        })];
                                    case 1:
                                        return (r = o.sent()).cancelled || !r.filePath ? [2] : (n.filepath = r.filePath,
                                        this.close(),
                                        [4, this.printToPdf(n)]);
                                    case 2:
                                        return o.sent(),
                                        [2]
                                    }
                                }
                                ))
                            }
                            ))
                        }
                        ))
                    }
                    ))
                }
                )),
                i
            }
            return i(t, e),
            t.prototype.printToPdf = function(e) {
                return o(this, void 0, Promise, (function() {
                    var t, n, i, r, o;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            (t = this.app.loadProgress).setMessage(Te("dialogue.preparing-pdf")),
                            t.show(),
                            n = document.body.createDiv("print"),
                            (i = new Jk).load(),
                            r = function() {
                                n.detach(),
                                i.unload(),
                                t.hide()
                            }
                            ,
                            n.addEventListener("click", r),
                            s.label = 1;
                        case 1:
                            return s.trys.push([1, 5, 6, 7]),
                            [4, this.print(n, i)];
                        case 2:
                            return s.sent(),
                            [4, Rk(200)];
                        case 3:
                            return s.sent(),
                            [4, (a = e,
                            new Promise((function(e) {
                                var t = de("electron").ipcRenderer;
                                t.once("printToPDF", e),
                                t.send("printToPDF", a)
                            }
                            )))];
                        case 4:
                            return s.sent(),
                            new JC("PDF Saved to " + e.filepath),
                            [3, 7];
                        case 5:
                            return o = s.sent(),
                            console.error(o),
                            new JC("Failed to save PDF."),
                            [3, 7];
                        case 6:
                            return r(),
                            [7];
                        case 7:
                            return [2]
                        }
                        var a
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.testPrint = function() {
                return o(this, void 0, void 0, (function() {
                    var e, t;
                    return s(this, (function(n) {
                        switch (n.label) {
                        case 0:
                            return (e = document.body.createDiv("print")).addEventListener("click", (function() {
                                e.detach(),
                                t.unload()
                            }
                            )),
                            (t = new Jk).load(),
                            [4, this.print(e, t)];
                        case 1:
                            return n.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.print = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    var n, i, r, o, a, l, c, u, h, p, d, f, g;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return n = e.createDiv("markdown-preview-view"),
                            r = (i = this).app,
                            o = i.file,
                            [4, this.app.vault.cachedRead(o)];
                        case 1:
                            return a = s.sent(),
                            l = cy(a),
                            c = uy(l),
                            u = hy(l),
                            h = bt(u),
                            n.appendChild(h),
                            n.toggleClass("show-frontmatter", r.vault.getConfig("showFrontmatter")),
                            p = [],
                            zE.postProcess(r, {
                                docId: kf(16),
                                sourcePath: o.path,
                                frontmatter: c,
                                promises: p,
                                addChild: function(e) {
                                    return t.addChild(e)
                                },
                                getSectionInfo: function() {
                                    return null
                                },
                                containerEl: n,
                                el: n,
                                displayMode: !0
                            }),
                            p.length > 0 ? [4, Promise.all(p)] : [3, 3];
                        case 2:
                            s.sent(),
                            s.label = 3;
                        case 3:
                            for (d = n.findAll("a.internal-link"),
                            f = 0,
                            g = d; f < g.length; f++)
                                g[f].removeAttribute("href");
                            return [2, n]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t
        }(sn);
        function yS(e) {
            e.checkCallback ? e.checkCallback(!1) : e.callback ? e.callback() : console.error("Command " + e + " did not provide a callback")
        }
        var bS, wS, kS = function() {
            function e(e) {
                this.commands = {},
                this.editorCommands = {},
                this.app = e
            }
            return e.prototype.addCommand = function(e) {
                var t = this;
                e.mobileOnly && !on.isMobile || ((e.editorCallback || e.editorCheckCallback) && (e.checkCallback = function(n) {
                    var i = t.app.workspace.getActiveViewOfType(gS);
                    if (i && (e.allowPreview || "source" === i.getMode())) {
                        if (e.editorCheckCallback)
                            return e.editorCheckCallback(n, i.editor, i);
                        if (e.editorCallback)
                            return n || e.editorCallback(i.editor, i),
                            !0
                    }
                }
                ,
                this.editorCommands[e.id] = e),
                this.commands[e.id] = e,
                e.hotkeys && this.app.hotkeyManager.addDefaultHotkeys(e.id, e.hotkeys))
            }
            ,
            e.prototype.removeCommand = function(e) {
                this.commands.hasOwnProperty(e) && this.app.hotkeyManager.removeDefaultHotkeys(e),
                delete this.commands[e],
                delete this.editorCommands[e]
            }
            ,
            e.prototype.findCommand = function(e) {
                return this.commands[e]
            }
            ,
            e.prototype.listCommands = function() {
                return Object.values(this.commands).filter((function(e) {
                    if (!e.checkCallback)
                        return !0;
                    try {
                        return e.checkCallback(!0)
                    } catch (t) {
                        return console.log("Command failed to execute: ", e.id),
                        console.error(t),
                        !1
                    }
                }
                ))
            }
            ,
            e.prototype.executeCommandById = function(e) {
                var t = this.findCommand(e);
                if (!t)
                    return !1;
                try {
                    yS(t)
                } catch (e) {
                    return console.log("Command failed to execute: ", t.id),
                    console.error(e),
                    !1
                }
                return !0
            }
            ,
            e
        }(), CS = function(e) {
            function t(t) {
                var n = e.call(this) || this;
                return n.app = null,
                n.styleEl = null,
                n.themes = [],
                n.snippets = [],
                n.enabledSnippets = new Set,
                n.csscache = new Map,
                n.theme = "",
                n.useObsidianCss = !1,
                n.queue = new Bk,
                n.app = t,
                n.boundFileUpdated = n.onFileUpdated.bind(n),
                n.boundRaw = n.onRaw.bind(n),
                n.requestReloadCss = Pe(n.applyCss.bind(n), 100),
                n
            }
            return i(t, e),
            t.prototype.onload = function() {
                return o(this, void 0, void 0, (function() {
                    var t, n;
                    return s(this, (function(i) {
                        switch (i.label) {
                        case 0:
                            return e.prototype.onload.call(this),
                            t = this.app,
                            this.loadData(),
                            [4, this.readCssFolders()];
                        case 1:
                            return i.sent(),
                            n = this.styleEl = createEl("style", {
                                type: "text/css"
                            }),
                            this.registerEvent(t.vault.on("create", this.boundFileUpdated)),
                            this.registerEvent(t.vault.on("modify", this.boundFileUpdated)),
                            this.registerEvent(t.vault.on("delete", this.boundFileUpdated)),
                            this.registerEvent(t.vault.on("raw", this.boundRaw)),
                            document.head.appendChild(n),
                            this.applyCss(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.loadData = function() {
                var e = this.app.vault
                  , t = e.getConfig("enabledCssSnippets")
                  , n = e.getConfig("obsidianCss");
                t && (this.enabledSnippets = new Set(t));
                var i = e.getConfig("cssTheme");
                i && (this.theme = i),
                this.useObsidianCss = n,
                e.getConfig("translucency") && this.enableTranslucency()
            }
            ,
            t.prototype.readCssFolders = function() {
                var e = this;
                return this.queue.queue((function() {
                    return e._readCssFolders()
                }
                ))
            }
            ,
            t.prototype._readCssFolders = function() {
                return o(this, void 0, void 0, (function() {
                    var e, t, n, i, r, o, a, l, c, u, h, p;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return e = this.app,
                            t = this.app.vault.adapter,
                            this.themes = [],
                            this.snippets = [],
                            n = this.getThemeFolder(),
                            [4, e.vault.exists(n)];
                        case 1:
                            return s.sent() ? [4, e.vault.adapter.list(n)] : [3, 3];
                        case 2:
                            for (i = s.sent(),
                            r = 0,
                            o = i.files; r < o.length; r++)
                                h = o[r],
                                (p = W(h)).startsWith(".") || "css" !== Q(p) || this.themes.push(Y(p));
                            s.label = 3;
                        case 3:
                            return a = this.getSnippetsFolder(),
                            [4, e.vault.exists(a)];
                        case 4:
                            return s.sent() ? [4, t.list(a)] : [3, 6];
                        case 5:
                            for (l = s.sent(),
                            c = 0,
                            u = l.files; c < u.length; c++)
                                h = u[c],
                                (p = W(h)).startsWith(".") || "css" !== Q(p) || this.snippets.push(Y(p));
                            s.label = 6;
                        case 6:
                            return this.requestReloadCss(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.onFileUpdated = function(e) {
                this.onRaw(e.path)
            }
            ,
            t.prototype.onRaw = function(e) {
                (e.startsWith(this.getThemeFolder()) || e.startsWith(this.getThemeFolder())) && this.readCssFolders(),
                this.csscache.has(e) && (this.csscache.delete(e),
                this.requestReloadCss())
            }
            ,
            t.prototype.applyCss = function(e) {
                var t = this;
                return this.queue.queue((function() {
                    return t._applyCss(e)
                }
                ))
            }
            ,
            t.prototype._applyCss = function(e) {
                return o(this, void 0, void 0, (function() {
                    var t, n, i, r, o, a, l, c, u, h, p, d, f, g, m;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return n = (t = this).theme,
                            i = t.enabledSnippets,
                            r = t.snippets,
                            o = t.useObsidianCss,
                            a = [],
                            o ? (c = (l = a).push,
                            [4, this.loadCss("obsidian.css")]) : [3, 2];
                        case 1:
                            c.apply(l, [s.sent()]),
                            s.label = 2;
                        case 2:
                            return e ? (a.push(e),
                            [3, 5]) : [3, 3];
                        case 3:
                            return n ? (h = (u = a).push,
                            [4, this.loadCss(this.getThemePath(n))]) : [3, 5];
                        case 4:
                            h.apply(u, [s.sent()]),
                            s.label = 5;
                        case 5:
                            p = 0,
                            d = r,
                            s.label = 6;
                        case 6:
                            return p < d.length ? (f = d[p],
                            i.has(f) ? (m = (g = a).push,
                            [4, this.loadCss(this.getSnippetPath(f))]) : [3, 8]) : [3, 9];
                        case 7:
                            m.apply(g, [s.sent()]),
                            s.label = 8;
                        case 8:
                            return p++,
                            [3, 6];
                        case 9:
                            return this.styleEl.textContent = a.filter((function(e) {
                                return e
                            }
                            )).join("\n"),
                            this.app.workspace.trigger("css-change"),
                            this.app.workspace.trigger("resize"),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.loadCss = function(e) {
                return o(this, void 0, Promise, (function() {
                    var t, n, i;
                    return s(this, (function(r) {
                        switch (r.label) {
                        case 0:
                            return (t = this.csscache).has(e) ? [2, t.get(e)] : [4, (n = this.app.vault.adapter).exists(e)];
                        case 1:
                            return r.sent() ? [4, n.read(e)] : [3, 3];
                        case 2:
                            return i = r.sent(),
                            t.set(e, i),
                            [2, i];
                        case 3:
                            return [2, null]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.setCssEnabledStatus = function(e, t) {
                var n = this.enabledSnippets;
                t ? n.add(e) : n.delete(e),
                this.app.vault.setConfig("enabledCssSnippets", Array.from(n)),
                this.requestReloadCss()
            }
            ,
            t.prototype.setTheme = function(e) {
                this.theme = e,
                this.app.vault.setConfig("cssTheme", e),
                this.requestReloadCss()
            }
            ,
            t.prototype.setUseObsidianCss = function(e) {
                this.useObsidianCss = e,
                this.app.vault.setConfig("obsidianCss", e),
                this.requestReloadCss()
            }
            ,
            t.prototype.setTranslucency = function(e) {
                this.app.vault.setConfig("translucency", e),
                e ? this.enableTranslucency() : this.disableTranslucency()
            }
            ,
            t.prototype.enableTranslucency = function() {
                fe((function(e) {
                    try {
                        var t = e.remote.getCurrentWindow();
                        if ("Windows" === re) {
                            t.setBackgroundColor("#00000000");
                            var n = window.require("vibrancy-win");
                            n.setAcrylic(t, 343932960) || n.setBlurBehind(t, 0)
                        } else {
                            if ("MacOS" !== re)
                                return;
                            t.setBackgroundColor("#00000000"),
                            t.setVibrancy("fullscreen-ui")
                        }
                        document.body.addClass("is-translucent")
                    } catch (e) {
                        new JC(Te("interface.msg-upgrade-installer"))
                    }
                }
                ))
            }
            ,
            t.prototype.disableTranslucency = function() {
                fe((function(e) {
                    document.body.removeClass("is-translucent");
                    try {
                        var t = e.remote.getCurrentWindow();
                        if ("Windows" === re) {
                            window.require("vibrancy-win").disable(t)
                        } else {
                            if ("MacOS" !== re)
                                return;
                            t.setVibrancy(null)
                        }
                    } catch (e) {}
                }
                ))
            }
            ,
            t.prototype.getThemeFolder = function() {
                return this.app.vault.configDir + "/themes"
            }
            ,
            t.prototype.getSnippetsFolder = function() {
                return this.app.vault.configDir + "/snippets"
            }
            ,
            t.prototype.getThemePath = function(e) {
                return this.getThemeFolder() + "/" + e + ".css"
            }
            ,
            t.prototype.getSnippetPath = function(e) {
                return this.getSnippetsFolder() + "/" + e + ".css"
            }
            ,
            t
        }(Jk);
        !function(e) {
            e.Documents = "DOCUMENTS",
            e.Data = "DATA",
            e.Cache = "CACHE",
            e.External = "EXTERNAL",
            e.ExternalStorage = "EXTERNAL_STORAGE"
        }(bS || (bS = {})),
        function(e) {
            e.UTF8 = "utf8",
            e.ASCII = "ascii",
            e.UTF16 = "utf16"
        }(wS || (wS = {}));
        const xS = ["debug", "error", "info", "log", "trace", "warn"]
          , ES = e=>{
            if ("object" == typeof e)
                try {
                    e = JSON.stringify(e)
                } catch (e) {}
            return String(e)
        }
          , SS = e=>!!e && ("function" == typeof e.groupCollapsed || "function" == typeof e.groupEnd || "function" == typeof e.dir)
          , LS = e=>t=>{
            SS(e) ? (e.groupCollapsed("%cnative %c" + t.pluginId + "." + t.methodName + " (#" + t.callbackId + ")", "font-weight: lighter; color: gray", "font-weight: bold; color: #000"),
            e.dir(t),
            e.groupEnd()) : e.log("LOG TO NATIVE: ", t)
        }
          , DS = e=>t=>{
            if (SS(e)) {
                const n = !0 === t.success ? "font-style: italic; font-weight: lighter; color: gray" : "font-style: italic; font-weight: lighter; color: red";
                e.groupCollapsed("%cresult %c" + t.pluginId + "." + t.methodName + " (#" + t.callbackId + ")", n, "font-style: italic; font-weight: bold; color: #444"),
                !1 === t.success ? e.error(t.error) : e.dir(t.data),
                e.groupEnd()
            } else
                !1 === t.success ? e.error("LOG FROM NATIVE", t.error) : e.log("LOG FROM NATIVE", t.data)
        }
        ;
        var MS;
        !function(e) {
            e.Unimplemented = "UNIMPLEMENTED",
            e.Unavailable = "UNAVAILABLE"
        }(MS || (MS = {}));
        class AS extends Error {
            constructor(e, t) {
                super(e),
                this.message = e,
                this.code = t
            }
        }
        const TS = (e,t)=>{
            var n, i;
            const r = new Map;
            let o = Math.floor(134217728 * Math.random())
              , s = null;
            e.androidBridge ? s = t=>{
                var n;
                try {
                    e.androidBridge.postMessage(JSON.stringify(t))
                } catch (t) {
                    null === (n = null == e ? void 0 : e.console) || void 0 === n || n.error(t)
                }
            }
            : (null === (i = null === (n = e.webkit) || void 0 === n ? void 0 : n.messageHandlers) || void 0 === i ? void 0 : i.bridge) && (s = t=>{
                var n, i;
                try {
                    t.type = null !== (n = t.type) && void 0 !== n ? n : "message",
                    e.webkit.messageHandlers.bridge.postMessage(t)
                } catch (t) {
                    null === (i = null == e ? void 0 : e.console) || void 0 === i || i.error(t)
                }
            }
            ),
            t.handleWindowError = (e,n,i,r,o)=>{
                if (e.toLowerCase().indexOf("script error") > -1)
                    ;
                else {
                    const a = {
                        type: "js.error",
                        error: {
                            message: e,
                            url: n,
                            line: i,
                            col: r,
                            errorObject: JSON.stringify(o)
                        }
                    };
                    null !== o && t.handleError(o),
                    s && s(a)
                }
                return !1
            }
            ,
            t.DEBUG && (window.onerror = t.handleWindowError),
            ((e,t)=>{
                const n = "ios" === t.getPlatform()
                  , i = Object.assign({}, e.console);
                if (e.console && n)
                    for (const n of xS)
                        e.console[n] = (...e)=>{
                            const r = [...e];
                            i[n](...r);
                            try {
                                t.toNative("Console", "log", {
                                    level: n,
                                    message: r.map(ES).join(" ")
                                })
                            } catch (e) {
                                i.error(e)
                            }
                        }
                        ;
                t.logToNative = LS(e.console),
                t.logFromNative = DS(e.console)
            }
            )(e, t),
            t.toNative = (n,i,a,l)=>{
                var c, u;
                try {
                    if ("function" == typeof s) {
                        let e = "-1";
                        !l || "function" != typeof l.callback && "function" != typeof l.resolve || (e = String(++o),
                        r.set(e, l));
                        const c = {
                            callbackId: e,
                            pluginId: n,
                            methodName: i,
                            options: a || {}
                        };
                        return t.DEBUG && "Console" !== n && t.logToNative(c),
                        s(c),
                        e
                    }
                    null === (c = null == e ? void 0 : e.console) || void 0 === c || c.warn(`implementation unavailable for: ${n}`)
                } catch (t) {
                    null === (u = null == e ? void 0 : e.console) || void 0 === u || u.error(t)
                }
                return null
            }
            ,
            t.fromNative = n=>{
                var i, o;
                t.DEBUG && "Console" !== n.pluginId && t.logFromNative(n);
                try {
                    const o = r.get(n.callbackId);
                    o ? (n.error && (n.error = Object.keys(n.error).reduce(((e,t)=>(e[t] = n.error[t],
                    e)), new t.Exception(""))),
                    "function" == typeof o.callback ? n.success ? o.callback(n.data) : o.callback(null, n.error) : "function" == typeof o.resolve && (n.success ? o.resolve(n.data) : o.reject(n.error),
                    r.delete(n.callbackId))) : !n.success && n.error && (null === (i = null == e ? void 0 : e.console) || void 0 === i || i.warn(n.error)),
                    !1 === n.save && r.delete(n.callbackId)
                } catch (t) {
                    null === (o = null == e ? void 0 : e.console) || void 0 === o || o.error(t)
                }
                delete n.data,
                delete n.error
            }
            ,
            "function" == typeof s ? (t.nativeCallback = (e,n,i,r)=>("function" == typeof i && (console.warn("Using a callback as the 'options' parameter of 'nativeCallback()' is deprecated."),
            r = i,
            i = null),
            t.toNative(e, n, i, {
                callback: r
            })),
            t.nativePromise = (e,n,i)=>new Promise(((r,o)=>{
                t.toNative(e, n, i, {
                    resolve: r,
                    reject: o
                })
            }
            ))) : (t.nativeCallback = ()=>{
                throw new AS("nativeCallback() not implemented",MS.Unimplemented)
            }
            ,
            t.nativePromise = ()=>Promise.reject(new AS("nativePromise() not implemented",MS.Unimplemented)))
        }
          , FS = e=>{
            var t, n;
            return e.androidBridge ? "android" : (null === (n = null === (t = e.webkit) || void 0 === t ? void 0 : t.messageHandlers) || void 0 === n ? void 0 : n.bridge) ? "ios" : "web"
        }
          , PS = e=>{
            const t = e.Capacitor || {}
              , n = t.Plugins = t.Plugins || {}
              , i = "string" == typeof e.WEBVIEW_SERVER_URL ? e.WEBVIEW_SERVER_URL : ""
              , r = ()=>FS(e)
              , o = ()=>"web" !== FS(e)
              , s = e=>{
                var n;
                return null === (n = t.PluginHeaders) || void 0 === n ? void 0 : n.find((t=>t.name === e))
            }
              , a = new Map;
            return t.convertFileSrc = e=>((e,t)=>{
                if ("string" == typeof t) {
                    if (t.startsWith("/"))
                        return e + "/_capacitor_file_" + t;
                    if (t.startsWith("file://"))
                        return e + t.replace("file://", "/_capacitor_file_");
                    if (t.startsWith("content://"))
                        return e + t.replace("content:/", "/_capacitor_content_")
                }
                return t
            }
            )(i, e),
            t.getPlatform = r,
            t.getServerUrl = ()=>i,
            t.handleError = t=>e.console.error(t),
            t.isNativePlatform = o,
            t.isPluginAvailable = e=>{
                const t = a.get(e);
                return !!(null == t ? void 0 : t.platforms.has(r())) || !!s(e)
            }
            ,
            t.logJs = (t,n)=>{
                switch (n) {
                case "error":
                    e.console.error(t);
                    break;
                case "warn":
                    e.console.warn(t);
                    break;
                case "info":
                    e.console.info(t);
                    break;
                default:
                    e.console.log(t)
                }
            }
            ,
            t.pluginMethodNoop = (e,t,n)=>Promise.reject(`${n} does not have an implementation of "${t}".`),
            t.registerPlugin = (e,i={})=>{
                const l = a.get(e);
                if (l)
                    return console.warn(`Capacitor plugin "${e}" already registered. Cannot register plugins twice.`),
                    l.proxy;
                const c = r()
                  , u = s(e);
                let h;
                const p = n=>{
                    let r;
                    const o = (...o)=>{
                        const s = (async()=>(!h && c in i && (h = h = "function" == typeof i[c] ? await i[c]() : i[c]),
                        h))().then((i=>{
                            const s = ((n,i)=>{
                                var r;
                                if (n)
                                    return null === (r = n[i]) || void 0 === r ? void 0 : r.bind(n);
                                if (!u)
                                    throw new AS(`"${e}" plugin is not implemented on ${c}`,MS.Unimplemented);
                                {
                                    const n = u.methods.find((e=>i === e.name));
                                    if (n)
                                        return "promise" === n.rtype ? n=>t.nativePromise(e, i.toString(), n) : (n,r)=>t.nativeCallback(e, i.toString(), n, r)
                                }
                            }
                            )(i, n);
                            if (s) {
                                const e = s(...o);
                                return r = null == e ? void 0 : e.remove,
                                e
                            }
                            throw new AS(`"${e}.${n}()" is not implemented on ${c}`,MS.Unimplemented)
                        }
                        ));
                        return "addListener" === n && (s.remove = async()=>r()),
                        s
                    }
                    ;
                    return o.toString = ()=>`${n.toString()}() { [capacitor code] }`,
                    Object.defineProperty(o, "name", {
                        value: n,
                        writable: !1,
                        configurable: !1
                    }),
                    o
                }
                  , d = p("addListener")
                  , f = p("removeListener")
                  , g = (e,t)=>{
                    const n = d({
                        eventName: e
                    }, t)
                      , i = async()=>{
                        const i = await n;
                        f({
                            eventName: e,
                            callbackId: i
                        }, t)
                    }
                      , r = new Promise((e=>n.then((()=>e({
                        remove: i
                    })))));
                    return r.remove = async()=>{
                        console.warn("Using addListener() without 'await' is deprecated."),
                        await i()
                    }
                    ,
                    r
                }
                  , m = new Proxy({},{
                    get(e, t) {
                        switch (t) {
                        case "$$typeof":
                            return;
                        case "addListener":
                            return o() ? g : d;
                        case "removeListener":
                            return f;
                        default:
                            return p(t)
                        }
                    }
                });
                return n[e] = m,
                a.set(e, {
                    name: e,
                    proxy: m,
                    platforms: new Set([...Object.keys(i), ...u ? [c] : []])
                }),
                m
            }
            ,
            t.Exception = AS,
            t.DEBUG = !!t.DEBUG,
            TS(e, t),
            ((e,t)=>{
                const n = e.document
                  , i = e.cordova;
                t.addListener = (n,i,r)=>{
                    const o = t.nativeCallback(n, "addListener", {
                        eventName: i
                    }, r);
                    return {
                        remove: async()=>{
                            var s;
                            null === (s = null == e ? void 0 : e.console) || void 0 === s || s.debug("Removing listener", n, i),
                            t.removeListener(n, o, i, r)
                        }
                    }
                }
                ,
                t.removeListener = (e,n,i,r)=>{
                    t.nativeCallback(e, "removeListener", {
                        callbackId: n,
                        eventName: i
                    }, r)
                }
                ,
                t.createEvent = (e,t)=>{
                    if (n) {
                        const i = n.createEvent("Events");
                        if (i.initEvent(e, !1, !1),
                        t && "object" == typeof t)
                            for (const e in t)
                                t.hasOwnProperty(e) && (i[e] = t[e]);
                        return i
                    }
                    return null
                }
                ,
                t.triggerEvent = (r,o,s)=>{
                    s = s || {};
                    const a = t.createEvent(r, s);
                    if (a)
                        if ("document" === o) {
                            if (null == i ? void 0 : i.fireDocumentEvent)
                                return i.fireDocumentEvent(r, s),
                                !0;
                            if (null == n ? void 0 : n.dispatchEvent)
                                return n.dispatchEvent(a)
                        } else {
                            if ("window" === o && e.dispatchEvent)
                                return e.dispatchEvent(a);
                            if (null == n ? void 0 : n.querySelector) {
                                const e = n.querySelector(o);
                                if (e)
                                    return e.dispatchEvent(a)
                            }
                        }
                    return !1
                }
            }
            )(e, t),
            ((e,t)=>{
                const n = e.Ionic = e.Ionic || {}
                  , i = n.WebView = n.WebView || {}
                  , r = t.Plugins;
                i.getServerBasePath = e=>{
                    var t;
                    null === (t = null == r ? void 0 : r.WebView) || void 0 === t || t.getServerBasePath().then((t=>{
                        e(t.path)
                    }
                    ))
                }
                ,
                i.setServerBasePath = e=>{
                    var t;
                    null === (t = null == r ? void 0 : r.WebView) || void 0 === t || t.setServerBasePath({
                        path: e
                    })
                }
                ,
                i.persistServerBasePath = ()=>{
                    var e;
                    null === (e = null == r ? void 0 : r.WebView) || void 0 === e || e.persistServerBasePath()
                }
                ,
                i.convertFileSrc = e=>t.convertFileSrc(e)
            }
            )(e, t),
            ((e,t)=>{
                if (t.isNativePlatform()) {
                    e.cordova = e.cordova || {};
                    const n = e.document
                      , i = e.navigator;
                    if (i && (i.app = i.app || {},
                    i.app.exitApp = ()=>{
                        t.nativeCallback("App", "exitApp", {})
                    }
                    ),
                    n) {
                        const e = n.addEventListener;
                        n.addEventListener = (...i)=>{
                            const r = i[0]
                              , o = i[1];
                            return "deviceready" === r && o ? Promise.resolve().then(o) : "backbutton" === r && t.Plugins.App && t.Plugins.App.addListener("backButton", (()=>{}
                            )),
                            e.apply(n, i)
                        }
                    }
                }
                t.platform = t.getPlatform(),
                t.isNative = t.isNativePlatform()
            }
            )(e, t),
            t
        }
          , OS = (e=>e.Capacitor = PS(e))("undefined" != typeof globalThis ? globalThis : "undefined" != typeof self ? self : "undefined" != typeof window ? window : void 0 !== n.g ? n.g : {})
          , IS = OS.registerPlugin;
        OS.Plugins;
        var NS = window.Capacitor && "web" !== OS.getPlatform()
          , RS = !!NS && "ios" === OS.getPlatform()
          , BS = !!NS && "android" === OS.getPlatform()
          , zS = NS ? IS("App") : null
          , HS = NS ? IS("Filesystem") : null
          , VS = NS ? IS("SplashScreen") : null
          , qS = NS ? IS("StatusBar") : null
          , US = NS ? IS("Device") : null
          , _S = NS ? IS("KeepAwake") : null;
        function jS(e) {
            return o(this, void 0, Promise, (function() {
                var t, n;
                return s(this, (function(i) {
                    switch (i.label) {
                    case 0:
                        return i.trys.push([0, 2, , 3]),
                        [4, e];
                    case 1:
                        return [2, i.sent()];
                    case 2:
                        throw t = i.sent(),
                        (n = t.message) && (n.contains("does not exist") || n.contains("there is no such file")) && (t.code = "ENOENT"),
                        t;
                    case 3:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        var WS = 5242880
          , $S = function() {
            function e(e) {
                this.uri = "",
                this.dir = e
            }
            return e.prototype.init = function() {
                return o(this, void 0, Promise, (function() {
                    var e;
                    return s(this, (function(t) {
                        switch (t.label) {
                        case 0:
                            return e = this,
                            [4, HS.getUri({
                                directory: this.dir,
                                path: ""
                            })];
                        case 1:
                            return e.uri = t.sent().uri,
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.watch = function(e) {
                return o(this, void 0, void 0, (function() {
                    return s(this, (function(t) {
                        switch (t.label) {
                        case 0:
                            return [4, HS.startWatch({
                                directory: this.dir,
                                path: e
                            })];
                        case 1:
                            return t.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.read = function(e) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(t) {
                        switch (t.label) {
                        case 0:
                            return [4, jS(HS.readFile({
                                directory: this.dir,
                                path: e,
                                encoding: wS.UTF8
                            }))];
                        case 1:
                            return [2, t.sent().data]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.readBinary = function(e) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(t) {
                        switch (t.label) {
                        case 0:
                            return [4, jS(this.stat(e))];
                        case 1:
                            return t.sent().size < WS ? [4, jS(HS.readFile({
                                directory: this.dir,
                                path: e
                            }))] : [3, 3];
                        case 2:
                            return [2, k(t.sent().data)];
                        case 3:
                            return [4, fetch(this.getUri(e))];
                        case 4:
                            return [2, t.sent().arrayBuffer()]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.write = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(n) {
                        switch (n.label) {
                        case 0:
                            return [4, jS(HS.writeFile({
                                directory: this.dir,
                                path: e,
                                data: t,
                                encoding: wS.UTF8
                            }))];
                        case 1:
                            return n.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.writeBinary = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(n) {
                        switch (n.label) {
                        case 0:
                            return [4, jS(this.writeBinaryInternal(e, t))];
                        case 1:
                            return n.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.writeBinaryInternal = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    var n, i, r, o;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return t.byteLength < WS ? [4, HS.writeFile({
                                directory: this.dir,
                                path: e,
                                data: C(t)
                            })] : [3, 2];
                        case 1:
                            return s.sent(),
                            [2];
                        case 2:
                            return [4, HS.writeFile({
                                directory: this.dir,
                                path: e,
                                data: ""
                            })];
                        case 3:
                            s.sent(),
                            n = 0,
                            s.label = 4;
                        case 4:
                            return n < t.byteLength ? (i = Math.min(1048576, t.byteLength - n),
                            r = new Uint8Array(t,n,i),
                            o = x(r),
                            [4, HS.appendFile({
                                directory: this.dir,
                                path: e,
                                data: o
                            })]) : [3, 6];
                        case 5:
                            return s.sent(),
                            n += i,
                            [3, 4];
                        case 6:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.mkdir = function(e) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(t) {
                        switch (t.label) {
                        case 0:
                            return [4, jS(HS.mkdir({
                                directory: this.dir,
                                path: e,
                                recursive: !0
                            }))];
                        case 1:
                            return t.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.readdir = function(e) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(t) {
                        switch (t.label) {
                        case 0:
                            return [4, jS(HS.readdir({
                                directory: this.dir,
                                path: e
                            }))];
                        case 1:
                            return [2, t.sent().files]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.stat = function(e) {
                return o(this, void 0, Promise, (function() {
                    var t;
                    return s(this, (function(n) {
                        switch (n.label) {
                        case 0:
                            return [4, jS(HS.stat({
                                directory: this.dir,
                                path: e
                            }))];
                        case 1:
                            return "NSFileTypeRegular" === (t = n.sent()).type && (t.type = "file"),
                            "NSFileTypeDirectory" === t.type && (t.type = "directory"),
                            null === t.ctime && (t.ctime = 0),
                            [2, t]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.exists = function(e) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(t) {
                        switch (t.label) {
                        case 0:
                            return t.trys.push([0, 2, , 3]),
                            [4, this.stat(e)];
                        case 1:
                            return t.sent(),
                            [2, !0];
                        case 2:
                            return t.sent(),
                            [2, !1];
                        case 3:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.setTimes = function(e, t, n) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(i) {
                        switch (i.label) {
                        case 0:
                            return [4, jS(HS.setTimes({
                                directory: this.dir,
                                path: e,
                                ctime: t,
                                mtime: n
                            }))];
                        case 1:
                            return i.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.rmdir = function(e) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(t) {
                        switch (t.label) {
                        case 0:
                            return [4, jS(HS.rmdir({
                                directory: this.dir,
                                path: e,
                                recursive: !0
                            }))];
                        case 1:
                            return t.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.delete = function(e) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(t) {
                        switch (t.label) {
                        case 0:
                            return [4, jS(HS.deleteFile({
                                directory: this.dir,
                                path: e
                            }))];
                        case 1:
                            return t.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.rename = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(n) {
                        switch (n.label) {
                        case 0:
                            return [4, jS(HS.rename({
                                directory: this.dir,
                                from: e,
                                to: t
                            }))];
                        case 1:
                            return n.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.copy = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(n) {
                        switch (n.label) {
                        case 0:
                            return [4, jS(HS.copy({
                                directory: this.dir,
                                from: e,
                                to: t
                            }))];
                        case 1:
                            return n.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.open = function(e) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(t) {
                        switch (t.label) {
                        case 0:
                            return [4, jS(HS.open({
                                directory: this.dir,
                                path: e
                            }))];
                        case 1:
                            return t.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.trash = function(e) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(t) {
                        switch (t.label) {
                        case 0:
                            return [4, jS(HS.trash({
                                directory: this.dir,
                                path: e
                            }))];
                        case 1:
                            return t.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.getNativeUri = function(e) {
                return e = te(e),
                this.uri + ("/" === e ? "" : "/" + e.split("/").map((function(e) {
                    return encodeURIComponent(e)
                }
                )).join("/"))
            }
            ,
            e.prototype.getUri = function(e) {
                var t = this.getNativeUri(e);
                return t.startsWith("file://") && (t = OS.convertFileSrc(t)),
                t
            }
            ,
            e
        }();
        function GS(e) {
            return {
                ctime: Math.round(e.ctime),
                mtime: Math.round(e.mtime),
                size: e.size
            }
        }
        window.FS = $S;
        var YS = function() {
            function e(e, t) {
                var n = this;
                this.fs = t,
                this.basePath = e,
                this.files = {},
                this.promise = Promise.resolve(),
                this.handler = null,
                this.insensitive = !1,
                o(n, void 0, void 0, (function() {
                    return s(this, (function(e) {
                        try {
                            this.testInsensitive()
                        } catch (e) {
                            console.error(e)
                        }
                        return [2]
                    }
                    ))
                }
                ))
            }
            return e.prototype.testInsensitive = function() {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(e) {
                        return [2]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.getName = function() {
                return W(this.basePath)
            }
            ,
            e.prototype.listAll = function() {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(e) {
                        switch (e.label) {
                        case 0:
                            return this.files["/"] = {
                                type: "folder",
                                realpath: "/"
                            },
                            [4, this.listRecursive("")];
                        case 1:
                            return e.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.listRecursive = function(e) {
                return o(this, void 0, Promise, (function() {
                    var t, n, i, r, o, a;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return t = this.getFullRealPath(e),
                            [4, this.fs.readdir(t)];
                        case 1:
                            for (n = s.sent(),
                            i = [],
                            r = 0,
                            o = n; r < o.length; r++)
                                a = o[r],
                                i.push(this.listRecursiveChild(e, a));
                            return [4, Promise.all(i)];
                        case 2:
                            return s.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.listRecursiveChild = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    var n, i, r;
                    return s(this, (function(o) {
                        switch (o.label) {
                        case 0:
                            return n = te("" === e ? t : e + "/" + t),
                            i = ee(n),
                            this.trigger("raw", i),
                            G(i) ? [4, this.reconcileDeletion(n, i)] : [3, 2];
                        case 1:
                            return [2, o.sent()];
                        case 2:
                            return [4, this.fs.stat(this.getFullRealPath(n))];
                        case 3:
                            return "file" !== (r = o.sent()).type ? [3, 4] : (this.reconcileFileChanged(n, i, r),
                            [3, 6]);
                        case 4:
                            return "directory" !== r.type ? [3, 6] : [4, this.reconcileFolderCreation(n, i)];
                        case 5:
                            o.sent(),
                            o.label = 6;
                        case 6:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.mkdir = function(e) {
                var t = this;
                return this.queue((function() {
                    return o(t, void 0, void 0, (function() {
                        var t, n;
                        return s(this, (function(i) {
                            switch (i.label) {
                            case 0:
                                t = this.getFullPath(e),
                                i.label = 1;
                            case 1:
                                return i.trys.push([1, 3, , 4]),
                                [4, this.fs.mkdir(t)];
                            case 2:
                                return i.sent(),
                                [3, 4];
                            case 3:
                                if ("Directory exists" !== (n = i.sent()).message)
                                    throw n;
                                return [3, 4];
                            case 4:
                                return [4, this.reconcileInternalFile(e)];
                            case 5:
                                return i.sent(),
                                [2]
                            }
                        }
                        ))
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.trashSystem = function(e) {
                var t = this;
                return this.queue((function() {
                    return o(t, void 0, void 0, (function() {
                        var t;
                        return s(this, (function(n) {
                            switch (n.label) {
                            case 0:
                                t = this.getFullPath(e),
                                n.label = 1;
                            case 1:
                                return n.trys.push([1, 3, , 4]),
                                [4, this.fs.trash(t)];
                            case 2:
                                return n.sent(),
                                [3, 4];
                            case 3:
                                return n.sent(),
                                [2, !1];
                            case 4:
                                return [4, this.reconcileInternalFile(e)];
                            case 5:
                                return n.sent(),
                                [2, !0]
                            }
                        }
                        ))
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.trashLocal = function(e) {
                var t = this;
                return this.queue((function() {
                    return o(t, void 0, void 0, (function() {
                        var t, n, i, r, o, a, l, c;
                        return s(this, (function(s) {
                            switch (s.label) {
                            case 0:
                                t = this.getFullPath(e),
                                n = this.getFullPath(".trash"),
                                s.label = 1;
                            case 1:
                                return s.trys.push([1, 3, , 4]),
                                [4, this.fs.mkdir(n)];
                            case 2:
                                return s.sent(),
                                [3, 4];
                            case 3:
                                if ("Directory exists" !== (i = s.sent()).message)
                                    throw i;
                                return [3, 4];
                            case 4:
                                r = W(t),
                                o = K(r),
                                a = Q(r),
                                l = n + "/" + o + "." + a,
                                c = 1,
                                s.label = 5;
                            case 5:
                                return [4, this._exists(l)];
                            case 6:
                                return s.sent() ? (c++,
                                l = n + "/" + o + " " + c + "." + a,
                                [3, 5]) : [3, 7];
                            case 7:
                                return [4, this.fs.rename(t, l)];
                            case 8:
                                return s.sent(),
                                [4, this.reconcileInternalFile(e)];
                            case 9:
                                return s.sent(),
                                [2]
                            }
                        }
                        ))
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.rmdir = function(e, t) {
                var n = this;
                return this.queue((function() {
                    return o(n, void 0, void 0, (function() {
                        var t;
                        return s(this, (function(n) {
                            switch (n.label) {
                            case 0:
                                return t = this.getFullPath(e),
                                [4, this.fs.rmdir(t)];
                            case 1:
                                return n.sent(),
                                [4, this.reconcileInternalFile(e)];
                            case 2:
                                return n.sent(),
                                [2]
                            }
                        }
                        ))
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.read = function(e) {
                var t = this;
                return this.queue((function() {
                    var n = t.getFullPath(e);
                    return t.fs.read(n)
                }
                ))
            }
            ,
            e.prototype.readBinary = function(e) {
                var t = this;
                return this.queue((function() {
                    var n = t.getFullPath(e);
                    return t.fs.readBinary(n)
                }
                ))
            }
            ,
            e.prototype.write = function(e, t, n) {
                var i = this;
                return this.queue((function() {
                    return o(i, void 0, void 0, (function() {
                        var i;
                        return s(this, (function(r) {
                            switch (r.label) {
                            case 0:
                                return i = this.getFullPath(e),
                                [4, this.fs.write(i, t)];
                            case 1:
                                return r.sent(),
                                n ? n.ctime || n.mtime ? [4, this.fs.setTimes(i, n.ctime, n.mtime)] : [3, 3] : [3, 4];
                            case 2:
                                r.sent(),
                                r.label = 3;
                            case 3:
                                n.immediate && n.immediate(),
                                r.label = 4;
                            case 4:
                                return [4, this.reconcileInternalFile(e)];
                            case 5:
                                return r.sent(),
                                [2]
                            }
                        }
                        ))
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.writeBinary = function(e, t, n) {
                var i = this;
                return this.queue((function() {
                    return o(i, void 0, void 0, (function() {
                        var i;
                        return s(this, (function(r) {
                            switch (r.label) {
                            case 0:
                                return i = this.getFullPath(e),
                                [4, this.fs.writeBinary(i, t)];
                            case 1:
                                return r.sent(),
                                n ? n.ctime || n.mtime ? [4, this.fs.setTimes(i, n.ctime, n.mtime)] : [3, 3] : [3, 4];
                            case 2:
                                r.sent(),
                                r.label = 3;
                            case 3:
                                n.immediate && n.immediate(),
                                r.label = 4;
                            case 4:
                                return [4, this.reconcileInternalFile(e)];
                            case 5:
                                return r.sent(),
                                [2]
                            }
                        }
                        ))
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.getResourcePath = function(e) {
                var t = this.getFullPath(e);
                return this.fs.getUri(t)
            }
            ,
            e.prototype.getNativePath = function(e) {
                var t = this.getFullPath(e);
                return this.fs.getNativeUri(t)
            }
            ,
            e.prototype.open = function(e) {
                return o(this, void 0, Promise, (function() {
                    var t;
                    return s(this, (function(n) {
                        return t = this.getFullPath(e),
                        [2, this.fs.open(t)]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.remove = function(e) {
                var t = this;
                return this.queue((function() {
                    return o(t, void 0, void 0, (function() {
                        var t;
                        return s(this, (function(n) {
                            switch (n.label) {
                            case 0:
                                return t = this.getFullPath(e),
                                [4, this.fs.delete(t)];
                            case 1:
                                return n.sent(),
                                [4, this.reconcileInternalFile(e)];
                            case 2:
                                return n.sent(),
                                [2]
                            }
                        }
                        ))
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.update = function(e) {
                var t = this;
                return this.queue((function() {
                    return o(t, void 0, void 0, (function() {
                        return s(this, (function(t) {
                            switch (t.label) {
                            case 0:
                                return [4, this.reconcileInternalFile(e)];
                            case 1:
                                return t.sent(),
                                [2]
                            }
                        }
                        ))
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.rename = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    var n = this;
                    return s(this, (function(i) {
                        switch (i.label) {
                        case 0:
                            return e === t ? [2] : [4, this.queue((function() {
                                return o(n, void 0, void 0, (function() {
                                    var n, i, r, o, a, l, c, u, h, p;
                                    return s(this, (function(s) {
                                        switch (s.label) {
                                        case 0:
                                            return n = this.getFullPath(e),
                                            i = this.getFullPath(t),
                                            [4, this._exists(i, !1)];
                                        case 1:
                                            if (s.sent() && (!this.insensitive || e.toLowerCase() !== t.toLowerCase()))
                                                throw new Error("Destination file already exists!");
                                            return r = this.files[e],
                                            o = r.realpath,
                                            [4, this.fs.rename(n, i)];
                                        case 2:
                                            if (s.sent(),
                                            delete this.files[e],
                                            a = this.getRealPath(t),
                                            r.realpath = a,
                                            this.files[t] = r,
                                            this.trigger("renamed", t, e),
                                            "folder" === r.type)
                                                for (l in this.files)
                                                    this.files.hasOwnProperty(l) && l.startsWith(e + "/") && (c = l.slice(e.length),
                                                    u = t + c,
                                                    h = this.files[l],
                                                    delete this.files[l],
                                                    p = h.realpath.slice(o.length),
                                                    h.realpath = a + p,
                                                    this.files[u] = h,
                                                    this.trigger("renamed", u, l));
                                            return [2]
                                        }
                                    }
                                    ))
                                }
                                ))
                            }
                            ))];
                        case 1:
                            return i.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.copy = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    var n = this;
                    return s(this, (function(i) {
                        switch (i.label) {
                        case 0:
                            return [4, this.queue((function() {
                                return o(n, void 0, void 0, (function() {
                                    var n, i;
                                    return s(this, (function(r) {
                                        switch (r.label) {
                                        case 0:
                                            return n = this.getFullPath(e),
                                            i = this.getFullPath(t),
                                            [4, this.fs.copy(n, i)];
                                        case 1:
                                            return r.sent(),
                                            [4, this.reconcileInternalFile(t)];
                                        case 2:
                                            return r.sent(),
                                            [2]
                                        }
                                    }
                                    ))
                                }
                                ))
                            }
                            ))];
                        case 1:
                            return i.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.exists = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    var n = this;
                    return s(this, (function(i) {
                        return [2, this.queue((function() {
                            var i = n.getFullPath(e);
                            return n._exists(i, t)
                        }
                        ))]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype._exists = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    var n, i;
                    return s(this, (function(r) {
                        switch (r.label) {
                        case 0:
                            return r.trys.push([0, 2, , 3]),
                            [4, this.fs.stat(e)];
                        case 1:
                            return r.sent(),
                            [3, 3];
                        case 2:
                            return r.sent(),
                            [2, !1];
                        case 3:
                            return t && this.insensitive ? (n = $(e),
                            i = W(e),
                            [4, this.fs.readdir(n)]) : [3, 5];
                        case 4:
                            if (-1 === r.sent().indexOf(i))
                                return [2, !1];
                            r.label = 5;
                        case 5:
                            return [2, !0]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.stat = function(e) {
                return o(this, void 0, Promise, (function() {
                    var t = this;
                    return s(this, (function(n) {
                        return [2, this.queue((function() {
                            return o(t, void 0, void 0, (function() {
                                var t, n, i;
                                return s(this, (function(o) {
                                    switch (o.label) {
                                    case 0:
                                        t = this.getFullPath(e),
                                        o.label = 1;
                                    case 1:
                                        return o.trys.push([1, 3, , 4]),
                                        [4, this.fs.stat(t)];
                                    case 2:
                                        return "file" === (n = o.sent()).type ? [2, r({
                                            type: "file"
                                        }, GS(n))] : "directory" === n.type ? [2, {
                                            type: "folder",
                                            ctime: 0,
                                            mtime: 0,
                                            size: 0
                                        }] : [3, 4];
                                    case 3:
                                        if ("ENOENT" !== (i = o.sent()).code)
                                            throw i;
                                        return [3, 4];
                                    case 4:
                                        return [2, null]
                                    }
                                }
                                ))
                            }
                            ))
                        }
                        ))]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.list = function(e) {
                return o(this, void 0, Promise, (function() {
                    var t = this;
                    return s(this, (function(n) {
                        return [2, this.queue((function() {
                            return o(t, void 0, void 0, (function() {
                                var t, n, i, r, o, a, l, c, u;
                                return s(this, (function(s) {
                                    switch (s.label) {
                                    case 0:
                                        return t = this.getFullPath(e),
                                        [4, this.fs.readdir(t)];
                                    case 1:
                                        n = s.sent(),
                                        i = {
                                            folders: [],
                                            files: []
                                        },
                                        r = 0,
                                        o = n,
                                        s.label = 2;
                                    case 2:
                                        return r < o.length ? (a = o[r],
                                        l = te("" === e ? a : e + "/" + a),
                                        c = ee(l),
                                        [4, this.fs.stat(this.getFullRealPath(l))]) : [3, 5];
                                    case 3:
                                        "file" === (u = s.sent()).type && i.files.push(c),
                                        "directory" === u.type && i.folders.push(c),
                                        s.label = 4;
                                    case 4:
                                        return r++,
                                        [3, 2];
                                    case 5:
                                        return [2, i]
                                    }
                                }
                                ))
                            }
                            ))
                        }
                        ))]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.watch = function(e) {
                return o(this, void 0, Promise, (function() {
                    var t = this;
                    return s(this, (function(n) {
                        switch (n.label) {
                        case 0:
                            return this.stopWatch(),
                            this.handler = e,
                            [4, HS.addListener("change", (function(e) {
                                var n = te(e.path)
                                  , i = te(n.substr(t.basePath.length));
                                t.onFileChange(i)
                            }
                            ))];
                        case 1:
                            return n.sent(),
                            [2, this.queue((function() {
                                return t.listAll()
                            }
                            ))]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.stopWatch = function() {
                try {
                    HS.removeAllListeners()
                } catch (e) {}
                this.handler = null
            }
            ,
            e.prototype.onFileChange = function(e) {
                var t = this;
                e && (e = te(e),
                setTimeout((function() {
                    var n = ee(e);
                    t.queue((function() {
                        return t.reconcileFile(e, n, !1)
                    }
                    ))
                }
                ), 0))
            }
            ,
            e.prototype.reconcileInternalFile = function(e) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(t) {
                        return [2, this.reconcileFile(this.getRealPath(e), e)]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.reconcileFile = function(e, t, n) {
                return void 0 === n && (n = !0),
                o(this, void 0, Promise, (function() {
                    var i, r, o, a;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return this.trigger("raw", t),
                            G(t) ? [4, this.reconcileDeletion(e, t, n)] : [3, 2];
                        case 1:
                            return [2, s.sent()];
                        case 2:
                            return s.trys.push([2, 10, , 13]),
                            i = this.getFullRealPath(e),
                            this.insensitive ? (r = $(i),
                            o = W(t),
                            [4, this.fs.readdir(r)]) : [3, 5];
                        case 3:
                            return -1 !== s.sent().map((function(e) {
                                return Pf(e).normalize("NFC")
                            }
                            )).indexOf(o) ? [3, 5] : [4, this.reconcileDeletion(e, t, n)];
                        case 4:
                            return [2, s.sent()];
                        case 5:
                            return [4, this.fs.stat(i)];
                        case 6:
                            return "file" !== (a = s.sent()).type ? [3, 7] : (this.reconcileFileChanged(e, t, a),
                            [3, 9]);
                        case 7:
                            return "directory" !== a.type ? [3, 9] : [4, this.reconcileFolderCreation(e, t)];
                        case 8:
                            s.sent(),
                            s.label = 9;
                        case 9:
                            return [3, 13];
                        case 10:
                            return "ENOENT" !== s.sent().code ? [3, 12] : [4, this.reconcileDeletion(e, t, n)];
                        case 11:
                            s.sent(),
                            s.label = 12;
                        case 12:
                            return [3, 13];
                        case 13:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.reconcileFileChanged = function(e, t, n) {
                var i = this.files[t];
                if (i) {
                    if (i.realpath = e,
                    "file" === i.type && (i.mtime !== Math.round(n.mtime) || i.size !== n.size)) {
                        i.mtime = Math.round(n.mtime),
                        i.size = n.size;
                        var r = GS(n);
                        this.trigger("modified", t, t, r)
                    }
                } else
                    this.reconcileFileCreation(e, t, n)
            }
            ,
            e.prototype.reconcileFileCreation = function(e, t, n) {
                var i = GS(n);
                this.files[t] || (this.files[t] = function(e, t) {
                    return "file" === t.type ? {
                        type: "file",
                        realpath: e,
                        ctime: Math.round(t.ctime),
                        mtime: Math.round(t.mtime),
                        size: t.size
                    } : "directory" === t.type ? {
                        type: "folder",
                        realpath: e
                    } : void 0
                }(e, n),
                this.trigger("file-created", t, t, i))
            }
            ,
            e.prototype.reconcileFolderCreation = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(n) {
                        switch (n.label) {
                        case 0:
                            return this.files.hasOwnProperty(t) ? [3, 2] : (this.files[t] = {
                                type: "folder",
                                realpath: e
                            },
                            this.trigger("folder-created", t),
                            [4, this.listRecursive(e)]);
                        case 1:
                            return n.sent(),
                            [3, 3];
                        case 2:
                            this.files[t].realpath = e,
                            n.label = 3;
                        case 3:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.reconcileDeletion = function(e, t, n) {
                return void 0 === n && (n = !0),
                o(this, void 0, Promise, (function() {
                    var i, r, o = this;
                    return s(this, (function(s) {
                        if ("/" === t)
                            return this.trigger("closed", t),
                            [2];
                        if (!(i = this.files[t]))
                            return [2];
                        if (!n)
                            return setTimeout((function() {
                                o.queue((function() {
                                    return o.reconcileFile(e, t)
                                }
                                ))
                            }
                            ), 100),
                            [2];
                        if ("folder" === i.type)
                            for (r in this.files)
                                this.files.hasOwnProperty(r) && r.startsWith(t + "/") && this.removeFile(r);
                        return this.removeFile(t),
                        [2]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.trigger = function(e, t, n, i) {
                this.handler && this.handler(e, t, n, i)
            }
            ,
            e.prototype.getRealPath = function(e) {
                for (var t = e; t; ) {
                    if (this.files.hasOwnProperty(t)) {
                        var n = e.substr(t.length);
                        return this.files[t].realpath + n
                    }
                    t = $(t)
                }
                return e
            }
            ,
            e.prototype.getFullPath = function(e) {
                var t = this.getRealPath(e);
                return this.getFullRealPath(t)
            }
            ,
            e.prototype.getFullRealPath = function(e) {
                return this.basePath + "/" + e
            }
            ,
            e.prototype.queue = function(e) {
                var t = this.promise.then(e, e);
                return this.promise = t,
                t
            }
            ,
            e.prototype.removeFile = function(e) {
                var t = this.files[e];
                delete this.files[e],
                t && ("file" === t.type ? this.trigger("file-removed", e) : "folder" === t.type && this.trigger("folder-removed", e))
            }
            ,
            e
        }();
        function KS(e) {
            return {
                ctime: Math.round(e.birthtimeMs),
                mtime: Math.round(e.mtimeMs),
                size: e.size
            }
        }
        var QS = window.process
          , JS = QS ? QS.platform : ""
          , XS = "darwin" === JS
          , ZS = "win32" === JS
          , eL = XS || ZS
          , tL = function() {
            function e(e) {
                this.thingsHappening = Pe(this.kill.bind(this), 6e4, !0),
                this.basePath = e,
                this.fs = window.require("original-fs"),
                this.fsPromises = this.fs.promises,
                this.path = window.require("path");
                var t = window.require("electron");
                this.shell = t.shell,
                this.files = {},
                this.promise = Promise.resolve(),
                this.watcher = null,
                this.watchers = {},
                this.handler = null;
                try {
                    this.btime = window.require("btime")
                } catch (e) {}
                this.insensitive = XS || ZS;
                try {
                    this.testInsensitive()
                } catch (e) {
                    console.error(e)
                }
            }
            return e.prototype.testInsensitive = function() {
                var e = this
                  , t = e.fs
                  , n = e.path
                  , i = e.basePath
                  , r = n.join(i, ".OBSIDIANTEST")
                  , o = n.join(i, ".OBSIDIANTEST".toLowerCase());
                t.existsSync(r) && t.unlinkSync(r),
                t.writeFileSync(r, "", "utf8"),
                this.insensitive = t.existsSync(o),
                t.unlinkSync(r)
            }
            ,
            e.prototype.getName = function() {
                return this.path.basename(this.basePath)
            }
            ,
            e.prototype.getBasePath = function() {
                return this.basePath
            }
            ,
            e.prototype.listAll = function() {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(e) {
                        switch (e.label) {
                        case 0:
                            return this.files["/"] = {
                                type: "folder",
                                realpath: "/"
                            },
                            [4, this.listRecursive("")];
                        case 1:
                            return e.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.listRecursive = function(e) {
                return o(this, void 0, Promise, (function() {
                    var t, n, i, r, o, a;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return t = this.getFullRealPath(e),
                            [4, this.fsPromises.readdir(t)];
                        case 1:
                            for (n = s.sent(),
                            this.thingsHappening(),
                            i = [],
                            r = 0,
                            o = n; r < o.length; r++)
                                a = o[r],
                                i.push(this.listRecursiveChild(e, a));
                            return [4, Promise.all(i)];
                        case 2:
                            return s.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.listRecursiveChild = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    var n, i, r;
                    return s(this, (function(o) {
                        switch (o.label) {
                        case 0:
                            return n = te("" === e ? t : e + "/" + t),
                            i = ee(n),
                            this.trigger("raw", i),
                            G(i) ? [4, this.reconcileDeletion(n, i)] : [3, 2];
                        case 1:
                            return [2, o.sent()];
                        case 2:
                            return o.trys.push([2, 4, , 8]),
                            [4, this.reconcileFileInternal(n, i)];
                        case 3:
                            return o.sent(),
                            [3, 8];
                        case 4:
                            return "ENOENT" !== (r = o.sent()).code ? [3, 6] : [4, this.reconcileDeletion(n, i, !0)];
                        case 5:
                            return o.sent(),
                            [3, 7];
                        case 6:
                            throw r;
                        case 7:
                            return [3, 8];
                        case 8:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.mkdir = function(e) {
                var t = this;
                return this.queue((function() {
                    return o(t, void 0, void 0, (function() {
                        var t;
                        return s(this, (function(n) {
                            switch (n.label) {
                            case 0:
                                return t = this.getFullPath(e),
                                [4, this.fsPromises.mkdir(t, {
                                    recursive: !0
                                })];
                            case 1:
                                return n.sent(),
                                [4, this.reconcileInternalFile(e)];
                            case 2:
                                return n.sent(),
                                [2]
                            }
                        }
                        ))
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.trashSystem = function(e) {
                var t = this;
                return this.queue((function() {
                    return o(t, void 0, void 0, (function() {
                        var t, n;
                        return s(this, (function(i) {
                            switch (i.label) {
                            case 0:
                                if (t = this.getFullPath(e),
                                !(n = this.shell).trashItem)
                                    return [3, 5];
                                i.label = 1;
                            case 1:
                                return i.trys.push([1, 3, , 4]),
                                [4, n.trashItem(t)];
                            case 2:
                                return i.sent(),
                                [3, 4];
                            case 3:
                                return i.sent(),
                                [2, !1];
                            case 4:
                                return [3, 6];
                            case 5:
                                if (!n.moveItemToTrash(t, !1))
                                    return [2, !1];
                                i.label = 6;
                            case 6:
                                return [4, this.reconcileInternalFile(e)];
                            case 7:
                                return i.sent(),
                                [2, !0]
                            }
                        }
                        ))
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.trashLocal = function(e) {
                var t = this;
                return this.queue((function() {
                    return o(t, void 0, void 0, (function() {
                        var t, n, i, r, o, a;
                        return s(this, (function(s) {
                            switch (s.label) {
                            case 0:
                                return t = this.getFullPath(e),
                                n = this.getFullPath(".trash"),
                                [4, this.fsPromises.mkdir(n, {
                                    recursive: !0
                                })];
                            case 1:
                                s.sent(),
                                i = this.path.extname(t),
                                r = this.path.basename(t, i),
                                o = this.path.join(n, r + i),
                                a = 1,
                                s.label = 2;
                            case 2:
                                return [4, this._exists(o)];
                            case 3:
                                return s.sent() ? (a++,
                                o = this.path.join(n, r + " " + a + i),
                                [3, 2]) : [3, 4];
                            case 4:
                                return [4, this.fsPromises.rename(t, o)];
                            case 5:
                                return s.sent(),
                                [4, this.reconcileInternalFile(e)];
                            case 6:
                                return s.sent(),
                                [2]
                            }
                        }
                        ))
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.rmdir = function(e, t) {
                var n = this;
                return this.queue((function() {
                    return o(n, void 0, void 0, (function() {
                        var n;
                        return s(this, (function(i) {
                            switch (i.label) {
                            case 0:
                                return n = this.getFullPath(e),
                                [4, this.fsPromises.rmdir(n, {
                                    maxRetries: 5,
                                    recursive: t
                                })];
                            case 1:
                                return i.sent(),
                                [4, this.reconcileInternalFile(e)];
                            case 2:
                                return i.sent(),
                                [2]
                            }
                        }
                        ))
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.read = function(e) {
                var t = this;
                return this.queue((function() {
                    var n = t.getFullPath(e);
                    return t.fsPromises.readFile(n, "utf8")
                }
                ))
            }
            ,
            e.prototype.readBinary = function(e) {
                var t = this;
                return this.queue((function() {
                    return o(t, void 0, void 0, (function() {
                        var t;
                        return s(this, (function(n) {
                            switch (n.label) {
                            case 0:
                                return t = this.getFullPath(e),
                                [4, this.fsPromises.readFile(t)];
                            case 1:
                                return [2, v(n.sent())]
                            }
                        }
                        ))
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.write = function(e, t, n) {
                var i = this;
                return this.queue((function() {
                    return o(i, void 0, void 0, (function() {
                        var i;
                        return s(this, (function(r) {
                            switch (r.label) {
                            case 0:
                                return i = this.getFullPath(e),
                                [4, this.fsPromises.writeFile(i, t, "utf8")];
                            case 1:
                                return r.sent(),
                                [4, this.applyWriteOptions(i, n)];
                            case 2:
                                return r.sent(),
                                [4, this.reconcileInternalFile(e)];
                            case 3:
                                return r.sent(),
                                [2]
                            }
                        }
                        ))
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.writeBinary = function(e, t, n) {
                var i = this;
                return this.queue((function() {
                    return o(i, void 0, void 0, (function() {
                        var i, r;
                        return s(this, (function(o) {
                            switch (o.label) {
                            case 0:
                                return i = this.getFullPath(e),
                                s = t,
                                r = Buffer.from(s),
                                [4, this.fsPromises.writeFile(i, r)];
                            case 1:
                                return o.sent(),
                                [4, this.applyWriteOptions(i, n)];
                            case 2:
                                return o.sent(),
                                [4, this.reconcileInternalFile(e)];
                            case 3:
                                return o.sent(),
                                [2]
                            }
                            var s
                        }
                        ))
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.applyWriteOptions = function(e, t) {
                return o(this, void 0, void 0, (function() {
                    var n, i, r;
                    return s(this, (function(o) {
                        switch (o.label) {
                        case 0:
                            return t ? (n = t.ctime,
                            i = t.mtime,
                            r = t.immediate,
                            n && this.btime && this.btime.btime(e, n),
                            i ? [4, this.fsPromises.utimes(e, i / 1e3, i / 1e3)] : [3, 2]) : [2];
                        case 1:
                            o.sent(),
                            o.label = 2;
                        case 2:
                            return r && r(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.getResourcePath = function(e) {
                var t = this.getFullPath(e)
                  , n = 0
                  , i = this.files[e];
                return i && "file" === i.type && (n = i.mtime),
                n || (n = Date.now()),
                "app://local/" + encodeURIComponent(t) + "?" + n
            }
            ,
            e.prototype.remove = function(e) {
                var t = this;
                return this.queue((function() {
                    return o(t, void 0, void 0, (function() {
                        var t;
                        return s(this, (function(n) {
                            switch (n.label) {
                            case 0:
                                return t = this.getFullPath(e),
                                [4, this.fsPromises.unlink(t)];
                            case 1:
                                return n.sent(),
                                [4, this.reconcileInternalFile(e)];
                            case 2:
                                return n.sent(),
                                [2]
                            }
                        }
                        ))
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.update = function(e) {
                var t = this;
                return this.queue((function() {
                    return o(t, void 0, void 0, (function() {
                        return s(this, (function(t) {
                            switch (t.label) {
                            case 0:
                                return [4, this.reconcileInternalFile(e)];
                            case 1:
                                return t.sent(),
                                [2]
                            }
                        }
                        ))
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.rename = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    var n = this;
                    return s(this, (function(i) {
                        switch (i.label) {
                        case 0:
                            return e === t ? [2] : [4, this.queue((function() {
                                return o(n, void 0, void 0, (function() {
                                    var n, i, r, o, a, l, c, u, h, p;
                                    return s(this, (function(s) {
                                        switch (s.label) {
                                        case 0:
                                            return n = this.getFullPath(e),
                                            i = this.getFullPath(t),
                                            [4, this._exists(i, !1)];
                                        case 1:
                                            if (s.sent() && (!this.insensitive || e.toLowerCase() !== t.toLowerCase()))
                                                throw new Error("Destination file already exists!");
                                            return r = this.files[e],
                                            o = r.realpath,
                                            [4, this.fsPromises.rename(n, i)];
                                        case 2:
                                            return s.sent(),
                                            delete this.files[e],
                                            a = this.getRealPath(t),
                                            r.realpath = a,
                                            this.files[t] = r,
                                            this.trigger("renamed", t, e),
                                            "folder" === r.type && this.watchers.hasOwnProperty(e) ? (this.stopWatchPath(e),
                                            [4, this.startWatchPath(t)]) : [3, 4];
                                        case 3:
                                            s.sent(),
                                            s.label = 4;
                                        case 4:
                                            if ("folder" === r.type)
                                                for (l in this.files)
                                                    this.files.hasOwnProperty(l) && l.startsWith(e + "/") && (c = l.slice(e.length),
                                                    u = t + c,
                                                    h = this.files[l],
                                                    delete this.files[l],
                                                    p = h.realpath.slice(o.length),
                                                    h.realpath = a + p,
                                                    this.files[u] = h,
                                                    this.trigger("renamed", u, l));
                                            return [2]
                                        }
                                    }
                                    ))
                                }
                                ))
                            }
                            ))];
                        case 1:
                            return i.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.copy = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    var n = this;
                    return s(this, (function(i) {
                        switch (i.label) {
                        case 0:
                            return [4, this.queue((function() {
                                return o(n, void 0, void 0, (function() {
                                    var n, i;
                                    return s(this, (function(r) {
                                        switch (r.label) {
                                        case 0:
                                            return n = this.getFullPath(e),
                                            i = this.getFullPath(t),
                                            [4, this.fsPromises.copyFile(n, i, this.fs.constants.COPYFILE_EXCL)];
                                        case 1:
                                            return r.sent(),
                                            [4, this.reconcileInternalFile(t)];
                                        case 2:
                                            return r.sent(),
                                            [2]
                                        }
                                    }
                                    ))
                                }
                                ))
                            }
                            ))];
                        case 1:
                            return i.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.exists = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    var n = this;
                    return s(this, (function(i) {
                        return [2, this.queue((function() {
                            var i = n.getFullPath(e);
                            return n._exists(i, t)
                        }
                        ))]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype._exists = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    var n, i;
                    return s(this, (function(r) {
                        switch (r.label) {
                        case 0:
                            return r.trys.push([0, 2, , 3]),
                            [4, this.fsPromises.access(e)];
                        case 1:
                            return r.sent(),
                            [3, 3];
                        case 2:
                            return r.sent(),
                            [2, !1];
                        case 3:
                            return t && this.insensitive ? (n = this.path.dirname(e),
                            i = this.path.basename(e),
                            [4, this.fsPromises.readdir(n)]) : [3, 5];
                        case 4:
                            if (-1 === r.sent().indexOf(i))
                                return [2, !1];
                            r.label = 5;
                        case 5:
                            return [2, !0]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.stat = function(e) {
                return o(this, void 0, Promise, (function() {
                    var t = this;
                    return s(this, (function(n) {
                        return [2, this.queue((function() {
                            return o(t, void 0, void 0, (function() {
                                var t, n, i;
                                return s(this, (function(o) {
                                    switch (o.label) {
                                    case 0:
                                        t = this.getFullPath(e),
                                        o.label = 1;
                                    case 1:
                                        return o.trys.push([1, 3, , 4]),
                                        [4, this.fsPromises.stat(t)];
                                    case 2:
                                        return (n = o.sent()).isFile() ? [2, r({
                                            type: "file"
                                        }, KS(n))] : n.isDirectory() ? [2, {
                                            type: "folder",
                                            ctime: 0,
                                            mtime: 0,
                                            size: 0
                                        }] : [3, 4];
                                    case 3:
                                        if ("ENOENT" !== (i = o.sent()).code)
                                            throw i;
                                        return [3, 4];
                                    case 4:
                                        return [2, null]
                                    }
                                }
                                ))
                            }
                            ))
                        }
                        ))]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.list = function(e) {
                return o(this, void 0, Promise, (function() {
                    var t = this;
                    return s(this, (function(n) {
                        return [2, this.queue((function() {
                            return o(t, void 0, void 0, (function() {
                                var t, n, i, r, o, a, l, c, u;
                                return s(this, (function(s) {
                                    switch (s.label) {
                                    case 0:
                                        return t = this.getFullPath(e),
                                        [4, this.fsPromises.readdir(t)];
                                    case 1:
                                        n = s.sent(),
                                        i = {
                                            folders: [],
                                            files: []
                                        },
                                        r = 0,
                                        o = n,
                                        s.label = 2;
                                    case 2:
                                        return r < o.length ? (a = o[r],
                                        l = te("" === e ? a : e + "/" + a),
                                        c = ee(l),
                                        [4, this.fsPromises.stat(this.getFullRealPath(l))]) : [3, 5];
                                    case 3:
                                        (u = s.sent()).isFile() && i.files.push(c),
                                        u.isDirectory() && i.folders.push(c),
                                        s.label = 4;
                                    case 4:
                                        return r++,
                                        [3, 2];
                                    case 5:
                                        return [2, i]
                                    }
                                }
                                ))
                            }
                            ))
                        }
                        ))]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.watch = function(e) {
                return o(this, void 0, Promise, (function() {
                    var t = this;
                    return s(this, (function(n) {
                        switch (n.label) {
                        case 0:
                            return this.stopWatch(),
                            this.handler = e,
                            [4, this.startWatchPath("/")];
                        case 1:
                            return n.sent(),
                            [2, this.queue((function() {
                                return t.listAll()
                            }
                            ))]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.stopWatch = function() {
                for (var e in this.watchers)
                    this.watchers.hasOwnProperty(e) && this.stopWatchPath(e);
                this.handler = null
            }
            ,
            e.prototype.startWatchPath = function(e) {
                return o(this, void 0, void 0, (function() {
                    var t, n, i, r, o, a = this;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            if (t = this.getRealPath(e),
                            this.watchers[e])
                                return [2];
                            n = this.getFullPath(e),
                            i = n,
                            s.label = 1;
                        case 1:
                            return s.trys.push([1, 3, , 4]),
                            [4, this.fsPromises.realpath(n)];
                        case 2:
                            return i = s.sent(),
                            [3, 4];
                        case 3:
                            return "ENOENT" !== (r = s.sent()).code && console.error(r),
                            [3, 4];
                        case 4:
                            return (o = this.fs.watch(n, {
                                persistent: !1,
                                encoding: "utf8",
                                recursive: eL
                            })).on("change", (function(e, n) {
                                var i = "/" === t ? n : t + "/" + n;
                                a.onFileChange(i)
                            }
                            )),
                            o.on("error", (function() {
                                a.onFileChange(t)
                            }
                            )),
                            this.watchers[e] = {
                                watcher: o,
                                resolvedPath: i
                            },
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.stopWatchPath = function(e) {
                var t = this.watchers[e];
                t && (t.watcher.close(),
                delete this.watchers[e])
            }
            ,
            e.prototype.onFileChange = function(e) {
                var t = this;
                e && (e = te(e),
                setTimeout((function() {
                    var n = ee(e);
                    t.queue((function() {
                        return t.reconcileFile(e, n, !1)
                    }
                    ))
                }
                ), 0))
            }
            ,
            e.prototype.reconcileInternalFile = function(e) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(t) {
                        return [2, this.reconcileFile(this.getRealPath(e), e)]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.reconcileFile = function(e, t, n) {
                return void 0 === n && (n = !0),
                o(this, void 0, Promise, (function() {
                    var i, r, o, a;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return this.trigger("raw", t),
                            G(t) ? [4, this.reconcileDeletion(e, t, n)] : [3, 2];
                        case 1:
                            return [2, s.sent()];
                        case 2:
                            return (i = $(t)) && "/" !== i ? this.files[t] ? [3, 4] : [4, this.reconcileFile($(e), i, n)] : [3, 4];
                        case 3:
                            s.sent(),
                            s.label = 4;
                        case 4:
                            return s.trys.push([4, 9, , 12]),
                            r = this.getFullRealPath(e),
                            this.insensitive ? (o = this.path.dirname(r),
                            a = this.path.basename(t),
                            [4, this.fsPromises.readdir(o)]) : [3, 7];
                        case 5:
                            return -1 !== s.sent().map((function(e) {
                                return Pf(e).normalize("NFC")
                            }
                            )).indexOf(a) ? [3, 7] : [4, this.reconcileDeletion(e, t, n)];
                        case 6:
                            return [2, s.sent()];
                        case 7:
                            return [4, this.reconcileFileInternal(e, t)];
                        case 8:
                            return s.sent(),
                            [3, 12];
                        case 9:
                            return "ENOENT" !== s.sent().code ? [3, 11] : [4, this.reconcileDeletion(e, t, n)];
                        case 10:
                            s.sent(),
                            s.label = 11;
                        case 11:
                            return [3, 12];
                        case 12:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.reconcileFileInternal = function(e, t) {
                return o(this, void 0, void 0, (function() {
                    var n, i;
                    return s(this, (function(r) {
                        switch (r.label) {
                        case 0:
                            return n = this.getFullRealPath(e),
                            [4, this.fsPromises.lstat(n)];
                        case 1:
                            return (i = r.sent()).isFile() ? [4, this.reconcileFileCreation(e, t, i)] : [3, 3];
                        case 2:
                            return r.sent(),
                            [3, 7];
                        case 3:
                            return i.isDirectory() ? [4, this.reconcileFolderCreation(e, t)] : [3, 5];
                        case 4:
                            return r.sent(),
                            [3, 7];
                        case 5:
                            return i.isSymbolicLink() ? [4, this.reconcileSymbolicLinkCreation(e, t)] : [3, 7];
                        case 6:
                            r.sent(),
                            r.label = 7;
                        case 7:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.reconcileFileCreation = function(e, t, n) {
                return o(this, void 0, Promise, (function() {
                    var i, r;
                    return s(this, (function(o) {
                        if (i = KS(n),
                        r = this.files[t]) {
                            if (r.realpath = e,
                            "file" === r.type)
                                return r.mtime === Math.round(n.mtimeMs) && r.size === n.size || (r.mtime = Math.round(n.mtimeMs),
                                r.size = n.size,
                                this.trigger("raw", t, t, i),
                                this.trigger("modified", t, t, i)),
                                [2];
                            this.removeFile(t)
                        }
                        return this.files[t] = function(e, t) {
                            return t.isFile() ? {
                                type: "file",
                                realpath: e,
                                ctime: Math.round(t.birthtimeMs),
                                mtime: Math.round(t.mtimeMs),
                                size: t.size
                            } : t.isDirectory() ? {
                                type: "folder",
                                realpath: e
                            } : void 0
                        }(e, n),
                        this.trigger("file-created", t, t, i),
                        [2]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.reconcileFolderCreation = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(n) {
                        switch (n.label) {
                        case 0:
                            return this.files.hasOwnProperty(t) ? [3, 4] : (this.files[t] = {
                                type: "folder",
                                realpath: e
                            },
                            this.trigger("folder-created", t),
                            eL ? [3, 2] : [4, this.startWatchPath(t)]);
                        case 1:
                            n.sent(),
                            n.label = 2;
                        case 2:
                            return [4, this.listRecursive(e)];
                        case 3:
                            return n.sent(),
                            [3, 5];
                        case 4:
                            this.files[t].realpath = e,
                            n.label = 5;
                        case 5:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.reconcileSymbolicLinkCreation = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    var n, i, r, o, a, l, c;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            n = this.getFullRealPath(e),
                            s.label = 1;
                        case 1:
                            return s.trys.push([1, 3, , 4]),
                            [4, this.fsPromises.realpath(n)];
                        case 2:
                            return i = s.sent(),
                            [3, 4];
                        case 3:
                            return s.sent(),
                            [2];
                        case 4:
                            if (r = this.path.sep,
                            (o = this.watchers).hasOwnProperty(t))
                                o[t].resolvedPath = i;
                            else
                                for (a in o)
                                    if (o.hasOwnProperty(a) && a !== t && (l = o[a].resolvedPath,
                                    i === l || l.startsWith(i + r) || i.startsWith(l + r)))
                                        return [2];
                            return [4, this.fsPromises.stat(n)];
                        case 5:
                            return (c = s.sent()).isFile() ? [4, this.reconcileFileCreation(e, t, c)] : [3, 7];
                        case 6:
                            return s.sent(),
                            [3, 11];
                        case 7:
                            return c.isDirectory() ? eL ? [4, this.startWatchPath(t)] : [3, 9] : [3, 11];
                        case 8:
                            s.sent(),
                            s.label = 9;
                        case 9:
                            return [4, this.reconcileFolderCreation(e, t)];
                        case 10:
                            s.sent(),
                            s.label = 11;
                        case 11:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.reconcileDeletion = function(e, t, n) {
                return void 0 === n && (n = !0),
                o(this, void 0, Promise, (function() {
                    var i, r, o = this;
                    return s(this, (function(s) {
                        if ("/" === t)
                            return this.trigger("closed", t),
                            [2];
                        if (!(i = this.files[t]))
                            return [2];
                        if ("folder" === i.type) {
                            for (r in this.stopWatchPath(t),
                            this.files)
                                this.files.hasOwnProperty(r) && r.startsWith(t + "/") && this.removeFile(r);
                            return this.removeFile(t),
                            [2]
                        }
                        return n ? (this.removeFile(t),
                        [2]) : (setTimeout((function() {
                            o.queue((function() {
                                return o.reconcileFile(e, t)
                            }
                            ))
                        }
                        ), 100),
                        [2])
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.trigger = function(e, t, n, i) {
                this.handler && this.handler(e, t, n, i)
            }
            ,
            e.prototype.getRealPath = function(e) {
                for (var t = e; t; ) {
                    if (this.files.hasOwnProperty(t)) {
                        var n = e.substr(t.length);
                        return this.files[t].realpath + n
                    }
                    t = $(t)
                }
                return e
            }
            ,
            e.prototype.getFullPath = function(e) {
                var t = this.getRealPath(e);
                return this.getFullRealPath(t)
            }
            ,
            e.prototype.getFullRealPath = function(e) {
                return this.path.join(this.basePath, e)
            }
            ,
            e.prototype.kill = function() {
                this.killLastAction && (this.killLastAction("Timed out."),
                this.killLastAction = null)
            }
            ,
            e.prototype.queue = function(e) {
                var t = this
                  , n = function() {
                    var n = new Promise((function(e, n) {
                        return t.killLastAction = n
                    }
                    ));
                    return t.thingsHappening(),
                    Promise.race([n, e()])
                }
                  , i = this.promise.then(n, n);
                return this.promise = i,
                i
            }
            ,
            e.prototype.removeFile = function(e) {
                var t = this.files[e];
                delete this.files[e],
                t && ("file" === t.type ? this.trigger("file-removed", e) : "folder" === t.type && this.trigger("folder-removed", e))
            }
            ,
            e.readLocalFile = function(e) {
                return o(this, void 0, Promise, (function() {
                    var t, n, i;
                    return s(this, (function(r) {
                        switch (r.label) {
                        case 0:
                            return (t = window.require) ? (n = t("fs"),
                            i = v,
                            [4, n.promises.readFile(e)]) : [3, 2];
                        case 1:
                            return [2, i.apply(void 0, [r.sent()])];
                        case 2:
                            return [2, null]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.mkdir = function(e) {
                return o(this, void 0, Promise, (function() {
                    var t;
                    return s(this, (function(n) {
                        switch (n.label) {
                        case 0:
                            return (t = window.require) ? [4, t("fs").promises.mkdir(e, {
                                recursive: !0
                            })] : [3, 2];
                        case 1:
                            return [2, n.sent()];
                        case 2:
                            return [2, null]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e
        }()
          , nL = function() {
            function e(e) {
                this.app = e
            }
            return e.prototype.cleanup = function() {
                var e = this.app
                  , t = this.app.appId + "-note-fold-";
                for (var n in localStorage)
                    if (n.startsWith(t)) {
                        var i = n.substr(t.length);
                        e.vault.getAbstractFileByPath(i) || localStorage.removeItem(n)
                    }
            }
            ,
            e.prototype.load = function(e) {
                return e ? this.app.loadLocalStorage("note-fold-" + e.path) : null
            }
            ,
            e.prototype.save = function(e, t) {
                if (e)
                    return this.app.saveLocalStorage("note-fold-" + e.path, t)
            }
            ,
            e
        }()
          , iL = /!?\[\[.*?]]/
          , rL = /^(!?\[)(.*?)(]\(\s*)[^ ]+((?:\s+.*?)?\))$/
          , oL = function() {
            function e(e) {
                this.app = null,
                this.vault = null,
                this.inProgressUpdates = null,
                this.updateQueue = new Bk,
                this.linkResolutions = null,
                this.app = e,
                this.vault = e.vault
            }
            return e.prototype.getNewFileParent = function(e) {
                var t = this.vault
                  , n = t.getConfig("newFileLocation");
                if ("folder" === n) {
                    var i = t.getConfig("newFileFolderPath");
                    if ((r = t.getAbstractFileByPath(i))instanceof qf)
                        return r
                } else if ("current" === n) {
                    var r;
                    i = $(e);
                    if ((r = t.getAbstractFileByPath(i))instanceof qf)
                        return r
                }
                return t.getRoot()
            }
            ,
            e.prototype.createNewMarkdownFileFromLinktext = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    var n;
                    return s(this, (function(i) {
                        return n = null,
                        e.contains("/") || (n = this.app.fileManager.getNewFileParent(t)),
                        [2, this.app.fileManager.createNewMarkdownFile(n, e)]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.createNewMarkdownFile = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    var n, i, r, o, a;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return n = this.vault,
                            e || (e = n.getRoot()),
                            i = e.getParentPrefix(),
                            t ? (X(t, "md") && (t = K(t)),
                            t = ee(t),
                            r = n.getAvailablePath(i + t, "md")) : (o = Te("plugins.file-explorer.label-untitled-file"),
                            r = n.getAvailablePath(i + o, "md")),
                            !(a = $(r)) || "/" === a || n.getAbstractFileByPathInsensitive(a) ? [3, 2] : [4, n.createFolder(a)];
                        case 1:
                            s.sent(),
                            s.label = 2;
                        case 2:
                            return [4, n.create(r, "")];
                        case 3:
                            return [2, s.sent()]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.createNewFolder = function(e) {
                return o(this, void 0, Promise, (function() {
                    var t, n, i, r;
                    return s(this, (function(o) {
                        switch (o.label) {
                        case 0:
                            return t = !e || e.isRoot() ? "" : e.path + "/",
                            n = Te("plugins.file-explorer.label-untitled-folder"),
                            i = this.vault.getAvailablePath(t + n),
                            [4, this.vault.createFolder(i)];
                        case 1:
                            return o.sent(),
                            (r = this.vault.getAbstractFileByPath(i)) && r instanceof qf ? [2, r] : [2, null]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.renameFile = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    var n = this;
                    return s(this, (function(i) {
                        switch (i.label) {
                        case 0:
                            return [4, this.runAsyncLinkUpdate((function() {
                                return n.vault.rename(e, t)
                            }
                            ))];
                        case 1:
                            return i.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.runAsyncLinkUpdate = function(e) {
                return o(this, void 0, void 0, (function() {
                    var t = this;
                    return s(this, (function(n) {
                        return this.inProgressUpdates ? (this.inProgressUpdates.push(e()),
                        [2]) : [2, this.updateQueue.queue((function() {
                            return o(t, void 0, void 0, (function() {
                                var t, n, i = this;
                                return s(this, (function(r) {
                                    switch (r.label) {
                                    case 0:
                                        return [4, new Promise((function(e) {
                                            return i.app.metadataCache.onCleanCache(e)
                                        }
                                        ))];
                                    case 1:
                                        r.sent(),
                                        t = this.linkResolutions = this.getAllLinkResolutions(),
                                        r.label = 2;
                                    case 2:
                                        return r.trys.push([2, , 7, 8]),
                                        this.inProgressUpdates = [],
                                        [4, e()];
                                    case 3:
                                        r.sent(),
                                        r.label = 4;
                                    case 4:
                                        return this.inProgressUpdates.length > 0 ? (n = this.inProgressUpdates,
                                        this.inProgressUpdates = [],
                                        [4, Promise.all(n)]) : [3, 6];
                                    case 5:
                                        return r.sent(),
                                        [3, 4];
                                    case 6:
                                        return [3, 8];
                                    case 7:
                                        return this.inProgressUpdates = null,
                                        [7];
                                    case 8:
                                        return [4, this.updateAllLinks(t)];
                                    case 9:
                                        return r.sent(),
                                        this.linkResolutions = null,
                                        [2]
                                    }
                                }
                                ))
                            }
                            ))
                        }
                        ))]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.updateAllLinks = function(e) {
                return o(this, void 0, Promise, (function() {
                    var t, n, i, r, a, l, c, u, h, p, d, f, g, m, v, y, b, w, k, C, x = this;
                    return s(this, (function(E) {
                        for (t = new wf,
                        n = this.app.metadataCache,
                        i = 0,
                        r = e; i < r.length; i++)
                            a = r[i],
                            l = a.reference.link,
                            c = a.resolvedPaths,
                            u = a.sourceFile.path,
                            h = Ly(l),
                            p = h.path,
                            d = h.subpath,
                            f = n.getLinkpathDest(p, u).map((function(e) {
                                return e.path
                            }
                            )),
                            yf(c, f) || (g = iL.test(a.reference.original),
                            m = n.fileToLinktext(a.resolvedFile, u, g),
                            a.reference.link !== m && t.add(u, {
                                reference: a.reference,
                                newLinktext: m + d
                            }));
                        return 0 === (v = t.count()) ? [2] : (y = Te("nouns.link-with-count", {
                            count: v
                        }),
                        b = Te("nouns.file-with-count", {
                            count: Object.keys(t.data).length
                        }),
                        w = Te("dialogue.label-link-affected", {
                            links: y,
                            files: b
                        }),
                        k = Te("dialogue.msg-updated-links", {
                            links: y,
                            files: b
                        }),
                        C = function() {
                            return o(x, void 0, void 0, (function() {
                                return s(this, (function(e) {
                                    switch (e.label) {
                                    case 0:
                                        return [4, this.updateInternalLinks(t)];
                                    case 1:
                                        return e.sent(),
                                        new JC(k),
                                        [2]
                                    }
                                }
                                ))
                            }
                            ))
                        }
                        ,
                        this.vault.getConfig("alwaysUpdateLinks") ? [2, C()] : [2, new Promise((function(e, t) {
                            try {
                                var n = new sn(x.app);
                                n.titleEl.setText(Te("dialogue.label-update-links")),
                                n.contentEl.createEl("p", {
                                    text: Te("dialogue.label-confirm-update-link-to-file")
                                }),
                                n.contentEl.createEl("p", {
                                    text: w
                                }),
                                n.onClose = function() {
                                    return e()
                                }
                                ;
                                var i = function(t) {
                                    n.onClose = function() {
                                        return null
                                    }
                                    ,
                                    n.close(),
                                    t && x.app.vault.setConfig("alwaysUpdateLinks", !0),
                                    e(C())
                                }
                                  , r = n.modalEl.createDiv("modal-button-container");
                                r.createEl("button", {
                                    text: Te("dialogue.button-always-update")
                                }).addEventListener("click", (function() {
                                    return i(!0)
                                }
                                )),
                                r.createEl("button", {
                                    text: Te("dialogue.button-just-once")
                                }).addEventListener("click", (function() {
                                    return i()
                                }
                                )),
                                r.createEl("button", {
                                    text: Te("dialogue.button-do-not-update")
                                }).addEventListener("click", (function() {
                                    return n.close()
                                }
                                )),
                                n.open()
                            } catch (e) {
                                t(e)
                            }
                        }
                        ))])
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.getAllLinkResolutions = function() {
                var e = this
                  , t = this.app.metadataCache
                  , n = [];
                return t.iterateReferences((function(i, r) {
                    var o = e.vault.getAbstractFileByPath(i);
                    if (o instanceof Vf) {
                        var s = Sy(r.link);
                        if (s) {
                            var a = t.getLinkpathDest(s, i);
                            if (a.length > 0) {
                                var l = a[0];
                                n.push({
                                    reference: r,
                                    sourceFile: o,
                                    resolvedFile: l,
                                    resolvedPaths: a.map((function(e) {
                                        return e.path
                                    }
                                    ))
                                })
                            }
                        }
                    }
                }
                )),
                n
            }
            ,
            e.prototype.updateInternalLinks = function(e) {
                return o(this, void 0, void 0, (function() {
                    var t, n, i, r, o, a, l, c, u, h, p, d, f, g, m, v, y;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            t = 0,
                            n = e.keys(),
                            s.label = 1;
                        case 1:
                            return t < n.length ? (i = n[t],
                            (r = this.vault.getAbstractFileByPath(i))instanceof Vf ? (o = e.get(i),
                            [4, this.vault.read(r)]) : [3, 4]) : [3, 5];
                        case 2:
                            for (a = s.sent(),
                            o.sort((function(e, t) {
                                return t.reference.position.start.offset - e.reference.position.start.offset
                            }
                            )),
                            l = 0,
                            c = o; l < c.length; l++)
                                u = c[l],
                                h = u.reference,
                                p = h.position,
                                d = h.original,
                                f = h.link,
                                g = void 0,
                                iL.test(d) ? g = d.replace(f, u.newLinktext) : (m = Md(u.newLinktext),
                                (v = d.match(rL)) ? (Ld(y = v[2]).trim() === ie(Sy(f)) && (y = ie(Sy(u.newLinktext))),
                                g = v[1] + y + v[3] + m + v[4]) : (g = "[](" + m + ")",
                                d.startsWith("!") && (g = "!" + g))),
                                a = a.substring(0, p.start.offset) + g + a.substring(p.end.offset);
                            return [4, this.vault.modify(r, a)];
                        case 3:
                            s.sent(),
                            s.label = 4;
                        case 4:
                            return t++,
                            [3, 1];
                        case 5:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.promptForFolderDeletion = function(e) {
                var t = this
                  , n = this.app
                  , i = n.vault.getConfig("promptDelete")
                  , r = n.vault.getConfig("trashOption");
                if (i) {
                    var o = document.createDocumentFragment();
                    o.createEl("p", {
                        text: Te("dialogue.label-confirm-deletion", {
                            filename: e.name
                        })
                    }),
                    "system" === r ? o.createEl("p", {
                        text: Te("dialogue.label-move-to-system-trash")
                    }) : "local" === r ? o.createEl("p", {
                        text: Te("dialogue.label-move-to-vault-trash")
                    }) : "none" === r && o.createEl("p", {
                        cls: "mod-warning",
                        text: Te("dialogue.label-permanent-delete")
                    }),
                    e.children.length > 0 && (o.createEl("p", {
                        cls: "mod-warning",
                        text: Te("dialogue.label-non-empty-folder")
                    }),
                    o.createEl("p", {
                        cls: "mod-warning",
                        text: Te("dialogue.label-delete-folder-warning")
                    })),
                    new an(n).setTitle(Te("dialogue.label-delete-folder")).setContent(o).addButton("mod-warning", Te("dialogue.button-delete-do-not-ask-again"), (function() {
                        n.vault.setConfig("promptDelete", !1),
                        t.trashFile(e)
                    }
                    )).addButton("mod-warning", Te("dialogue.button-delete"), (function() {
                        t.trashFile(e)
                    }
                    )).addCancelButton().open()
                } else
                    this.trashFile(e)
            }
            ,
            e.prototype.promptForFileDeletion = function(e) {
                var t = this
                  , n = this.app
                  , i = n.vault.getConfig("promptDelete")
                  , r = n.vault.getConfig("trashOption");
                if (i) {
                    var o = document.createDocumentFragment();
                    o.createEl("p", {
                        text: Te("dialogue.label-confirm-deletion", {
                            filename: e.name
                        })
                    }),
                    "system" === r ? o.createEl("p", {
                        text: Te("dialogue.label-move-to-system-trash")
                    }) : "local" === r ? o.createEl("p", {
                        text: Te("dialogue.label-move-to-vault-trash")
                    }) : "none" === r && o.createEl("p", {
                        cls: "mod-warning",
                        text: Te("dialogue.label-permanent-delete")
                    });
                    var s = n.metadataCache.getBacklinksForFile(e).count();
                    if (s > 0) {
                        var a = Te("nouns.link-with-count", {
                            count: s
                        })
                          , l = Te("dialogue.label-existing-backlink", {
                            links: a
                        });
                        o.createEl("p", {
                            cls: "mod-warning",
                            text: l
                        })
                    }
                    new an(n).setTitle(Te("dialogue.label-delete-file")).setContent(o).addButton("mod-warning", Te("dialogue.button-delete-do-not-ask-again"), (function() {
                        n.vault.setConfig("promptDelete", !1),
                        t.trashFile(e)
                    }
                    )).addButton("mod-warning", Te("dialogue.button-delete"), (function() {
                        t.trashFile(e)
                    }
                    )).addCancelButton().open()
                } else
                    this.trashFile(e)
            }
            ,
            e.prototype.promptForFileRename = function(e) {
                return o(this, void 0, void 0, (function() {
                    var t, n, i, r, a, l = this;
                    return s(this, (function(c) {
                        return t = this.app,
                        n = function(t) {
                            return o(l, void 0, void 0, (function() {
                                var n, i, r;
                                return s(this, (function(o) {
                                    switch (o.label) {
                                    case 0:
                                        if ("" === t)
                                            return new JC(Te("plugins.file-explorer.msg-empty-file-name")),
                                            [2];
                                        if (n = e.getNewPathAfterRename(t),
                                        e.path === n)
                                            return [2];
                                        o.label = 1;
                                    case 1:
                                        return o.trys.push([1, 3, , 4]),
                                        [4, this.renameFile(e, n)];
                                    case 2:
                                        return o.sent(),
                                        [3, 4];
                                    case 3:
                                        return (i = o.sent()) && (r = i.message || i.code || i.toString(),
                                        new JC(r)),
                                        [3, 4];
                                    case 4:
                                        return [2]
                                    }
                                }
                                ))
                            }
                            ))
                        }
                        ,
                        i = createEl("input", {
                            type: "text",
                            value: e.basename
                        }),
                        r = function() {
                            return o(l, void 0, void 0, (function() {
                                return s(this, (function(e) {
                                    switch (e.label) {
                                    case 0:
                                        return a.close(),
                                        [4, n(i.value)];
                                    case 1:
                                        return e.sent(),
                                        new JC(Te("dialogue.msg-rename-success")),
                                        [2]
                                    }
                                }
                                ))
                            }
                            ))
                        }
                        ,
                        i.addEventListener("keypress", (function(e) {
                            "Enter" === e.key && r()
                        }
                        )),
                        (a = new an(t)).setTitle(Te("dialogue.label-rename-file")).setContent(createFragment((function(e) {
                            e.createEl("label", {
                                cls: "input-label",
                                text: Te("dialogue.label-new-name")
                            }),
                            e.appendChild(i)
                        }
                        ))).addButton("mod-cta", Te("dialogue.button-done"), (function() {
                            return r(),
                            !0
                        }
                        )).addCancelButton().open(),
                        i.select(),
                        i.focus(),
                        [2]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.trashFile = function(e) {
                var t = this.app
                  , n = t.vault.getConfig("trashOption");
                "system" === n ? t.vault.trash(e, !0) : "local" === n ? t.vault.trash(e, !1) : "none" === n && t.vault.delete(e, !0)
            }
            ,
            e.prototype.generateMarkdownLink = function(e, t, n, i) {
                var r, o = this.app, s = o.vault.getConfig("useMarkdownLinks"), a = !s, l = o.metadataCache.fileToLinktext(e, t, a) + (n || "");
                if (s) {
                    var c = Md(l);
                    r = "md" === e.extension ? "[" + (i || e.basename) + "](" + c + ")" : "![](" + c + ")"
                } else
                    i && i.toLowerCase() === l.toLowerCase() && (l = i,
                    i = null),
                    r = i ? "[[" + l + "|" + i + "]]" : "[[" + l + "]]",
                    "md" !== e.extension && (r = "!" + r);
                return r
            }
            ,
            e.prototype.createAndOpenMarkdownFile = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    var n, i, r, o, a, l;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return n = this.app,
                            i = n.workspace,
                            r = "",
                            (o = i.getActiveFile()) && (r = o.path),
                            a = this.getNewFileParent(r),
                            [4, this.createNewMarkdownFile(a, e)];
                        case 1:
                            return l = s.sent(),
                            [4, i.getLeaf(t).openFile(l, {
                                active: !0,
                                state: {
                                    mode: "source"
                                },
                                eState: {
                                    rename: "all"
                                }
                            })];
                        case 2:
                            return s.sent(),
                            [2, l]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.insertTextIntoFile = function(e, t, n, i, r) {
                return o(this, void 0, void 0, (function() {
                    var o, a, l;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return [4, this.vault.read(e)];
                        case 1:
                            return o = s.sent(),
                            a = "" === o ? "" : "\n\n",
                            i && (t = Ad(i, {
                                fromTitle: n,
                                newTitle: e.basename,
                                content: t
                            })),
                            l = r ? t + a + o : o + a + t,
                            [4, this.vault.modify(e, l)];
                        case 2:
                            return s.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.mergeFile = function(e, t, n, i) {
                return o(this, void 0, void 0, (function() {
                    var r, a, l = this;
                    return s(this, (function(c) {
                        switch (c.label) {
                        case 0:
                            return r = this.app.workspace,
                            [4, this.vault.read(t)];
                        case 1:
                            return a = c.sent(),
                            [4, this.runAsyncLinkUpdate((function() {
                                return o(l, void 0, void 0, (function() {
                                    var r, o, l, c;
                                    return s(this, (function(s) {
                                        switch (s.label) {
                                        case 0:
                                            return [4, this.insertTextIntoFile(e, a, t.basename, n, i)];
                                        case 1:
                                            return s.sent(),
                                            [4, this.trashFile(t)];
                                        case 2:
                                            if (s.sent(),
                                            r = this.linkResolutions)
                                                for (o = 0,
                                                l = r; o < l.length; o++)
                                                    (c = l[o]).resolvedFile === t && (c.resolvedFile = e,
                                                    c.resolvedPaths = []);
                                            return [2]
                                        }
                                    }
                                    ))
                                }
                                ))
                            }
                            ))];
                        case 2:
                            return c.sent(),
                            [4, r.getLeaf().openFile(e)];
                        case 3:
                            return c.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e
        }();
        function sL(e, t) {
            return {
                modifiers: e,
                key: t
            }
        }
        function aL(e) {
            return e.startsWith("Key") && 4 === e.length ? e.charAt(3) : e
        }
        function lL(e) {
            var t = [];
            tn.forEach((function(n) {
                e.modifiers.contains(n) && t.push(en[n])
            }
            ));
            var n = (e.code ? aL(e.code) : e.key) || "";
            return t.push(function(e) {
                if (Xt.hasOwnProperty(e))
                    return Xt[e];
                var t = e.replace(/([A-Z])/g, " $1").trim();
                return t.charAt(0).toUpperCase() + t.slice(1)
            }(n)),
            t.join(se ? " " : " + ")
        }
        var cL = function() {
            function e(e) {
                this.defaultKeys = {},
                this.customKeys = {},
                this.baked = !1,
                this.bakedHotkeys = [],
                this.bakedIds = [],
                this.app = e,
                this.app.scope.register(null, null, this.onTrigger.bind(this))
            }
            return e.prototype.save = function() {
                return o(this, void 0, void 0, (function() {
                    return s(this, (function(e) {
                        switch (e.label) {
                        case 0:
                            return [4, this.app.vault.writeConfigJson("hotkeys", this.customKeys)];
                        case 1:
                            return e.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.load = function() {
                return o(this, void 0, void 0, (function() {
                    var e, t, n;
                    return s(this, (function(i) {
                        switch (i.label) {
                        case 0:
                            return [4, this.app.vault.readConfigJson("hotkeys")];
                        case 1:
                            if (e = i.sent(),
                            t = !1,
                            e || (e = this.app.vault.getConfig("hotkeys"),
                            t = !0),
                            e && "object" == typeof e) {
                                for (n in e)
                                    n.startsWith("explorer:") ? (e["file-" + n] = e[n],
                                    delete e[n]) : "star:star-current-file" === n && (e["starred:star-current-file"] = e[n],
                                    delete e[n]);
                                this.customKeys = e || {},
                                this.baked = !1
                            }
                            return t ? (this.app.vault.setConfig("hotkeys", void 0),
                            [4, this.save()]) : [3, 3];
                        case 2:
                            i.sent(),
                            i.label = 3;
                        case 3:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.getDefaultHotkeys = function(e) {
                return this.defaultKeys[e]
            }
            ,
            e.prototype.addDefaultHotkeys = function(e, t) {
                this.defaultKeys[e] = t,
                this.baked = !1
            }
            ,
            e.prototype.removeDefaultHotkeys = function(e) {
                delete this.defaultKeys[e],
                this.baked = !1
            }
            ,
            e.prototype.getHotkeys = function(e) {
                return this.customKeys[e]
            }
            ,
            e.prototype.setHotkeys = function(e, t) {
                this.customKeys[e] = t,
                this.baked = !1
            }
            ,
            e.prototype.removeHotkeys = function(e) {
                delete this.customKeys[e],
                this.baked = !1
            }
            ,
            e.prototype.printHotkeyForCommand = function(e) {
                var t = this.getHotkeys(e)
                  , n = this.getDefaultHotkeys(e);
                return t && t.length > 0 ? lL(t[0]) : n && n.length > 0 ? lL(n[0]) : ""
            }
            ,
            e.prototype.bake = function() {
                if (!this.baked) {
                    this.baked = !0;
                    var e = this.defaultKeys
                      , t = this.customKeys
                      , n = []
                      , i = []
                      , r = function(e, t) {
                        for (var r = 0, o = t; r < o.length; r++) {
                            var s = o[r];
                            n.push({
                                modifiers: rn.compileModifiers(s.modifiers),
                                key: s.code ? aL(s.code) : s.key
                            }),
                            i.push(e)
                        }
                    };
                    for (var o in e)
                        e.hasOwnProperty(o) && !t.hasOwnProperty(o) && r(o, e[o]);
                    for (var o in t)
                        t.hasOwnProperty(o) && r(o, t[o]);
                    this.bakedHotkeys = n,
                    this.bakedIds = i
                }
            }
            ,
            e.prototype.onTrigger = function(e, t) {
                this.bake();
                for (var n = this.bakedHotkeys, i = this.bakedIds, r = 0; r < n.length; r++) {
                    var o = n[r];
                    if (rn.isMatch(o, t)) {
                        var s = i[r];
                        if (this.app.commands.executeCommandById(s))
                            return !1
                    }
                }
            }
            ,
            e
        }();
        let uL, hL;
        const pL = new WeakMap
          , dL = new WeakMap
          , fL = new WeakMap
          , gL = new WeakMap
          , mL = new WeakMap;
        let vL = {
            get(e, t, n) {
                if (e instanceof IDBTransaction) {
                    if ("done" === t)
                        return dL.get(e);
                    if ("objectStoreNames" === t)
                        return e.objectStoreNames || fL.get(e);
                    if ("store" === t)
                        return n.objectStoreNames[1] ? void 0 : n.objectStore(n.objectStoreNames[0])
                }
                return wL(e[t])
            },
            set: (e,t,n)=>(e[t] = n,
            !0),
            has: (e,t)=>e instanceof IDBTransaction && ("done" === t || "store" === t) || t in e
        };
        function yL(e) {
            return e !== IDBDatabase.prototype.transaction || "objectStoreNames"in IDBTransaction.prototype ? (hL || (hL = [IDBCursor.prototype.advance, IDBCursor.prototype.continue, IDBCursor.prototype.continuePrimaryKey])).includes(e) ? function(...t) {
                return e.apply(kL(this), t),
                wL(pL.get(this))
            }
            : function(...t) {
                return wL(e.apply(kL(this), t))
            }
            : function(t, ...n) {
                const i = e.call(kL(this), t, ...n);
                return fL.set(i, t.sort ? t.sort() : [t]),
                wL(i)
            }
        }
        function bL(e) {
            return "function" == typeof e ? yL(e) : (e instanceof IDBTransaction && function(e) {
                if (dL.has(e))
                    return;
                const t = new Promise(((t,n)=>{
                    const i = ()=>{
                        e.removeEventListener("complete", r),
                        e.removeEventListener("error", o),
                        e.removeEventListener("abort", o)
                    }
                      , r = ()=>{
                        t(),
                        i()
                    }
                      , o = ()=>{
                        n(e.error || new DOMException("AbortError","AbortError")),
                        i()
                    }
                    ;
                    e.addEventListener("complete", r),
                    e.addEventListener("error", o),
                    e.addEventListener("abort", o)
                }
                ));
                dL.set(e, t)
            }(e),
            t = e,
            (uL || (uL = [IDBDatabase, IDBObjectStore, IDBIndex, IDBCursor, IDBTransaction])).some((e=>t instanceof e)) ? new Proxy(e,vL) : e);
            var t
        }
        function wL(e) {
            if (e instanceof IDBRequest)
                return function(e) {
                    const t = new Promise(((t,n)=>{
                        const i = ()=>{
                            e.removeEventListener("success", r),
                            e.removeEventListener("error", o)
                        }
                          , r = ()=>{
                            t(wL(e.result)),
                            i()
                        }
                          , o = ()=>{
                            n(e.error),
                            i()
                        }
                        ;
                        e.addEventListener("success", r),
                        e.addEventListener("error", o)
                    }
                    ));
                    return t.then((t=>{
                        t instanceof IDBCursor && pL.set(t, e)
                    }
                    )).catch((()=>{}
                    )),
                    mL.set(t, e),
                    t
                }(e);
            if (gL.has(e))
                return gL.get(e);
            const t = bL(e);
            return t !== e && (gL.set(e, t),
            mL.set(t, e)),
            t
        }
        const kL = e=>mL.get(e);
        function CL(e, t, {blocked: n, upgrade: i, blocking: r, terminated: o}={}) {
            const s = indexedDB.open(e, t)
              , a = wL(s);
            return i && s.addEventListener("upgradeneeded", (e=>{
                i(wL(s.result), e.oldVersion, e.newVersion, wL(s.transaction))
            }
            )),
            n && s.addEventListener("blocked", (()=>n())),
            a.then((e=>{
                o && e.addEventListener("close", (()=>o())),
                r && e.addEventListener("versionchange", (()=>r()))
            }
            )).catch((()=>{}
            )),
            a
        }
        const xL = ["get", "getKey", "getAll", "getAllKeys", "count"]
          , EL = ["put", "add", "delete", "clear"]
          , SL = new Map;
        function LL(e, t) {
            if (!(e instanceof IDBDatabase) || t in e || "string" != typeof t)
                return;
            if (SL.get(t))
                return SL.get(t);
            const n = t.replace(/FromIndex$/, "")
              , i = t !== n
              , r = EL.includes(n);
            if (!(n in (i ? IDBIndex : IDBObjectStore).prototype) || !r && !xL.includes(n))
                return;
            const o = async function(e, ...t) {
                const o = this.transaction(e, r ? "readwrite" : "readonly");
                let s = o.store;
                return i && (s = s.index(t.shift())),
                (await Promise.all([s[n](...t), r && o.done]))[0]
            };
            return SL.set(t, o),
            o
        }
        function DL(e) {
            return "md" === Q(W(e)) && (e = e.substring(0, e.length - 3)),
            e
        }
        vL = (e=>({
            ...e,
            get: (t,n,i)=>LL(t, n) || e.get(t, n, i),
            has: (t,n)=>!!LL(t, n) || e.has(t, n)
        }))(vL);
        var ML = function(e, t) {
            for (var n in t)
                if (t.hasOwnProperty(n) && W(n).toLowerCase().contains(e))
                    return !0;
            return !1
        }
          , AL = function() {
            function e(e) {
                this.cache = {},
                this.app = e
            }
            return e.prototype.clear = function() {
                this.cache = {}
            }
            ,
            e.prototype.getForFile = function(e, t) {
                var n, i;
                return o(this, void 0, Promise, (function() {
                    var r, o, a, l, c, u, p, d, f, g, m, v;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return "md" !== t.extension ? [2, null] : (r = t.stat.mtime,
                            (o = this.cache).hasOwnProperty(t.path) && (a = o[t.path]).file === t && a.mtime === r ? [2, a] : [4, this.app.vault.cachedRead(t)]);
                        case 1:
                            if (l = s.sent(),
                            e.isCancelled())
                                return [2, null];
                            c = cy(l),
                            u = [],
                            s.label = 2;
                        case 2:
                            s.trys.push([2, 7, 8, 13]),
                            p = h(_k(Uk(c.children), {
                                maxDelay: 0
                            })),
                            s.label = 3;
                        case 3:
                            return [4, p.next()];
                        case 4:
                            if ((d = s.sent()).done)
                                return [3, 6];
                            if (f = d.value,
                            e.isCancelled())
                                return [3, 6];
                            if ("yaml" === f.type)
                                return [3, 5];
                            if ("list" === f.type)
                                return _v(f, "listItem", (function(e) {
                                    for (var t = [], n = 0, i = e.children; n < i.length; n++) {
                                        var r = i[n];
                                        "paragraph" === r.type && t.push(wy(r).trim())
                                    }
                                    var o = t.join("");
                                    o && u.push({
                                        display: o,
                                        node: e
                                    })
                                }
                                )),
                                [3, 5];
                            if ("" === (g = wy(f).trim()))
                                return [3, 5];
                            "heading" === f.type && (g = Array(f.depth || 1).fill("#").join("") + " " + g),
                            u.push({
                                display: g,
                                node: f
                            }),
                            s.label = 5;
                        case 5:
                            return [3, 3];
                        case 6:
                            return [3, 13];
                        case 7:
                            return m = s.sent(),
                            n = {
                                error: m
                            },
                            [3, 13];
                        case 8:
                            return s.trys.push([8, , 11, 12]),
                            d && !d.done && (i = p.return) ? [4, i.call(p)] : [3, 10];
                        case 9:
                            s.sent(),
                            s.label = 10;
                        case 10:
                            return [3, 12];
                        case 11:
                            if (n)
                                throw n.error;
                            return [7];
                        case 12:
                            return [7];
                        case 13:
                            return v = {
                                file: t,
                                content: l,
                                mtime: r,
                                blocks: u
                            },
                            o[t.path] = v,
                            [2, v]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.getAll = function(e) {
                return u(this, arguments, (function() {
                    var t, n, i, r, o;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            t = this.app.vault,
                            n = t.getMarkdownFiles(),
                            i = 0,
                            r = n,
                            s.label = 1;
                        case 1:
                            return i < r.length ? (o = r[i],
                            [4, c(this.getForFile(e, o))]) : [3, 5];
                        case 2:
                            return [4, s.sent()];
                        case 3:
                            s.sent(),
                            s.label = 4;
                        case 4:
                            return i++,
                            [3, 1];
                        case 5:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e
        }()
          , TL = function(e) {
            function t(t, n) {
                var i = e.call(this) || this;
                return i.worker = null,
                i.inProgressTaskCount = 0,
                i.db = null,
                i.fileCache = {},
                i.metadataCache = {},
                i.workQueue = new Bk,
                i.uniqueFileLookup = new wf,
                i.initialized = !1,
                i.resolvedLinks = {},
                i.unresolvedLinks = {},
                i.linkResolverQueue = null,
                i.onCleanCacheCallbacks = [],
                i.workerResolve = null,
                i.app = t,
                i.vault = n,
                i.worker = new Worker("worker.js",{
                    name: "Metadata Cache Worker"
                }),
                i.worker.onmessage = i.onReceiveMessageFromWorker.bind(i),
                i.blockCache = new AL(t),
                i.linkResolver(),
                i.on("finished", i.checkCleanCache, i),
                i.on("resolved", i.checkCleanCache, i),
                i
            }
            return i(t, e),
            t.prototype.getLinkSuggestions = function() {
                for (var e = [], t = {}, n = this.unresolvedLinks, i = this.vault, r = i.getConfig("showUnsupportedFiles"), o = 0, s = i.getFiles(); o < s.length; o++) {
                    var a = s[o];
                    if (r || Z(a.extension)) {
                        var l = a.path;
                        "md" === a.extension && (l = K(l)),
                        t[l] = !0,
                        e.push({
                            file: a,
                            path: l
                        });
                        var c = this.getFileCache(a);
                        if (c) {
                            var u = my(c.frontmatter);
                            if (u)
                                for (var h = 0, p = u; h < p.length; h++) {
                                    var d = p[h];
                                    e.push({
                                        file: a,
                                        path: l,
                                        alias: d
                                    })
                                }
                        }
                    }
                }
                for (var f in n)
                    if (n.hasOwnProperty(f)) {
                        var g = n[f];
                        for (var m in g)
                            g.hasOwnProperty(m) && (t[m] || (t[m] = !0,
                            e.push({
                                file: null,
                                path: m
                            })))
                    }
                return e
            }
            ,
            t.prototype.getTags = function() {
                var e = this.fileCache
                  , t = this.metadataCache
                  , n = {}
                  , i = function(e) {
                    if (e) {
                        var t = e.split("/").last();
                        n[e] = (n[e] || 0) + 1,
                        t !== e && i(e.substr(0, e.length - t.length - 1))
                    }
                };
                for (var r in e)
                    if (e.hasOwnProperty(r)) {
                        var o = t[e[r].hash];
                        if (o) {
                            var s = Ay(o);
                            if (s)
                                for (var a = 0, l = s; a < l.length; a++) {
                                    var c = l[a];
                                    i(c)
                                }
                        }
                    }
                var u = {};
                for (var c in n)
                    if (n.hasOwnProperty(c)) {
                        var h = c.toLowerCase()
                          , p = n[c];
                        if (u.hasOwnProperty(h)) {
                            var d = u[h];
                            d.count += p,
                            p > d.max && (d.max = p,
                            d.tag = c)
                        } else
                            u[h] = {
                                tag: c,
                                count: p,
                                max: p
                            }
                    }
                for (var c in n = {},
                u)
                    if (u.hasOwnProperty(c)) {
                        var f = u[c];
                        n[f.tag] = f.count
                    }
                return n
            }
            ,
            t.prototype.getLinkpathDest = function(e, t) {
                if ("" === e && t) {
                    var n = this.vault.getAbstractFileByPath(t);
                    if (n instanceof Vf)
                        return [n]
                }
                var i = this._getLinkpathDest(e, t);
                return 0 === i.length && (i = this._getLinkpathDest(e + ".md", t)),
                i
            }
            ,
            t.prototype.getFirstLinkpathDest = function(e, t) {
                var n = this.getLinkpathDest(e, t);
                return n.length > 0 ? n[0] : null
            }
            ,
            t.prototype._getLinkpathDest = function(e, t) {
                var n = e.toLowerCase()
                  , i = W(n)
                  , r = this.uniqueFileLookup.get(i);
                if (!r)
                    return [];
                var o = $(t).toLowerCase();
                if (n.startsWith("./") || n.startsWith("../")) {
                    if (n.startsWith("./../") && (n = n.substr(2)),
                    n.startsWith("./"))
                        "" !== o && (o += "/"),
                        n = o + n.substring(2);
                    else {
                        for (; n.startsWith("../"); )
                            n = n.substr(3),
                            o = $(o);
                        "" !== o && (o += "/"),
                        n = o + n
                    }
                    for (var s = 0, a = r; s < a.length; s++) {
                        if ((g = (f = a[s]).path.toLowerCase()) === n)
                            return [f]
                    }
                }
                n.startsWith("/") && (n = n.substr(1));
                for (var l = 0, c = r; l < c.length; l++) {
                    if ((g = (f = c[l]).path.toLowerCase()) === n)
                        return [f]
                }
                if (e.startsWith("/"))
                    return [];
                for (var u = [], h = [], p = 0, d = r; p < d.length; p++) {
                    var f, g;
                    (g = (f = d[p]).path.toLowerCase()).endsWith(n) && (g.startsWith(o) ? u.push(f) : h.push(f))
                }
                return u.sort((function(e, t) {
                    return e.path.length - t.path.length
                }
                )),
                h.sort((function(e, t) {
                    return e.path.length - t.path.length
                }
                )),
                u.concat(h)
            }
            ,
            t.prototype.getLinks = function() {
                var e = {};
                for (var t in this.fileCache)
                    if (this.fileCache.hasOwnProperty(t)) {
                        var n = []
                          , i = this.fileCache[t].hash
                          , r = this.metadataCache[i];
                        r && (r.links && (n = n.concat(r.links)),
                        r.embeds && (n = n.concat(r.embeds))),
                        e[t] = n
                    }
                return e
            }
            ,
            t.prototype.getFileCache = function(e) {
                return this.getCache(e.path)
            }
            ,
            t.prototype.getCache = function(e) {
                if (this.fileCache.hasOwnProperty(e)) {
                    var t = this.fileCache[e].hash;
                    return "md" !== Q(W(e)) ? {} : this.metadataCache[t]
                }
            }
            ,
            t.prototype.getFileInfo = function(e) {
                return this.fileCache[e]
            }
            ,
            t.prototype.getCachedFiles = function() {
                return Object.keys(this.fileCache)
            }
            ,
            t.prototype.iterateReferences = function(e) {
                var t = function(t) {
                    if (!n.fileCache.hasOwnProperty(t))
                        return "continue";
                    var i = n.fileCache[t].hash;
                    Dy(n.metadataCache[i], (function(n) {
                        return e(t, n)
                    }
                    ))
                }
                  , n = this;
                for (var i in this.fileCache)
                    t(i)
            }
            ,
            t.prototype.getBacklinksForFile = function(e) {
                var t = this
                  , n = new wf;
                return this.iterateReferences((function(i, r) {
                    var o = Sy(r.link)
                      , s = t.getFirstLinkpathDest(o, i);
                    s && s === e && n.add(i, r)
                }
                )),
                n
            }
            ,
            t.prototype.fileToLinktext = function(e, t, n) {
                void 0 === n && (n = !0);
                var i = this.vault.getConfig("newLinkFormat")
                  , r = "md" === e.extension && n ? K(e.path) : e.path;
                if ("absolute" === i)
                    return r;
                if ("relative" === i) {
                    for (var o = "", s = $(t); "" !== s && "/" !== s && 0 !== r.indexOf(s + "/"); )
                        o = "../" + o,
                        s = $(s);
                    return 0 === r.indexOf(s + "/") ? o + r.substr(s.length + 1) : o + r
                }
                var a = "md" === e.extension && n ? e.basename : e.name
                  , l = Sy(a)
                  , c = this.getLinkpathDest(l, t);
                return c && 1 === c.length && c[0] === e ? a : "md" === e.extension && n ? K(e.path) : e.path
            }
            ,
            t.prototype.watchVaultChanges = function() {
                var e = this.vault;
                e.on("create", this.onCreate.bind(this)),
                e.on("modify", this.onCreateOrModify.bind(this)),
                e.on("delete", this.onDelete.bind(this)),
                e.on("rename", this.onRename.bind(this))
            }
            ,
            t.prototype.initialize = function() {
                return o(this, void 0, void 0, (function() {
                    var e, t, n, i, r, o, a, l, c, u, h, p, d, f, g, m, v, y;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            t = (e = this).fileCache,
                            n = e.metadataCache,
                            s.label = 1;
                        case 1:
                            return s.trys.push([1, 8, , 9]),
                            i = this,
                            [4, CL(this.app.appId + "-cache", 19, {
                                upgrade: function(e, t, n, i) {
                                    e.objectStoreNames.contains("file") && e.deleteObjectStore("file"),
                                    e.objectStoreNames.contains("metadata") && e.deleteObjectStore("metadata"),
                                    e.createObjectStore("file"),
                                    e.createObjectStore("metadata")
                                }
                            })];
                        case 2:
                            return [4, (i.db = s.sent()).transaction(["file", "metadata"])];
                        case 3:
                            return [4, (r = s.sent()).objectStore("file").getAllKeys()];
                        case 4:
                            return o = s.sent(),
                            [4, r.objectStore("file").getAll()];
                        case 5:
                            for (a = s.sent(),
                            u = 0; u < o.length; u++)
                                t[o[u]] = a[u];
                            return [4, r.objectStore("metadata").getAllKeys()];
                        case 6:
                            return l = s.sent(),
                            [4, r.objectStore("metadata").getAll()];
                        case 7:
                            for (c = s.sent(),
                            u = 0; u < l.length; u++)
                                n[l[u]] = ky(c[u], xy);
                            return [3, 9];
                        case 8:
                            return h = s.sent(),
                            console.error("Failed to load cache", h),
                            [3, 9];
                        case 9:
                            for (setInterval(this.cleanupDeletedCache.bind(this), 6e5),
                            p = {},
                            d = this.vault.getAllLoadedFiles(),
                            f = 0,
                            g = d; f < g.length; f++)
                                (y = g[f])instanceof Vf && (this.uniqueFileLookup.add(y.name.toLowerCase(), y),
                                p[y.path] = y);
                            for (v in t)
                                t.hasOwnProperty(v) && (y = p[v],
                                m = t[v],
                                y ? n.hasOwnProperty(m.hash) ? y.stat.mtime !== m.mtime || y.stat.size !== m.size ? this.onCreateOrModify(y) : this.linkResolverQueue.add(y) : this.onCreateOrModify(y) : this.deletePath(v));
                            for (v in p)
                                p.hasOwnProperty(v) && (y = p[v],
                                t[v] || this.onCreateOrModify(y));
                            return this.initialized = !0,
                            this.watchVaultChanges(),
                            this.cleanupDeletedCache(),
                            this.trigger("initialized"),
                            this.trigger("finished"),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.clear = function() {
                return o(this, void 0, void 0, (function() {
                    var e;
                    return s(this, (function(t) {
                        switch (t.label) {
                        case 0:
                            return (e = this.db) ? [4, e.clear("metadata")] : [3, 3];
                        case 1:
                            return t.sent(),
                            [4, e.clear("file")];
                        case 2:
                            t.sent(),
                            t.label = 3;
                        case 3:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.showIndexingNotice = function() {
                var e, t, n = this, i = Te("interface.msg-indexing"), r = window.setTimeout((function() {
                    var r = n.inProgressTaskCount;
                    r <= 0 || (e = new JC(i,0),
                    t = window.setInterval((function() {
                        if (e.noticeEl.offsetParent) {
                            var o = n.inProgressTaskCount
                              , s = Math.max(0, r - o);
                            e.noticeEl.setText(i + " (" + s + "/" + r + ")")
                        } else
                            clearInterval(t)
                    }
                    ), 300))
                }
                ), 1e3);
                this.onCleanCache((function() {
                    clearTimeout(r),
                    clearInterval(t),
                    e && (e.hide(),
                    new JC(Te("interface.msg-indexing-complete")))
                }
                ))
            }
            ,
            t.prototype.linkResolver = function() {
                var e = this
                  , t = _k((this.linkResolverQueue = new qk({
                    onStop: function() {
                        return e.trigger("resolved")
                    },
                    onCancel: function() {
                        e.linkResolverQueue = null
                    }
                })).generator());
                o(e, void 0, void 0, (function() {
                    var e, n, i, r, o, a;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            s.trys.push([0, 5, 6, 11]),
                            e = h(t),
                            s.label = 1;
                        case 1:
                            return [4, e.next()];
                        case 2:
                            if ((n = s.sent()).done)
                                return [3, 4];
                            if (!(i = n.value) || "md" !== i.extension)
                                return [3, 3];
                            this.resolveLinks(i.path),
                            this.trigger("resolve", i),
                            s.label = 3;
                        case 3:
                            return [3, 1];
                        case 4:
                            return [3, 11];
                        case 5:
                            return r = s.sent(),
                            o = {
                                error: r
                            },
                            [3, 11];
                        case 6:
                            return s.trys.push([6, , 9, 10]),
                            n && !n.done && (a = e.return) ? [4, a.call(e)] : [3, 8];
                        case 7:
                            s.sent(),
                            s.label = 8;
                        case 8:
                            return [3, 10];
                        case 9:
                            if (o)
                                throw o.error;
                            return [7];
                        case 10:
                            return [7];
                        case 11:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.resolveLinks = function(e) {
                var t = this
                  , n = this.getCache(e);
                if (n) {
                    var i = {}
                      , r = {};
                    Dy(n, (function(n) {
                        var o = n.link
                          , s = Sy(o)
                          , a = t.getFirstLinkpathDest(s, e);
                        a ? i[a.path] = (i[a.path] || 0) + 1 : (o = DL(o),
                        r[o] = (r[o] || 0) + 1)
                    }
                    )),
                    this.resolvedLinks[e] = i,
                    this.unresolvedLinks[e] = r
                }
            }
            ,
            t.prototype.onCleanCache = function(e) {
                this.isCacheClean() ? e() : this.onCleanCacheCallbacks.push(e)
            }
            ,
            t.prototype.checkCleanCache = function() {
                for (; this.onCleanCacheCallbacks.length > 0 && this.isCacheClean(); ) {
                    var e = this.onCleanCacheCallbacks.shift();
                    try {
                        e()
                    } catch (e) {
                        console.error(e)
                    }
                }
            }
            ,
            t.prototype.isCacheClean = function() {
                return 0 === this.inProgressTaskCount && 0 === this.linkResolverQueue.items.length && !this.linkResolverQueue.runnable.isRunning()
            }
            ,
            t.prototype.updateRelatedLinks = function(e) {
                "md" === Q(e) && (e = Y(e)),
                e = e.toLowerCase();
                for (var t = this.resolvedLinks, n = this.unresolvedLinks, i = 0, r = this.getCachedFiles(); i < r.length; i++) {
                    var o = r[i];
                    if (ML(e, t[o]) || ML(e, n[o])) {
                        var s = this.vault.getAbstractFileByPath(o);
                        s && s instanceof Vf && this.linkResolverQueue.add(s)
                    }
                }
            }
            ,
            t.prototype.onCreate = function(e) {
                this.onCreateOrModify(e),
                e && e instanceof Vf && this.updateRelatedLinks(e.name)
            }
            ,
            t.prototype.onCreateOrModify = function(e) {
                var t = this;
                if (e && e instanceof Vf && (this.uniqueFileLookup.add(e.name.toLowerCase(), e),
                Z(e.extension))) {
                    var n = e.stat
                      , i = e.path
                      , r = this.fileCache[i];
                    if ("md" !== e.extension)
                        return r = {
                            mtime: n.mtime,
                            size: n.size,
                            hash: ""
                        },
                        void this.saveFileCache(i, r);
                    var a = !1;
                    if (r) {
                        var l = r.mtime === n.mtime && r.size === n.size
                          , c = r.hash && !!this.metadataCache[r.hash];
                        a = l && c
                    } else
                        r = {
                            mtime: 0,
                            size: 0,
                            hash: ""
                        },
                        this.saveFileCache(i, r);
                    if (a)
                        this.linkResolverQueue.add(e);
                    else {
                        this.inProgressTaskCount++,
                        this.workQueue.queue((function() {
                            return o(t, void 0, void 0, (function() {
                                var a;
                                return s(this, (function(l) {
                                    switch (l.label) {
                                    case 0:
                                        return l.trys.push([0, 2, , 3]),
                                        [4, o(t, void 0, void 0, (function() {
                                            var t, o, a;
                                            return s(this, (function(s) {
                                                switch (s.label) {
                                                case 0:
                                                    return [4, this.vault.readBinary(e)];
                                                case 1:
                                                    return [4, E(t = s.sent())];
                                                case 2:
                                                    return o = s.sent(),
                                                    r.mtime = n.mtime,
                                                    r.size = n.size,
                                                    r.hash = o,
                                                    this.saveFileCache(i, r),
                                                    this.metadataCache[o] ? (this.linkResolverQueue.add(e),
                                                    this.trigger("changed", e),
                                                    [2]) : [4, this.work(t)];
                                                case 3:
                                                    return (a = s.sent()) ? (this.saveMetaCache(o, a),
                                                    this.linkResolverQueue.add(e),
                                                    this.trigger("changed", e),
                                                    [2]) : (console.log("Metadata failed to parse", e),
                                                    [2])
                                                }
                                            }
                                            ))
                                        }
                                        ))];
                                    case 1:
                                        return l.sent(),
                                        [3, 3];
                                    case 2:
                                        return a = l.sent(),
                                        console.error(a),
                                        [3, 3];
                                    case 3:
                                        return this.inProgressTaskCount--,
                                        0 === this.inProgressTaskCount && this.trigger("finished"),
                                        [2]
                                    }
                                }
                                ))
                            }
                            ))
                        }
                        ))
                    }
                }
            }
            ,
            t.prototype.onDelete = function(e) {
                e && e instanceof Vf && (this.uniqueFileLookup.remove(e.name.toLowerCase(), e),
                Z(e.extension) && this.deletePath(e.path))
            }
            ,
            t.prototype.deletePath = function(e) {
                delete this.resolvedLinks[e],
                delete this.unresolvedLinks[e],
                this.saveFileCache(e, null),
                this.updateRelatedLinks(W(e)),
                this.linkResolverQueue.add(null),
                this.trigger("finished")
            }
            ,
            t.prototype.onRename = function(e, t) {
                if (e && e instanceof Vf) {
                    var n = e.path
                      , i = this
                      , r = i.uniqueFileLookup
                      , o = i.resolvedLinks
                      , s = i.unresolvedLinks
                      , a = i.fileCache;
                    if (r.remove(W(t).toLowerCase(), e),
                    r.add(e.name.toLowerCase(), e),
                    Z(e.extension)) {
                        o.hasOwnProperty(t) && (o[n] = o[t],
                        delete o[t]),
                        s.hasOwnProperty(t) && (s[n] = s[t],
                        delete s[t]),
                        a.hasOwnProperty(t) && (this.saveFileCache(n, a[t]),
                        this.saveFileCache(t, null));
                        var l = W(t)
                          , c = W(n);
                        this.updateRelatedLinks(l),
                        c !== l && this.updateRelatedLinks(c),
                        this.linkResolverQueue.add(null)
                    }
                }
            }
            ,
            t.prototype.saveFileCache = function(e, t) {
                t ? (this.fileCache[e] = t,
                this.db && this.db.transaction("file", "readwrite").store.put(t, e)) : (delete this.fileCache[e],
                this.db && this.db.transaction("file", "readwrite").store.delete(e))
            }
            ,
            t.prototype.saveMetaCache = function(e, t) {
                if (t) {
                    this.metadataCache[e] = t;
                    var n = JSON.parse(JSON.stringify(t));
                    ky(n, Cy),
                    this.db && this.db.transaction("metadata", "readwrite").store.put(n, e)
                } else
                    delete this.metadataCache[e],
                    this.db && this.db.transaction("metadata", "readwrite").store.delete(e)
            }
            ,
            t.prototype.work = function(e) {
                var t = this;
                if (this.workerResolve)
                    throw new Error("Work queue must be sequential!");
                return new Promise((function(n) {
                    t.workerResolve = n,
                    t.worker.postMessage({
                        metadataCache: e
                    }, [e])
                }
                ))
            }
            ,
            t.prototype.onReceiveMessageFromWorker = function(e) {
                this.workerResolve && (this.workerResolve(e.data),
                this.workerResolve = null)
            }
            ,
            t.prototype.cleanupDeletedCache = function() {
                var e = this.fileCache
                  , t = this.metadataCache
                  , n = {};
                for (var i in e) {
                    if (e.hasOwnProperty(i))
                        n[e[i].hash] = !0
                }
                for (var r in t)
                    t.hasOwnProperty(r) && (n[r] || this.saveMetaCache(r, null))
            }
            ,
            t.prototype.trigger = function(t) {
                for (var n = [], i = 1; i < arguments.length; i++)
                    n[i - 1] = arguments[i];
                e.prototype.trigger.apply(this, l([t], n))
            }
            ,
            t.prototype.on = function(t, n, i) {
                return e.prototype.on.call(this, t, n, i)
            }
            ,
            t
        }(Bf)
          , FL = function() {
            function e(e) {
                this.isOpen = !1,
                this.app = e,
                this.containerEl = createDiv("mobile-toolbar"),
                this.optionsContainerEl = this.containerEl.createDiv("mobile-toolbar-options-container")
            }
            return e.prototype.open = function() {
                var e = this
                  , t = this.app
                  , n = this.optionsContainerEl;
                n.empty();
                var i = t.vault.getConfig("mobileToolbarCommands");
                if (0 !== i.length) {
                    for (var r, o = t.commands, s = function(e) {
                        var t = o.findCommand(e);
                        if (!t)
                            return "continue";
                        n.createDiv("mobile-toolbar-option", (function(n) {
                            var i = t.icon;
                            i || (i = Jw),
                            yk(n, i, 22),
                            n.addEventListener("click", (function(t) {
                                o.executeCommandById(e),
                                t.preventDefault()
                            }
                            )),
                            n.addEventListener("mousedown", (function(e) {
                                e.preventDefault()
                            }
                            ))
                        }
                        ))
                    }, a = 0, l = i; a < l.length; a++) {
                        s(l[a])
                    }
                    this.isOpen = !0;
                    var c = function() {
                        if (clearTimeout(r),
                        window.removeEventListener("resize", c),
                        e.isOpen) {
                            var t = e.containerEl;
                            e.app.dom.appContainerEl.appendChild(t);
                            var n = t.offsetHeight - 1;
                            At(t, new Et({
                                duration: 250
                            }).addProp("transform", "translateY(" + n + "px)", ""))
                        }
                    };
                    window.addEventListener("resize", c),
                    r = window.setTimeout(c, 500)
                }
            }
            ,
            e.prototype.close = function() {
                this.isOpen = !1;
                var e = this.containerEl;
                Dt(e),
                e.detach()
            }
            ,
            e
        }()
          , PL = function(e) {
            function t(t) {
                var n = e.call(this, t) || this;
                n.limit = 0,
                n.emptyStateText = "No results found",
                n.isOpen = !1,
                n.inputEl = null,
                n.resultContainerEl = null;
                var i = n.modalEl;
                return i.removeClass("modal"),
                i.addClass("prompt"),
                i.empty(),
                n.inputEl = i.createEl("input", {
                    cls: "prompt-input",
                    type: "text"
                }),
                n.resultContainerEl = i.createDiv("prompt-results"),
                n.resultContainerEl.on("mousedown", ".suggestion-item", (function(e) {
                    return e.preventDefault()
                }
                )),
                n.chooser = new _f(n,n.resultContainerEl,n.scope),
                n.inputEl.addEventListener("input", n.onInput.bind(n)),
                n
            }
            return i(t, e),
            t.prototype.setPlaceholder = function(e) {
                this.inputEl.placeholder = e
            }
            ,
            t.prototype.setInstructions = function(e) {
                for (var t = this.modalEl.createDiv("prompt-instructions"), n = function(e) {
                    t.createDiv("prompt-instruction", (function(t) {
                        t.createSpan({
                            cls: "prompt-instruction-command",
                            text: e.command
                        }),
                        t.createSpan({
                            text: e.purpose
                        })
                    }
                    ))
                }, i = 0, r = e; i < r.length; i++) {
                    n(r[i])
                }
            }
            ,
            t.prototype.onOpen = function() {
                var e = this.inputEl;
                if (this.isOpen = !0,
                e.value = "",
                on.isMobileApp && on.isIosApp) {
                    var t = document.body.createEl("input", {
                        type: "text"
                    });
                    t.style.position = "absolute",
                    t.style.top = "0",
                    t.style.opacity = "0",
                    t.style.zIndex = "-9999",
                    t.focus(),
                    setTimeout((function() {
                        t.detach(),
                        e.focus()
                    }
                    ), 300)
                } else
                    e.focus();
                this.updateSuggestions()
            }
            ,
            t.prototype.onInput = function() {
                this.updateSuggestions()
            }
            ,
            t.prototype.updateSuggestions = function() {
                var e = this.inputEl.value
                  , t = this.getSuggestions(e);
                if (0 !== t.length) {
                    var n = this.limit;
                    n && n > 0 && (t = t.slice(0, n)),
                    this.chooser.setSuggestions(t)
                } else
                    e ? this.onNoSuggestion() : this.chooser.setSuggestions(null)
            }
            ,
            t.prototype.onNoSuggestion = function() {
                this.chooser.setSuggestions(null),
                this.chooser.addMessage(this.emptyStateText)
            }
            ,
            t.prototype.selectSuggestion = function(e, t) {
                this.app.keymap.updateModifiers(t),
                this.close(),
                this.isOpen = !1,
                this.onChooseSuggestion(e, t)
            }
            ,
            t
        }(sn)
          , OL = function(e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }
            return i(t, e),
            t.prototype.getSuggestions = function(e) {
                e = e.trim();
                for (var t = this.getItems(), n = Sk(e), i = [], r = 0, o = t; r < o.length; r++) {
                    var s = o[r]
                      , a = Ak(n, this.getItemText(s));
                    a && i.push({
                        match: a,
                        item: s
                    })
                }
                return Tk(i),
                i
            }
            ,
            t.prototype.renderSuggestion = function(e, t) {
                Ik(t, this.getItemText(e.item), e.match)
            }
            ,
            t.prototype.onChooseSuggestion = function(e, t) {
                this.onChooseItem(e.item, t)
            }
            ,
            t
        }(PL);
        function IL(e) {
            return "md" === e.extension ? K(e.path) : e.path
        }
        var NL, RL = function(e) {
            function t(t) {
                var n = e.call(this, t) || this;
                return n.shouldShowUnresolved = !1,
                n.shouldShowAlias = !0,
                n.shouldShowAttachments = !0,
                n.shouldShowAllTypes = !1,
                n.limit = 10,
                n.scope.register(null, "Tab", (function() {
                    return !1
                }
                )),
                n
            }
            return i(t, e),
            t.prototype.onNoSuggestion = function() {
                this.chooser.setSuggestions([null]),
                this.chooser.addMessage(this.emptyStateText)
            }
            ,
            t.prototype.getSuggestions = function(e) {
                var t = this;
                e = e.trim();
                var n = this.app
                  , i = n.workspace
                  , r = n.vault
                  , o = n.metadataCache
                  , s = n.viewRegistry
                  , a = []
                  , l = !this.shouldShowAttachments
                  , c = function(e) {
                    return s.isExtensionRegistered(e.extension) ? !l || "md" === e.extension : t.shouldShowAllTypes
                };
                if (!e) {
                    for (var u = 0, h = i.getLastOpenFiles(); u < h.length; u++) {
                        var p = h[u];
                        (v = r.getAbstractFileByPath(p))instanceof Vf && (c(v) && a.push({
                            type: "file",
                            file: v,
                            match: null
                        }))
                    }
                    return a
                }
                var d, f = r.getFiles().filter((function(e) {
                    return c(e)
                }
                ));
                d = f.length < 1e4 ? Lk(e) : Ok(e);
                for (var g = 0, m = f; g < m.length; g++) {
                    var v;
                    if ((F = Gk(d, IL(v = m[g]))) && a.push({
                        type: "file",
                        file: v,
                        match: F
                    }),
                    this.shouldShowAlias) {
                        var y = o.getFileCache(v);
                        if (y) {
                            var b = my(y.frontmatter);
                            if (b)
                                for (var w = 0, k = b; w < k.length; w++) {
                                    var C = k[w]
                                      , x = d(C);
                                    x && a.push({
                                        type: "alias",
                                        alias: C,
                                        file: v,
                                        match: x
                                    })
                                }
                        }
                    }
                }
                if (this.shouldShowUnresolved) {
                    var E = o.unresolvedLinks
                      , S = [];
                    for (var L in E)
                        if (E.hasOwnProperty(L)) {
                            var D = E[L];
                            for (var M in D)
                                D.hasOwnProperty(M) && S.push(M)
                        }
                    for (var A = 0, T = S = Array.from(new Set(S)); A < T.length; A++) {
                        var F, P = T[A];
                        (F = d(P)) && a.push({
                            type: "unresolved",
                            linktext: P,
                            match: F
                        })
                    }
                }
                return Tk(a),
                a
            }
            ,
            t.prototype.renderSuggestion = function(e, t) {
                if (!e) {
                    var n = this.inputEl.value;
                    return t.setText(n),
                    t.createEl("kbd", {
                        cls: "suggestion-hotkey",
                        text: Te("interface.label-enter-to-create")
                    }),
                    void t.createSpan({
                        cls: "suggestion-flair",
                        prepend: !0
                    })
                }
                if ("file" === e.type)
                    Ik(t, IL(e.file), e.match),
                    t.createSpan({
                        cls: "suggestion-flair",
                        prepend: !0
                    });
                else if ("alias" === e.type) {
                    Ik(t, e.alias, e.match),
                    t.createSpan({
                        cls: "suggestion-flair",
                        prepend: !0
                    }, (function(e) {
                        yk(e, Wb, 16),
                        Je(e, Te("interface.tooltip.alias"))
                    }
                    )),
                    t.createDiv("suggestion-note").appendText(IL(e.file))
                } else
                    "unresolved" === e.type && (t.createSpan({
                        cls: "suggestion-flair",
                        prepend: !0,
                        text: "+"
                    }, (function(e) {
                        yk(e, Bw, 16),
                        Je(e, Te("interface.tooltip.not-created-yet"))
                    }
                    )),
                    Ik(t, e.linktext, e.match))
            }
            ,
            t
        }(PL), BL = function() {
            function e(e) {
                this.app = e
            }
            return e.prototype.setupNative = function() {
                var e = this;
                BS && zS.addListener("appShareIntent", (function(t) {
                    return o(e, void 0, void 0, (function() {
                        return s(this, (function(e) {
                            switch (e.label) {
                            case 0:
                                return Bt(),
                                "text" !== t.type ? [3, 2] : [4, this.handleShareText(t.text)];
                            case 1:
                                e.sent(),
                                e.label = 2;
                            case 2:
                                return "file" !== t.type ? [3, 4] : [4, this.handleShareFiles([t])];
                            case 3:
                                e.sent(),
                                e.label = 4;
                            case 4:
                                return "files" !== t.type ? [3, 6] : [4, this.handleShareFiles(t.files)];
                            case 5:
                                e.sent(),
                                e.label = 6;
                            case 6:
                                return [2]
                            }
                        }
                        ))
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.setupWorkspace = function() {
                var e = this.app
                  , t = e.workspace;
                t.on("receive-text-menu", (function(n, i) {
                    var r = t.getActiveViewOfType(gS);
                    r && n.addItem((function(e) {
                        return e.setTitle(Te("interface.mobile.action-insert-text-into-file", {
                            filename: r.file.basename
                        })).setIcon(By).onClick((function() {
                            return r.editor.insertText("\n" + i + "\n")
                        }
                        ))
                    }
                    )),
                    n.addItem((function(t) {
                        return t.setTitle(Te("interface.mobile.action-choose-file-to-insert")).setIcon(By).onClick((function() {
                            new zL(e,i).open()
                        }
                        ))
                    }
                    ))
                }
                )),
                t.on("receive-files-menu", (function(n, i) {
                    var r = t.getActiveViewOfType(gS);
                    r && n.addItem((function(t) {
                        return t.setTitle(Te("interface.mobile.action-insert-link-into-file", {
                            filename: r.file.basename
                        })).setIcon(By).onClick((function() {
                            var t = i.map((function(t) {
                                return e.fileManager.generateMarkdownLink(t, r.file.path)
                            }
                            ));
                            r.editor.insertText("\n" + t.join("\n") + "\n")
                        }
                        ))
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.handleShareText = function(e) {
                return o(this, void 0, void 0, (function() {
                    var t;
                    return s(this, (function(n) {
                        return t = new Zk(this.app).addItem((function(t) {
                            return t.setTitle(Tf(e, 300)).removeIcon().setIsLabel(!0).titleEl.addClass("u-muted", "u-small")
                        }
                        )).addSeparator(),
                        this.app.workspace.trigger("receive-text-menu", t, e),
                        t.addItem((function(e) {
                            return e.setTitle(Te("dialogue.button-cancel")).setIcon(wb).onClick((function() {
                                return null
                            }
                            ))
                        }
                        )).showAtPosition({
                            x: 0,
                            y: 0
                        }),
                        [2]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.handleShareFiles = function(e) {
                return o(this, void 0, void 0, (function() {
                    var t = this;
                    return s(this, (function(n) {
                        return new Zk(this.app).addItem((function(t) {
                            return t.setTitle(createFragment((function(t) {
                                for (var n = 0, i = e; n < i.length; n++) {
                                    var r = i[n];
                                    t.createDiv({
                                        text: r.name
                                    })
                                }
                            }
                            ))).removeIcon().setIsLabel(!0).titleEl.addClass("u-muted", "u-small")
                        }
                        )).addSeparator().addItem((function(n) {
                            return n.setTitle(Te("interface.mobile.action-import")).setIcon(Yy).onClick((function() {
                                return t.importFiles(e)
                            }
                            ))
                        }
                        )).addItem((function(e) {
                            return e.setTitle(Te("dialogue.button-cancel")).setIcon(wb).onClick((function() {
                                return null
                            }
                            ))
                        }
                        )).showAtPosition({
                            x: 0,
                            y: 0
                        }),
                        [2]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.importFiles = function(e) {
                return o(this, void 0, void 0, (function() {
                    var t, n, i, r, o, a, l, c, u, h, p, d, f, g, m;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            t = [],
                            n = new JC(Te("interface.mobile.msg-importing"),0),
                            i = 0,
                            r = this.app.vault,
                            o = 0,
                            a = e,
                            s.label = 1;
                        case 1:
                            if (!(o < a.length))
                                return [3, 12];
                            l = a[o],
                            s.label = 2;
                        case 2:
                            return s.trys.push([2, 10, , 11]),
                            e.length > 1 && n.setMessage(Te("interface.mobile.msg-importing") + " (" + i + "/" + e.length + ")"),
                            [4, fetch(OS.convertFileSrc(l.uri))];
                        case 3:
                            return [4, s.sent().arrayBuffer()];
                        case 4:
                            return c = s.sent(),
                            u = l.name || W(l.uri),
                            h = Y(u),
                            p = Q(u),
                            d = void 0,
                            "md" === p ? [3, 6] : [4, r.getAvailablePathForAttachments(h, p)];
                        case 5:
                            return d = s.sent(),
                            [3, 8];
                        case 6:
                            return [4, r.getAvailablePath(h, p)];
                        case 7:
                            d = s.sent(),
                            s.label = 8;
                        case 8:
                            return [4, r.createBinary(d, c)];
                        case 9:
                            return f = s.sent(),
                            t.push(f),
                            i++,
                            [3, 11];
                        case 10:
                            return g = s.sent(),
                            n.hide(),
                            new JC(Te("interface.mobile.msg-failed-to-import-file", {
                                filename: l.name
                            })),
                            new JC(g.toString()),
                            [2];
                        case 11:
                            return o++,
                            [3, 1];
                        case 12:
                            return n.hide(),
                            (m = new Zk(this.app).addItem((function(e) {
                                return e.setTitle(Te("interface.mobile.msg-import-success")).removeIcon().setIsLabel(!0)
                            }
                            )).addSeparator()).addItem((function(e) {
                                return e.setTitle(Te("dialogue.button-done")).setIcon(ib).onClick((function() {
                                    return null
                                }
                                ))
                            }
                            )),
                            this.app.workspace.trigger("receive-files-menu", m, t),
                            m.showAtPosition({
                                x: 0,
                                y: 0
                            }),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e
        }(), zL = function(e) {
            function t(t, n) {
                var i = e.call(this, t) || this;
                return i.emptyStateText = Te("plugins.quick-switcher.label-no-note-create-new"),
                i.text = n,
                i.shouldShowUnresolved = !0,
                i.shouldShowAttachments = !1,
                i.shouldShowAllTypes = !1,
                i.setPlaceholder("Choose file to insert"),
                i.setInstructions([{
                    command: "↑↓",
                    purpose: "to navigate"
                }, {
                    command: "↵",
                    purpose: "to select"
                }, {
                    command: "esc",
                    purpose: "to dismiss"
                }]),
                i
            }
            return i(t, e),
            t.prototype.onChooseSuggestion = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    var t, n;
                    return s(this, (function(i) {
                        switch (i.label) {
                        case 0:
                            return t = null,
                            n = this.app,
                            e ? [3, 2] : [4, n.fileManager.createNewMarkdownFileFromLinktext(this.inputEl.value, "")];
                        case 1:
                            return t = i.sent(),
                            [3, 5];
                        case 2:
                            return "unresolved" !== e.type ? [3, 4] : [4, n.fileManager.createNewMarkdownFileFromLinktext(e.linktext, "")];
                        case 3:
                            return t = i.sent(),
                            [3, 5];
                        case 4:
                            "file" !== e.type && "alias" !== e.type || (t = e.file),
                            i.label = 5;
                        case 5:
                            return t ? [4, this.app.fileManager.insertTextIntoFile(t, this.text, "", "", !1)] : [3, 8];
                        case 6:
                            return i.sent(),
                            [4, this.app.workspace.getLeaf().openFile(t)];
                        case 7:
                            i.sent(),
                            i.label = 8;
                        case 8:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t
        }(RL);
        !function(e) {
            e[e.Showing = 0] = "Showing",
            e[e.Shown = 1] = "Shown",
            e[e.Hiding = 2] = "Hiding",
            e[e.Hidden = 3] = "Hidden"
        }(NL || (NL = {}));
        var HL = []
          , VL = []
          , qL = 0
          , UL = null
          , _L = function(e) {
            for (var t = 0, n = VL; t < n.length; t++) {
                (o = n[t]).hoverEl.contains(e.target) && e.preventDefault(),
                o.hide()
            }
            for (var i = 0, r = HL; i < r.length; i++) {
                var o;
                (o = r[i]).hide()
            }
        }
          , jL = function() {
            for (var e = 0, t = HL; e < t.length; e++) {
                t[e].hide()
            }
        }
          , WL = function(e) {
            UL = {
                x: e.clientX,
                y: e.clientY
            }
        }
          , $L = function() {
            if (UL)
                if (0 === VL.length)
                    document.removeEventListener("click", _L),
                    document.removeEventListener("contextmenu", jL),
                    document.removeEventListener("mousemove", WL),
                    clearInterval(qL),
                    qL = 0;
                else {
                    for (var e = document.elementFromPoint(UL.x, UL.y), t = 0, n = VL; t < n.length; t++) {
                        n[t].detect(e)
                    }
                    for (var i = 0, r = VL; i < r.length; i++) {
                        r[i].transition()
                    }
                }
        }
          , GL = function() {
            qL || (document.addEventListener("click", _L),
            document.addEventListener("contextmenu", jL),
            document.addEventListener("mousemove", WL),
            qL = window.setInterval($L, 500))
        }
          , YL = function(e) {
            function t(t, n, i) {
                void 0 === i && (i = 300);
                var r = e.call(this) || this;
                r.onTarget = !0,
                r.onHover = !1,
                r.shownPos = null,
                r.parent = t,
                r.targetEl = n,
                r.waitTime = i,
                r.state = NL.Showing;
                var o = r.hoverEl = createDiv("popover hover-popover")
                  , s = r.onMouseIn = r.onMouseIn.bind(r)
                  , a = r.onMouseOut = r.onMouseOut.bind(r);
                return n && (n.addEventListener("mouseover", s),
                n.addEventListener("mouseout", a)),
                o.addEventListener("mouseover", (function(e) {
                    He(e, o) && (r.onHover = !0,
                    r.transition())
                }
                )),
                o.addEventListener("mouseout", (function(e) {
                    He(e, o) && (r.onHover = !1,
                    r.transition())
                }
                )),
                r.timer = window.setTimeout(r.show.bind(r), i),
                HL.push(r),
                GL(),
                r
            }
            return i(t, e),
            t.prototype.onMouseIn = function(e) {
                this.targetEl && !He(e, this.targetEl) || (this.onTarget = !0,
                this.transition())
            }
            ,
            t.prototype.onMouseOut = function(e) {
                this.targetEl && !He(e, this.targetEl) || (this.onTarget = !1,
                this.transition())
            }
            ,
            t.prototype.detect = function(e) {
                var t = this.targetEl
                  , n = this.hoverEl;
                t && (this.onTarget = e === t || t.contains(e)),
                this.onHover = e === n || n.contains(e)
            }
            ,
            t.prototype.shouldShow = function() {
                return this.shouldShowSelf() || this.shouldShowChild()
            }
            ,
            t.prototype.shouldShowSelf = function() {
                return this.onTarget || this.onHover
            }
            ,
            t.prototype.shouldShowChild = function() {
                var e = this;
                return VL.some((function(t) {
                    return t !== e && t.targetEl && e.hoverEl.contains(t.targetEl) && t.shouldShow()
                }
                ))
            }
            ,
            t.prototype.transition = function() {
                var e = this
                  , t = this.shouldShow()
                  , n = this.state;
                t ? n === NL.Hiding && (this.state = NL.Shown,
                clearTimeout(this.timer)) : n === NL.Showing ? this.hide() : n === NL.Shown && (this.state = NL.Hiding,
                this.timer = window.setTimeout((function() {
                    e.shouldShow() ? e.transition() : e.hide()
                }
                ), this.waitTime))
            }
            ,
            t.prototype.show = function() {
                var e = this.targetEl;
                !e || document.body.contains(e) ? (this.state = NL.Shown,
                this.timer = 0,
                this.shownPos = UL,
                this.position(UL),
                this.onShow(),
                HL.remove(this),
                VL.push(this),
                GL(),
                this.load()) : this.hide()
            }
            ,
            t.prototype.hide = function() {
                var e = this
                  , t = this
                  , n = t.hoverEl
                  , i = t.targetEl
                  , r = t.timer;
                this.state = NL.Hidden,
                HL.remove(this),
                VL.remove(this),
                clearTimeout(r),
                n.detach(),
                i && (i.removeEventListener("mouseover", this.onMouseIn),
                i.removeEventListener("mouseout", this.onMouseOut)),
                this.onTarget = !1,
                this.onHover = !1,
                VL.filter((function(t) {
                    return t.targetEl && e.hoverEl.contains(t.targetEl)
                }
                )).forEach((function(e) {
                    return e.hide()
                }
                )),
                this.onHide(),
                this.unload()
            }
            ,
            t.prototype.onShow = function() {
                var e = this.parent;
                e.hoverPopover && e.hoverPopover.hide(),
                e.hoverPopover = this
            }
            ,
            t.prototype.onHide = function() {
                var e = this.parent;
                e.hoverPopover === this && (e.hoverPopover = null)
            }
            ,
            t.prototype.position = function(e) {
                void 0 === e && (e = this.shownPos);
                var t, n = this.hoverEl, i = this.targetEl;
                if (e)
                    t = {
                        top: e.y - 10,
                        bottom: e.y + 10,
                        left: e.x,
                        right: e.x
                    };
                else if (i) {
                    var r = qt(i, document.body);
                    t = {
                        top: r.top,
                        bottom: r.top + i.offsetHeight,
                        left: r.left,
                        right: r.left + i.offsetWidth
                    }
                } else
                    t = {
                        top: 0,
                        bottom: 0,
                        left: 0,
                        right: 0
                    };
                document.body.appendChild(n),
                Ht(t, n, {
                    gap: 10
                })
            }
            ,
            t
        }(Jk)
          , KL = function(e) {
            function t() {
                var t = e.call(this) || this;
                return t.viewByType = {},
                t.typeByExtension = {},
                t.registerViewWithExtensions(U, gS.VIEW_TYPE, (function(e) {
                    return new gS(e)
                }
                )),
                t.registerViewWithExtensions(z, ix.VIEW_TYPE, (function(e) {
                    return new ix(e)
                }
                )),
                t.registerViewWithExtensions(H, tx.VIEW_TYPE, (function(e) {
                    return new tx(e)
                }
                )),
                t.registerViewWithExtensions(V, px.VIEW_TYPE, (function(e) {
                    return new px(e)
                }
                )),
                t.registerViewWithExtensions(q, cx.VIEW_TYPE, (function(e) {
                    return new cx(e)
                }
                )),
                t
            }
            return i(t, e),
            t.prototype.registerView = function(e, t) {
                if (this.viewByType.hasOwnProperty(e))
                    throw new Error('Attempting to register an existing view type "' + e + '"');
                this.viewByType[e] = t
            }
            ,
            t.prototype.unregisterView = function(e) {
                delete this.viewByType[e]
            }
            ,
            t.prototype.registerExtensions = function(e, t) {
                for (var n = this.typeByExtension, i = 0, r = e; i < r.length; i++) {
                    var o = r[i];
                    if (n.hasOwnProperty(o))
                        throw new Error('Attempting to register an existing file extension "' + o + '"')
                }
                for (var s = 0, a = e; s < a.length; s++) {
                    o = a[s];
                    this.typeByExtension[o] = t
                }
                this.trigger("extensions-updated")
            }
            ,
            t.prototype.unregisterExtensions = function(e) {
                for (var t = 0, n = e; t < n.length; t++) {
                    var i = n[t];
                    delete this.typeByExtension[i]
                }
                this.trigger("extensions-updated")
            }
            ,
            t.prototype.registerViewWithExtensions = function(e, t, n) {
                this.registerView(t, n),
                this.registerExtensions(e, t)
            }
            ,
            t.prototype.getViewCreatorByType = function(e) {
                return this.viewByType[e]
            }
            ,
            t.prototype.getTypeByExtension = function(e) {
                return this.typeByExtension[e]
            }
            ,
            t.prototype.isExtensionRegistered = function(e) {
                return this.typeByExtension.hasOwnProperty(e)
            }
            ,
            t.prototype.trigger = function(t) {
                for (var n = [], i = 1; i < arguments.length; i++)
                    n[i - 1] = arguments[i];
                e.prototype.trigger.apply(this, l([t], n))
            }
            ,
            t.prototype.on = function(t, n, i) {
                return e.prototype.on.call(this, t, n, i)
            }
            ,
            t
        }(Bf)
          , QL = function(e) {
            function t(t) {
                var n = e.call(this, t) || this;
                n.canDropAnywhere = !0;
                var i = n.emptyStateEl = n.contentEl.createDiv("empty-state")
                  , r = n.clickableArea = i.createDiv("empty-state-container");
                return n.emptyTitleEl = r.createDiv({
                    cls: "empty-state-title",
                    text: Te("interface.empty-state.no-file-open")
                }, (function(e) {
                    e.createSpan("empty-state-close-button", (function(e) {
                        yk(e, wb, 20),
                        e.addEventListener("click", (function() {
                            n.leaf.detach()
                        }
                        ))
                    }
                    ))
                }
                )),
                n.actionListEl = r.createDiv("empty-state-action-list"),
                n.app.dragManager.handleDrop(i, (function(e, t, r) {
                    var o = n.leaf.handleDrop(e, t, r);
                    if (o)
                        return o.hoverEl = i,
                        o.hoverClass = "is-highlighted",
                        o
                }
                )),
                n
            }
            return i(t, e),
            t.prototype.getDisplayText = function() {
                return ""
            }
            ,
            t.prototype.getViewType = function() {
                return "empty"
            }
            ,
            t.prototype.onOpen = function() {
                return o(this, void 0, Promise, (function() {
                    var e, t, n, i, r, o, a, l, c, u = this;
                    return s(this, (function(s) {
                        return t = (e = this).app,
                        (n = e.actionListEl).empty(),
                        i = "file-explorer:new-file",
                        r = "",
                        on.isMobile || (o = t.hotkeyManager.printHotkeyForCommand(i)) && (r = " (" + o + ")"),
                        n.createDiv({
                            cls: "empty-state-action",
                            text: Te("interface.empty-state.create-new-file") + r
                        }, (function(e) {
                            e.addEventListener("click", (function() {
                                t.commands.executeCommandById(i)
                            }
                            ))
                        }
                        )),
                        t.vault.isEmpty() || (a = "switcher:open",
                        l = "",
                        on.isMobile || (c = t.hotkeyManager.printHotkeyForCommand(a)) && (l = " (" + c + ")"),
                        n.createDiv({
                            cls: "empty-state-action",
                            text: Te("interface.empty-state.go-to-file") + l
                        }, (function(e) {
                            e.addEventListener("click", (function() {
                                t.commands.executeCommandById(a)
                            }
                            ))
                        }
                        )),
                        n.createDiv({
                            cls: "empty-state-action",
                            text: Te("interface.empty-state.see-recent-files") + l
                        }, (function(e) {
                            e.addEventListener("click", (function() {
                                t.commands.executeCommandById(a)
                            }
                            ))
                        }
                        ))),
                        n.createDiv({
                            cls: "empty-state-action mod-close",
                            text: Te("interface.empty-state.close")
                        }, (function(e) {
                            e.addEventListener("click", (function() {
                                u.leaf.detach()
                            }
                            ))
                        }
                        )),
                        [2]
                    }
                    ))
                }
                ))
            }
            ,
            t
        }(KC)
          , JL = function(e) {
            function t(t, n) {
                var i = e.call(this) || this;
                i.parentSplit = null,
                i.containerEl = null,
                i.tabHeaderEl = null,
                i.tabHeaderInnerIconEl = null,
                i.dimension = null,
                i.component = new Jk,
                i.app = t.app,
                i.workspace = t,
                i.id = n || kf(16);
                var r = i.containerEl = createDiv()
                  , o = i.resizeHandleEl = r.createEl("hr", "workspace-leaf-resize-handle");
                return i.tabHeaderEl = createDiv("workspace-tab-header"),
                i.tabHeaderEl.createDiv("workspace-tab-header-inner", (function(e) {
                    i.tabHeaderInnerIconEl = e.createDiv("workspace-tab-header-inner-icon")
                }
                )),
                i.component.load(),
                o.addEventListener("mousedown", i.onResizeStart.bind(i)),
                i.updateHeader(),
                i
            }
            return i(t, e),
            t.prototype.serialize = function() {
                var e = {
                    id: this.id,
                    type: this.type
                };
                return this.dimension && (e.dimension = this.dimension),
                e
            }
            ,
            t.prototype.onResizeStart = function(e) {
                if (0 === e.button) {
                    var t = this.parentSplit;
                    t instanceof ZL && t.onChildResizeStart(this, e)
                }
            }
            ,
            t.prototype.setParent = function(e) {
                this.parentSplit = e
            }
            ,
            t.prototype.getRoot = function() {
                for (var e = this; e.parentSplit; )
                    e = e.parentSplit;
                return e
            }
            ,
            t.prototype.setDimension = function(e) {
                null !== e && (e <= 0 || e >= 100) && (e = null),
                this.dimension = e;
                var t = this.containerEl
                  , n = "";
                e && (n = String(e)),
                t.style.flexGrow = n
            }
            ,
            t.prototype.detach = function() {
                this.parentSplit && this.parentSplit.removeChild(this)
            }
            ,
            t.prototype.getIcon = function() {
                return By
            }
            ,
            t.prototype.updateHeader = function() {
                yk(this.tabHeaderInnerIconEl, this.getIcon(), 17)
            }
            ,
            t
        }(Bf)
          , XL = function(e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.allowSingleChild = !1,
                t.autoManageDOM = !0,
                t.children = [],
                t
            }
            return i(t, e),
            t.prototype.serialize = function() {
                var t = e.prototype.serialize.call(this);
                return t.children = this.children.map((function(e) {
                    return e.serialize()
                }
                )),
                t
            }
            ,
            t.prototype.replaceChild = function(e, t, n) {
                var i = this
                  , r = i.workspace
                  , o = i.autoManageDOM
                  , s = i.containerEl
                  , a = i.children;
                e < 0 && (e = 0),
                e >= a.length && (e = a.length);
                var l = a[e]
                  , c = l.containerEl.nextSibling;
                if (o && l.containerEl.detach(),
                l.setParent(null),
                a[e] = t,
                o) {
                    var u = t.containerEl;
                    s.insertBefore(u, c)
                }
                t.setParent(this),
                n || (this.recomputeChildrenDimensions(),
                r.onLayoutChange())
            }
            ,
            t.prototype.insertChild = function(e, t, n) {
                var i = this
                  , r = i.workspace
                  , o = i.autoManageDOM
                  , s = i.containerEl
                  , a = i.children;
                (e < 0 || e >= a.length) && (e = a.length);
                var l = a[e]
                  , c = l ? l.containerEl : null;
                if (a.splice(e, 0, t),
                o) {
                    var u = t.containerEl;
                    s.insertBefore(u, c)
                }
                t.setParent(this),
                n || (this.recomputeChildrenDimensions(),
                r.onLayoutChange())
            }
            ,
            t.prototype.removeChild = function(e, t) {
                var n = this
                  , i = n.workspace
                  , r = n.autoManageDOM
                  , o = n.parentSplit
                  , s = n.children;
                if (s.remove(e),
                r && e.containerEl.detach(),
                e.setParent(null),
                o)
                    if (1 !== s.length || this.allowSingleChild) {
                        if (0 === s.length)
                            return void o.removeChild(this, t)
                    } else {
                        var a = s[0];
                        s.remove(a),
                        r && a.containerEl.detach(),
                        a.setParent(null);
                        var l = o.children.indexOf(this);
                        r && o.replaceChild(l, a, !0),
                        a.setDimension(this.dimension)
                    }
                t || (this.recomputeChildrenDimensions(),
                i.onLayoutChange())
            }
            ,
            t.prototype.recomputeChildrenDimensions = function() {}
            ,
            t
        }(JL)
          , ZL = function(e) {
            function t(t, n, i) {
                var r = e.call(this, t, i) || this;
                return r.type = "split",
                r.direction = null,
                r.resizeStartPos = null,
                r.originalSizes = null,
                r.isResizing = !1,
                r.workspace = t,
                r.containerEl.addClass("workspace-split"),
                r.setDirection(n),
                r
            }
            return i(t, e),
            t.prototype.serialize = function() {
                var t = e.prototype.serialize.call(this);
                return t.direction = this.direction,
                t
            }
            ,
            t.prototype.setDirection = function(e) {
                this.containerEl.removeClass("mod-" + this.direction),
                this.direction = e,
                this.containerEl.addClass("mod-" + e)
            }
            ,
            t.prototype.recomputeChildrenDimensions = function() {
                for (var e = this.children, t = 0, n = 0, i = e; n < i.length; n++) {
                    if (null == (s = i[n]).dimension) {
                        t = null;
                        break
                    }
                    t += s.dimension
                }
                for (var r = 0, o = e; r < o.length; r++) {
                    var s = o[r];
                    null == t || isNaN(t) ? s.setDimension(null) : s.setDimension(100 * s.dimension / t)
                }
                this.workspace.requestResize()
            }
            ,
            t.prototype.onChildResizeStart = function(e, t) {
                var n = this;
                this.resizeStartPos = {
                    x: t.clientX,
                    y: t.clientY
                };
                var i = function(t) {
                    var i = t.clientX
                      , r = t.clientY
                      , o = 0;
                    "vertical" === n.direction ? o = i - n.resizeStartPos.x : "horizontal" === n.direction && (o = r - n.resizeStartPos.y);
                    var s = n.children.indexOf(e);
                    if (n.isResizing || (n.originalSizes = n.children.map((function(e) {
                        return n.getElSize(e.containerEl)
                    }
                    )),
                    n.isResizing = !0),
                    n.isResizing) {
                        var a = n.children.slice(0, s + 1)
                          , l = n.children.slice(s + 1);
                        if (a.reverse(),
                        o > 0) {
                            var c = n.resizeItemsByDiff(l, o, 1);
                            Math.abs(o) > c && (o = c),
                            n.resizeItemsByDiff(a, o, -1)
                        } else {
                            c = n.resizeItemsByDiff(a, o, -1);
                            Math.abs(o) > c && (o = -c),
                            n.resizeItemsByDiff(l, o, 1)
                        }
                        t.preventDefault()
                    }
                }
                  , r = function() {
                    try {
                        n.finishResize()
                    } catch (e) {
                        console.error(e)
                    }
                    document.removeEventListener("mousemove", i),
                    document.removeEventListener("mouseup", r)
                };
                document.addEventListener("mousemove", i),
                document.addEventListener("mouseup", r)
            }
            ,
            t.prototype.resizeItemsByDiff = function(e, t, n) {
                for (var i = 0, r = 0, o = e; r < o.length; r++) {
                    var s = o[r]
                      , a = this.children.indexOf(s)
                      , l = this.originalSizes[a]
                      , c = l - t * n
                      , u = l - (c = Math.max(200, c));
                    t -= u * n,
                    i += Math.abs(u),
                    this.setElSize(this.children[a].containerEl, c)
                }
                return i
            }
            ,
            t.prototype.finishResize = function() {
                this.isResizing = !1,
                this.resizeStartPos = null;
                for (var e = this.children, t = [], n = 0, i = 0, r = e; i < r.length; i++) {
                    var o = r[i]
                      , s = this.getElSize(o.containerEl);
                    t.push(s),
                    n += s
                }
                for (var a = 0; a < e.length; a++) {
                    o = e[a],
                    s = t[a];
                    this.unsetElSize(o.containerEl);
                    var l = s / n * 100;
                    o.setDimension(l)
                }
                this.workspace.requestSaveLayout(),
                this.workspace.requestResize()
            }
            ,
            t.prototype.getElSize = function(e) {
                return "vertical" === this.direction ? e.offsetWidth : "horizontal" === this.direction ? e.offsetHeight : void 0
            }
            ,
            t.prototype.setElSize = function(e, t) {
                return e.style.flex = "0 0 auto",
                "vertical" === this.direction ? e.style.width = t + "px" : "horizontal" === this.direction ? e.style.height = t + "px" : void 0
            }
            ,
            t.prototype.unsetElSize = function(e) {
                e.style.flex = "",
                e.style.width = "",
                e.style.height = ""
            }
            ,
            t
        }(XL)
          , eD = function(e) {
            function t(t, n) {
                var i = e.call(this, t, n) || this;
                i.type = "tabs",
                i.allowSingleChild = !0,
                i.tabContainerEl = null,
                i.tabHeaderEls = [],
                i.currentTab = 0,
                i.tabHeaderContainerEl = null,
                i.tabsBeforeEl = null,
                i.tabsInnerEl = null,
                i.tabsAfterEl = null,
                i.workspace = t,
                i.containerEl.addClass("workspace-tabs"),
                i.tabContainerEl = i.containerEl.createDiv("workspace-tab-container");
                var r = i.tabHeaderContainerEl = i.containerEl.createDiv("workspace-tab-header-container");
                return i.tabsBeforeEl = r.createDiv("workspace-tab-container-before", (function(e) {
                    e.createDiv("workspace-tab-header-inner")
                }
                )),
                i.tabsInnerEl = r.createDiv("workspace-tab-container-inner"),
                i.tabsAfterEl = r.createDiv("workspace-tab-container-after", (function(e) {
                    e.createDiv("workspace-tab-header-inner")
                }
                )),
                i.tabsInnerEl.on("click", ".workspace-tab-header", (function(e, t) {
                    var n = i.tabHeaderEls.indexOf(t);
                    -1 !== n && i.selectTabIndex(n)
                }
                )),
                i
            }
            return i(t, e),
            t.prototype.serialize = function() {
                var t = e.prototype.serialize.call(this);
                return this.currentTab > 0 && (t.currentTab = this.currentTab),
                t
            }
            ,
            t.prototype.selectTabIndex = function(e) {
                this.currentTab = e,
                this.recomputeChildrenDimensions(),
                this.workspace.requestSaveLayout(),
                this.workspace.requestResize()
            }
            ,
            t.prototype.selectTab = function(e) {
                var t = this.children.indexOf(e);
                -1 !== t && this.selectTabIndex(t)
            }
            ,
            t.prototype.recomputeChildrenDimensions = function() {
                var e = this
                  , t = e.resizeHandleEl
                  , n = e.currentTab
                  , i = e.tabsInnerEl
                  , r = e.tabHeaderContainerEl
                  , o = e.containerEl
                  , s = e.children;
                if (0 !== s.length) {
                    n < 0 && (n = 0),
                    n >= s.length && (n = s.length - 1),
                    n !== this.currentTab && (this.currentTab = n,
                    this.workspace.requestSaveLayout(),
                    this.workspace.requestResize());
                    for (var a = [], l = null, c = 0; c < s.length; c++) {
                        var u = s[c]
                          , h = u.tabHeaderEl;
                        c === n ? (h.addClass("is-active"),
                        l = u) : h.removeClass("is-active"),
                        a.push(h)
                    }
                    l ? (o.setChildrenInPlace([t, r, l.containerEl]),
                    i.setChildrenInPlace(a)) : o.empty(),
                    this.tabHeaderEls = a,
                    this.updateDecorativeCurves()
                } else
                    o.empty()
            }
            ,
            t.prototype.updateDecorativeCurves = function() {
                var e = this.currentTab
                  , t = this.children;
                this.tabHeaderEls.forEach((function(e) {
                    return e.removeClass("is-before-active", "is-after-active")
                }
                )),
                this.tabsBeforeEl.removeClass("is-before-active"),
                this.tabsAfterEl.removeClass("is-after-active"),
                -1 !== e && (e > 0 ? this.tabHeaderEls[e - 1].addClass("is-before-active") : this.tabsBeforeEl.addClass("is-before-active"),
                e < t.length - 1 ? this.tabHeaderEls[e + 1].addClass("is-after-active") : this.tabsAfterEl.addClass("is-after-active"))
            }
            ,
            t
        }(XL)
          , tD = function(e) {
            function t(t, n, i, r) {
                var o = e.call(this, t, n, r) || this;
                return o.size = 300,
                o.collapsed = !1,
                o.emptyStateEl = null,
                o.side = i,
                o.containerEl.addClass("mod-" + i + "-split"),
                o.resizeHandleEl.addEventListener("mousedown", o.onSidedockResizeStart.bind(o)),
                o.emptyStateEl = o.containerEl.createDiv("workspace-sidedock-empty-state", (function(e) {
                    e.createEl("p", {
                        cls: "u-muted",
                        text: Te("interface.empty-sidebar")
                    })
                }
                )),
                o.setSize(o.size),
                o
            }
            return i(t, e),
            t.prototype.serialize = function() {
                var t = e.prototype.serialize.call(this);
                return t.width = this.size,
                this.collapsed && (t.collapsed = !0),
                t
            }
            ,
            t.prototype.setSize = function(e) {
                this.size = e,
                this.containerEl.style.width = e + "px"
            }
            ,
            t.prototype.toggle = function() {
                this.collapsed ? this.expand() : this.collapse(),
                this.workspace.requestSaveLayout()
            }
            ,
            t.prototype.collapse = function() {
                this.collapsed = !0;
                var e = this
                  , t = e.workspace
                  , n = e.side
                  , i = e.containerEl
                  , r = e.resizeHandleEl;
                i.style.width = "0",
                r.style.visibility = "hidden",
                "left" === n ? t.leftRibbon.setCollapsedState(!0) : "right" === n && t.rightRibbon.setCollapsedState(!0),
                At(i, new Et({
                    duration: 150
                }).addProp("width", this.size + "px", "0"), (function() {
                    i.hide(),
                    t.requestResize(),
                    i.addClass("is-collapsed")
                }
                ))
            }
            ,
            t.prototype.expand = function() {
                this.collapsed = !1;
                var e = this
                  , t = e.workspace
                  , n = e.side
                  , i = e.containerEl;
                e.resizeHandleEl.style.visibility = "visible",
                i.removeClass("is-collapsed"),
                "left" === n ? t.leftRibbon.setCollapsedState(!1) : "right" === n && t.rightRibbon.setCollapsedState(!1),
                i.show(),
                At(i, new Et({
                    duration: 150
                }).addProp("width", "0", this.size + "px"), (function() {
                    t.requestResize()
                }
                ))
            }
            ,
            t.prototype.onSidedockResizeStart = function(e) {
                var t = this;
                if (0 === e.button) {
                    this.app.disableCssTransition();
                    var n = function(e) {
                        var n = e.clientX
                          , i = 200
                          , r = t.containerEl.getBoundingClientRect();
                        "left" === t.side ? (i = n - r.x,
                        i += t.resizeHandleEl.offsetWidth / 2) : "right" === t.side && (i = r.x + r.width - n,
                        i += t.resizeHandleEl.offsetWidth / 2);
                        var o = t.workspace.containerEl.clientWidth;
                        i = Math.clamp(i, 100, Math.max(200, .8 * o)),
                        t.setSize(i),
                        e.preventDefault()
                    }
                      , i = function(e) {
                        0 === e.button && (document.removeEventListener("mousemove", n),
                        document.removeEventListener("mouseup", i),
                        t.app.enableCssTransition(),
                        t.workspace.requestSaveLayout(),
                        t.workspace.requestResize())
                    };
                    document.addEventListener("mousemove", n),
                    document.addEventListener("mouseup", i)
                }
            }
            ,
            t.prototype.recomputeChildrenDimensions = function() {
                e.prototype.recomputeChildrenDimensions.call(this),
                0 === this.children.length ? (this.collapse(),
                this.emptyStateEl.show(),
                "right" === this.side && this.workspace.rightRibbon.hide()) : (this.emptyStateEl.hide(),
                "right" === this.side && this.workspace.rightRibbon.show())
            }
            ,
            t
        }(ZL)
          , nD = function(e) {
            function t(t, n) {
                var i = e.call(this, t.workspace, n) || this;
                i.type = "leaf",
                i.view = null,
                i.activeTime = 0,
                i.group = null,
                i.pinned = !1,
                i.width = 0,
                i.height = 0,
                i.resizeObserver = null,
                i.working = !1,
                i.app = t;
                var r = i.containerEl;
                if (r.addClass("workspace-leaf"),
                r.addEventListener("focusin", (function(e) {
                    i.app.workspace.setActiveLeaf(i)
                }
                )),
                r.addEventListener("click", (function(e) {
                    i.app.workspace.setActiveLeaf(i)
                }
                )),
                i.view = new QL(i),
                i.view.open(i.containerEl),
                i.tabHeaderEl.addEventListener("mousedown", (function(e) {
                    i.workspace.onDragLeaf(e, i)
                }
                )),
                i.tabHeaderEl.addEventListener("contextmenu", i.onOpenTabHeaderMenu.bind(i)),
                window.ResizeObserver) {
                    var o = Pe(i.onResize.bind(i), 20, !0);
                    (i.resizeObserver = new ResizeObserver((function(e) {
                        for (var t = 0, n = e; t < n.length; t++) {
                            if (n[t].target === r) {
                                var s = r.offsetWidth
                                  , a = r.offsetHeight;
                                return void (s === i.width && a === i.height || (i.width = s,
                                i.height = a,
                                o()))
                            }
                        }
                    }
                    ))).observe(r)
                }
                return i
            }
            return i(t, e),
            t.prototype.serialize = function() {
                var t = e.prototype.serialize.call(this);
                return this.pinned && (t.pinned = !0),
                t.state = this.getViewState(),
                this.group && (t.group = this.group),
                t
            }
            ,
            t.prototype.openFile = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    var n, i, r, o;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return e ? (t = t || {},
                            n = this.view,
                            i = this.app.viewRegistry.getTypeByExtension(e.extension),
                            n && n instanceof XC && n.canAcceptExtension(e.extension) && (i = n.getViewType()),
                            i ? ((r = t.state || {}).file = e.path,
                            o = {
                                type: i,
                                state: r,
                                active: t.active,
                                group: t.group
                            },
                            [4, this.setViewState(o, t.eState)]) : (this.app.openWithDefaultApp(e.path),
                            [2])) : [2];
                        case 1:
                            return s.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.openLinkText = function(e, t, n) {
                return o(this, void 0, void 0, (function() {
                    var i, r, o, a, l, c, u, h, p;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            i = this.app,
                            s.label = 1;
                        case 1:
                            return s.trys.push([1, 6, , 7]),
                            n = n || {},
                            r = Ly(e),
                            o = r.path,
                            a = r.subpath,
                            l = i.metadataCache.getFirstLinkpathDest(o, t),
                            c = n.state || {},
                            u = n.eState || {},
                            l ? (a && (u.subpath = a),
                            [3, 4]) : [3, 2];
                        case 2:
                            return h = null,
                            o.contains("/") || (h = i.fileManager.getNewFileParent(t)),
                            [4, i.fileManager.createNewMarkdownFile(h, o)];
                        case 3:
                            l = s.sent(),
                            c.mode = "source",
                            s.label = 4;
                        case 4:
                            return u.focus = !0,
                            n.state = c,
                            n.eState = u,
                            this.workspace.setActiveLeaf(this, !1),
                            [4, this.openFile(l, n)];
                        case 5:
                            return s.sent(),
                            [3, 7];
                        case 6:
                            return p = s.sent(),
                            new JC(p.message),
                            console.error(p),
                            [2];
                        case 7:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.open = function(e) {
                return o(this, void 0, Promise, (function() {
                    var t, n;
                    return s(this, (function(i) {
                        switch (i.label) {
                        case 0:
                            return t = this.view,
                            e === t ? [2, e] : t ? [4, t.close()] : [3, 2];
                        case 1:
                            i.sent(),
                            i.label = 2;
                        case 2:
                            e || (e = new QL(this)),
                            this.view = e,
                            i.label = 3;
                        case 3:
                            return i.trys.push([3, 5, , 6]),
                            [4, e.open(this.containerEl)];
                        case 4:
                            return i.sent(),
                            [3, 6];
                        case 5:
                            return n = i.sent(),
                            console.error("Failed to open view", n),
                            [3, 6];
                        case 6:
                            return [2, e]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.highlight = function() {
                this.containerEl.addClass("is-highlighted")
            }
            ,
            t.prototype.unhighlight = function() {
                this.containerEl.removeClass("is-highlighted")
            }
            ,
            t.prototype.getViewState = function() {
                var e = this.view
                  , t = this.pinned
                  , n = {
                    type: e.getViewType(),
                    state: e.getState()
                };
                return t && (n.pinned = !0),
                n
            }
            ,
            t.prototype.setViewState = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    var n, i, r, o, a;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            if (this.working)
                                return [2];
                            this.working = !0,
                            s.label = 1;
                        case 1:
                            return s.trys.push([1, , 9, 10]),
                            n = this.view,
                            i = n ? n.getViewType() : "",
                            r = {
                                history: !1,
                                layout: !1,
                                close: !1
                            },
                            e.type === i ? [3, 3] : (o = this.app.viewRegistry.getViewCreatorByType(e.type),
                            n = o ? o(this) : new QL(this),
                            [4, this.open(n)]);
                        case 2:
                            s.sent(),
                            r.history = !0,
                            r.layout = !0,
                            s.label = 3;
                        case 3:
                            return s.trys.push([3, 5, , 6]),
                            [4, n.setState(e.state || {}, r)];
                        case 4:
                            return s.sent(),
                            [3, 6];
                        case 5:
                            return a = s.sent(),
                            console.error(a),
                            [3, 6];
                        case 6:
                            return r.close ? [4, this.open(new QL(this))] : [3, 8];
                        case 7:
                            return s.sent(),
                            [2];
                        case 8:
                            return e.active && this.workspace.setActiveLeaf(this, !e.popstate, !0),
                            void 0 !== e.group && this.setGroupMember(e.group),
                            t && this.setEphemeralState(t),
                            e.popstate && (r.history = !1),
                            this.updateStateResult(r),
                            this.updateHeader(),
                            r.done && r.done(),
                            [3, 10];
                        case 9:
                            return this.working = !1,
                            [7];
                        case 10:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.getEphemeralState = function() {
                return this.view.getEphemeralState()
            }
            ,
            t.prototype.setEphemeralState = function(e) {
                this.view.setEphemeralState(e)
            }
            ,
            t.prototype.updateStateResult = function(e) {
                e.history ? this.workspace.recordHistory(this, !0) : this.workspace.requestSaveHistory(),
                e.layout && this.workspace.onLayoutChange()
            }
            ,
            t.prototype.togglePinned = function() {
                this.setPinned(!this.pinned)
            }
            ,
            t.prototype.setPinned = function(e) {
                this.pinned = e,
                this.trigger("pinned-change", e),
                this.workspace.requestSaveLayout();
                var t = this.group;
                if (t)
                    for (var n = 0, i = this.workspace.getGroupLeaves(t); n < i.length; n++) {
                        var r = i[n];
                        r.pinned !== e && r.togglePinned()
                    }
            }
            ,
            t.prototype.setGroupMember = function(e) {
                if (e !== this) {
                    var t = null;
                    e && ((t = e.group) || (t = kf(16),
                    e.setGroup(t))),
                    this.setGroup(t)
                }
            }
            ,
            t.prototype.setGroup = function(e) {
                if (e !== this.group) {
                    var t = this.pinned;
                    if (!t)
                        for (var n = 0, i = this.workspace.getGroupLeaves(e); n < i.length; n++) {
                            if (i[n].pinned) {
                                t = !0;
                                break
                            }
                        }
                    this.setPinned(t),
                    this.group = e,
                    this.trigger("group-change", e),
                    this.workspace.requestUpdateGroups(),
                    this.workspace.requestSaveLayout()
                }
            }
            ,
            t.prototype.detach = function() {
                e.prototype.detach.call(this);
                var t = this.view
                  , n = this.resizeObserver;
                t && (t.close(),
                this.view = null),
                n && n.disconnect()
            }
            ,
            t.prototype.updateHeader = function() {
                e.prototype.updateHeader.call(this),
                Je(this.tabHeaderEl, this.getDisplayText()),
                this.parentSplit instanceof iD && this.parentSplit.recomputeChildrenDimensions()
            }
            ,
            t.prototype.getIcon = function() {
                var t, n = null === (t = this.view) || void 0 === t ? void 0 : t.getIcon();
                return n || e.prototype.getIcon.call(this)
            }
            ,
            t.prototype.getDisplayText = function() {
                var e, t = null === (e = this.view) || void 0 === e ? void 0 : e.getDisplayText();
                return t || ""
            }
            ,
            t.prototype.onOpenTabHeaderMenu = function(e) {
                e.preventDefault();
                var t = this.view;
                if (t) {
                    var n = new Zk(this.app);
                    t.onHeaderMenu(n),
                    n.showAtMouseEvent(e)
                }
            }
            ,
            t.prototype.handleDrop = function(e, t, n) {
                if ("file" === t.type || "link" === t.type)
                    return n || (this.workspace.setActiveLeaf(this),
                    "file" === t.type ? this.openFile(t.file) : this.openLinkText(t.linktext, t.sourcePath)),
                    {
                        action: Te("interface.drag-and-drop.open-in-this-pane"),
                        dropEffect: "move"
                    }
            }
            ,
            t.prototype.onResize = function() {
                this.view.onResize()
            }
            ,
            t.prototype.trigger = function(t) {
                for (var n = [], i = 1; i < arguments.length; i++)
                    n[i - 1] = arguments[i];
                e.prototype.trigger.apply(this, l([t], n))
            }
            ,
            t.prototype.on = function(t, n, i) {
                return e.prototype.on.call(this, t, n, i)
            }
            ,
            t
        }(JL)
          , iD = function(e) {
            function t(n, i, r) {
                var o = e.call(this, n, r) || this;
                o.type = "mobile-drawer",
                o.workspace = null,
                o.allowSingleChild = !0,
                o.autoManageDOM = !1,
                o.currentTab = 0,
                o.collapsed = !1,
                o.isFullscreen = !1,
                o.isPinned = !1,
                o.containerEl = null,
                o.backdropEl = null,
                o.innerEl = null,
                o.headerEl = null,
                o.tabContainerEl = null,
                o.tabOptionsEl = null,
                o.activeTabEl = null,
                o.activeTabHeaderEl = null,
                o.activeTabIconEl = null,
                o.activeTabTitleEl = null,
                o.activeTabFullscreenEl = null,
                o.activeTabContentEl = null,
                o.pinIconEl = null,
                o.side = i,
                o.workspace = n,
                o.collapsed = !0;
                var s = o.containerEl = n.containerEl.createDiv("workspace-drawer");
                s.hide();
                var a = o.innerEl = s.createDiv("workspace-drawer-inner");
                o.backdropEl = createDiv("workspace-drawer-backdrop", (function(e) {
                    e.addEventListener("click", o.collapse.bind(o))
                }
                )),
                o.headerEl = a.createDiv("workspace-drawer-header");
                var l = o.tabContainerEl = a.createDiv("workspace-drawer-tab-container");
                o.tabOptionsEl = l.createDiv("workspace-drawer-tab-options");
                var c = o.activeTabEl = createDiv("workspace-drawer-active-tab-container")
                  , u = o.activeTabHeaderEl = c.createDiv("workspace-drawer-active-tab-header");
                u.addEventListener("click", (function(e) {
                    e.defaultPrevented || (o.isFullscreen ? o.toggleTabFullscreen() : o.selectTabIndex(-1))
                }
                )),
                u.createDiv("workspace-drawer-active-tab-back-icon", (function(e) {
                    yk(e, ob, 22)
                }
                )),
                o.activeTabIconEl = u.createDiv("workspace-drawer-active-tab-icon"),
                o.activeTabTitleEl = u.createDiv("workspace-drawer-active-tab-title"),
                o.activeTabFullscreenEl = u.createDiv("workspace-drawer-active-tab-icon", (function(e) {
                    yk(e, Sw, 22),
                    e.addEventListener("click", (function(e) {
                        o.toggleTabFullscreen(),
                        e.preventDefault()
                    }
                    ))
                }
                )),
                o.activeTabContentEl = c.createDiv("workspace-drawer-active-tab-content"),
                o.component.registerEvent(n.on("file-open", o.onFileOpen, o));
                var h = "left" === i ? 1 : -1;
                return o.component.registerEvent(n.on("swipe", (function(e) {
                    if (!o.isPinned && !(e.points > 1 || "x" !== e.direction)) {
                        var n = o
                          , r = n.containerEl
                          , s = n.backdropEl;
                        Dt(r),
                        Dt(s);
                        var a = o.workspace.leftSplit
                          , l = o.workspace.rightSplit
                          , c = a.collapsed || a instanceof t && a.isPinned
                          , u = l.collapsed || l instanceof t && l.isPinned
                          , p = c && u && ("left" === i && e.x > e.startX || "right" === i && e.x < e.startX);
                        if (o.collapsed) {
                            if (p) {
                                o.collapsed = !1,
                                Bt(),
                                r.show(),
                                o.workspace.containerEl.appendChild(s);
                                var d = r.offsetWidth;
                                e.registerCallback({
                                    move: function(t) {
                                        var n = Math.clamp((t - e.startX) * h / d, 0, 1);
                                        n = Math.clamp(n, 0, 1),
                                        r.style.transform = "translateX(" + -(1 - n) * d * h + "px)",
                                        s.style.opacity = String(n)
                                    },
                                    cancel: function() {
                                        r.style.transform = "",
                                        r.hide(),
                                        s.detach(),
                                        o.collapsed = !0
                                    },
                                    finish: function(t, n, i) {
                                        var a, l = Math.clamp((t - e.startX) * h / d, 0, 1);
                                        i * h > d / 2 ? (At(r, new Et({
                                            duration: 200 * (a = 1 - l)
                                        }).addProp("transform", null, "translateX(0)", "")),
                                        At(s, new Et({
                                            duration: 150 * a,
                                            fn: "linear"
                                        }).addProp("opacity", null, "1", "")),
                                        o.onExpand()) : (o.collapsed = !0,
                                        o.onCollapse(),
                                        At(r, new Et({
                                            duration: 200 * (a = l)
                                        }).addProp("transform", null, "translateX(" + -d * h + "px)", ""), (function() {
                                            r.hide()
                                        }
                                        )),
                                        At(s, new Et({
                                            duration: 150 * a,
                                            fn: "linear"
                                        }).addProp("opacity", null, "0"), (function() {
                                            s.detach()
                                        }
                                        )))
                                    }
                                })
                            }
                        } else {
                            var f = r.offsetWidth;
                            e.registerCallback({
                                move: function(t) {
                                    var n = Math.clamp(-(t - e.startX) * h / f, 0, 1);
                                    r.style.transform = "translateX(" + -n * f * h + "px)",
                                    s.style.opacity = String(1 - n)
                                },
                                cancel: function() {
                                    r.style.transform = "",
                                    s.style.opacity = ""
                                },
                                finish: function(t, n, i) {
                                    var a, l = Math.clamp(-(t - e.startX) * h / f, 0, 1);
                                    -i * h < f / 2 ? (At(r, new Et({
                                        duration: 200 * (a = l)
                                    }).addProp("transform", null, "translateX(0)", "")),
                                    At(s, new Et({
                                        duration: 150 * a,
                                        fn: "linear"
                                    }).addProp("opacity", null, "1", ""))) : (o.collapsed = !0,
                                    o.onCollapse(),
                                    At(r, new Et({
                                        duration: 200 * (a = 1 - l)
                                    }).addProp("transform", null, "translateX(" + -f * h + "px)", ""), (function() {
                                        r.hide()
                                    }
                                    )),
                                    At(s, new Et({
                                        duration: 150 * a,
                                        fn: "linear"
                                    }).addProp("opacity", null, "0"), (function() {
                                        s.detach()
                                    }
                                    )))
                                }
                            })
                        }
                    }
                }
                ))),
                o
            }
            return i(t, e),
            t.prototype.serialize = function() {
                var t = e.prototype.serialize.call(this);
                return -1 !== this.currentTab && (t.currentTab = this.currentTab),
                this.isPinned && (t.pinned = !0),
                t
            }
            ,
            t.prototype.onFileOpen = function(e) {
                this.isFullscreen && this.toggleTabFullscreen(),
                this.collapsed || this.collapse()
            }
            ,
            t.prototype.expand = function() {
                this.collapsed = !1,
                this.onExpand();
                var e = this.containerEl
                  , t = this.backdropEl;
                e.show(),
                this.workspace.containerEl.appendChild(t),
                Bt();
                var n = e.offsetWidth * ("left" === this.side ? -1 : 1);
                At(t, new Et({
                    duration: 150,
                    fn: "linear"
                }).addProp("opacity", "0", "1")),
                At(e, new Et({
                    duration: 200
                }).addProp("transform", "translateX(" + n + "px)", "translateX(0)", ""))
            }
            ,
            t.prototype.onExpand = function() {}
            ,
            t.prototype.collapse = function() {
                if (!this.isPinned) {
                    this.collapsed = !0,
                    this.onCollapse();
                    var e = this.containerEl
                      , t = this.backdropEl
                      , n = e.offsetWidth * ("left" === this.side ? -1 : 1);
                    At(t, new Et({
                        duration: 150,
                        fn: "linear"
                    }).addProp("opacity", "1", "0"), (function() {
                        t.detach()
                    }
                    )),
                    At(e, new Et({
                        duration: 200
                    }).addProp("transform", "translateX(0)", "translateX(" + n + "px)", ""), (function() {
                        e.hide()
                    }
                    ))
                }
            }
            ,
            t.prototype.onCollapse = function() {}
            ,
            t.prototype.toggle = function() {
                this.collapsed ? this.expand() : this.collapse()
            }
            ,
            t.prototype.selectTabIndex = function(e) {
                this.currentTab = e,
                this.recomputeChildrenDimensions(),
                this.workspace.requestSaveLayout(),
                this.workspace.requestResize()
            }
            ,
            t.prototype.recomputeChildrenDimensions = function() {
                var e = this
                  , t = this
                  , n = t.innerEl
                  , i = t.children
                  , r = t.headerEl
                  , o = t.currentTab
                  , s = t.tabContainerEl
                  , a = t.tabOptionsEl
                  , l = t.activeTabEl
                  , c = t.activeTabIconEl
                  , u = t.activeTabTitleEl
                  , h = t.activeTabContentEl;
                if (-1 !== o) {
                    var p = i[o];
                    p ? (p instanceof nD ? (yk(c, p.getIcon(), 22),
                    u.setText(p.getDisplayText())) : (c.empty(),
                    u.empty()),
                    h.setChildrenInPlace([p.containerEl])) : o = -1
                }
                if (-1 === o) {
                    a.empty();
                    for (var d = function(t) {
                        a.createDiv({
                            cls: "workspace-drawer-tab-option-item"
                        }, (function(n) {
                            if (t instanceof nD) {
                                var r = t;
                                n.createDiv("workspace-drawer-tab-option-item-icon", (function(e) {
                                    yk(e, r.getIcon(), 22)
                                }
                                )),
                                n.createDiv({
                                    cls: "workspace-drawer-tab-option-item-title",
                                    text: r.getDisplayText()
                                })
                            }
                            n.addEventListener("click", (function() {
                                e.selectTabIndex(i.indexOf(t))
                            }
                            ))
                        }
                        ))
                    }, f = 0, g = i; f < g.length; f++) {
                        d(g[f])
                    }
                }
                if ("left" === this.side) {
                    var m = this.workspace.leftRibbon.containerEl;
                    m.removeClass("workspace-ribbon"),
                    m.addClass("workspace-drawer-ribbon"),
                    n.setChildrenInPlace([m, r, s])
                } else
                    "right" === this.side && n.setChildrenInPlace([r, s]);
                -1 === o ? Nt(s, a, "left") : Nt(s, l, "right")
            }
            ,
            t.prototype.openLeaf = function(e) {
                var t = this.children.indexOf(e);
                -1 !== t && this.selectTabIndex(t)
            }
            ,
            t.prototype.addHeaderButton = function(e, t) {
                return this.headerEl.createDiv("workspace-drawer-header-icon", (function(n) {
                    yk(n, e, 26),
                    n.addEventListener("click", t)
                }
                ))
            }
            ,
            t.prototype.toggleTabFullscreen = function() {
                this.isFullscreen = !this.isFullscreen,
                yk(this.activeTabFullscreenEl, this.isFullscreen ? Lw : Sw, 22),
                this.activeTabEl.style.transition = "unset",
                this.activeTabEl.toggleClass("is-fullscreen", this.isFullscreen)
            }
            ,
            t.prototype.pinDrawer = function() {
                this.isPinned = !this.isPinned,
                yk(this.pinIconEl, this.isPinned ? Lb : hb, 22),
                this.containerEl.toggleClass("is-pinned", this.isPinned),
                this.backdropEl.toggle(!this.isPinned),
                this.isPinned || this.collapse(),
                this.isPinned && this.collapsed && this.expand(),
                this.workspace.requestSaveLayout()
            }
            ,
            t.collapseFor = function(e) {
                var n = e.getRoot();
                n instanceof t && n.collapse()
            }
            ,
            t
        }(XL)
          , rD = function(e) {
            function t(t, n) {
                var i = e.call(this, t, "left", n) || this;
                i.fileCountEl = null;
                var r = i.app.vault;
                return i.headerEl.createDiv("workspace-drawer-header-left", (function(e) {
                    e.createDiv({
                        cls: "workspace-drawer-header-name"
                    }, (function(e) {
                        e.createSpan({
                            cls: "workspace-drawer-header-name-text",
                            text: r.getName()
                        })
                    }
                    )),
                    e.createDiv("workspace-drawer-header-info", (function(e) {
                        i.fileCountEl = e.createDiv(),
                        i.updateInfo()
                    }
                    ))
                }
                )),
                i.pinIconEl = i.addHeaderButton(hb, (function(e) {
                    i.pinDrawer()
                }
                )),
                i.containerEl.addClass("mod-left"),
                i.component.registerEvent(r.on("create", i.updateInfo.bind(i))),
                i.component.registerEvent(r.on("delete", i.updateInfo.bind(i))),
                i
            }
            return i(t, e),
            t.prototype.updateInfo = function() {
                var e = this.app.vault
                  , t = Te("nouns.file-with-count", {
                    count: e.getRoot().getFileCount()
                })
                  , n = Te("nouns.folder-with-count", {
                    count: e.getRoot().getFolderCount()
                })
                  , i = Te("plugins.file-explorer.tooltip-folders-files-count", {
                    fileCount: t,
                    folderCount: n
                });
                this.fileCountEl.setText(i)
            }
            ,
            t
        }(iD)
          , oD = function(e) {
            function t(t, n) {
                var i = e.call(this, t, "right", n) || this;
                i.fileNameEl = null,
                i.fileInfoElToRenderer = [];
                var r = i.headerEl
                  , o = t.mobileFileInfos;
                return r.createDiv("workspace-drawer-header-left", (function(e) {
                    e.createDiv({
                        cls: "workspace-drawer-header-name"
                    }, (function(e) {
                        i.fileNameEl = e.createDiv({
                            cls: "workspace-drawer-header-name-text"
                        })
                    }
                    )),
                    e.createDiv("workspace-drawer-header-info", (function(e) {
                        for (var t = 0, n = o; t < n.length; t++) {
                            var r = n[t]
                              , s = e.createDiv("workspace-drawer-header-info-item");
                            i.fileInfoElToRenderer.push({
                                el: s,
                                renderer: r.renderCallback
                            })
                        }
                    }
                    ))
                }
                )),
                i.containerEl.addClass("mod-right"),
                i.component.registerEvent(i.app.vault.on("rename", i.updateName.bind(i))),
                i.component.registerEvent(t.on("file-open", i.onFileOpen, i)),
                i.component.registerEvent(t.on("quick-preview", i.onQuickPreview, i)),
                i.pinIconEl = i.addHeaderButton(hb, (function(e) {
                    i.pinDrawer()
                }
                )),
                i.addHeaderButton(ub, (function(e) {
                    var t = i.workspace.activeLeaf;
                    t && t.view instanceof KC && t.view.onMoreOptions(e)
                }
                )),
                i
            }
            return i(t, e),
            t.prototype.onFileOpen = function(t) {
                e.prototype.onFileOpen.call(this, t),
                this.updateName(t),
                this.updateInfo()
            }
            ,
            t.prototype.onQuickPreview = function(e) {
                this.app.workspace.getActiveFile() === e && this.updateInfo()
            }
            ,
            t.prototype.updateName = function(e) {
                e instanceof Vf && this.fileNameEl.setText(ne(e.name))
            }
            ,
            t.prototype.updateInfo = function() {
                for (var e = 0, t = this.fileInfoElToRenderer; e < t.length; e++) {
                    var n = t[e];
                    n.renderer(n.el)
                }
            }
            ,
            t
        }(iD)
          , sD = .2
          , aD = function(e, t, n) {
            return void 0 === n && (n = .9),
            e * n + t * (1 - n)
        }
          , lD = function(e, t) {
            return (aD(e >> 16 & 255, t >> 16 & 255) << 16) + (aD(e >> 8 & 255, t >> 8 & 255) << 8) + (0 | aD(255 & e, 255 & t))
        }
          , cD = function(e, t) {
            return t.right < e.left || t.left > e.right || t.bottom < e.top || t.top > e.bottom
        }
          , uD = function(e, t, n) {
            return {
                left: e - n,
                right: e + n,
                top: t - n,
                bottom: t + n
            }
        }
          , hD = function(e) {
            e.style.margin = "0",
            e.style.padding = "0",
            e.style.border = "0",
            e.style.width = "100%",
            e.style.height = "100%",
            e.style.overflow = "hidden"
        }
          , pD = {
            showAttachments: !1,
            hideUnresolved: !1,
            showOrphans: !0,
            showTags: !1,
            localFile: null,
            localJumps: 1,
            localInterlinks: !1,
            localForelinks: !0,
            localBacklinks: !0
        };
        function dD(e) {
            return void 0 === e && (e = ""),
            {
                type: e,
                links: {}
            }
        }
        function fD(e) {
            if (!e)
                return dD();
            var t = dD(e.type);
            return e.color && (t.color = e.color),
            t
        }
        var gD = {
            tag: !0
        }
          , mD = {
            fill: "color-fill",
            fillTag: "color-fill-tag",
            fillUnresolved: "color-fill-unresolved",
            fillAttachment: "color-fill-attachment",
            arrow: "color-arrow",
            circle: "color-circle",
            line: "color-line",
            text: "color-text",
            fillHighlight: "color-fill-highlight",
            lineHighlight: "color-line-highlight"
        }
          , vD = 100
          , yD = function() {
            function e(e, t, n) {
                this.x = null,
                this.y = null,
                this.fx = null,
                this.fy = null,
                this.forward = {},
                this.reverse = {},
                this.weight = 0,
                this.color = null,
                this.rendered = !1,
                this.fadeAlpha = 0,
                this.moveText = 0,
                this.fontDirty = !1,
                this.renderer = e,
                this.id = t,
                this.type = n
            }
            return e.prototype.initGraphics = function() {
                if (this.rendered)
                    return !1;
                this.rendered = !0;
                var e, t = this.renderer;
                (e = this.circle = new PIXI.Graphics).beginFill(16777215),
                e.drawCircle(vD, vD, vD),
                e.endFill(),
                on.isMobile && (e.beginFill(16777215, 1e-4),
                e.drawCircle(vD, vD, 500),
                e.endFill()),
                e.pivot.x = vD,
                e.pivot.y = vD,
                e.interactive = !0,
                e.buttonMode = !0,
                e.zIndex = 1,
                e.on("pointerdown", t.onPointerDown).on("pointerup", t.onPointerUp).on("pointerupoutside", t.onPointerUp).on("pointermove", t.onPointerMove).on("pointerover", t.onPointerOver).on("pointerout", t.onPointerOut).on("click", t.onClick).on("rightclick", t.onClick);
                var n = this.getFillColor();
                e.alpha = n.a,
                e.tint = n.rgb,
                t.hanger.addChild(e),
                t.nodePxLookup.set(e, this);
                var i = new PIXI.TextStyle(this.getTextStyle())
                  , r = this.text = new PIXI.Text(this.getDisplayText(),i);
                return r.resolution = 2,
                r.anchor.set(.5, 0),
                r.zIndex = 2,
                t.hanger.addChild(r),
                this.fadeAlpha = 0,
                !0
            }
            ,
            e.prototype.clearGraphics = function() {
                if (this.rendered) {
                    this.rendered = !1;
                    var e = this
                      , t = e.renderer
                      , n = e.circle
                      , i = e.highlight
                      , r = e.text;
                    n && (this.circle = null,
                    t.nodePxLookup.delete(n),
                    n.parent && n.parent.removeChild(n),
                    n.destroy()),
                    i && (this.highlight = null,
                    i.parent && i.parent.removeChild(i),
                    i.destroy()),
                    r && (this.text = null,
                    r.parent && r.parent.removeChild(r),
                    r.destroy())
                }
            }
            ,
            e.prototype.getTextStyle = function() {
                var e = this.renderer
                  , t = this.getSize();
                return new PIXI.TextStyle({
                    fontSize: 14 + t / 4,
                    fill: e.colors.text.rgb,
                    fontFamily: "Inter",
                    wordWrap: !0,
                    wordWrapWidth: 300,
                    align: "center"
                })
            }
            ,
            e.prototype.render = function() {
                if (this.rendered) {
                    var e = this
                      , t = e.renderer
                      , n = e.x
                      , i = e.y
                      , r = e.circle
                      , o = e.highlight
                      , s = e.text
                      , a = e.fadeAlpha
                      , l = e.moveText
                      , c = this.getSize()
                      , u = this.getFillColor()
                      , h = t.colors.text
                      , p = t.getHighlightNode()
                      , d = p === this
                      , f = t.nodeScale
                      , g = s.visible
                      , m = sD;
                    (!p || d || this.forward.hasOwnProperty(p.id) || this.reverse.hasOwnProperty(p.id)) && (m = 1);
                    var v = (a = this.fadeAlpha = aD(a, m)) * u.a
                      , y = t.textAlpha;
                    y *= a,
                    d && (y = 1),
                    y *= h.a;
                    var b = d ? 15 : 0;
                    l = this.moveText = g ? aD(l, b) : b;
                    var w = y > .001
                      , k = t.viewport
                      , C = d || !cD(k, uD(n, i, c * f + 1));
                    if (w && (w = d || !cD(k, {
                        left: n - 300,
                        right: n + 300,
                        top: i,
                        bottom: i + 200
                    })),
                    r.tint = lD(r.tint, u.rgb),
                    r.visible = C,
                    C && (r.x = n,
                    r.y = i,
                    r.scale.x = r.scale.y = c / 100 * f,
                    r.alpha = v),
                    s.visible = w,
                    w && (s.x = n,
                    s.y = i + (c + 5) * f + l / t.scale,
                    s.scale.x = s.scale.y = f,
                    d && t.scale < 1 && (s.scale.x = s.scale.y = 1 / t.scale),
                    s.alpha = y),
                    d) {
                        o || ((o = this.highlight = new PIXI.Graphics).zIndex = 1,
                        t.hanger.addChild(o)),
                        o.x = n,
                        o.y = i,
                        o.scale.x = o.scale.y = f,
                        o.clear();
                        var x = Math.max(1, 1 / t.scale / f)
                          , E = t.colors.circle;
                        o.alpha = E.a,
                        o.lineStyle(x, E.rgb, 1),
                        o.drawCircle(0, 0, c + x / 2)
                    } else
                        o && (o.parent.removeChild(o),
                        o.destroy(),
                        this.highlight = null);
                    this.fontDirty && (this.fontDirty = !1,
                    s.style = this.getTextStyle())
                }
            }
            ,
            e.prototype.getFillColor = function() {
                var e = this
                  , t = e.renderer
                  , n = e.type
                  , i = e.color
                  , r = t.getHighlightNode() === this ? t.colors.fillHighlight : t.colors.fill;
                return i ? r = i : ("tag" === n && (r = t.colors.fillTag),
                "unresolved" === n && (r = t.colors.fillUnresolved),
                "attachment" === n && (r = t.colors.fillAttachment)),
                r
            }
            ,
            e.prototype.getSize = function() {
                return this.renderer.fNodeSizeMult * Math.max(8, Math.min(3 * Math.sqrt(this.weight + 1), 30))
            }
            ,
            e.prototype.getDisplayText = function() {
                var e = this.id;
                return X(e, "md") && (e = Y(e)),
                e
            }
            ,
            e.prototype.getRelated = function() {
                return Object.keys(this.forward).concat(Object.keys(this.reverse))
            }
            ,
            e
        }()
          , bD = function() {
            function e(e, t, n) {
                this.rendered = !1,
                this.renderer = e,
                this.source = t,
                this.target = n
            }
            return e.prototype.initGraphics = function() {
                if (!this.rendered && this.source.rendered && this.target.rendered) {
                    this.rendered = !0;
                    var e = this.renderer
                      , t = this.px = new PIXI.Container;
                    e.hanger.addChild(t);
                    var n = this.line = new PIXI.Sprite(PIXI.Texture.WHITE)
                      , i = e.colors.line;
                    n.alpha = sD * i.a,
                    n.tint = i.rgb,
                    t.addChild(n);
                    var r = this.arrow = new PIXI.Graphics
                      , o = e.colors.text;
                    r.alpha = sD * o.a,
                    r.tint = o.rgb,
                    r.beginFill(16777215),
                    r.moveTo(0, 0),
                    r.lineTo(-4, -2),
                    r.lineTo(-3, 0),
                    r.lineTo(-4, 2),
                    r.lineTo(0, 0),
                    r.endFill(),
                    r.zIndex = 1,
                    e.hanger.addChild(r)
                }
            }
            ,
            e.prototype.clearGraphics = function() {
                if (this.rendered) {
                    this.rendered = !1;
                    var e = this
                      , t = e.px
                      , n = e.line
                      , i = e.arrow;
                    t && (this.px = null,
                    t.parent && t.parent.removeChild(t),
                    t.destroy(),
                    t.visible = !1),
                    n && (this.line = null,
                    n.destroy(),
                    n.visible = !1),
                    i && (this.arrow = null,
                    i.parent && i.parent.removeChild(i),
                    i.destroy(),
                    i.visible = !1)
                }
            }
            ,
            e.prototype.render = function() {
                if (this.rendered) {
                    var e = this
                      , t = e.px
                      , n = e.line
                      , i = e.arrow
                      , r = e.renderer
                      , o = e.source
                      , s = e.target
                      , a = r.getHighlightNode()
                      , l = o === a || s === a
                      , c = sD;
                    a && !l || (c = 1);
                    var u = c * Math.clamp(2 * (r.scale - .3), 0, 1)
                      , h = r.colors.line;
                    l && (h = r.colors.lineHighlight);
                    var p, d, f = r.colors.arrow, g = !(o.reverse.hasOwnProperty(s.id) && o.id.localeCompare(s.id) < 0), m = r.fShowArrow, v = r.fLineSizeMult / r.scale, y = r.viewport, b = uD(o.x, o.y, v), w = uD(s.x, s.y, v), k = !cD(y, (p = b,
                    d = w,
                    {
                        left: Math.min(p.left, d.left),
                        right: Math.max(p.right, d.right),
                        top: Math.min(p.top, d.top),
                        bottom: Math.max(p.bottom, d.bottom)
                    }));
                    if (c *= h.a,
                    u *= f.a,
                    n.alpha = aD(n.alpha, c),
                    i.alpha = aD(i.alpha, u),
                    g = g && k,
                    m = m && k && i.alpha > .001,
                    n.visible = g,
                    i.visible = m,
                    g || m) {
                        var C = s.x - o.x
                          , x = s.y - o.y
                          , E = Math.sqrt(C * C + x * x)
                          , S = o.getSize() * r.nodeScale
                          , L = s.getSize() * r.nodeScale;
                        i.visible = m = m && E > v,
                        g && (t.x = o.x + C * S / E,
                        t.y = o.y + x * S / E,
                        t.pivot.set(0, 0),
                        t.rotation = Math.atan2(x, C),
                        n.x = 0,
                        n.y = -v / 2,
                        n.width = Math.max(0, E - S - L),
                        n.height = v,
                        n.tint = lD(n.tint, h.rgb)),
                        i.visible = m,
                        m && (L += 1,
                        i.x = s.x - C * L / E,
                        i.y = s.y - x * L / E,
                        i.pivot.set(0, 0),
                        i.rotation = Math.atan2(x, C),
                        i.scale.x = i.scale.y = 2 * Math.sqrt(r.fLineSizeMult) / r.scale,
                        i.tint = f.rgb)
                    }
                }
            }
            ,
            e
        }()
          , wD = function() {
            function e(e) {
                this.rendered = !1,
                this.renderer = e
            }
            return e.prototype.initGraphics = function() {
                var e = this.renderer;
                if (!this.text) {
                    var t = this.text = new PIXI.Text("Powered by Obsidian",this.getTextStyle());
                    t.anchor.set(1, 1),
                    t.zIndex = 3,
                    t.alpha = .5,
                    e.px.stage.addChild(t)
                }
            }
            ,
            e.prototype.clearGraphics = function() {
                var e = this.text;
                e && e.parent && (this.text = null,
                e.parent.removeChild(e),
                e.destroy()),
                this.rendered = !1
            }
            ,
            e.prototype.render = function() {
                var e = this.renderer
                  , t = this.text;
                t.visible = !e.hidePowerTag,
                t.alpha = e.colors.text.a;
                var n = e.px.renderer;
                t.x = n.width / n.resolution,
                t.y = n.height / n.resolution,
                this.rendered || (this.rendered = !0,
                this.text.style = this.getTextStyle())
            }
            ,
            e.prototype.getTextStyle = function() {
                return new PIXI.TextStyle({
                    fontSize: 12,
                    fill: this.renderer.colors.text.rgb,
                    fontFamily: "Inter",
                    wordWrap: !1,
                    align: "right"
                })
            }
            ,
            e
        }()
          , kD = function() {
            function e(e, t, n, i) {
                var r = this;
                this.interactiveEl = null,
                this.onNodeClick = null,
                this.onNodeRightClick = null,
                this.onNodeHover = null,
                this.onNodeUnhover = null,
                this.workerResults = null,
                this.nodeLookup = {},
                this.nodes = [],
                this.links = [],
                this.dragNode = null,
                this.highlightNode = null,
                this.px = null,
                this.hanger = null,
                this.nodePxLookup = new Map,
                this.powerTag = null,
                this.scale = 1,
                this.nodeScale = 1,
                this.textAlpha = 1,
                this.targetScale = 1,
                this.panX = 0,
                this.panY = 0,
                this.panvX = 0,
                this.panvY = 0,
                this.keyboardActions = {},
                this.panning = !1,
                this.width = 0,
                this.height = 0,
                this.viewport = null,
                this.zoomCenterX = 0,
                this.zoomCenterY = 0,
                this.hidePowerTag = !1,
                this.fNodeSizeMult = 1,
                this.fLineSizeMult = 1,
                this.fTextShowMult = 1,
                this.fShowArrow = !1,
                this.mouseX = null,
                this.mouseY = null,
                this.colors = {},
                this.renderTimer = null,
                this.hidePowerTag = n,
                PIXI.utils.skipHello(),
                this.containerEl = e,
                this.testCSS();
                var o = this.interactiveEl = e.createEl("canvas");
                if (e.style.padding = "0",
                e.style.overflow = "hidden",
                e.style.position = "relative",
                o.style.position = "absolute",
                o.style.left = "0",
                o.style.top = "0",
                hD(o),
                o.addEventListener("mousedown", (function(e) {
                    return e.preventDefault()
                }
                )),
                o.addEventListener("wheel", this.onWheel.bind(this)),
                o.addEventListener("mousemove", this.onMouseMove.bind(this)),
                o.addEventListener("mouseout", this.onMouseMove.bind(this)),
                i || (i = new Worker("/sim.js",{
                    name: "Graph Worker"
                })),
                this.worker = i,
                i.onmessage = function(e) {
                    r.workerResults = e.data,
                    r.changed()
                }
                ,
                t) {
                    var s = this.iframeEl = e.createEl("iframe");
                    hD(s),
                    s.onload = this.onIframeLoad.bind(this),
                    s.contentDocument && this.onIframeLoad()
                } else {
                    var a = e.createEl("canvas");
                    hD(a),
                    setTimeout((function() {
                        a.getContext("2d") ? r.initGraphics(a) : setTimeout((function() {
                            r.initGraphics(a)
                        }
                        ), 300)
                    }
                    ), 50)
                }
            }
            return e.prototype.destroy = function() {
                this.worker.terminate(),
                this.destroyGraphics()
            }
            ,
            e.prototype.onIframeLoad = function() {
                var e = this.iframeEl;
                e.contentWindow.onbeforeunload = this.onIframeUnload.bind(this);
                var t = e.contentDocument.body;
                hD(t),
                t.innerHTML = "<canvas>";
                var n = t.firstChild;
                hD(n),
                this.destroyGraphics(),
                this.initGraphics(n)
            }
            ,
            e.prototype.onIframeUnload = function() {
                this.destroyGraphics()
            }
            ,
            e.prototype.onWheel = function(e) {
                if (e.preventDefault(),
                this.px) {
                    var t = e.deltaY;
                    1 === e.deltaMode ? t *= 40 : 2 === e.deltaMode && (t *= 800);
                    var n = this.targetScale;
                    if (n *= Math.pow(1.5, -t / 120),
                    this.targetScale = n,
                    n < this.scale)
                        this.zoomCenterX = 0,
                        this.zoomCenterY = 0;
                    else {
                        var i = window.devicePixelRatio;
                        this.zoomCenterX = e.offsetX * i,
                        this.zoomCenterY = e.offsetY * i
                    }
                    this.changed()
                }
            }
            ,
            e.prototype.onMouseMove = function(e) {
                "mouseout" === e.type ? this.mouseX = this.mouseY = null : (this.mouseX = e.offsetX,
                this.mouseY = e.offsetY)
            }
            ,
            e.prototype.initGraphics = function(e) {
                var t, n = this, i = this, r = i.iframeEl, o = i.interactiveEl, s = i.worker, a = window.WebGL2RenderingContext;
                try {
                    r && r.contentWindow.WebGL2RenderingContext && (window.WebGL2RenderingContext = r.contentWindow.WebGL2RenderingContext),
                    t = this.px = new PIXI.Application({
                        view: e,
                        antialias: !0,
                        transparent: !0,
                        autoStart: !1
                    })
                } finally {
                    window.WebGL2RenderingContext = a
                }
                t.renderer.plugins.interaction.setTargetElement(o),
                t.renderer.plugins.interaction.useSystemTicker = !1;
                var l = null
                  , c = this;
                this.onPointerDown = function(e) {
                    e.data.originalEvent.target === o && (v || (this.dragging = !0,
                    l = e.data.getLocalPosition(t.stage)))
                }
                ,
                this.onPointerUp = function(e) {
                    if (e.data.originalEvent instanceof TouchEvent && k(e.data.originalEvent),
                    this.dragging) {
                        this.dragging = !1;
                        var t = c.getNodeFromGraphics(this);
                        if (t) {
                            var n = e.data.originalEvent;
                            l && c.onNodeClick && (n instanceof MouseEvent && (0 === n.button || 1 === n.button) && !he(n) || n instanceof TouchEvent) && c.onNodeClick(n, t.id, t.type),
                            t.fx = null,
                            t.fy = null,
                            s.postMessage({
                                alphaTarget: 0,
                                forceNode: {
                                    id: t.id,
                                    x: null,
                                    y: null
                                }
                            })
                        }
                        l = null,
                        c.dragNode = null,
                        c.changed()
                    }
                }
                ,
                this.onClick = function(e) {
                    var t = e.data.originalEvent;
                    if (2 === e.data.button || t instanceof MouseEvent && he(t)) {
                        var n = c.getNodeFromGraphics(this);
                        n && c.onNodeRightClick && c.onNodeRightClick(e.data.originalEvent, n.id, n.type)
                    }
                }
                ,
                this.onPointerMove = function(e) {
                    if (this.dragging) {
                        var n = c.getNodeFromGraphics(this);
                        if (n) {
                            if (l) {
                                var i = e.data.getLocalPosition(t.stage)
                                  , r = i.x - l.x
                                  , o = i.y - l.y;
                                r * r + o * o > 25 && (l = null)
                            }
                            var a = e.data.getLocalPosition(c.hanger);
                            n.fx = a.x,
                            n.fy = a.y,
                            s.postMessage({
                                alpha: .3,
                                alphaTarget: .3,
                                run: !0,
                                forceNode: {
                                    id: n.id,
                                    x: a.x,
                                    y: a.y
                                }
                            }),
                            c.dragNode = n,
                            c.changed()
                        }
                    }
                }
                ,
                this.onPointerOver = function(e) {
                    var t = c.highlightNode = c.getNodeFromGraphics(this);
                    c.changed();
                    var n = e.data.originalEvent;
                    n instanceof MouseEvent && (c.mouseX = n.offsetX,
                    c.mouseY = n.offsetY),
                    c.onNodeHover && c.onNodeHover(n, t.id, t.type)
                }
                ,
                this.onPointerOut = function() {
                    c.highlightNode = null,
                    c.changed(),
                    c.onNodeUnhover && c.onNodeUnhover()
                }
                ;
                var u = this.hanger = new PIXI.Container
                  , h = this.powerTag = new wD(this);
                this.onResize(),
                this.resetPan();
                var p = new PIXI.Graphics;
                p.beginFill(0),
                p.drawRect(0, 0, 1e4, 1e4),
                p.endFill(),
                p.alpha = 0,
                p.interactive = !0;
                var d = null
                  , f = null
                  , g = performance.now()
                  , m = 0
                  , v = null
                  , y = null
                  , b = 0
                  , w = 0
                  , k = function(e) {
                    for (var t = performance.now(), i = t - g, r = Array.prototype.slice.call(e.touches), o = null, s = null, a = 0, u = r; a < u.length; a++) {
                        var h = u[a];
                        v && h.identifier === v.identifier && (o = h),
                        y && h.identifier === y.identifier && (s = h)
                    }
                    if (s && !o && (v = y,
                    o = s,
                    y = null,
                    s = null),
                    o ? r.remove(o) : r.length > 0 && (o = r.first(),
                    r.splice(0, 1)),
                    s ? r.remove(s) : r.length > 0 && (s = r.first(),
                    r.splice(0, 1)),
                    !l && !c.dragNode && v && o && v.identifier === o.identifier) {
                        var p = window.devicePixelRatio;
                        if (y && s && y.identifier === s.identifier) {
                            var d = n.interactiveEl.getBoundingClientRect()
                              , f = ((v.clientX + y.clientX) / 2 - d.x) * p
                              , k = ((v.clientY + y.clientY) / 2 - d.y) * p
                              , C = ((o.clientX + s.clientX) / 2 - d.x) * p
                              , x = ((o.clientY + s.clientY) / 2 - d.y) * p
                              , E = v.clientX - y.clientX
                              , S = v.clientY - y.clientY
                              , L = o.clientX - s.clientX
                              , D = o.clientY - s.clientY
                              , M = E * E + S * S
                              , A = L * L + D * D;
                            if (0 !== M && 0 !== A) {
                                var T = Math.sqrt(A / M)
                                  , F = n.targetScale * T
                                  , P = n.panX + (C - f)
                                  , O = n.panY + (x - k);
                                n.zoomCenterX = C,
                                n.zoomCenterY = x,
                                n.setPan(P, O),
                                n.targetScale = F,
                                n.changed()
                            }
                            b = 0,
                            w = 0
                        } else {
                            var I = (o.clientX - v.clientX) * p
                              , N = (o.clientY - v.clientY) * p;
                            m = aD(m, i, .8),
                            g = t,
                            b = aD(b, I, .8),
                            w = aD(w, N, .8),
                            n.setPan(n.panX + I, n.panY + N),
                            n.changed()
                        }
                    } else
                        m = aD(m, i, .8),
                        i < 100 && (n.panvX = b / m,
                        n.panvY = w / m),
                        b = b = 0;
                    v = o,
                    y = s
                }
                  , C = function(e) {
                    if (e.data.originalEvent instanceof TouchEvent)
                        k(e.data.originalEvent);
                    else {
                        d = null,
                        document.body.removeClass("is-grabbing"),
                        n.panning = !1;
                        var t = performance.now() - g;
                        m = aD(m, t, .8),
                        t > 100 ? n.panvX = n.panvY = 0 : (n.panvX /= m,
                        n.panvY /= m)
                    }
                };
                p.on("pointerdown", (function(e) {
                    e.data.originalEvent instanceof TouchEvent ? k(e.data.originalEvent) : (d = e.data.getLocalPosition(t.stage),
                    f = {
                        x: u.x,
                        y: u.y
                    },
                    document.body.addClass("is-grabbing"),
                    n.panning = !0)
                }
                )).on("pointerup", C).on("pointerupoutside", C).on("pointermove", (function(e) {
                    if (e.data.originalEvent instanceof TouchEvent)
                        k(e.data.originalEvent);
                    else if (d) {
                        var i = e.data.getLocalPosition(t.stage)
                          , r = f.x + i.x - d.x
                          , o = f.y + i.y - d.y
                          , s = performance.now();
                        m = aD(m, s - g, .8),
                        g = s,
                        n.panvX = aD(n.panvX, r - n.panX, .8),
                        n.panvY = aD(n.panvY, o - n.panY, .8),
                        n.setPan(r, o),
                        n.changed()
                    }
                }
                )),
                t.stage.addChild(p),
                t.stage.addChild(u),
                h.initGraphics(),
                this.updateZoom(),
                this.renderCallback = function() {
                    if (n.renderTimer = null,
                    n.px && !(n.idleFrames > 60)) {
                        var e = n
                          , i = e.nodes
                          , r = e.links
                          , o = n.workerResults;
                        if (n.workerResults = null,
                        o)
                            for (var s = o.id, a = o.buffer, l = new Float32Array(a), p = 0; p < s.length; p++) {
                                (_ = n.nodeLookup[s[p]]) && (_.x = l[2 * p],
                                _.y = l[2 * p + 1],
                                _.fx && (_.x = _.fx),
                                _.fy && (_.y = _.fy))
                            }
                        var d = n
                          , f = d.panning
                          , g = d.panvX
                          , m = d.panvY
                          , v = d.keyboardActions
                          , y = v.shift;
                        if (!f) {
                            n.panX += 1e3 * g / 60,
                            n.panY += 1e3 * m / 60;
                            var b = 0
                              , w = 0;
                            v.up && (w += 1),
                            v.down && (w -= 1),
                            v.left && (b += 1),
                            v.right && (b -= 1),
                            0 === b && 0 === w || (n.idleFrames = 0);
                            var k = y ? 3 : 1;
                            n.panvX = aD(g, b * k, .9),
                            n.panvY = aD(m, w * k, .9)
                        }
                        var C = 1 + (y ? .1 : .03)
                          , x = !1;
                        if (v.zoomin && (n.targetScale *= C,
                        x = !0),
                        v.zoomout && (n.targetScale /= C,
                        x = !0),
                        x) {
                            n.idleFrames = 0;
                            var E = window.devicePixelRatio;
                            n.zoomCenterX = n.width / 2 * E,
                            n.zoomCenterY = n.height / 2 * E
                        }
                        n.updateZoom();
                        var S = n.scale
                          , L = -n.panX / S
                          , D = -n.panY / S
                          , M = L + n.width / S * window.devicePixelRatio
                          , A = D + n.height / S * window.devicePixelRatio;
                        n.viewport = {
                            left: L,
                            right: M,
                            top: D,
                            bottom: A
                        };
                        for (var T = (L + M) / 2, F = (D + A) / 2, P = [], O = function(e, t) {
                            return e.dist - t.dist
                        }, I = 0, N = i; I < N.length; I++) {
                            if (!(_ = N[I]).rendered) {
                                var R = (X = _.x - T) * X + (Z = _.y - F) * Z;
                                (P.length < 50 || R < P.last().dist) && (P.push({
                                    node: _,
                                    dist: X * X + Z * Z
                                }),
                                P.sort(O),
                                P.length > 50 && P.pop())
                            }
                        }
                        if (P.length > 0) {
                            for (var B = 0, z = P; B < z.length; B++) {
                                z[B].node.initGraphics()
                            }
                            n.idleFrames = 0
                        }
                        for (var H = 0, V = r; H < V.length; H++) {
                            V[H].initGraphics()
                        }
                        for (var q = 0, U = i; q < U.length; q++) {
                            var _;
                            (_ = U[q]).render()
                        }
                        for (var j = 0, W = r; j < W.length; j++) {
                            W[j].render()
                        }
                        h.render(),
                        u.sortChildren(),
                        t.render(),
                        n.idleFrames++,
                        n.queueRender();
                        var $ = n
                          , G = $.mouseX
                          , Y = $.mouseY
                          , K = $.highlightNode;
                        if (null !== G && null !== Y && K) {
                            var Q = (G * window.devicePixelRatio - n.panX) / S
                              , J = (Y * window.devicePixelRatio - n.panY) / S
                              , X = K.x - Q
                              , Z = K.y - J
                              , ee = K.getSize() * n.nodeScale + 2;
                            X * X + Z * Z > ee * ee && (n.highlightNode = null,
                            n.idleFrames = 0,
                            c.onNodeUnhover && c.onNodeUnhover())
                        }
                    }
                }
                ,
                this.queueRender()
            }
            ,
            e.prototype.destroyGraphics = function() {
                var e = this
                  , t = e.iframeEl
                  , n = e.px
                  , i = e.links
                  , r = e.nodes
                  , o = e.powerTag;
                this.hanger = null;
                for (var s = 0, a = i; s < a.length; s++) {
                    a[s].clearGraphics()
                }
                for (var l = 0, c = r; l < c.length; l++) {
                    c[l].clearGraphics()
                }
                o && (this.powerTag = null,
                o.clearGraphics()),
                n && (t && document.body.contains(t) && t.contentDocument && n.destroy(!0, {
                    children: !0,
                    texture: !0,
                    baseTexture: !0
                }),
                this.px = null),
                cancelAnimationFrame(this.renderTimer),
                this.renderTimer = null,
                this.renderCallback = null,
                document.body.removeClass("is-grabbing")
            }
            ,
            e.prototype.zoomTo = function(e, t) {
                this.targetScale = e,
                t ? (this.zoomCenterX = t.x,
                this.zoomCenterY = t.y) : this.zoomCenterX = this.zoomCenterY = 0
            }
            ,
            e.prototype.onResize = function() {
                var e = this
                  , t = e.px
                  , n = e.hanger
                  , i = e.containerEl
                  , r = e.interactiveEl
                  , o = window.devicePixelRatio
                  , s = i.clientWidth
                  , a = i.clientHeight;
                if (this.width = s,
                this.height = a,
                t) {
                    var l = Math.round(s * o)
                      , c = Math.round(a * o)
                      , u = t.renderer
                      , h = u.width
                      , p = u.height;
                    u.view.style.width = s + "px",
                    u.view.style.height = a + "px",
                    u.resize(l, c),
                    r.width = s,
                    r.height = a,
                    t.renderer.plugins.interaction.resolution = 1 / o,
                    n && this.setPan(this.panX + (l - h) / 2, this.panY + (c - p) / 2)
                }
                this.changed()
            }
            ,
            e.prototype.resetPan = function() {
                var e = window.devicePixelRatio;
                this.setPan(this.width / 2 * e, this.height / 2 * e)
            }
            ,
            e.prototype.setData = function(e) {
                for (var t = this, n = t.nodes, i = t.nodeLookup, r = t.links, o = e.nodes, s = {}, a = [], l = [], c = !1, u = !1, h = 0, p = 0, d = n; p < d.length; p++) {
                    var f = d[p];
                    o.hasOwnProperty(f.id) ? (h = Math.max(h, f.x * f.x + f.y * f.y),
                    s[f.id] = !1) : (a.push(f),
                    c = !0)
                }
                var g = Math.sqrt(h)
                  , m = [];
                for (var v in o)
                    if (o.hasOwnProperty(v)) {
                        var y = o[v];
                        if (i.hasOwnProperty(v)) {
                            var b = y.color || null;
                            (f = i[v]).color !== b && (f.color = b,
                            u = !0)
                        } else {
                            (f = new yD(this,v,y.type)).color = y.color || null,
                            n.push(f),
                            i[v] = f,
                            c = !0,
                            m.push(f)
                        }
                    }
                for (var v in o)
                    if (o.hasOwnProperty(v) && i.hasOwnProperty(v)) {
                        f = i[v];
                        var w = o[v].links;
                        for (var k in f.forward)
                            f.forward.hasOwnProperty(k) && (w.hasOwnProperty(k) || (l.push(f.forward[k]),
                            c = !0));
                        for (var k in w)
                            if (w.hasOwnProperty(k) && !f.forward.hasOwnProperty(k) && i.hasOwnProperty(k)) {
                                var C = i[k]
                                  , x = new bD(this,f,C);
                                r.push(x),
                                f.forward[C.id] = x,
                                C.reverse[f.id] = x,
                                c = !0
                            }
                    }
                for (var E = function(e) {
                    e.clearGraphics(),
                    r.remove(e),
                    delete e.source.forward[e.target.id],
                    delete e.target.reverse[e.source.id]
                }, S = 0, L = l; S < L.length; S++) {
                    E(x = L[S])
                }
                for (var D = 0, M = a; D < M.length; D++) {
                    (f = M[D]).clearGraphics(),
                    n.remove(f),
                    delete i[f.id];
                    var A = f.forward
                      , T = f.reverse;
                    for (var k in A)
                        A.hasOwnProperty(k) && E(A[k]);
                    for (var k in T)
                        T.hasOwnProperty(k) && E(T[k])
                }
                var F = m.length;
                if (F > 0)
                    for (var P = 60 * F * 60, O = Math.sqrt(P / Math.PI + g * g) - g, I = Math.sqrt(P), N = 0, R = m; N < R.length; N++) {
                        for (var B = 0, z = 0, H = 0, V = 0, q = (f = R[N]).getRelated(); V < q.length; V++) {
                            var U = q[V];
                            if (i.hasOwnProperty(U)) {
                                var _ = i[U];
                                null !== _.x && null !== _.y && (B += _.x,
                                z += _.y,
                                H++)
                            }
                        }
                        if (H > 0)
                            f.x = B / H + (Math.random() - .5) * I,
                            f.y = z / H + (Math.random() - .5) * I;
                        else {
                            var j = 2 * Math.random() * Math.PI
                              , W = g + Math.sqrt(Math.random()) * O;
                            f.x = W * Math.cos(j),
                            f.y = W * Math.sin(j)
                        }
                        s[f.id] = [f.x, f.y]
                    }
                var $ = e.weights;
                for (var v in i)
                    if (i.hasOwnProperty(v)) {
                        var G = (f = i[v]).weight;
                        G = $ ? $.hasOwnProperty(v) ? $[v] : 0 : f.getRelated().length,
                        f.weight !== G && (f.weight = G,
                        c = !0)
                    }
                if (c) {
                    for (var Y = [], K = 0, Q = r; K < Q.length; K++) {
                        x = Q[K];
                        Y.push([x.source.id, x.target.id])
                    }
                    this.worker.postMessage({
                        nodes: s,
                        links: Y,
                        alpha: .3,
                        run: !0
                    }),
                    this.changed()
                } else
                    u && this.changed()
            }
            ,
            e.prototype.setRenderOptions = function(e) {
                var t = e.nodeSizeMultiplier
                  , n = e.lineSizeMultiplier
                  , i = e.showArrow
                  , r = e.textFadeMultiplier;
                Number.isNumber(t) && (this.fNodeSizeMult = t),
                Number.isNumber(n) && (this.fLineSizeMult = n),
                Number.isNumber(r) && (this.fTextShowMult = r),
                isBoolean(i) && (this.fShowArrow = i),
                this.changed()
            }
            ,
            e.prototype.setForces = function(e) {
                this.worker.postMessage({
                    forces: e,
                    alpha: .3,
                    run: !0
                })
            }
            ,
            e.prototype.getNodeFromGraphics = function(e) {
                return this.nodePxLookup.get(e)
            }
            ,
            e.prototype.getHighlightNode = function() {
                return this.dragNode || this.highlightNode
            }
            ,
            e.prototype.updateZoom = function() {
                var e = this
                  , t = e.scale
                  , n = e.targetScale
                  , i = e.panX
                  , r = e.panY;
                if ((t > (n = this.targetScale = Math.min(8, Math.max(1 / 128, n))) ? t / n : n / t) - 1 >= .01) {
                    var o = this.zoomCenterX
                      , s = this.zoomCenterY;
                    if (0 === o && 0 === s) {
                        var a = window.devicePixelRatio;
                        o = this.width / 2 * a,
                        s = this.height / 2 * a
                    }
                    var l = {
                        x: (o - i) / t,
                        y: (s - r) / t
                    };
                    t = aD(t, n, .85),
                    i -= l.x * t + i - o,
                    r -= l.y * t + r - s,
                    this.changed()
                }
                this.setPan(i, r),
                this.setScale(t)
            }
            ,
            e.prototype.setPan = function(e, t) {
                var n = this.hanger;
                this.panX = e,
                this.panY = t,
                n && (n.x = e,
                n.y = t)
            }
            ,
            e.prototype.setScale = function(e) {
                var t = this.hanger;
                this.scale = e,
                this.nodeScale = Math.sqrt(1 / e),
                t.scale.x = t.scale.y = e;
                var n = Math.log(e) / Math.log(2);
                this.textAlpha = Math.clamp(n + 1 - this.fTextShowMult, 0, 1)
            }
            ,
            e.prototype.changed = function() {
                this.idleFrames = 0,
                this.queueRender()
            }
            ,
            e.prototype.queueRender = function() {
                !this.renderTimer && this.renderCallback && (this.renderTimer = requestAnimationFrame(this.renderCallback))
            }
            ,
            e.prototype.testCSS = function() {
                var e = function(e) {
                    return 255 & parseInt(e)
                }
                  , t = function(t) {
                    var n = document.body.createDiv({
                        cls: "graph-view " + t
                    })
                      , i = getComputedStyle(n)
                      , r = i.color
                      , o = i.opacity;
                    n.detach();
                    var s = r.match(/^rgba?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*[\d.]+\s*)?\)$/i)
                      , a = parseFloat(o);
                    return isNaN(a) && (a = 1),
                    s ? {
                        a: a *= s[4] ? Math.clamp(parseFloat(s[4].substr(1)), 0, 1) : 1,
                        rgb: e(s[1]) << 16 | e(s[2]) << 8 | e(s[3])
                    } : {
                        a,
                        rgb: 8947848
                    }
                };
                for (var n in mD)
                    mD.hasOwnProperty(n) && (this.colors[n] = t(mD[n]));
                for (var i = 0, r = this.nodes; i < r.length; i++) {
                    r[i].fontDirty = !0
                }
                var o = this.powerTag;
                o && (o.rendered = !1),
                this.changed()
            }
            ,
            e.prototype.getTransparentScreenshot = function() {
                var e = this.px;
                return e.render(),
                e.view
            }
            ,
            e.prototype.getBackgroundScreenshot = function() {
                var e = this.getTransparentScreenshot()
                  , t = document.createElement("canvas");
                t.width = e.width,
                t.height = e.height;
                var n = t.getContext("2d");
                return n.fillStyle = "#FFFFFF",
                n.fillRect(0, 0, e.width, e.height),
                n.drawImage(e, 0, 0),
                t
            }
            ,
            e.copyToClipboard = function(e, t, n) {
                e.toBlob((function(e) {
                    try {
                        var i = {};
                        i[t] = e,
                        navigator.clipboard.write([new ClipboardItem(i)]),
                        n && n()
                    } catch (e) {
                        console.error(e)
                    }
                }
                ), t, 100)
            }
            ,
            e
        }();
        var CD = Fe("plugins.search")
          , xD = [{
            type: "operator",
            name: "path:",
            infoTextI18n: "label-path-option-description"
        }, {
            type: "operator",
            name: "file:",
            infoTextI18n: "label-file-name-option-description"
        }, {
            type: "operator",
            name: "tag:",
            infoTextI18n: "label-tag-option-description"
        }, {
            type: "operator",
            name: "line:()",
            infoTextI18n: "label-line-option-description"
        }, {
            type: "operator",
            name: "section:()",
            infoTextI18n: "label-section-option-description"
        }]
          , ED = function(e) {
            function t(t, n, i) {
                var r = e.call(this, t) || this;
                return r.inputEl = null,
                r.showHistory = !0,
                r.inputEl = n,
                r.showHistory = i,
                n.addEventListener("input", r.onInputChange.bind(r)),
                n.addEventListener("focus", r.onInputChange.bind(r)),
                n.addEventListener("blur", r.close.bind(r)),
                r.suggestEl.on("mousedown", ".suggestion-item", (function(e) {
                    e.preventDefault()
                }
                )),
                r.suggestEl.addClass("mod-search-suggestion"),
                r
            }
            return i(t, e),
            t.prototype.renderSuggestion = function(e, t) {
                var n = this
                  , i = t.createSpan({
                    cls: "search-suggest-name",
                    text: e.name
                });
                t.addClass("search-suggest-item"),
                "operator" === e.type ? t.createSpan({
                    cls: "search-suggest-info-text",
                    text: CD(e.infoTextI18n)
                }) : "group" === e.type && (t.addClass("list-item"),
                i.addClass("list-item-part", "mod-extended"),
                t.createDiv("list-item-part search-suggest-icon clickable-icon", (function(t) {
                    yk(t, e.icon, 16),
                    Je(t, e.iconTooltip),
                    t.addEventListener("click", (function(t) {
                        t.preventDefault(),
                        t.stopPropagation(),
                        e.callback(),
                        n.onInputChange()
                    }
                    ))
                }
                )),
                t.addClass("mod-group"))
            }
            ,
            t.prototype.getSuggestions = function(e) {
                var t = this;
                if (this.inputEl.selectionStart === e.length) {
                    if (e.endsWith("path:"))
                        return this.app.vault.getAllLoadedFiles().filter((function(e) {
                            return e instanceof qf
                        }
                        )).map((function(e) {
                            return {
                                type: "string",
                                name: e.path
                            }
                        }
                        ));
                    if (e.endsWith("tag:"))
                        return Object.keys(this.app.metadataCache.getTags()).map((function(e) {
                            return {
                                type: "string",
                                name: e
                            }
                        }
                        ))
                }
                var n = [];
                n.push({
                    type: "group",
                    name: CD("label-search-options"),
                    icon: db,
                    iconTooltip: CD("tooltip-read-more"),
                    callback: function() {
                        window.open("https://help.obsidian.md/Plugins/Search", "_blank")
                    }
                });
                for (var i = 0, r = xD; i < r.length; i++) {
                    var o = r[i];
                    n.push(o)
                }
                if ("" !== e)
                    return e.endsWith(" ") ? n : null;
                if (this.showHistory) {
                    var s = this.app.loadLocalStorage("recent-searches");
                    if (s && Array.isArray(s) && s.length > 0) {
                        n.push({
                            type: "group",
                            name: CD("label-history"),
                            icon: wb,
                            iconTooltip: CD("tooltip-clear-history"),
                            callback: function() {
                                t.app.saveLocalStorage("recent-searches", null)
                            }
                        });
                        for (var a = 0, l = s; a < l.length; a++) {
                            var c = l[a];
                            n.push({
                                type: "history",
                                name: c
                            })
                        }
                    }
                }
                return n
            }
            ,
            t.prototype.selectSuggestion = function(e, t) {
                if ("group" !== e.type) {
                    var n = this.inputEl
                      , i = n.value
                      , r = e.name;
                    "string" === e.type && r.contains(" ") && (r = '"' + r + '"');
                    var o = i + r;
                    if (n.value = o,
                    "operator" === e.type && e.name.endsWith("()")) {
                        var s = o.length - 1;
                        n.setSelectionRange(s, s)
                    }
                    n.trigger("input"),
                    "operator" !== e.type && this.close()
                } else
                    t.preventDefault()
            }
            ,
            t.prototype.onInputChange = function() {
                var e = this.inputEl
                  , t = e.value
                  , n = this.getSuggestions(t);
                n && n.length > 0 ? (this.suggestions.setSuggestions(n),
                this.open(),
                on.isMobile || (this.suggestEl.style.width = Math.max(this.inputEl.offsetWidth, 300) + "px",
                this.setAutoDestroy(e),
                this.reposition(Ut(e)))) : this.close()
            }
            ,
            t.attach = function(e, n, i) {
                void 0 === i && (i = !0),
                new t(e,n,i)
            }
            ,
            t
        }(jf)
          , SD = function() {
            function e() {
                var e = this;
                this.collapsed = !1;
                var t = this.el = createDiv("tree-item")
                  , n = this.selfEl = t.createDiv("tree-item-self")
                  , i = this.collapseEl = n.createDiv({
                    cls: "tree-item-icon collapse-icon"
                });
                this.innerEl = n.createDiv("tree-item-inner"),
                n.addEventListener("click", (function(t) {
                    0 !== t.button || t.defaultPrevented || e.onSelfClick(t)
                }
                )),
                this.childrenEl = t.createDiv("tree-item-children"),
                yk(i, Ry, 8),
                i.addEventListener("click", this.onCollapseClick.bind(this))
            }
            return e.prototype.onSelfClick = function(e) {}
            ,
            e.prototype.onCollapseClick = function(e) {
                0 === e.button && (e.preventDefault(),
                this.toggleCollapsed(!0))
            }
            ,
            e.prototype.toggleCollapsed = function(e) {
                return this.setCollapsed(!this.collapsed, e)
            }
            ,
            e.prototype.setCollapsed = function(e, t) {
                return this.collapsed = e,
                this.updateCollapsed(t)
            }
            ,
            e.prototype.setCollapsible = function(e) {
                var t = this.collapseEl;
                e ? this.selfEl.prepend(t) : t.detach()
            }
            ,
            e.prototype.setClickable = function(e) {
                this.selfEl.toggleClass("is-clickable", e)
            }
            ,
            e.prototype.updateCollapsed = function(e) {
                return o(this, void 0, Promise, (function() {
                    var t, n, i, r;
                    return s(this, (function(o) {
                        switch (o.label) {
                        case 0:
                            return n = (t = this).el,
                            i = t.childrenEl,
                            r = t.collapsed,
                            n.toggleClass("is-collapsed", r),
                            [4, Ot(i, n, r, e)];
                        case 1:
                            return o.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e
        }()
          , LD = Fe("plugins.graph-view")
          , DD = function() {
            function e() {
                this.id = "graph",
                this.name = LD("name"),
                this.description = LD("desc"),
                this.defaultOn = !0
            }
            return e.prototype.init = function(e, t) {
                var n = this;
                this.app = e,
                this.plugin = t,
                t.registerRibbonAction(LD("action-open"), _y, this.openGraphView.bind(this)),
                t.registerGlobalCommand({
                    id: "graph:open",
                    name: LD("action-open"),
                    icon: jw,
                    callback: this.openGraphView.bind(this),
                    hotkeys: [sL(["Mod"], "G")]
                }),
                t.registerGlobalCommand({
                    id: "graph:open-local",
                    name: LD("action-open-local"),
                    icon: jw,
                    checkCallback: this.openLocalGraph.bind(this)
                }),
                t.registerGlobalCommand({
                    id: "graph:animate",
                    name: LD("action-timelapse"),
                    icon: rk,
                    checkCallback: function(e) {
                        var t = n.app.workspace.getActiveViewOfType(AD);
                        if (t)
                            return e || t.dataEngine.renderProgression(),
                            !0
                    }
                }),
                t.registerViewType(MD, (function(e) {
                    return new AD(e)
                }
                )),
                t.registerViewType(TD, (function(e) {
                    return new FD(e)
                }
                ))
            }
            ,
            e.prototype.onEnable = function(e, t) {
                return o(this, void 0, void 0, (function() {
                    var n;
                    return s(this, (function(i) {
                        switch (i.label) {
                        case 0:
                            return t.registerEvent(e.workspace.on("file-menu", this.onFileMenu, this)),
                            n = this,
                            [4, t.loadData()];
                        case 1:
                            return n.options = i.sent() || {},
                            e.workspace.registerHoverLinkSource("graph", {
                                display: this.name,
                                defaultMod: !0
                            }),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.onDisable = function(e) {
                e.workspace.unregisterHoverLinkSource("graph")
            }
            ,
            e.prototype.onFileMenu = function(e, t, n, i) {
                var r = this;
                t instanceof Vf && i && "sidebar-context-menu" !== n && e.addItem((function(e) {
                    return e.setTitle(LD("action-open-local")).setIcon(_y).onClick((function() {
                        return o(r, void 0, void 0, (function() {
                            return s(this, (function(e) {
                                switch (e.label) {
                                case 0:
                                    return [4, this.app.workspace.splitLeafOrActive(i, "vertical").setViewState({
                                        type: TD,
                                        active: !0,
                                        group: i,
                                        state: {
                                            file: t.path
                                        }
                                    })];
                                case 1:
                                    return e.sent(),
                                    [2]
                                }
                            }
                            ))
                        }
                        ))
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.openGraphView = function() {
                this.app.workspace.getLeaf().setViewState({
                    type: MD,
                    active: !0,
                    state: {}
                })
            }
            ,
            e.prototype.openLocalGraph = function(e) {
                var t = this.app.workspace
                  , n = t.getActiveFile();
                if (n) {
                    if (!e)
                        t.splitActiveLeaf("vertical").setViewState({
                            type: TD,
                            active: !0,
                            group: t.activeLeaf,
                            state: {
                                file: n.path
                            }
                        });
                    return !0
                }
            }
            ,
            e.prototype.saveOptions = function() {
                this.plugin.saveData(this.options)
            }
            ,
            e
        }()
          , MD = "graph"
          , AD = function(e) {
            function t(t) {
                var n = e.call(this, t) || this;
                n.icon = _y;
                var i = n.renderer = new kD(n.contentEl,!on.isIosApp,!0);
                return n.dataEngine = new ID(t.app,n,i),
                n
            }
            return i(t, e),
            t.prototype.getDisplayText = function() {
                return LD("name")
            }
            ,
            t.prototype.load = function() {
                e.prototype.load.call(this),
                this.registerEvent(this.app.metadataCache.on("resolved", this.update, this)),
                this.dataEngine.load(),
                this.update();
                var t = this.app.internalPlugins.getPluginById("graph").instance;
                this.dataEngine.setOptions(t.options)
            }
            ,
            t.prototype.getViewType = function() {
                return MD
            }
            ,
            t.prototype.onClose = function() {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(e) {
                        return this.renderer.destroy(),
                        [2]
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.onResize = function() {
                this.renderer.onResize()
            }
            ,
            t.prototype.onMoreOptionsMenu = function(t) {
                var n = this;
                e.prototype.onMoreOptionsMenu.call(this, t),
                t.addSeparator().addItem((function(e) {
                    return e.setTitle(LD("action-copy-screenshot")).setIcon(Wy).onClick((function() {
                        var e = n.renderer.getTransparentScreenshot();
                        kD.copyToClipboard(e, "image/png", (function() {
                            return new JC(LD("msg-screenshot-copied"))
                        }
                        ))
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.update = function() {
                this.dataEngine.render()
            }
            ,
            t.prototype.onOptionsChange = function() {
                var e = this.app.internalPlugins.getPluginById("graph").instance;
                e.options = this.dataEngine.getOptions(),
                e.saveOptions()
            }
            ,
            t
        }(KC)
          , TD = "localgraph"
          , FD = function(e) {
            function t(t) {
                var n = e.call(this, t) || this;
                n.icon = _y,
                n.renderedFile = null;
                var i = n.renderer = new kD(n.contentEl,!on.isIosApp,!0);
                return n.engine = new ID(t.app,n,i),
                n
            }
            return i(t, e),
            t.prototype.getDisplayText = function() {
                return this.file ? LD("tab-title", {
                    displayText: e.prototype.getDisplayText.call(this)
                }) : LD("name")
            }
            ,
            t.prototype.getViewType = function() {
                return TD
            }
            ,
            t.prototype.canAcceptExtension = function(e) {
                return !0
            }
            ,
            t.prototype.getState = function() {
                var t = e.prototype.getState.call(this);
                return t.options = this.engine.getOptions(),
                t
            }
            ,
            t.prototype.setState = function(t, n) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(i) {
                        switch (i.label) {
                        case 0:
                            return t.options && this.engine.setOptions(t.options),
                            [4, e.prototype.setState.call(this, t, n)];
                        case 1:
                            return i.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.load = function() {
                e.prototype.load.call(this),
                this.registerEvent(this.app.metadataCache.on("resolved", this.update, this)),
                this.engine.load()
            }
            ,
            t.prototype.onClose = function() {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(e) {
                        return this.renderer.destroyGraphics(),
                        [2]
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.onFileChanged = function(e) {
                e === this.file && this.requestUpdate()
            }
            ,
            t.prototype.onResize = function() {
                this.renderer.onResize()
            }
            ,
            t.prototype.update = function() {
                var e = this
                  , t = e.file
                  , n = e.renderer
                  , i = e.engine;
                e.renderedFile !== t && (n.resetPan(),
                this.renderedFile = t);
                var r = i.options;
                n.highlightNode = null,
                r.localFile = t ? t.path : null,
                i.render()
            }
            ,
            t.prototype.onMoreOptionsMenu = function(t) {
                var n = this;
                e.prototype.onMoreOptionsMenu.call(this, t),
                t.addSeparator().addItem((function(e) {
                    return e.setTitle(LD("action-copy-screenshot")).setIcon(Wy).onClick((function() {
                        var e = n.renderer.getTransparentScreenshot();
                        kD.copyToClipboard(e, "image/png", (function() {
                            return new JC(LD("msg-screenshot-copied"))
                        }
                        ))
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.onOptionsChange = function() {
                this.app.workspace.requestSaveLayout()
            }
            ,
            t
        }(gE);
        function PD(e, t) {
            return (Math.pow(t, 1 - e) - t) / (1 - t)
        }
        function OD(e, t) {
            return 1 - Math.log(e * (1 - t) + t) / Math.log(t)
        }
        var ID = function() {
            function e(e, t, n) {
                var i = this;
                this.options = Object.assign({}, pD),
                this.searchQueries = null,
                this.fileFilter = {},
                this.hasFilter = !1,
                this.queue = null,
                this.lastHoverLink = null,
                this.hoverPopover = null,
                this.requestUpdateSearch = Pe(this.updateSearch.bind(this), 250, !0),
                this.progression = 0,
                this.progressionSpeed = 20,
                this.app = e,
                this.view = t,
                this.renderer = n,
                n.onNodeClick = this.onNodeClick.bind(this),
                n.onNodeRightClick = this.onNodeRightClick.bind(this),
                n.onNodeHover = this.onNodeHover.bind(this),
                n.onNodeUnhover = this.onNodeUnhover.bind(this),
                this.onOptionsChange = Pe((function() {
                    return t.onOptionsChange()
                }
                ), 100, !0);
                var r = this.controlsEl = n.containerEl.createDiv("graph-controls");
                r.createDiv("graph-controls-button mod-close", (function(e) {
                    yk(e, wb, 16),
                    Je(e, Te("interface.menu.close")),
                    e.addEventListener("click", (function() {
                        r.addClass("is-close"),
                        i.onOptionsChange()
                    }
                    ))
                }
                )),
                r.createDiv("graph-controls-button mod-open", (function(e) {
                    yk(e, Gy, 18),
                    Je(e, LD("tooltip-open-graph-settings")),
                    e.addEventListener("click", (function() {
                        r.removeClass("is-close"),
                        i.onOptionsChange()
                    }
                    ))
                }
                )),
                r.createDiv({
                    cls: "graph-controls-button mod-reset"
                }, (function(e) {
                    yk(e, Cb, 16),
                    Je(e, Te("interface.tooltip-restore-default-settings")),
                    e.addEventListener("click", (function() {
                        i.filterOptions.setDefaultOptions(),
                        i.colorGroupOptions.setColorQueries([]),
                        i.displayOptions.setDefaultOptions(),
                        i.forceOptions.setDefaultOptions()
                    }
                    ))
                }
                )),
                this.filterOptions = new RD(this,t instanceof FD),
                this.colorGroupOptions = new BD(this),
                this.displayOptions = new HD(this),
                this.forceOptions = new qD(this),
                this.filterOptions.setDefaultOptions(),
                this.colorGroupOptions.setColorQueries([]),
                this.displayOptions.setDefaultOptions(),
                this.forceOptions.setDefaultOptions()
            }
            return e.prototype.load = function() {
                var e = this
                  , t = this.app
                  , n = this.view
                  , i = t.vault
                  , r = t.workspace
                  , o = t.metadataCache;
                n.registerEvent(i.on("create", this.onFileChanged, this)),
                n.registerEvent(i.on("modify", this.onFileChanged, this)),
                n.registerEvent(i.on("rename", this.recomputeFile, this)),
                n.registerEvent(o.on("resolve", this.recomputeFile, this)),
                n.registerEvent(r.on("css-change", this.onCssChange, this));
                var s = 0;
                n.registerInterval(window.setInterval((function() {
                    e.renderer.targetScale !== s && (s = e.renderer.targetScale,
                    e.onOptionsChange())
                }
                ), 2e3));
                var a = {
                    38: "up",
                    40: "down",
                    37: "left",
                    39: "right",
                    187: "zoomin",
                    189: "zoomout"
                }
                  , l = function(t) {
                    var i = e.renderer;
                    i.keyboardActions.shift = rn.isModifier(t, "Shift");
                    var o = "keydown" === t.type;
                    if ((!o || !t.repeat && !t.defaultPrevented && r.activeLeaf === n.leaf && document.activeElement === document.body) && a.hasOwnProperty(t.which)) {
                        var s = a[t.which];
                        i.keyboardActions[s] = o,
                        i.changed()
                    }
                };
                n.registerDomEvent(window, "keydown", l),
                n.registerDomEvent(window, "keyup", l)
            }
            ,
            e.prototype.onCssChange = function() {
                this.renderer.testCSS()
            }
            ,
            e.prototype.updateSearch = function() {
                var e = []
                  , t = this.filterOptions.search.getValue();
                t && e.push({
                    query: t,
                    color: null
                }),
                e = e.concat(this.colorGroupOptions.getColoredQueries()),
                this.setQuery(e),
                this.onOptionsChange()
            }
            ,
            e.prototype.setQuery = function(e) {
                var t = this;
                this.queue && (this.queue.cancel(),
                this.queue = null),
                this.hasFilter = !1;
                for (var n = [], i = {}, r = 0, o = e; r < o.length; r++) {
                    var s = o[r]
                      , a = new dE(s.query,!1);
                    a.matcher || (a = null),
                    a && (n.push({
                        query: a,
                        color: s.color
                    }),
                    a.requiredInputs && Object.assign(i, a.requiredInputs),
                    s.color || (this.hasFilter = !0))
                }
                if (0 === n.length && (n = null),
                this.searchQueries = n,
                !n)
                    return this.fileFilter = {},
                    void this.render();
                var l = this.fileFilter = {}
                  , c = this.queue = new qk({
                    onStart: function() {
                        t.filterOptions.startSearch()
                    },
                    onStop: function() {
                        t.render(),
                        t.filterOptions.stopSearch()
                    },
                    onCancel: function() {
                        t.queue = null,
                        t.filterOptions.stopSearch()
                    }
                })
                  , u = this.app;
                c.addList(u.vault.getFiles());
                var h = performance.now()
                  , p = !0;
                fE(u, i, c, (function(e, t, i) {
                    for (var r = !0, o = null, s = 0, a = n; s < a.length; s++) {
                        var c = a[s]
                          , u = c.query.match(e, t, i);
                        if (!u && !c.color) {
                            r = !1;
                            break
                        }
                        if (u && c.color) {
                            o = c.color;
                            break
                        }
                    }
                    l[e.path] = !!r && (o || !0),
                    p = p || r
                }
                ), {
                    beforePause: function(e) {
                        e < h + 333 || (h = e,
                        p && t.render(),
                        p = !1)
                    }
                })
            }
            ,
            e.prototype.render = function() {
                var e = this
                  , t = this
                  , n = t.app
                  , i = t.view
                  , r = t.renderer
                  , o = t.searchQueries
                  , s = t.fileFilter
                  , a = t.options
                  , l = i instanceof FD;
                if (!l || a.localFile) {
                    l && (this.progression = 0);
                    var c = function(e, t, n, i) {
                        var r = e.resolvedLinks
                          , o = e.unresolvedLinks
                          , s = t.showAttachments
                          , a = t.hideUnresolved
                          , l = t.showTags
                          , c = {};
                        if (t.showTags) {
                            var u = e.getTags();
                            for (var h in u)
                                u.hasOwnProperty(h) && (c[h.toLowerCase()] = h)
                        }
                        for (var p = {}, d = 0, f = 0, g = e.getCachedFiles(); f < g.length; f++) {
                            var m = g[f]
                              , v = "md" !== Q(m);
                            if (s || !v) {
                                var y = v ? "attachment" : ""
                                  , b = n(m, y);
                                if (b) {
                                    var w = p[m] = dD(y)
                                      , k = w.links;
                                    if (isBoolean(b) || (w.color = b),
                                    r.hasOwnProperty(m)) {
                                        var C = r[m];
                                        for (var x in C)
                                            if (C.hasOwnProperty(x)) {
                                                var E = "md" !== Q(x);
                                                if (s || !E)
                                                    n(x, E ? "attachment" : "") && ((!i || d < i) && (k[x] = !0),
                                                    d++)
                                            }
                                    }
                                    if (!a && o.hasOwnProperty(m)) {
                                        C = o[m];
                                        for (var x in C)
                                            C.hasOwnProperty(x) && n(x, "unresolved") && ((!i || d < i) && (k[x] = !0),
                                            d++,
                                            p.hasOwnProperty(x) || (p[x] = dD("unresolved")))
                                    }
                                    if (l)
                                        if ((u = Ay(e.getCache(m))) && u.length > 0)
                                            for (var S = 0, L = u; S < L.length; S++) {
                                                if (n(h = L[S], "tag")) {
                                                    var D = c[h.toLowerCase()] || h;
                                                    (!i || d < i) && (k[D] = !0),
                                                    d++,
                                                    p.hasOwnProperty(D) || (p[D] = dD("tag"))
                                                }
                                            }
                                }
                            }
                        }
                        return {
                            nodes: p,
                            numLinks: d
                        }
                    }(n.metadataCache, a, (function(t, n) {
                        return !o || ("" === n ? t === a.localFile || (s.hasOwnProperty(t) ? s[t] : !e.hasFilter) : "tag" === n ? o.every((function(e) {
                            return !!e.color || !!e.query.matchTag(t)
                        }
                        )) : "attachment" !== n || o.every((function(e) {
                            return !!e.color || !!e.query.matchFilepath(t)
                        }
                        )))
                    }
                    ), this.progression)
                      , u = c.numLinks;
                    return a.localFile && (c = function(e, t) {
                        var n = e.nodes
                          , i = {}
                          , r = {}
                          , o = t.localFile
                          , s = t.localJumps
                          , a = t.localInterlinks
                          , l = t.localForelinks
                          , c = t.localBacklinks;
                        if (r[o] = 30,
                        !n.hasOwnProperty(o))
                            return i[o] = dD(),
                            {
                                nodes: i,
                                weights: r
                            };
                        i[o] = dD(n[o].type);
                        for (var u = function(e) {
                            var t = {};
                            for (var o in n)
                                if (n.hasOwnProperty(o)) {
                                    var s = n[o];
                                    if ("tag" !== s.type) {
                                        var a = s.links;
                                        for (var u in a)
                                            if (a.hasOwnProperty(u)) {
                                                var h = i[o];
                                                l && i.hasOwnProperty(o) && !i.hasOwnProperty(u) && !gD.hasOwnProperty(h.type) ? (t[u] = t[u] || fD(n[u]),
                                                h.links[u] = !0) : c && i.hasOwnProperty(u) && !i.hasOwnProperty(o) && !gD.hasOwnProperty(i[u].type) && (t[o] = t[o] || fD(n[o]),
                                                t[o].links[u] = !0)
                                            }
                                    }
                                }
                            for (var p in t)
                                t.hasOwnProperty(p) && (i[p] = t[p],
                                r[p] = e)
                        }, h = 30 / s, p = 0; p < s; p++)
                            u(30 - h * (p + 1));
                        if (a)
                            for (var d in i)
                                i.hasOwnProperty(d) && n.hasOwnProperty(d) && (i[d] = n[d]);
                        return {
                            nodes: i,
                            weights: r
                        }
                    }(c, a)),
                    a.showOrphans || function(e) {
                        var t = e.nodes
                          , n = {};
                        for (var i in t)
                            if (t.hasOwnProperty(i)) {
                                var r = t[i].links;
                                for (var o in r)
                                    r.hasOwnProperty(o) && i !== o && (n[o] = !0)
                            }
                        for (var i in t)
                            if (t.hasOwnProperty(i)) {
                                r = t[i].links;
                                var s = !1;
                                for (var o in r)
                                    if (r.hasOwnProperty(o) && t.hasOwnProperty(o) && i !== o) {
                                        s = !0;
                                        break
                                    }
                                s || n[i] || delete t[i]
                            }
                    }(c),
                    r.setData(c),
                    u
                }
                r.setData({
                    nodes: {}
                })
            }
            ,
            e.prototype.renderProgression = function() {
                return o(this, void 0, void 0, (function() {
                    var e, t, n;
                    return s(this, (function(i) {
                        switch (i.label) {
                        case 0:
                            this.progression = 1,
                            e = this.render(),
                            this.progressionSpeed = Math.clamp(.5 * Math.sqrt(e), 5, 100),
                            t = Date.now(),
                            i.label = 1;
                        case 1:
                            return this.progression > 0 ? (n = this.progression,
                            [4, new Promise((function(e) {
                                return ze(e, 0)
                            }
                            ))]) : [3, 3];
                        case 2:
                            return i.sent(),
                            n !== this.progression ? [3, 3] : (n = 1 + Math.floor(this.progressionSpeed * (Date.now() - t) / 1e3)) === this.progression || (this.progression = n,
                            this.render()) ? [3, 1] : [3, 3];
                        case 3:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.onFileChanged = function(e) {
                "md" !== e.extension && this.recomputeFile(e)
            }
            ,
            e.prototype.recomputeFile = function(e) {
                var t = this.queue;
                t && t.add(e)
            }
            ,
            e.prototype.onNodeClick = function(e, t, n) {
                var i = this.app
                  , r = this.view;
                if ("tag" !== n) {
                    var o = function(e) {
                        return (e instanceof MouseEvent || e instanceof PointerEvent) && 1 === e.button
                    }(e) || rn.isModifier(e, "Mod")
                      , s = i.workspace;
                    s.setActiveLeaf(r.leaf, !1),
                    s.openLinkText(t, "", o)
                } else {
                    var a = i.internalPlugins.getPluginById("global-search");
                    a && a.instance.openGlobalSearch("tag:" + t)
                }
            }
            ,
            e.prototype.onNodeRightClick = function(e, t, n) {
                var i = this.app;
                if ("tag" !== n) {
                    var r = i.metadataCache.getFirstLinkpathDest(t, "");
                    if (r && e instanceof MouseEvent) {
                        var o = new Zk(this.app);
                        o.addItem((function(e) {
                            return e.setTitle(ne(r.path)).setIsLabel(!0)
                        }
                        )).addSeparator(),
                        o.addItem((function(e) {
                            return e.setTitle(Te("interface.menu.open-in-new-pane")).setIcon(gb).onClick((function() {
                                return i.workspace.openLinkText(t, "", !0)
                            }
                            ))
                        }
                        )),
                        this.app.workspace.trigger("file-menu", o, r, "graph-context-menu", this.view.leaf),
                        o.showAtMouseEvent(e)
                    }
                } else {
                    var s = i.internalPlugins.getPluginById("global-search");
                    s && s.instance.openGlobalSearch("tag:" + t)
                }
            }
            ,
            e.prototype.onNodeHover = function(e, t, n) {
                if (this.onNodeUnhover(),
                e instanceof MouseEvent) {
                    var i = this
                      , r = i.app
                      , o = i.hoverPopover
                      , s = i.lastHoverLink;
                    if ("" === n || "attachment" === n) {
                        if (o && o.state !== NL.Hidden && s === t)
                            return o.onTarget = !0,
                            void o.transition();
                        this.lastHoverLink = t,
                        r.workspace.trigger("hover-link", {
                            event: e,
                            source: "graph",
                            hoverParent: this,
                            targetEl: null,
                            linktext: t
                        })
                    }
                }
            }
            ,
            e.prototype.onNodeUnhover = function() {
                var e = this.hoverPopover;
                e && (e.onTarget = !1,
                e.transition())
            }
            ,
            e.prototype.getOptions = function() {
                var e = {};
                return this.filterOptions.getOptions(e),
                this.colorGroupOptions.getOptions(e),
                this.displayOptions.getOptions(e),
                this.forceOptions.getOptions(e),
                e.scale = this.renderer.targetScale,
                e.close = this.controlsEl.hasClass("is-close"),
                e
            }
            ,
            e.prototype.setOptions = function(e) {
                e && (this.filterOptions.setOptions(e),
                this.colorGroupOptions.setOptions(e),
                this.displayOptions.setOptions(e),
                this.forceOptions.setOptions(e),
                e.scale && this.renderer.zoomTo(e.scale),
                e.close && this.controlsEl.toggleClass("is-close", e.close),
                this.render())
            }
            ,
            e
        }()
          , ND = function(e) {
            function t(t, n, i) {
                var r = e.call(this) || this;
                return r.engine = null,
                r.optionListeners = {},
                r.engine = t,
                r.el.addClass("graph-control-section", "mod-" + n),
                r.setCollapsible(!0),
                r.setCollapsed(!0, !1),
                r.innerEl.createEl("header", {
                    cls: "graph-control-section-header",
                    text: i
                }),
                r.optionListeners["collapse-" + n] = function(e) {
                    return void 0 !== e && isBoolean(e) && r.setCollapsed(e, !1),
                    r.collapsed
                }
                ,
                r
            }
            return i(t, e),
            t.prototype.onSelfClick = function(e) {
                return this.toggleCollapsed(!0)
            }
            ,
            t.prototype.updateCollapsed = function(t) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(n) {
                        switch (n.label) {
                        case 0:
                            return [4, e.prototype.updateCollapsed.call(this, t)];
                        case 1:
                            return n.sent(),
                            this.engine.onOptionsChange(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.setOptions = function(e) {
                var t = this.optionListeners;
                for (var n in e)
                    e.hasOwnProperty(n) && t.hasOwnProperty(n) && t[n](e[n])
            }
            ,
            t.prototype.getOptions = function(e) {
                var t = this.optionListeners;
                for (var n in t)
                    if (t.hasOwnProperty(n)) {
                        var i = t[n]();
                        void 0 !== i && (e[n] = i)
                    }
            }
            ,
            t
        }(SD)
          , RD = function(e) {
            function t(t, n) {
                var i = e.call(this, t, "filter", LD("label-filters")) || this;
                i.searchSetting = null,
                t.controlsEl.appendChild(i.el);
                var r = i.childrenEl;
                return (i.searchSetting = new vE(r).addSearch((function(e) {
                    return e.setPlaceholder(LD("prompt-filter-nodes")).setValue("").onChange((function() {
                        i.engine.requestUpdateSearch()
                    }
                    )).then((function(e) {
                        i.search = e,
                        Je(e.clearButtonEl, Te("plugins.search.tooltip-clear-search")),
                        i.optionListeners.search = function(t) {
                            return void 0 !== t && (e.setValue(t),
                            i.engine.requestUpdateSearch()),
                            e.getValue()
                        }
                        ,
                        e.inputEl.addEventListener("keydown", (function(e) {
                            "Enter" === e.key && i.engine.updateSearch()
                        }
                        )),
                        ED.attach(t.app, e.inputEl, !1)
                    }
                    ))
                }
                ))).settingEl.addClass("mod-search-setting"),
                n && (new vE(r).setName(LD("option-depth")).setTooltip(LD("option-depth-description")).setClass("mod-local-jumps").setClass("mod-slider").addSlider((function(e) {
                    return e.setLimits(1, 5, 1).setValue(t.options.localJumps).setDynamicTooltip().registerOptionListener(i.optionListeners, "localJumps").onChange((function(e) {
                        t.options.localJumps = e,
                        t.render(),
                        t.onOptionsChange()
                    }
                    ))
                }
                )),
                new vE(r).setName(LD("option-backlinks")).setTooltip(LD("option-backlinks-description")).setClass("mod-toggle").addToggle((function(e) {
                    return e.setValue(t.options.localBacklinks).registerOptionListener(i.optionListeners, "localBacklinks").onChange((function(e) {
                        t.options.localBacklinks = e,
                        t.render(),
                        t.onOptionsChange()
                    }
                    ))
                }
                )),
                new vE(r).setName(LD("option-forelinks")).setTooltip(LD("option-forelinks-description")).setClass("mod-toggle").addToggle((function(e) {
                    return e.setValue(t.options.localForelinks).registerOptionListener(i.optionListeners, "localForelinks").onChange((function(e) {
                        t.options.localForelinks = e,
                        t.render(),
                        t.onOptionsChange()
                    }
                    ))
                }
                )),
                new vE(r).setName(LD("option-neighbor-links")).setTooltip(LD("option-neighbor-links-description")).setClass("mod-toggle").addToggle((function(e) {
                    return e.setValue(t.options.localInterlinks).registerOptionListener(i.optionListeners, "localInterlinks").onChange((function(e) {
                        t.options.localInterlinks = e,
                        t.render(),
                        t.onOptionsChange()
                    }
                    ))
                }
                ))),
                new vE(r).setName(LD("option-show-tags")).setTooltip(LD("option-show-tags-description")).setClass("mod-toggle").addToggle((function(e) {
                    return e.setValue(t.options.showTags).registerOptionListener(i.optionListeners, "showTags").onChange((function(e) {
                        t.options.showTags = e,
                        t.render(),
                        t.onOptionsChange()
                    }
                    ))
                }
                )),
                new vE(r).setName(LD("option-show-attachments")).setTooltip(LD("option-show-attachments-description")).setClass("mod-toggle").addToggle((function(e) {
                    return e.setValue(t.options.showAttachments).registerOptionListener(i.optionListeners, "showAttachments").onChange((function(e) {
                        t.options.showAttachments = e,
                        t.render(),
                        t.onOptionsChange()
                    }
                    ))
                }
                )),
                new vE(r).setName(LD("option-show-existing-files-only")).setTooltip(LD("option-show-existing-files-only-description")).setClass("mod-toggle").addToggle((function(e) {
                    return e.setValue(t.options.hideUnresolved).registerOptionListener(i.optionListeners, "hideUnresolved").onChange((function(e) {
                        t.options.hideUnresolved = e,
                        t.render(),
                        t.onOptionsChange()
                    }
                    ))
                }
                )),
                n || new vE(r).setName(LD("option-show-orphans")).setTooltip(LD("option-show-orphans-description")).setClass("mod-toggle").addToggle((function(e) {
                    return e.setValue(t.options.showOrphans).registerOptionListener(i.optionListeners, "showOrphans").onChange((function(e) {
                        t.options.showOrphans = e,
                        t.render(),
                        t.onOptionsChange()
                    }
                    ))
                }
                )),
                i
            }
            return i(t, e),
            t.prototype.startSearch = function() {
                this.searchSetting.settingEl.addClass("is-loading")
            }
            ,
            t.prototype.stopSearch = function() {
                this.searchSetting.settingEl.removeClass("is-loading")
            }
            ,
            t.prototype.setDefaultOptions = function() {
                this.setOptions(pD)
            }
            ,
            t
        }(ND)
          , BD = function(e) {
            function t(t) {
                var n = e.call(this, t, "color-groups", LD("label-groups")) || this;
                return n.containerEl = null,
                t.controlsEl.appendChild(n.el),
                n.optionListeners.colorGroups = function(e) {
                    return Array.isArray(e) && (n.setColorQueries(e),
                    n.engine.requestUpdateSearch()),
                    n.getColoredQueries()
                }
                ,
                n.setColorQueries([]),
                n
            }
            return i(t, e),
            t.prototype.getColoredQueries = function() {
                for (var e = [], t = 0, n = this.groups; t < n.length; t++) {
                    var i = n[t];
                    e.push({
                        query: i.query.getValue(),
                        color: {
                            a: 1,
                            rgb: i.color.getValueInt()
                        }
                    })
                }
                return e
            }
            ,
            t.prototype.setColorQueries = function(e) {
                var t = this
                  , n = this.childrenEl;
                n.empty();
                for (var i = [], r = n.createDiv({
                    cls: "graph-color-groups-container"
                }), o = function(e) {
                    var n = r.createDiv("graph-color-group")
                      , o = new EE(n).setPlaceholder(LD("placeholder-enter-query")).setValue(e.query).onChange((function() {
                        return t.engine.requestUpdateSearch()
                    }
                    )).then((function(e) {
                        return ED.attach(t.engine.app, e.inputEl, !1)
                    }
                    ))
                      , s = new TE(n).setValueInt(e.color ? e.color.rgb : 0).onChange((function() {
                        return t.engine.updateSearch()
                    }
                    ))
                      , a = s.colorPickerEl;
                    Je(a, LD("tooltip-click-to-change-drag-to-reorder"));
                    var l = {
                        el: n,
                        query: o,
                        color: s
                    };
                    a.addEventListener("mousedown", (function(e) {
                        t.onDragOption(e, l)
                    }
                    )),
                    n.createDiv("clickable-icon", (function(e) {
                        yk(e, wb, 16),
                        Je(e, LD("tooltip-delete-graph")),
                        e.addEventListener("click", (function() {
                            i.remove(l),
                            n.detach(),
                            t.engine.updateSearch()
                        }
                        ))
                    }
                    )),
                    i.push(l)
                }, s = 0, a = e; s < a.length; s++) {
                    var l = a[s];
                    o(l)
                }
                this.groups = i,
                n.createDiv("graph-color-button-container", (function(e) {
                    e.createEl("button", {
                        cls: "mod-cta",
                        text: LD("button-new-group")
                    }, (function(e) {
                        e.addEventListener("click", (function() {
                            var e = "obsidian" === t.engine.app.getTheme()
                              , n = function(e, t, n) {
                                var i, r, o;
                                if (e /= 360,
                                n /= 100,
                                0 == (t /= 100))
                                    i = r = o = n;
                                else {
                                    var s = n < .5 ? n * (1 + t) : n + t - n * t
                                      , a = 2 * n - s;
                                    i = Nf(a, s, e + 1 / 3),
                                    r = Nf(a, s, e),
                                    o = Nf(a, s, e - 1 / 3)
                                }
                                return {
                                    r: i,
                                    g: r,
                                    b: o
                                }
                            }(40 * t.groups.length, e ? 70 : 60, 60)
                              , i = n.r
                              , r = n.g
                              , s = n.b;
                            o({
                                query: "",
                                color: {
                                    a: 1,
                                    rgb: Rf(i, r, s)
                                }
                            }),
                            t.engine.updateSearch()
                        }
                        ))
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.onDragOption = function(e, t) {
                var n = this;
                if (0 === e.button) {
                    var i = e.clientX
                      , r = e.clientY
                      , o = t.el
                      , s = o.getBoundingClientRect()
                      , a = e.clientX - s.x
                      , l = e.clientY - s.y
                      , c = null
                      , u = function(e) {
                        e.preventDefault();
                        var s = e.clientX
                          , u = e.clientY;
                        if (null === c) {
                            var h = s - i
                              , p = u - r;
                            if (h * h + p * p < 25)
                                return;
                            var d = o.offsetWidth;
                            n.groups.remove(t),
                            (c = o.cloneNode(!0)).addClass("drag-ghost"),
                            c.style.width = d + "px",
                            document.body.appendChild(c),
                            document.body.addClass("is-grabbing"),
                            n.childrenEl.addClass("is-grabbing")
                        }
                        var f = n.getDropIndex(e);
                        o.detach(),
                        Qe(),
                        c && (c.style.left = s - a + "px",
                        c.style.top = u - l + "px");
                        for (var g = 0; g < n.groups.length; g++) {
                            (m = n.groups[g]) === t && g
                        }
                        for (g = 0; g < n.groups.length; g++) {
                            var m;
                            (m = n.groups[g]).el.style.top = g < f ? "0" : m.el.offsetHeight + "px"
                        }
                    }
                      , h = function(e) {
                        if (document.removeEventListener("mousemove", u),
                        document.removeEventListener("mouseup", h),
                        c) {
                            c.detach(),
                            document.body.removeClass("is-grabbing"),
                            n.childrenEl.removeClass("is-grabbing");
                            var i = n.getDropIndex(e);
                            n.groups.splice(i, 0, t),
                            n.setColorQueries(n.getColoredQueries()),
                            n.engine.updateSearch()
                        }
                    };
                    document.addEventListener("mousemove", u),
                    document.addEventListener("mouseup", h)
                }
            }
            ,
            t.prototype.getDropIndex = function(e) {
                var t, n = e.clientY;
                for (t = 0; t < this.groups.length; t++) {
                    var i = this.groups[t].el.getBoundingClientRect();
                    if (n < i.top + i.height / 2)
                        return t
                }
                return t
            }
            ,
            t
        }(ND)
          , zD = {
            showArrow: !1,
            textFadeMultiplier: 0,
            nodeSizeMultiplier: 1,
            lineSizeMultiplier: 1
        }
          , HD = function(e) {
            function t(t) {
                var n = e.call(this, t, "display", LD("label-display")) || this;
                t.controlsEl.appendChild(n.el);
                var i = n.childrenEl;
                return new vE(i).setName(LD("option-show-arrows")).setTooltip(LD("option-show-arrows-description")).setClass("mod-toggle").addToggle((function(e) {
                    return e.registerOptionListener(n.optionListeners, "showArrow").onChange((function(e) {
                        t.renderer.setRenderOptions({
                            showArrow: e
                        }),
                        t.onOptionsChange()
                    }
                    ))
                }
                )),
                new vE(i).setName(LD("option-text-fade")).setClass("mod-slider").addSlider((function(e) {
                    return e.setLimits(-3, 3, .1).setDynamicTooltip().registerOptionListener(n.optionListeners, "textFadeMultiplier").onChange((function(e) {
                        t.renderer.setRenderOptions({
                            textFadeMultiplier: e
                        }),
                        t.onOptionsChange()
                    }
                    ))
                }
                )),
                new vE(i).setName(LD("option-node-size")).setClass("mod-slider").addSlider((function(e) {
                    return e.setLimits(.1, 5, "any").setDynamicTooltip().registerOptionListener(n.optionListeners, "nodeSizeMultiplier").onChange((function(e) {
                        t.renderer.setRenderOptions({
                            nodeSizeMultiplier: e
                        }),
                        t.onOptionsChange()
                    }
                    ))
                }
                )),
                new vE(i).setName(LD("option-link-thickness")).setClass("mod-slider").addSlider((function(e) {
                    return e.setLimits(.1, 5, "any").setDynamicTooltip().registerOptionListener(n.optionListeners, "lineSizeMultiplier").onChange((function(e) {
                        t.renderer.setRenderOptions({
                            lineSizeMultiplier: e
                        }),
                        t.onOptionsChange()
                    }
                    ))
                }
                )),
                n
            }
            return i(t, e),
            t.prototype.setDefaultOptions = function() {
                this.setOptions(zD)
            }
            ,
            t
        }(ND)
          , VD = {
            centerStrength: OD(.1, .01),
            repelStrength: 10,
            linkStrength: OD(1, .01),
            linkDistance: 250
        }
          , qD = function(e) {
            function t(t) {
                var n = e.call(this, t, "forces", LD("label-forces")) || this;
                t.controlsEl.appendChild(n.el);
                var i = n.childrenEl;
                return new vE(i).setName(LD("option-center-force")).setClass("mod-slider").addSlider((function(e) {
                    return e.setLimits(0, 1, "any").setDynamicTooltip().registerOptionListener(n.optionListeners, "centerStrength").onChange((function(e) {
                        t.renderer.setForces({
                            centerStrength: PD(e, .01)
                        }),
                        t.onOptionsChange()
                    }
                    ))
                }
                )),
                new vE(i).setName(LD("option-repel-force")).setClass("mod-slider").addSlider((function(e) {
                    return e.setLimits(0, 20, "any").setDynamicTooltip().registerOptionListener(n.optionListeners, "repelStrength").onChange((function(e) {
                        t.renderer.setForces({
                            repelStrength: e * e * e
                        }),
                        t.onOptionsChange()
                    }
                    ))
                }
                )),
                new vE(i).setName(LD("option-link-force")).setClass("mod-slider").addSlider((function(e) {
                    return e.setLimits(0, 1, "any").setDynamicTooltip().registerOptionListener(n.optionListeners, "linkStrength").onChange((function(e) {
                        t.renderer.setForces({
                            linkStrength: PD(e, .01)
                        }),
                        t.onOptionsChange()
                    }
                    ))
                }
                )),
                new vE(i).setName(LD("option-link-distance")).setClass("mod-slider").addSlider((function(e) {
                    return e.setLimits(30, 500, 1).setDynamicTooltip().registerOptionListener(n.optionListeners, "linkDistance").onChange((function(e) {
                        t.renderer.setForces({
                            linkDistance: e
                        }),
                        t.onOptionsChange()
                    }
                    ))
                }
                )),
                n
            }
            return i(t, e),
            t.prototype.setDefaultOptions = function() {
                this.setOptions(VD)
            }
            ,
            t
        }(ND);
        !function() {
            function e() {}
            e.encodeUrlQuery = function(e) {
                if (!e)
                    return "";
                var t = [];
                for (var n in e)
                    e.hasOwnProperty(n) && e[n] && (!0 === e[n] ? t.push(encodeURIComponent(n)) : t.push(encodeURIComponent(n) + "=" + encodeURIComponent(e[n])));
                return t.join("&")
            }
            ,
            e.decodeUrlQuery = function(e) {
                var t = {};
                if (!e || "" === e.trim())
                    return t;
                for (var n = e.split("&"), i = 0; i < n.length; i++) {
                    var r = n[i].split("=");
                    if (r.length >= 1 && r[0]) {
                        var o = decodeURIComponent(r[0]);
                        2 === r.length ? t[o] = decodeURIComponent(r[1]) : t[o] = !0
                    }
                }
                return t
            }
            ,
            e.decodeUrl = function(t) {
                t || (t = "");
                var n = t.split("#")
                  , i = n.length > 1 ? n[1] : ""
                  , r = n[0].split("?")
                  , o = r.length > 1 ? r[1] : "";
                return {
                    path: r[0],
                    query: e.decodeUrlQuery(o),
                    hash: e.decodeUrlQuery(i)
                }
            }
        }();
        var UD = "obsidian://";
        function _D(e) {
            if (!e.startsWith(UD))
                return null;
            console.log("Received callback URL", e);
            var t = {};
            if ((e = e.substr(UD.length)).startsWith("vault/")) {
                var n = (e = e.substr("vault/".length)).split("/").map((function(e) {
                    return decodeURIComponent(e)
                }
                ));
                t.action = "open",
                t.vault = n[0],
                t.file = n.slice(1).join("/")
            } else {
                var i = ""
                  , r = ""
                  , o = e.indexOf("?")
                  , s = e.indexOf("#", Math.max(0, o));
                s >= 0 && (r = e.substr(s + 1),
                e = e.substr(0, s),
                t.hash = r),
                o >= 0 && (i = e.substr(o + 1),
                e = e.substr(0, o));
                for (var a = 0, l = i.split("&"); a < l.length; a++) {
                    var c = "true";
                    (n = l[a].split("=")).length > 1 && (c = decodeURIComponent(n[1])),
                    t[decodeURIComponent(n[0])] = c
                }
                t.action = e.replace(/\/+$/g, "")
            }
            return t
        }
        var jD = function() {
            function e(e, t) {
                var n = this;
                this.workspace = null,
                this.containerEl = null,
                this.ribbonActionsEl = null,
                this.collapseButtonEl = null,
                this.ribbonSettingEl = null,
                this.isMobile = !1,
                this.workspace = e;
                var i = this.containerEl = createDiv("workspace-ribbon side-dock-ribbon");
                i.addClass("mod-" + t),
                this.collapseButtonEl = i.createDiv("workspace-ribbon-collapse-btn", (function(e) {
                    var i = Te("interface.sidebar-collapse");
                    "left" === t ? (Je(e, i, {
                        placement: "right"
                    }),
                    yk(e, Vy)) : "right" === t && (Je(e, i, {
                        placement: "left"
                    }),
                    yk(e, qy)),
                    e.addEventListener("click", (function() {
                        "left" === t ? n.workspace.leftSplit.toggle() : "right" === t && n.workspace.rightSplit.toggle()
                    }
                    ))
                }
                )),
                "left" === t && (this.ribbonActionsEl = i.createDiv("side-dock-actions"),
                this.ribbonSettingEl = i.createDiv("side-dock-settings"),
                on.isMobile || Yt(i));
                var r = e.app;
                if ("left" === t) {
                    var o = this.makeRibbonActionButton(Ab, Te("interface.switch-vault"), (function(e) {
                        e.stopPropagation(),
                        r.openVaultChooser()
                    }
                    ));
                    o.addEventListener("mouseover", (function() {
                        yk(o, Tb, 18)
                    }
                    )),
                    o.addEventListener("mouseout", (function() {
                        yk(o, Ab, 18)
                    }
                    )),
                    this.ribbonSettingEl.appendChild(o);
                    var s = this.makeRibbonActionButton(Mb, Te("interface.help"), (function(e) {
                        e.stopPropagation(),
                        r.openHelp()
                    }
                    ));
                    this.ribbonSettingEl.appendChild(s);
                    var a = this.makeRibbonActionButton(Gy, Te("interface.settings"), (function(e) {
                        e.stopPropagation(),
                        r.setting.open()
                    }
                    ));
                    this.ribbonSettingEl.appendChild(a)
                }
            }
            return e.prototype.addRibbonActionButton = function(e, t, n) {
                var i = this.makeRibbonActionButton(e, t, n);
                return this.ribbonActionsEl.insertBefore(i, null),
                i
            }
            ,
            e.prototype.setCollapsedState = function(e) {
                this.containerEl.toggleClass("is-collapsed", e),
                Je(this.collapseButtonEl, Te(e ? "interface.sidebar-expand" : "interface.sidebar-collapse"))
            }
            ,
            e.prototype.hide = function() {
                this.containerEl.addClass("is-hidden")
            }
            ,
            e.prototype.show = function() {
                this.containerEl.removeClass("is-hidden")
            }
            ,
            e.prototype.makeRibbonActionButton = function(e, t, n) {
                var i = createDiv("side-dock-ribbon-action");
                return i.addEventListener("click", n),
                Je(i, t, {
                    placement: "right"
                }),
                on.isMobile ? yk(i, e, 22) : yk(i, e, 18),
                i
            }
            ,
            e
        }()
          , WD = function(e) {
            function t(t, n) {
                var i = e.call(this) || this;
                i.leftSplit = null,
                i.rightSplit = null,
                i.leftRibbon = null,
                i.rightRibbon = null,
                i.rootSplit = null,
                i.activeLeaf = null,
                i.containerEl = null,
                i.layoutReady = !1,
                i.mobileFileInfos = [],
                i.closeables = [],
                i.lastOpenFiles = [],
                i.protocolHandlers = new Map,
                i.onLayoutReadyCallbacks = [],
                i.isMobileDimmed = !1,
                i.requestUpdateClosable = Pe(i.updateClosable.bind(i), 0),
                i.hoverLinkSources = {},
                i.app = t,
                i.containerEl = n,
                i.leftRibbon = new jD(i,"left"),
                i.rightRibbon = new jD(i,"right"),
                i.requestSaveLayout = Pe(i.saveLayout.bind(i), 1e3),
                i.requestSaveHistory = Pe(i.updateHistory.bind(i), 100),
                i.requestUpdateGroups = Pe(i.updateGroups.bind(i), 0),
                i.requestResize = Pe(i.onResize.bind(i), 0),
                i.requestActiveLeafEvents = Pe(i.activeLeafEvents.bind(i), 0),
                window.addEventListener("resize", i.requestResize.bind(i)),
                window.addEventListener("popstate", (function(e) {
                    var t = e.state;
                    if (e.preventDefault(),
                    t) {
                        var n = i.getLeafById(t.leaf)
                          , r = JSON.parse(t.state)
                          , o = JSON.parse(t.eState);
                        n && !n.pinned && n.view || (n = i.getUnpinnedLeaf(r.type)),
                        r.popstate = !0,
                        r.active = !0,
                        n.setViewState(r, o)
                    }
                }
                )),
                document.addEventListener("click", i.onDocumentClick.bind(i)),
                i.on("file-open", (function(e) {
                    e && i.recordMostRecentOpenedFile(e)
                }
                )),
                i.on("file-menu", (function(e, t) {
                    t instanceof Vf && e.addItem((function(e) {
                        return e.setTitle(Te("commands.copy-url")).setIcon(tb).onClick((function() {
                            return i.app.copyObsidianUrl(t)
                        }
                        ))
                    }
                    ))
                }
                )),
                i.on("quit", (function(e) {
                    i.iterateAllLeaves((function(t) {
                        var n = t.view;
                        n && n instanceof gS && n.data !== n.lastSavedData && e.addPromise(n.save())
                    }
                    ))
                }
                )),
                i.app.commands.addCommand({
                    id: "editor:save-file",
                    name: Te("commands.save-file"),
                    callback: function() {
                        var e = i.app.workspace.getActiveViewOfType(gS);
                        e && e.save()
                    },
                    hotkeys: [sL(["Mod"], "S")]
                }),
                i.app.commands.addCommand({
                    id: "editor:follow-link",
                    name: Te("commands.follow-cursor-link"),
                    icon: rw,
                    checkCallback: function(e) {
                        var t = i.getActiveViewOfType(gS);
                        return !(!t || "source" !== t.getMode()) && (e || t.followLinkUnderCursor(!1),
                        !0)
                    },
                    hotkeys: [sL(["Alt"], "Enter")]
                }),
                i.app.commands.addCommand({
                    id: "editor:open-link-in-new-leaf",
                    name: Te("commands.open-cursor-link-in-new-pane"),
                    icon: rw,
                    checkCallback: function(e) {
                        var t = i.getActiveViewOfType(gS);
                        return !!t && (e || t.followLinkUnderCursor(!0),
                        !0)
                    },
                    hotkeys: [sL(["Mod", "Alt"], "Enter")]
                });
                var r = function(e, t) {
                    i.app.commands.addCommand({
                        id: "editor:focus-" + e,
                        name: t,
                        checkCallback: function(t) {
                            var n = i.getAdjacentLeafInDirection(i.activeLeaf, e);
                            return !!n && (t || (Bt(),
                            i.setActiveLeaf(n, !0, !0)),
                            !0)
                        }
                    })
                };
                if (r("top", Te("commands.navigate-pane-above")),
                r("bottom", Te("commands.navigate-pane-below")),
                r("left", Te("commands.navigate-pane-left")),
                r("right", Te("commands.navigate-pane-right")),
                i.app.commands.addCommand({
                    id: "workspace:toggle-pin",
                    name: Te("commands.toggle-pin"),
                    icon: Lb,
                    checkCallback: function(e) {
                        var t = i.activeLeaf;
                        return !(!t || t.view instanceof QL) && (e || t.togglePinned(),
                        !0)
                    }
                }),
                i.app.commands.addCommand({
                    id: "workspace:split-vertical",
                    name: Te("commands.split-vertically"),
                    icon: gb,
                    callback: function() {
                        i.duplicateLeaf(i.activeLeaf, "vertical")
                    }
                }),
                i.app.commands.addCommand({
                    id: "workspace:split-horizontal",
                    name: Te("commands.split-horizontally"),
                    icon: fb,
                    callback: function() {
                        i.duplicateLeaf(i.activeLeaf, "horizontal")
                    }
                }),
                i.app.commands.addCommand({
                    id: "workspace:edit-file-title",
                    name: Te("commands.edit-file-title"),
                    icon: Hy,
                    checkCallback: function(e) {
                        var t = i.activeLeaf;
                        return !!(t && t.view instanceof ZC) && (e || t.setEphemeralState({
                            rename: "all"
                        }),
                        !0)
                    },
                    hotkeys: [sL([], "F2")]
                }),
                i.app.commands.addCommand({
                    id: "workspace:copy-path",
                    name: Te("commands.copy-path"),
                    icon: zw,
                    checkCallback: function(e) {
                        var t = i.getActiveFile();
                        return !!t && (e || (Oe(t.path),
                        new JC(Te("interface.copied", {
                            item: ""
                        }))),
                        !0)
                    }
                }),
                i.app.commands.addCommand({
                    id: "workspace:copy-url",
                    name: Te("commands.copy-url"),
                    icon: zw,
                    checkCallback: function(e) {
                        var t = i.getActiveFile();
                        return !!t && (e || i.app.copyObsidianUrl(t),
                        !0)
                    }
                }),
                on.isDesktopApp && i.app.commands.addCommand({
                    id: "workspace:export-pdf",
                    name: Te("commands.export-pdf"),
                    checkCallback: function(e) {
                        if (!on.isDesktopApp)
                            return !1;
                        var t = i.getActiveViewOfType(gS);
                        return !!t && (e || t.printToPdf(),
                        !0)
                    }
                }),
                i.registerObsidianProtocolHandler("open", (function(e) {
                    if (e.file) {
                        var t = ee(e.file)
                          , n = i.app.metadataCache.getFirstLinkpathDest(t, "");
                        if (n && n instanceof Vf)
                            i.getLeaf().openFile(n),
                            new JC(Te("interface.msg-open-file-through-uri", {
                                path: n.path
                            }));
                        else
                            new JC(Te("interface.msg-file-not-found-through-uri", {
                                name: e.file
                            }))
                    }
                }
                )),
                i.registerObsidianProtocolHandler("search", (function(e) {
                    var t = i.app.internalPlugins.getPluginById("global-search");
                    t && t.instance.openGlobalSearch(e.query)
                }
                )),
                i.registerObsidianProtocolHandler("new", (function(e) {
                    return o(i, void 0, void 0, (function() {
                        var t, n, i, r, o, a, l, c, u;
                        return s(this, (function(s) {
                            switch (s.label) {
                            case 0:
                                return t = null,
                                n = this.app.fileManager,
                                i = this.app.vault,
                                e.file ? (r = e.file,
                                o = $(r),
                                u = void 0,
                                "" !== o ? [3, 1] : (u = i.getRoot(),
                                [3, 3])) : [3, 5];
                            case 1:
                                return (u = i.getAbstractFileByPathInsensitive(o)) ? [3, 3] : [4, i.createFolder(o)];
                            case 2:
                                s.sent(),
                                u = i.getAbstractFileByPathInsensitive(o),
                                s.label = 3;
                            case 3:
                                return u instanceof qf ? [4, n.createNewMarkdownFile(u, W(r))] : [2];
                            case 4:
                                return t = s.sent(),
                                [3, 7];
                            case 5:
                                return a = e.name || "",
                                l = "",
                                (c = this.getActiveFile()) && (l = c.path),
                                u = n.getNewFileParent(l),
                                [4, n.createNewMarkdownFile(u, a)];
                            case 6:
                                t = s.sent(),
                                s.label = 7;
                            case 7:
                                return t ? e.content ? [4, i.modify(t, e.content)] : [3, 9] : [3, 11];
                            case 8:
                                s.sent(),
                                s.label = 9;
                            case 9:
                                return e.silent ? [3, 11] : [4, this.getLeaf().openFile(t, {
                                    active: !0,
                                    state: {
                                        mode: "source"
                                    },
                                    eState: {
                                        rename: "all"
                                    }
                                })];
                            case 10:
                                s.sent(),
                                s.label = 11;
                            case 11:
                                return [2]
                            }
                        }
                        ))
                    }
                    ))
                }
                )),
                i.registerObsidianProtocolHandler("hook-get-address", (function() {
                    var e = i.getActiveFile();
                    if (e) {
                        var t = i.app.getObsidianUrl(e);
                        Oe("[" + e.basename + "](" + t + ")")
                    }
                }
                )),
                setInterval(i.updateHistory.bind(i), 1e3),
                NS) {
                    var a = i;
                    zS.addListener("backButton", (function() {
                        var e = a.closeables;
                        if (e.length > 0)
                            e.last().close();
                        else {
                            var t = a.leftSplit;
                            if (t instanceof iD && t.isFullscreen)
                                t.toggleTabFullscreen();
                            else {
                                var n = a.rightSplit;
                                if (n instanceof iD && n.isFullscreen)
                                    n.toggleTabFullscreen();
                                else if (t.collapsed || t instanceof iD && t.isPinned)
                                    if (n.collapsed || n instanceof iD && n.isPinned) {
                                        var i = arguments[0];
                                        !i || i.canGoBack ? window.history.back() : zS.exitApp()
                                    } else
                                        n.collapse();
                                else
                                    t.collapse()
                            }
                        }
                    }
                    ))
                }
                if (on.isMobile) {
                    var l = document.body
                      , c = [];
                    l.addEventListener("touchstart", (function(e) {
                        if (!(e.touches.length > 1)) {
                            var t = e.touches[0];
                            if ("stylus" !== t.touchType) {
                                var n = t.clientX
                                  , r = t.clientY
                                  , o = document.elementFromPoint(n, r);
                                if (!(o instanceof HTMLCanvasElement) && i.containerEl.contains(o)) {
                                    var s = t.identifier
                                      , a = Date.now()
                                      , u = !1
                                      , h = "x"
                                      , p = t.clientX
                                      , d = t.clientY
                                      , f = a
                                      , g = 0
                                      , m = 0
                                      , v = 0;
                                    if (c.length > 0)
                                        for (var y = 0, b = c; y < b.length; y++) {
                                            b[y].cancel()
                                        }
                                    c = [];
                                    var w = function(e) {
                                        for (var t = e.changedTouches, n = 0; n < t.length; n++) {
                                            var i = t[n];
                                            if (i.identifier === s)
                                                return i
                                        }
                                        return null
                                    }
                                      , k = function(e) {
                                        if (w(e) && (E(),
                                        0 !== c.length)) {
                                            var t, i;
                                            "x" === h ? (t = p - n,
                                            i = g / v * 500) : (t = d - r,
                                            i = m / v * 500);
                                            for (var o = 0, s = c; o < s.length; o++) {
                                                s[o].finish(p, d, i + t)
                                            }
                                            c = []
                                        }
                                    }
                                      , C = function(e) {
                                        if (w(e) && (E(),
                                        0 !== c.length)) {
                                            for (var t = 0, n = c; t < n.length; t++) {
                                                n[t].cancel()
                                            }
                                            c = []
                                        }
                                    }
                                      , x = function(e) {
                                        var t = w(e);
                                        if (t) {
                                            var s = t.clientX
                                              , l = t.clientY;
                                            if (!u) {
                                                if (Date.now() - a > 200)
                                                    return void E();
                                                var y = Math.abs(s - n)
                                                  , b = Math.abs(l - r)
                                                  , k = Math.max(y, b);
                                                if (k < 10)
                                                    return;
                                                u = !0;
                                                for (var C = o, x = "x" === (h = y === k ? "x" : "y") ? s - n : l - r; C; ) {
                                                    var S = "x" === h ? C.scrollWidth - C.clientWidth : C.scrollHeight - C.clientHeight;
                                                    if (S > 0) {
                                                        var L = getComputedStyle(C)
                                                          , D = "x" === h ? L.overflowX : L.overflowY;
                                                        if ("auto" === D || "scroll" === D) {
                                                            var M = "x" === h ? C.scrollLeft : C.scrollTop;
                                                            if (x > 0 && M > 0 || x < 0 && M < S - 1)
                                                                return void E()
                                                        }
                                                    }
                                                    C = C.parentElement
                                                }
                                                if (window.getSelection().toString())
                                                    return void E();
                                                i.trigger("swipe", {
                                                    points: e.touches.length,
                                                    targetEl: o,
                                                    startX: n,
                                                    startY: r,
                                                    x: s,
                                                    y: l,
                                                    direction: h,
                                                    registerCallback: function(e) {
                                                        return c.push(e)
                                                    }
                                                })
                                            }
                                            if (0 !== c.length) {
                                                RS && e.preventDefault(),
                                                g = s - p,
                                                m = l - d,
                                                p = s,
                                                d = l;
                                                var A = Date.now();
                                                v = A - f,
                                                f = A;
                                                for (var T = 0, F = c; T < F.length; T++) {
                                                    F[T].move(s, l)
                                                }
                                            } else
                                                E()
                                        }
                                    }
                                      , E = function() {
                                        l.removeEventListener("touchcancel", C),
                                        l.removeEventListener("touchend", k),
                                        l.removeEventListener("touchmove", x)
                                    };
                                    l.addEventListener("touchcancel", C),
                                    l.addEventListener("touchend", k),
                                    l.addEventListener("touchmove", x, {
                                        passive: !RS
                                    })
                                }
                            }
                        }
                    }
                    )),
                    i.on("swipe", (function(e) {
                        if (!(e.points > 1 || "y" !== e.direction || e.y < e.startY) && i.rootSplit.containerEl.contains(e.targetEl)) {
                            var t = i.app.vault.getConfig("mobilePullAction")
                              , n = i.app.commands.findCommand(t)
                              , r = n ? n.name : "Configure pull action"
                              , o = document.body.createDiv({
                                cls: "pull-action pull-down-action",
                                text: r
                            });
                            o.onClickEvent((function() {
                                o.detach()
                            }
                            ));
                            var s = o.offsetHeight;
                            e.registerCallback({
                                move: function(t, n) {
                                    var i = (n - e.startY) / s;
                                    i = Math.clamp(i, 0, 1),
                                    o.toggleClass("mod-activated", 1 === i),
                                    o.style.transform = "translateY(" + (i - 1) * s + "px)"
                                },
                                cancel: function() {
                                    o.detach()
                                },
                                finish: function(t, i, r) {
                                    var a = (i - e.startY) / s;
                                    a = Math.clamp(a, 0, 1),
                                    At(o, new Et({
                                        duration: 200 * a
                                    }).addProp("transform", null, "translateY(" + -s + "px)", ""), (function() {
                                        o.detach()
                                    }
                                    )),
                                    r > Math.min(100, s) && (n ? yS(n) : new JC("Action not configured"))
                                }
                            })
                        }
                    }
                    )),
                    i.on("swipe", (function(e) {
                        if (!(e.points < 2 || "x" !== e.direction) && i.rootSplit.containerEl.contains(e.targetEl)) {
                            var t, n = e.x > e.startX;
                            if (t = n ? i.app.commands.findCommand("app:go-back") : i.app.commands.findCommand("app:go-forward")) {
                                var r = document.body.createDiv({
                                    cls: "pull-action pull-out-action",
                                    text: t.name
                                });
                                r.onClickEvent((function() {
                                    r.detach()
                                }
                                )),
                                n ? r.style.left = "0" : r.style.right = "0";
                                var o = n ? 1 : -1
                                  , s = r.offsetWidth;
                                e.registerCallback({
                                    move: function(t) {
                                        var n = Math.clamp((t - e.startX) * o / s, 0, 1);
                                        r.toggleClass("mod-activated", 1 === n),
                                        r.style.transform = "translateX(" + -(1 - n) * s * o + "px)"
                                    },
                                    cancel: function() {
                                        r.detach()
                                    },
                                    finish: function(t, a, l) {
                                        var c = Math.clamp((t - e.startX) * o / s, 0, 1);
                                        At(r, new Et({
                                            duration: 200 * c
                                        }).addProp("transform", null, "translateX(" + -s * o + "px)", ""), (function() {
                                            r.detach()
                                        }
                                        )),
                                        l * o / s > .5 && (n ? i.app.commands.executeCommandById("app:go-back") : i.app.commands.executeCommandById("app:go-forward"))
                                    }
                                })
                            }
                        }
                    }
                    ))
                }
                return i.registerHoverLinkSource("search", {
                    display: Te("plugins.page-preview.label-source-search"),
                    defaultMod: !0
                }),
                i.registerHoverLinkSource("preview", {
                    display: Te("plugins.page-preview.label-source-preview"),
                    defaultMod: !1
                }),
                i.registerHoverLinkSource("editor", {
                    display: Te("plugins.page-preview.label-source-editor"),
                    defaultMod: !0
                }),
                i
            }
            return i(t, e),
            t.prototype.pushClosable = function(e) {
                var t = this.closeables;
                t.contains(e) || (t.push(e),
                this.requestUpdateClosable())
            }
            ,
            t.prototype.popClosable = function(e) {
                var t = this.closeables;
                t.contains(e) && (t.remove(e),
                this.requestUpdateClosable())
            }
            ,
            t.prototype.updateClosable = function() {
                if (on.isMobile) {
                    var e = this.closeables
                      , t = this.isMobileDimmed
                      , n = e.some((function(e) {
                        return e.dimBackground || void 0 === e.dimBackground
                    }
                    ));
                    !n && t && (this.isMobileDimmed = !1,
                    At(this.containerEl, new Et({
                        duration: 100,
                        fn: "linear"
                    }).addProp("borderRadius", "10px", "").addProp("transform", null, ""))),
                    n && !t && (this.isMobileDimmed = !0,
                    At(this.containerEl, new Et({
                        duration: 100,
                        fn: "linear"
                    }).addProp("borderRadius", "", "10px").addProp("transform", "", "scale(0.95, 0.95)")))
                }
            }
            ,
            t.prototype.loadLayout = function() {
                return o(this, void 0, void 0, (function() {
                    var e, t, n, i, r, o, a, l, c, u, h, p, d, f, g;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            e = this.app.vault,
                            t = {},
                            s.label = 1;
                        case 1:
                            return s.trys.push([1, 3, , 4]),
                            i = (n = JSON).parse,
                            [4, e.adapter.read(e.configDir + "/workspace")];
                        case 2:
                            return t = i.apply(n, [s.sent()]),
                            [3, 4];
                        case 3:
                            return s.sent(),
                            [3, 4];
                        case 4:
                            return t.hasOwnProperty("lastOpenFiles") && (this.lastOpenFiles = t.lastOpenFiles),
                            [4, this.setLayout(t)];
                        case 5:
                            for (s.sent(),
                            this.trigger("layout-ready"),
                            r = this.onLayoutReadyCallbacks,
                            this.onLayoutReadyCallbacks = null,
                            o = 0,
                            a = r; o < a.length; o++) {
                                l = a[o];
                                try {
                                    l()
                                } catch (e) {
                                    console.error(e)
                                }
                            }
                            if ("Obsidian Help" !== this.app.vault.getName())
                                return [3, 8];
                            if (0 === (c = this.app.vault.getRoot().children.filter((function(e) {
                                return e instanceof Vf
                            }
                            ))).length)
                                return [2];
                            if ("md" !== Q((u = c[0]).name))
                                return [2];
                            for (h = [],
                            this.iterateRootLeaves((function(e) {
                                h.push(e)
                            }
                            )),
                            p = 0,
                            d = h; p < d.length; p++)
                                d[p].detach();
                            return f = this.getUnpinnedLeaf(),
                            g = this.createLeafBySplit(f, "vertical"),
                            [4, f.openFile(u, {
                                active: !0,
                                state: {
                                    mode: "source"
                                }
                            })];
                        case 6:
                            return s.sent(),
                            [4, g.openFile(u, {
                                group: f,
                                state: {
                                    mode: "preview"
                                }
                            })];
                        case 7:
                            s.sent(),
                            s.label = 8;
                        case 8:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.clearLayout = function() {
                return o(this, void 0, void 0, (function() {
                    var e;
                    return s(this, (function(t) {
                        switch (t.label) {
                        case 0:
                            return this.layoutReady = !1,
                            e = [],
                            this.iterateAllLeaves((function(t) {
                                e.push(t.open(null))
                            }
                            )),
                            [4, Promise.all(e)];
                        case 1:
                            return t.sent(),
                            this.leftSplit.containerEl.detach(),
                            this.rootSplit.containerEl.detach(),
                            this.rightSplit.containerEl.detach(),
                            this.rootSplit.component.unload(),
                            this.leftSplit.component.unload(),
                            this.rightSplit.component.unload(),
                            this.rootSplit = null,
                            this.leftSplit = null,
                            this.rightSplit = null,
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.setLayout = function(e) {
                return o(this, void 0, void 0, (function() {
                    var t, n, i, r, o, a, l, c, u, h, p, d, f, g, m, v, y, b;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return this.layoutReady = !1,
                            t = this.app.vault,
                            n = on.isMobile,
                            (a = e.main) ? (l = this,
                            [4, this.deserializeLayout(a, null)]) : [3, 2];
                        case 1:
                            (i = l.rootSplit = s.sent()) && "vertical" !== i.direction && (i.setDirection("vertical"),
                            i.recomputeChildrenDimensions()),
                            s.label = 2;
                        case 2:
                            return (c = e.left) ? (u = this,
                            [4, this.deserializeLayout(c, "left")]) : [3, 4];
                        case 3:
                            (r = u.leftSplit = s.sent()) && r instanceof tD && "horizontal" !== r.direction && (r.setDirection("horizontal"),
                            r.recomputeChildrenDimensions()),
                            s.label = 4;
                        case 4:
                            return (h = e.right) ? (p = this,
                            [4, this.deserializeLayout(h, "right")]) : [3, 6];
                        case 5:
                            (o = p.rightSplit = s.sent()) && o instanceof tD && "horizontal" !== o.direction && (o.setDirection("horizontal"),
                            o.recomputeChildrenDimensions()),
                            s.label = 6;
                        case 6:
                            return i ? [3, 9] : (i = this.rootSplit = new ZL(this,"vertical"),
                            d = new nD(this.app),
                            i.insertChild(0, d, !0),
                            (f = this.getLastOpenFiles()).length > 0 ? (g = f[0],
                            (m = t.getAbstractFileByPath(g)) && m instanceof Vf ? [4, d.openFile(m)] : [3, 8]) : [3, 8]);
                        case 7:
                            s.sent(),
                            s.label = 8;
                        case 8:
                            this.setActiveLeaf(d),
                            s.label = 9;
                        case 9:
                            return i.containerEl.addClass("mod-root"),
                            r || (n ? (r = this.leftSplit = new rD(this)).collapse() : r = this.leftSplit = new tD(this,"horizontal","left")),
                            o || (o = this.rightSplit = n ? new oD(this) : new tD(this,"horizontal","right")).collapse(),
                            v = this.containerEl,
                            on.isMobile ? v.setChildrenInPlace([r.containerEl, i.containerEl, o.containerEl]) : v.setChildrenInPlace([this.leftRibbon.containerEl, r.containerEl, i.containerEl, o.containerEl, this.rightRibbon.containerEl]),
                            y = e.active,
                            (b = this.getLeafById(y)) && this.setActiveLeaf(b, !1, !0),
                            this.layoutReady = !0,
                            this.onLayoutChange(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.onLayoutReady = function(e) {
                null === this.onLayoutReadyCallbacks ? e() : this.onLayoutReadyCallbacks.push(e)
            }
            ,
            t.prototype.changeLayout = function(e) {
                return o(this, void 0, void 0, (function() {
                    return s(this, (function(t) {
                        switch (t.label) {
                        case 0:
                            return this.layoutReady ? [4, this.clearLayout()] : [2];
                        case 1:
                            return t.sent(),
                            [4, this.setLayout(e)];
                        case 2:
                            return t.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.deserializeLayout = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    var n, i, r, o, a, l, c, u, h;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            if ("split" !== e.type)
                                return [3, 5];
                            if (n = void 0,
                            t) {
                                if (on.isMobile)
                                    return [2, null];
                                i = n = new tD(this,e.direction,t,e.id),
                                e.width && i.setSize(e.width),
                                e.collapsed && i.collapse()
                            } else
                                n = new ZL(this,e.direction,e.id);
                            u = 0,
                            s.label = 1;
                        case 1:
                            return u < e.children.length ? [4, this.deserializeLayout(e.children[u], null)] : [3, 4];
                        case 2:
                            (h = s.sent()) ? n.insertChild(u, h, !0) : (e.children.splice(u, 1),
                            u--),
                            s.label = 3;
                        case 3:
                            return u++,
                            [3, 1];
                        case 4:
                            for (u = 0; u < e.children.length; u++)
                                r = e.children[u].dimension,
                                n.children[u].setDimension(r);
                            return n.recomputeChildrenDimensions(),
                            [2, n];
                        case 5:
                            if ("tabs" !== e.type)
                                return [3, 10];
                            o = new eD(this,e.id),
                            u = 0,
                            s.label = 6;
                        case 6:
                            return u < e.children.length ? [4, this.deserializeLayout(e.children[u], null)] : [3, 9];
                        case 7:
                            (h = s.sent()) ? o.insertChild(u, h, !0) : (e.children.splice(u, 1),
                            u--),
                            s.label = 8;
                        case 8:
                            return u++,
                            [3, 6];
                        case 9:
                            return e.currentTab && o.selectTabIndex(e.currentTab),
                            o.recomputeChildrenDimensions(),
                            [2, o];
                        case 10:
                            return "leaf" !== e.type ? [3, 12] : (a = new nD(this.app,e.id),
                            l = e.state || {},
                            [4, a.setViewState(l)]);
                        case 11:
                            return s.sent(),
                            e.group && a.setGroup(e.group),
                            e.pinned && a.togglePinned(),
                            [2, a];
                        case 12:
                            if ("mobile-drawer" !== e.type)
                                return [3, 17];
                            if (!on.isMobile)
                                return [2, null];
                            c = void 0,
                            "left" === t ? c = new rD(this,e.id) : "right" === t && (c = new oD(this,e.id)),
                            u = 0,
                            s.label = 13;
                        case 13:
                            return u < e.children.length ? [4, this.deserializeLayout(e.children[u], null)] : [3, 16];
                        case 14:
                            (h = s.sent()) ? c.insertChild(u, h, !0) : (e.children.splice(u, 1),
                            u--),
                            s.label = 15;
                        case 15:
                            return u++,
                            [3, 13];
                        case 16:
                            return c.currentTab = e.currentTab,
                            c.recomputeChildrenDimensions(),
                            e.pinned && c.pinDrawer(),
                            [2, c];
                        case 17:
                            return [2, null]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.getLayout = function() {
                var e = {};
                e.main = this.rootSplit.serialize(),
                e.left = this.leftSplit.serialize(),
                e.right = this.rightSplit.serialize();
                var t = this.activeLeaf;
                return t && (e.active = t.id),
                e
            }
            ,
            t.prototype.saveLayout = function() {
                return o(this, void 0, void 0, (function() {
                    var e, t;
                    return s(this, (function(n) {
                        switch (n.label) {
                        case 0:
                            if (!this.layoutReady)
                                return [2];
                            e = this.app.vault,
                            (t = this.getLayout()).lastOpenFiles = this.lastOpenFiles,
                            n.label = 1;
                        case 1:
                            return n.trys.push([1, 3, , 4]),
                            [4, e.adapter.write(e.configDir + "/workspace", JSON.stringify(t, null, 2))];
                        case 2:
                            return n.sent(),
                            [3, 4];
                        case 3:
                            return n.sent(),
                            [3, 4];
                        case 4:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.updateGroups = function() {
                var e = {};
                for (var t in this.iterateAllLeaves((function(t) {
                    var n = t.group;
                    n && (e[n] = (e[n] || 0) + 1)
                }
                )),
                e)
                    if (e.hasOwnProperty(t) && 1 === e[t])
                        for (var n = 0, i = this.getGroupLeaves(t); n < i.length; n++) {
                            i[n].setGroup(null)
                        }
            }
            ,
            t.prototype.onDragLeaf = function(e, t) {
                var n = this;
                if (0 === e.button && !on.isMobile) {
                    e.preventDefault();
                    var i = this.containerEl
                      , r = createEl("section", "workspace-drop-overlay mod-drag")
                      , o = createEl("section", "workspace-fake-target-overlay");
                    i.insertBefore(o, i.firstChild),
                    i.insertBefore(r, i.firstChild);
                    var s = this.containerEl.createDiv("drag-ghost mod-leaf", (function(e) {
                        e.createDiv("drag-ghost-icon", (function(e) {
                            yk(e, t.getIcon(), 14)
                        }
                        )),
                        e.createSpan({
                            text: Tf(t.getDisplayText(), 60)
                        })
                    }
                    ));
                    r.hide(),
                    o.hide(),
                    s.hide();
                    var a = e.clientX
                      , l = e.clientY
                      , c = !1
                      , u = null
                      , h = function(e, t) {
                        return e instanceof tD ? ["left", "right", "top", "bottom"] : t ? ["left", "right"] : null
                    }
                      , p = function() {
                        u && (u.style.opacity = null),
                        r.hide(),
                        o.hide()
                    }
                      , d = function(e) {
                        e.preventDefault();
                        var d = e.clientX
                          , f = e.clientY;
                        if (!c) {
                            var g = d - a
                              , m = f - l;
                            if (g * g + m * m < 25)
                                return;
                            c = !0,
                            s.show(),
                            document.body.addClass("is-grabbing")
                        }
                        s.style.left = d + 5 + "px",
                        s.style.top = f + 5 + "px";
                        var v = n.getDropLocation(e);
                        if (v) {
                            var y = v.target;
                            if (y && y !== t)
                                if (y.getRoot() !== n.rootSplit || t.view instanceof KC || t.view instanceof QL) {
                                    var b = y.containerEl.getBoundingClientRect()
                                      , w = b.width
                                      , k = b.height
                                      , C = b.x
                                      , x = b.y
                                      , E = n.getDropDirection(e, b, h(y, v.sidedock), y);
                                    if (y !== t.parentSplit || "center" !== E && 1 !== t.parentSplit.children.length) {
                                        if (y === n.leftSplit && n.leftSplit.collapsed)
                                            b = n.leftRibbon.containerEl.getBoundingClientRect();
                                        else if (y === n.rightSplit && n.rightSplit.collapsed) {
                                            if (b = n.rightRibbon.containerEl.getBoundingClientRect(),
                                            !n.rightRibbon.containerEl.offsetParent) {
                                                var S = i.getBoundingClientRect();
                                                b = {
                                                    x: S.right - 30,
                                                    y: S.top,
                                                    width: 30,
                                                    height: S.height
                                                }
                                            }
                                        } else
                                            y instanceof eD && "center" === E && (b = y.tabHeaderContainerEl.getBoundingClientRect());
                                        r.show(),
                                        r.style.transform = "translate(" + b.x + "px, " + b.y + "px)",
                                        r.style.width = b.width + "px",
                                        r.style.height = b.height + "px";
                                        var L, D, M, A, T = !1;
                                        if (y instanceof nD && y.view && y.view instanceof AD && (T = !0),
                                        "center" === E || T)
                                            return u && (u.style.opacity = null),
                                            void o.hide();
                                        "top" === E ? (L = b.x,
                                        D = x + b.height,
                                        A = w,
                                        M = k - b.height) : "left" === E ? (L = C + b.width,
                                        D = b.y,
                                        A = w - b.width,
                                        M = k) : "right" === E ? (L = C,
                                        D = x,
                                        A = w - b.width,
                                        M = k) : "bottom" === E && (L = C,
                                        D = x,
                                        A = w,
                                        M = k - b.height),
                                        u && y.containerEl === u || (u && (u.style.opacity = null),
                                        o.innerHTML = y.containerEl.outerHTML,
                                        y.containerEl.style.opacity = "0",
                                        u = y.containerEl),
                                        y.containerEl.style.opacity = "center" === E ? null : "0",
                                        o.toggle("center" !== E),
                                        o.toggleClass("is-in-sidebar", y.getRoot() !== n.rootSplit),
                                        o.style.transform = "translate(" + L + "px, " + D + "px)",
                                        o.style.width = A + "px",
                                        o.style.height = M + "px"
                                    } else
                                        p()
                                } else
                                    p();
                            else
                                p()
                        } else
                            p()
                    }
                      , f = function(e) {
                        if (document.removeEventListener("mousemove", d),
                        document.removeEventListener("mouseup", f),
                        u && (u.style.opacity = null),
                        r.detach(),
                        o.detach(),
                        s.detach(),
                        document.body.removeClass("is-grabbing"),
                        c) {
                            var i = n.getDropLocation(e);
                            if (i.target) {
                                var a = i.target;
                                if (a && a !== t) {
                                    if (a === n.leftSplit) {
                                        t.parentSplit.removeChild(t),
                                        t.setDimension(null);
                                        var l = new eD(n);
                                        return n.leftSplit.insertChild(-1, l),
                                        l.insertChild(-1, t),
                                        void n.requestResize()
                                    }
                                    if (a === n.rightSplit) {
                                        t.parentSplit.removeChild(t),
                                        t.setDimension(null);
                                        l = new eD(n);
                                        return n.rightSplit.insertChild(-1, l),
                                        l.insertChild(-1, t),
                                        void n.requestResize()
                                    }
                                    if (a.getRoot() !== n.rootSplit || t.view instanceof KC || t.view instanceof QL) {
                                        var p = a.containerEl.getBoundingClientRect()
                                          , g = n.getDropDirection(e, p, h(a, i.sidedock), a);
                                        if (a !== t.parentSplit || "center" !== g && 1 !== t.parentSplit.children.length) {
                                            if (i.sidedock && t.setGroupMember(null),
                                            i.sidedock && a instanceof eD && "center" === g)
                                                return t.parentSplit.removeChild(t),
                                                t.setDimension(null),
                                                a.insertChild(-1, t),
                                                a.selectTabIndex(a.children.length - 1),
                                                void n.requestResize();
                                            var m = a.parentSplit;
                                            if (m && m instanceof ZL) {
                                                var v = t.parentSplit
                                                  , y = "top" === g || "bottom" === g ? "horizontal" : "vertical";
                                                if (i.sidedock) {
                                                    l = new eD(n);
                                                    n.splitLeaf(a, l, y, "left" === g || "top" === g),
                                                    v.removeChild(t),
                                                    t.setDimension(null),
                                                    l.insertChild(0, t)
                                                } else if ("center" === g) {
                                                    var b = v.children.indexOf(t)
                                                      , w = m.children.indexOf(a)
                                                      , k = t.dimension
                                                      , C = a.dimension
                                                      , x = new nD(n.app);
                                                    m.replaceChild(w, x, !0),
                                                    v.replaceChild(b, a, !0),
                                                    m.replaceChild(w, t, !0),
                                                    t.setDimension(C),
                                                    a.setDimension(k),
                                                    m.recomputeChildrenDimensions(),
                                                    v !== m && v.recomputeChildrenDimensions(),
                                                    n.onLayoutChange()
                                                } else
                                                    v.removeChild(t),
                                                    t.setDimension(null),
                                                    n.splitLeaf(a, t, y, "left" === g || "top" === g);
                                                n.requestResize()
                                            } else
                                                ;
                                        }
                                    }
                                }
                            }
                        }
                    };
                    document.addEventListener("mousemove", d),
                    document.addEventListener("mouseup", f)
                }
            }
            ,
            t.prototype.onStartLink = function(e) {
                var t = this
                  , n = this.containerEl.createDiv("workspace-drop-overlay mod-link")
                  , i = function() {
                    n.hide(),
                    document.body.removeClass("is-hovering-clickable")
                }
                  , r = function(r) {
                    r.preventDefault();
                    var o = t.getDropLocation(r).target;
                    if (o && o !== e)
                        if (o instanceof nD)
                            if (o.view instanceof KC || o.view instanceof QL) {
                                var s = o.containerEl.getBoundingClientRect();
                                document.body.addClass("is-hovering-clickable"),
                                n.show(),
                                n.style.transform = "translate(" + s.x + "px, " + s.y + "px)",
                                n.style.width = s.width + "px",
                                n.style.height = s.height + "px"
                            } else
                                i();
                        else
                            i();
                    else
                        i()
                }
                  , o = function(n) {
                    document.removeEventListener("mousemove", r),
                    document.removeEventListener("mouseup", o),
                    i();
                    var s = t.getDropLocation(n).target;
                    s && s !== e && s instanceof nD && (s.view instanceof KC || s.view instanceof QL) && e.setGroupMember(s)
                };
                document.addEventListener("mousemove", r),
                document.addEventListener("mouseup", o)
            }
            ,
            t.prototype.getDropLocation = function(e) {
                var t = this
                  , n = t.leftRibbon
                  , i = t.rightRibbon
                  , r = t.leftSplit
                  , o = t.rightSplit
                  , s = t.rootSplit;
                return e.clientX < n.containerEl.offsetWidth ? {
                    target: r,
                    sidedock: !0
                } : (i.containerEl.offsetParent ? e.clientX > i.containerEl.getBoundingClientRect().x : e.clientX > this.containerEl.getBoundingClientRect().right - 30) ? {
                    target: o,
                    sidedock: !0
                } : Vt(e, r.containerEl) ? 0 === r.children.length ? {
                    target: r,
                    sidedock: !0
                } : {
                    target: this.recursiveGetTarget(e, r),
                    sidedock: !0
                } : Vt(e, o.containerEl) ? 0 === o.children.length ? {
                    target: o,
                    sidedock: !0
                } : {
                    target: this.recursiveGetTarget(e, o),
                    sidedock: !0
                } : Vt(e, s.containerEl) ? {
                    target: this.recursiveGetTarget(e, s),
                    sidedock: !1
                } : null
            }
            ,
            t.prototype.recursiveGetTarget = function(e, t) {
                for (var n = 0, i = t.children; n < i.length; n++) {
                    var r = i[n];
                    if (Vt(e, r.containerEl))
                        return r instanceof eD ? r : r instanceof XL ? this.recursiveGetTarget(e, r) : r
                }
                return null
            }
            ,
            t.prototype.getDropDirection = function(e, t, n, i) {
                var r = e.clientX
                  , o = e.clientY
                  , s = Math.abs(r - t.x) / t.width
                  , a = Math.abs(o - t.y) / t.height
                  , l = Math.abs(r - (t.x + t.width)) / t.width
                  , c = Math.abs(o - (t.y + t.height)) / t.height;
                n = n || [];
                var u = "center"
                  , h = 1;
                s < .33 && s < h && !n.contains("left") && (u = "left",
                h = s),
                a < .33 && a < h && !n.contains("top") && (u = "top",
                h = a,
                i instanceof eD && o - t.y < 30 && (u = "center")),
                l < .33 && l < h && !n.contains("right") && (u = "right",
                h = l),
                c < .33 && c < h && !n.contains("bottom") && (u = "bottom",
                h = c);
                var p = ["left", "right"].contains(u) ? t.width : t.height;
                switch (p = Math.max(p / 3, 40),
                u) {
                case "center":
                    break;
                case "left":
                    t.width = p;
                    break;
                case "top":
                    t.height = p;
                    break;
                case "right":
                    t.x += t.width - p,
                    t.width = p;
                    break;
                case "bottom":
                    t.y += t.height - p,
                    t.height = p
                }
                return u
            }
            ,
            t.prototype.createLeafInParent = function(e, t) {
                var n = new nD(this.app);
                return e.children.length > 0 && n.setDimension(100 / e.children.length),
                e.insertChild(t, n),
                n
            }
            ,
            t.prototype.splitLeaf = function(e, t, n, i) {
                var r = e.parentSplit
                  , o = e.dimension
                  , s = r.children.indexOf(e);
                if (n && r instanceof ZL && n !== r.direction) {
                    e.setDimension(null);
                    var a = new ZL(this,n);
                    r.replaceChild(s, a, !0),
                    a.setDimension(o),
                    r.recomputeChildrenDimensions(),
                    i ? (a.insertChild(0, t),
                    a.insertChild(1, e)) : (a.insertChild(0, e),
                    a.insertChild(1, t))
                } else
                    null !== o && (e.setDimension(o / 2),
                    t.setDimension(o / 2)),
                    i ? r.insertChild(s, t) : r.insertChild(s + 1, t),
                    r instanceof ZL && r.recomputeChildrenDimensions()
            }
            ,
            t.prototype.createLeafBySplit = function(e, t, n) {
                var i = new nD(this.app);
                return this.splitLeaf(e, i, t, n),
                i
            }
            ,
            t.prototype.splitActiveLeaf = function(e) {
                var t = this.activeLeaf;
                return t || (t = this.getMostRecentLeaf()),
                t ? this.createLeafBySplit(t, e) : this.createLeafInParent(this.rootSplit, 0)
            }
            ,
            t.prototype.splitLeafOrActive = function(e, t) {
                return e ? this.createLeafBySplit(e, t) : this.splitActiveLeaf(t)
            }
            ,
            t.prototype.duplicateLeaf = function(e, t) {
                return o(this, void 0, void 0, (function() {
                    var n, i;
                    return s(this, (function(r) {
                        switch (r.label) {
                        case 0:
                            return e ? (n = e.getViewState(),
                            i = this.createLeafBySplit(e, t),
                            n.active = !0,
                            [4, i.setViewState(n)]) : [2];
                        case 1:
                            return r.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.getUnpinnedLeaf = function(e) {
                var t = this.activeLeaf
                  , n = t;
                if (n && !n.pinned)
                    return n;
                if (n = null,
                this.iterateRootLeaves((function(t) {
                    if (!t.pinned && t.view.navigation && (!e || t.type === e))
                        return (!n || n.activeTime < t.activeTime) && (n = t),
                        !0
                }
                )),
                !n) {
                    if (t)
                        return this.createLeafBySplit(t);
                    n = this.createLeafInParent(this.rootSplit, -1)
                }
                return n
            }
            ,
            t.prototype.getLeaf = function(e) {
                return e ? this.splitActiveLeaf() : this.getUnpinnedLeaf()
            }
            ,
            t.prototype.openLinkText = function(e, t, n, i) {
                return o(this, void 0, void 0, (function() {
                    return s(this, (function(r) {
                        switch (r.label) {
                        case 0:
                            return [4, this.getLeaf(n).openLinkText(e, t, i)];
                        case 1:
                            return r.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.setActiveLeaf = function(e, t, n) {
                void 0 === t && (t = !0),
                void 0 === n && (n = !1);
                var i = this.activeLeaf;
                i !== e ? e && e.getRoot() !== this.rootSplit || (i && i.containerEl.removeClass("mod-active"),
                this.activeLeaf = e,
                e && (e.activeTime = Date.now(),
                e.containerEl.addClass("mod-active"),
                n && e && e.setEphemeralState({
                    focus: !0
                }),
                this.recordHistory(e, t),
                this.requestActiveLeafEvents())) : n && e && e.setEphemeralState({
                    focus: !0
                })
            }
            ,
            t.prototype.activeLeafEvents = function() {
                var e = this.activeLeaf;
                this.trigger("active-leaf-change", e);
                var t = null;
                e && e.view instanceof XC && (t = e.view.file),
                this.trigger("file-open", t)
            }
            ,
            t.prototype.updateHistory = function() {
                var e = this.activeLeaf;
                e && !e.working && this.recordHistory(e, !1)
            }
            ,
            t.prototype.recordHistory = function(e, t) {
                if (this.activeLeaf === e) {
                    var n = e
                      , i = history.state;
                    if (i && i.group && i.group === e.group && i.leaf !== e.id) {
                        var r = this.getLeafById(i.leaf);
                        r && (n = r)
                    }
                    var o = JSON.stringify(n.getViewState())
                      , s = JSON.stringify(n.getEphemeralState() || {});
                    if (i && i.leaf === n.id && i.state === o && i.eState === s) {
                        if (e === n)
                            return;
                        if (e.view instanceof XC && n.view instanceof XC && e.view.file === n.view.file)
                            return;
                        t = !1
                    }
                    (null === i || i.leaf === n.id && i.state === o) && (t = !1),
                    n !== e && (o = JSON.stringify(e.getViewState()),
                    s = JSON.stringify(e.getEphemeralState() || {}));
                    var a = {
                        leaf: e.id,
                        group: e.group,
                        state: o,
                        eState: s
                    };
                    t ? history.pushState(a, "") : history.replaceState(a, "")
                }
            }
            ,
            t.prototype.getLeafById = function(e) {
                var t = null;
                return this.iterateAllLeaves((function(n) {
                    if (n.id === e)
                        return t = n,
                        !0
                }
                )),
                t
            }
            ,
            t.prototype.getGroupLeaves = function(e) {
                var t = [];
                return e ? (this.iterateAllLeaves((function(n) {
                    n.group === e && t.push(n)
                }
                )),
                t) : t
            }
            ,
            t.prototype.getMostRecentLeaf = function() {
                var e = null;
                return this.iterateRootLeaves((function(t) {
                    (!e || e.activeTime < t.activeTime) && (e = t)
                }
                )),
                e
            }
            ,
            t.prototype.getLeftLeaf = function(e) {
                return this.getSideLeaf(this.leftSplit, e)
            }
            ,
            t.prototype.getRightLeaf = function(e) {
                return this.getSideLeaf(this.rightSplit, e)
            }
            ,
            t.prototype.ensureSideLeaf = function(e, t, n, i, r) {
                void 0 === i && (i = !0);
                var o, s = this.getLeavesOfType(e);
                0 === s.length ? (o = "left" === t ? this.getLeftLeaf(n) : this.getRightLeaf(n),
                i && this.revealLeaf(o),
                o.setViewState({
                    type: e,
                    state: r
                })) : (o = s[0],
                i && this.revealLeaf(o),
                r && o.setViewState({
                    type: e,
                    state: r
                }))
            }
            ,
            t.prototype.getActiveLeafOfViewType = function(e) {
                return this.getActiveViewOfType(e)
            }
            ,
            t.prototype.getActiveViewOfType = function(e) {
                var t = this.activeLeaf;
                if (!t)
                    return null;
                var n = t.view;
                return n instanceof e ? n : null
            }
            ,
            t.prototype.getActiveFile = function() {
                var e = this.activeLeaf;
                if (!e)
                    return null;
                var t = e.view;
                if (!(t instanceof XC))
                    return null;
                var n = t.file;
                return n || null
            }
            ,
            t.prototype.getSideLeaf = function(e, t) {
                if (e instanceof iD) {
                    var n = new nD(this.app);
                    return e.insertChild(-1, n),
                    n
                }
                if (t) {
                    var i = new eD(this);
                    e.insertChild(-1, i);
                    n = new nD(this.app);
                    return i.insertChild(-1, n),
                    n
                }
                0 === e.children.length && e.insertChild(0, new eD(this));
                var r = e.children[0];
                if (r instanceof XL) {
                    n = new nD(this.app);
                    return r.insertChild(-1, n),
                    n
                }
                return null
            }
            ,
            t.prototype.iterateLeaves = function(e, t) {
                if (t instanceof nD) {
                    if (e(t))
                        return !0
                } else if (t instanceof XL)
                    for (var n = 0, i = t.children; n < i.length; n++) {
                        var r = i[n];
                        if (this.iterateLeaves(e, r))
                            return !0
                    }
                return !1
            }
            ,
            t.prototype.iterateRootLeaves = function(e) {
                this.iterateLeaves(e, this.rootSplit)
            }
            ,
            t.prototype.iterateAllLeaves = function(e) {
                this.iterateLeaves(e, this.rootSplit),
                this.iterateLeaves(e, this.leftSplit),
                this.iterateLeaves(e, this.rightSplit)
            }
            ,
            t.prototype.getLeavesOfType = function(e) {
                var t = [];
                return this.iterateAllLeaves((function(n) {
                    n.view && n.view.getViewType() === e && t.push(n)
                }
                )),
                t
            }
            ,
            t.prototype.detachLeavesOfType = function(e) {
                for (var t = 0, n = this.getLeavesOfType(e); t < n.length; t++) {
                    n[t].detach()
                }
            }
            ,
            t.prototype.getAdjacentLeafInDirection = function(e, t) {
                if (!e)
                    return null;
                var n = e.containerEl.getBoundingClientRect()
                  , i = null;
                switch (t) {
                case "top":
                    i = {
                        x: n.left + n.width / 2,
                        y: n.top - 5
                    };
                    break;
                case "bottom":
                    i = {
                        x: n.left + n.width / 2,
                        y: n.top + n.height + 5
                    };
                    break;
                case "left":
                    i = {
                        x: n.left - 5,
                        y: n.top + n.height / 2
                    };
                    break;
                case "right":
                    i = {
                        x: n.left + n.width + 5,
                        y: n.top + n.height / 2
                    }
                }
                if (i) {
                    var r = document.elementFromPoint(i.x, i.y)
                      , o = null;
                    if (this.iterateRootLeaves((function(e) {
                        if (e.containerEl.contains(r))
                            return o = e,
                            !0
                    }
                    )),
                    o)
                        return o
                }
                for (var s = null, a = "left" === t || "right" === t ? "vertical" : "horizontal"; e; ) {
                    var l = e.parentSplit;
                    if (l instanceof ZL && l.direction === a) {
                        var c = l.children
                          , u = c.indexOf(e);
                        if ("left" === t || "top" === t) {
                            if (u > 0) {
                                s = c[u - 1];
                                break
                            }
                        } else if (u < c.length - 1) {
                            s = c[u + 1];
                            break
                        }
                    }
                    e = l
                }
                if (!s)
                    return null;
                for (; s instanceof XL; )
                    s = s.children[0];
                return s instanceof nD ? s : null
            }
            ,
            t.prototype.revealLeaf = function(e) {
                var t = e.getRoot();
                t instanceof tD && t.collapsed && t.toggle(),
                t instanceof iD && (t.openLeaf(e),
                t.expand());
                var n = e.parentSplit;
                n instanceof eD && n.selectTab(e)
            }
            ,
            t.prototype.getLastOpenFiles = function() {
                return this.lastOpenFiles
            }
            ,
            t.prototype.updateOptions = function() {
                this.iterateAllLeaves((function(e) {
                    e && e.view instanceof gS && e.view.updateOptions()
                }
                ))
            }
            ,
            t.prototype.recordMostRecentOpenedFile = function(e) {
                var t = this.lastOpenFiles;
                t.remove(e.path),
                t.unshift(e.path),
                this.lastOpenFiles = t.slice(0, 10),
                this.requestSaveLayout()
            }
            ,
            t.prototype.onLayoutChange = function() {
                if (this.layoutReady) {
                    if (!this.activeLeaf || this.activeLeaf.getRoot() !== this.rootSplit) {
                        var e = this.getMostRecentLeaf();
                        e || (e = this.createLeafInParent(this.rootSplit, 0)),
                        this.setActiveLeaf(e, !0, !0)
                    }
                    this.requestUpdateGroups(),
                    this.requestSaveLayout(),
                    this.requestResize(),
                    this.trigger("layout-change")
                }
            }
            ,
            t.prototype.onQuickPreview = function(e, t) {
                this.trigger("quick-preview", e, t)
            }
            ,
            t.prototype.onResize = function() {
                this.trigger("resize")
            }
            ,
            t.prototype.onDocumentClick = function(e) {
                e.defaultPrevented || this.trigger("click")
            }
            ,
            t.prototype.onLinkContextMenu = function(e, t, n, i) {
                var r = new Zk(this.app);
                this.handleLinkContextMenu(r, t, n, i) && (e.preventDefault(),
                r.showAtMouseEvent(e))
            }
            ,
            t.prototype.handleLinkContextMenu = function(e, t, n, i) {
                var r = this;
                if (!t)
                    return !1;
                var o = Ly(t).path
                  , s = this.app.metadataCache.getFirstLinkpathDest(o, n);
                return !!s && (on.isMobile && e.addSeparator().addItem((function(e) {
                    return e.setTitle(ne(s.name)).setIsLabel(!0)
                }
                )).addSeparator(),
                e.addItem((function(e) {
                    return e.setTitle(Te("interface.menu.open-in-new-pane")).setIcon(gb).onClick((function() {
                        return r.openLinkText(t, n, !0)
                    }
                    ))
                }
                )),
                e.addItem((function(e) {
                    return e.setTitle(Te("plugins.file-explorer.menu-opt-rename")).setIcon(Hy).onClick((function() {
                        return r.app.fileManager.promptForFileRename(s)
                    }
                    ))
                }
                )),
                e.addSeparator(),
                this.trigger("file-menu", e, s, "link-context-menu", i),
                !0)
            }
            ,
            t.prototype.handleExternalLinkContextMenu = function(e, t) {
                return !!t && (e.addItem((function(e) {
                    return e.setTitle(Te("interface.menu.copy-url")).setIcon(tb).onClick((function() {
                        Oe(t),
                        new JC(Te("interface.copied", {
                            item: Te("interface.url")
                        }))
                    }
                    ))
                }
                )),
                this.trigger("url-menu", e, t, null),
                !0)
            }
            ,
            t.prototype.iterateCodeMirrors = function(e) {
                this.iterateAllLeaves((function(t) {
                    t.view instanceof gS && e(t.view.sourceMode.cmEditor)
                }
                ))
            }
            ,
            t.prototype.addMobileFileInfo = function(e) {
                this.mobileFileInfos.push(e)
            }
            ,
            t.prototype.registerUriHook = function() {
                var e = this
                  , t = function(t) {
                    if (t) {
                        console.log("Received URL action", t);
                        var n = e.protocolHandlers;
                        if (n.has(t.action))
                            n.get(t.action)(t)
                    }
                }
                  , n = window.OBS_ACT;
                if (window.OBS_ACT = t,
                n && t(n),
                NS) {
                    zS.addListener("appUrlOpen", (function(n) {
                        var i;
                        i = n.url,
                        o(e, void 0, void 0, (function() {
                            var e;
                            return s(this, (function(n) {
                                return i ? (!(e = _D(i)) || e.vault && e.vault.toLowerCase() !== this.app.vault.getName().toLowerCase() || t(e),
                                [2]) : [2]
                            }
                            ))
                        }
                        ))
                    }
                    ))
                }
            }
            ,
            t.prototype.registerObsidianProtocolHandler = function(e, t) {
                if (this.protocolHandlers.has(e))
                    throw new Error('Action "' + e + '" is already registered as a handler.');
                this.protocolHandlers.set(e, t)
            }
            ,
            t.prototype.unregisterObsidianProtocolHandler = function(e, t) {
                t && this.protocolHandlers.get(e) !== t || this.protocolHandlers.delete(e)
            }
            ,
            t.prototype.registerHoverLinkSource = function(e, t) {
                this.hoverLinkSources[e] = t
            }
            ,
            t.prototype.unregisterHoverLinkSource = function(e) {
                delete this.hoverLinkSources[e]
            }
            ,
            t.prototype.trigger = function(t) {
                for (var n = [], i = 1; i < arguments.length; i++)
                    n[i - 1] = arguments[i];
                e.prototype.trigger.apply(this, l([t], n))
            }
            ,
            t.prototype.on = function(t, n, i) {
                return e.prototype.on.call(this, t, n, i)
            }
            ,
            t
        }(Bf)
          , $D = function() {
            function e(e, t) {
                this.app = null,
                this.setting = null,
                this.containerEl = null,
                this.navEl = null,
                this.app = e,
                this.setting = t,
                this.containerEl = createDiv("vertical-tab-content")
            }
            return e.prototype.hide = function() {}
            ,
            e
        }();
        function GD(e) {
            return Fv(e, null, {})
        }
        var YD = window.moment;
        function KD(e, t, n) {
            return "https://raw.githubusercontent.com/" + e + "/" + (t || "master") + "/" + n
        }
        function QD(e) {
            return "https://github.com/" + e
        }
        function JD(e, t, n) {
            return "https://github.com/" + e + "/releases/download/" + t + "/" + n
        }
        var XD = "manifest.json"
          , ZD = "main.js"
          , eM = "styles.css"
          , tM = function(e) {
            function t(t, n) {
                var i = e.call(this) || this;
                return i.app = t,
                i.manifest = n,
                i
            }
            return i(t, e),
            t.prototype.addRibbonIcon = function(e, t, n) {
                var i = this.app.workspace.leftRibbon.addRibbonActionButton(e, t, n);
                return this.register((function() {
                    return i.detach()
                }
                )),
                i
            }
            ,
            t.prototype.addStatusBarItem = function() {
                var e = this.app.statusBar.registerStatusBarItem();
                return e.addClass("plugin-" + this.manifest.id.toLowerCase().replace(/[^_a-zA-Z0-9-]/, "-")),
                this.register((function() {
                    return e.detach()
                }
                )),
                e
            }
            ,
            t.prototype.addCommand = function(e) {
                var t = this;
                return e.id = this.manifest.id + ":" + e.id,
                e.name = this.manifest.name + ": " + e.name,
                this.app.commands.addCommand(e),
                this.register((function() {
                    return t.app.commands.removeCommand(e.id)
                }
                )),
                e
            }
            ,
            t.prototype.addSettingTab = function(e) {
                var t = this;
                this.app.setting.addSettingTab(e),
                this.register((function() {
                    return t.app.setting.removeSettingTab(e)
                }
                ))
            }
            ,
            t.prototype.registerView = function(e, t) {
                var n = this;
                this.app.viewRegistry.registerView(e, t),
                this.register((function() {
                    return n.app.viewRegistry.unregisterView(e)
                }
                ))
            }
            ,
            t.prototype.registerExtensions = function(e, t) {
                var n = this;
                this.app.viewRegistry.registerExtensions(e, t),
                this.register((function() {
                    return n.app.viewRegistry.unregisterExtensions(e)
                }
                ))
            }
            ,
            t.prototype.registerMarkdownPostProcessor = function(e) {
                return AC.registerPostProcessor(e),
                this.register((function() {
                    return AC.unregisterPostProcessor(e)
                }
                )),
                e
            }
            ,
            t.prototype.registerMarkdownCodeBlockProcessor = function(e, t) {
                var n = AC.createCodeBlockPostProcessor(e, t);
                return AC.registerPostProcessor(n),
                this.register((function() {
                    return AC.unregisterPostProcessor(n)
                }
                )),
                n
            }
            ,
            t.prototype.registerCodeMirror = function(e) {
                this.app.workspace.iterateCodeMirrors(e),
                this.registerEvent(this.app.workspace.on("codemirror", e))
            }
            ,
            t.prototype.registerObsidianProtocolHandler = function(e, t) {
                var n = this;
                this.app.workspace.registerObsidianProtocolHandler(e, t),
                this.register((function() {
                    return n.app.workspace.unregisterObsidianProtocolHandler(e, t)
                }
                ))
            }
            ,
            t.prototype.loadData = function() {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(e) {
                        switch (e.label) {
                        case 0:
                            return [4, this.app.vault.readPluginData(this.manifest.dir)];
                        case 1:
                            return [2, e.sent()]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.saveData = function(e) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(t) {
                        switch (t.label) {
                        case 0:
                            return [4, this.app.vault.writePluginData(this.manifest.dir, e)];
                        case 1:
                            return [2, t.sent()]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.loadCSS = function() {
                return o(this, void 0, Promise, (function() {
                    var e, t, n, i, r, o;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return t = (e = this).app,
                            n = e.manifest,
                            i = n.dir + "/" + eM,
                            [4, t.vault.exists(i)];
                        case 1:
                            return s.sent() ? [4, t.vault.readRaw(i)] : [3, 3];
                        case 2:
                            r = s.sent(),
                            (o = document.head.createEl("style", {
                                type: "text/css"
                            })).textContent = r,
                            this.register((function() {
                                return o.detach()
                            }
                            )),
                            s.label = 3;
                        case 3:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t
        }(Jk)
          , nM = function(e) {
            function t(t, n) {
                var i = e.call(this, t, t.setting) || this;
                return i.plugin = n,
                i.name = n.manifest.name,
                i.id = n.manifest.id,
                i
            }
            return i(t, e),
            t
        }($D)
          , iM = function(e) {
            function t(t, n) {
                var i = e.call(this, t, t.setting) || this;
                return i.plugin = null,
                i.plugin = n,
                i.name = n.instance.name,
                i.id = n.instance.id,
                i
            }
            return i(t, e),
            t
        }($D)
          , rM = function() {
            function t(e) {
                this.manifests = {},
                this.plugins = {},
                this.enabledPlugins = new Set,
                this.updates = {},
                this.requestSaveConfig = Pe(this.saveConfig, 1e3),
                this.app = e
            }
            return t.prototype.loadManifests = function() {
                return o(this, void 0, void 0, (function() {
                    var e, t, n, i, r, o, a, l, c, u, h, p;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return e = this.app.vault.adapter,
                            t = this.manifests = {},
                            n = this.getPluginFolder(),
                            [4, e.exists(n)];
                        case 1:
                            return s.sent() ? [4, e.list(n)] : [3, 10];
                        case 2:
                            i = s.sent(),
                            r = 0,
                            o = i.folders,
                            s.label = 3;
                        case 3:
                            if (!(r < o.length))
                                return [3, 10];
                            a = o[r],
                            s.label = 4;
                        case 4:
                            return s.trys.push([4, 8, , 9]),
                            l = a + "/" + XD,
                            [4, e.exists(l)];
                        case 5:
                            return s.sent() ? (h = (u = JSON).parse,
                            [4, e.read(l)]) : [3, 7];
                        case 6:
                            if (!(c = h.apply(u, [s.sent()])).id)
                                return [3, 9];
                            c.dir = a,
                            t[c.id] = c,
                            s.label = 7;
                        case 7:
                            return [3, 9];
                        case 8:
                            return p = s.sent(),
                            console.error(p),
                            [3, 9];
                        case 9:
                            return r++,
                            [3, 3];
                        case 10:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.loadPlugin = function(t) {
                return o(this, void 0, Promise, (function() {
                    var n, i, r, o, a, l, c, u;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return this.isEnabled() ? (n = this.plugins[t]) ? [2, n] : (i = this.manifests[t]) ? [4, this.app.vault.adapter.read(i.dir + "/" + ZD)] : [2, null] : [2];
                        case 1:
                            if (r = s.sent(),
                            o = {
                                obsidian: e
                            },
                            a = function(e) {
                                return o[e] || de(e)
                            }
                            ,
                            c = {
                                exports: l = {}
                            },
                            function(e) {
                                return window.eval("(function anonymous(require,module,exports){" + e + "\n})")
                            }(r)(a, c, l),
                            !(u = l.default || c.exports))
                                throw new Error("Failed to load plugin " + t + ". No exports detected.");
                            if (!((n = new u(this.app,i))instanceof tM))
                                throw new Error("Failed to load plugin " + t);
                            return this.plugins[t] = n,
                            [4, n.load()];
                        case 2:
                            return s.sent(),
                            [4, n.loadCSS()];
                        case 3:
                            return s.sent(),
                            [2, n]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.unloadPlugin = function(e) {
                return o(this, void 0, void 0, (function() {
                    var t;
                    return s(this, (function(n) {
                        return (t = this.plugins[e]) ? (t.unload(),
                        delete this.plugins[e],
                        [2]) : [2]
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.initialize = function() {
                return o(this, void 0, void 0, (function() {
                    var e, t, n, i, r, o, a = this;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return [4, (e = this.app).vault.readConfigJson("community-plugins")];
                        case 1:
                            return (t = s.sent()) || (t = e.vault.getConfig("enabledPlugins")),
                            t && Array.isArray(t) || (t = []),
                            this.enabledPlugins = new Set(t),
                            [4, this.loadManifests()];
                        case 2:
                            if (s.sent(),
                            n = this.manifests,
                            0 === Object.keys(n).length)
                                return [2];
                            if (!this.isEnabled())
                                return null === localStorage.getItem("enable-plugin-" + this.app.appId) && new oM(e).open(),
                                [2];
                            i = 0,
                            r = t,
                            s.label = 3;
                        case 3:
                            return i < r.length ? (o = r[i],
                            n.hasOwnProperty(o) ? [4, this.enablePlugin(o)] : [3, 5]) : [3, 6];
                        case 4:
                            s.sent(),
                            s.label = 5;
                        case 5:
                            return i++,
                            [3, 3];
                        case 6:
                            return this.requestSaveConfig(),
                            this.checkForDeprecations(),
                            setInterval((function() {
                                return a.checkForDeprecations()
                            }
                            ), 432e5),
                            e.vault.setConfig("enabledPlugins", void 0),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.getPluginFolder = function() {
                return this.app.vault.configDir + "/plugins"
            }
            ,
            t.prototype.enablePlugin = function(e) {
                return o(this, void 0, Promise, (function() {
                    var t, n;
                    return s(this, (function(i) {
                        switch (i.label) {
                        case 0:
                            if (!(t = this.manifests[e]))
                                return [2, !1];
                            if (this.isDeprecated(t))
                                return new JC("Unable to load plugin " + t.name + " v" + t.version + ". This version has been reported to cause issues. Please check for a newer version of the plugin."),
                                [2, !1];
                            if (!on.isDesktopApp && t.isDesktopOnly)
                                return [2, !1];
                            i.label = 1;
                        case 1:
                            return i.trys.push([1, 3, , 4]),
                            [4, this.loadPlugin(e)];
                        case 2:
                            return i.sent(),
                            [3, 4];
                        case 3:
                            return n = i.sent(),
                            new JC("Failed to load plugin " + e),
                            console.error("Plugin failure: " + e, n),
                            [2, !1];
                        case 4:
                            return [2, !0]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.disablePlugin = function(e) {
                return o(this, void 0, void 0, (function() {
                    var t;
                    return s(this, (function(n) {
                        switch (n.label) {
                        case 0:
                            return n.trys.push([0, 2, , 3]),
                            [4, this.unloadPlugin(e)];
                        case 1:
                            return n.sent(),
                            [3, 3];
                        case 2:
                            return t = n.sent(),
                            new JC("Failed to unload plugin " + e),
                            console.error("Plugin failure: " + e, t),
                            [3, 3];
                        case 3:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.enablePluginAndSave = function(e) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(t) {
                        switch (t.label) {
                        case 0:
                            return [4, this.enablePlugin(e)];
                        case 1:
                            return t.sent() ? (this.enabledPlugins.add(e),
                            this.requestSaveConfig(),
                            [2, !0]) : [2, !1]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.disablePluginAndSave = function(e) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(t) {
                        switch (t.label) {
                        case 0:
                            return this.enabledPlugins.delete(e),
                            this.requestSaveConfig(),
                            [4, this.disablePlugin(e)];
                        case 1:
                            return t.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.uninstallPlugin = function(e) {
                return o(this, void 0, void 0, (function() {
                    var t, n;
                    return s(this, (function(i) {
                        switch (i.label) {
                        case 0:
                            return [4, this.disablePluginAndSave(e)];
                        case 1:
                            return i.sent(),
                            (t = this.manifests[e]) ? (n = t.dir) ? [4, this.app.vault.exists(n)] : [2] : [2];
                        case 2:
                            return i.sent() ? [4, this.app.vault.adapter.rmdir(n, !0)] : [2];
                        case 3:
                            return i.sent(),
                            [4, this.loadManifests()];
                        case 4:
                            return i.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.getPlugin = function(e) {
                var t = this.plugins[e];
                return t || null
            }
            ,
            t.prototype.saveConfig = function() {
                return o(this, void 0, void 0, (function() {
                    return s(this, (function(e) {
                        switch (e.label) {
                        case 0:
                            return [4, this.app.vault.writeConfigJson("community-plugins", Array.from(this.enabledPlugins))];
                        case 1:
                            return e.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.isEnabled = function() {
                return "true" === localStorage.getItem("enable-plugin-" + this.app.appId)
            }
            ,
            t.prototype.setEnable = function(e) {
                return o(this, void 0, Promise, (function() {
                    var t, n, i, r, o, a;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            if (localStorage.setItem("enable-plugin-" + this.app.appId, e ? "true" : "false"),
                            e)
                                return [3, 5];
                            t = Object.keys(this.plugins),
                            n = 0,
                            i = t,
                            s.label = 1;
                        case 1:
                            return n < i.length ? (a = i[n],
                            [4, this.disablePlugin(a)]) : [3, 4];
                        case 2:
                            s.sent(),
                            s.label = 3;
                        case 3:
                            return n++,
                            [3, 1];
                        case 4:
                            return [3, 9];
                        case 5:
                            r = 0,
                            o = Array.from(this.enabledPlugins),
                            s.label = 6;
                        case 6:
                            return r < o.length ? (a = o[r],
                            [4, this.enablePlugin(a)]) : [3, 9];
                        case 7:
                            s.sent(),
                            s.label = 8;
                        case 8:
                            return r++,
                            [3, 6];
                        case 9:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.checkForDeprecations = function() {
                return o(this, void 0, void 0, (function() {
                    var e, t, n, i, r, o, a;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            if (0 === Object.keys(this.plugins).length)
                                return [2];
                            s.label = 1;
                        case 1:
                            return s.trys.push([1, 3, , 4]),
                            t = (e = JSON).parse,
                            [4, ajaxPromise({
                                url: hM
                            })];
                        case 2:
                            return pM = t.apply(e, [s.sent()]),
                            [3, 4];
                        case 3:
                            return s.sent(),
                            [3, 4];
                        case 4:
                            for (i in n = [],
                            this.plugins)
                                n.push(i);
                            r = 0,
                            s.label = 5;
                        case 5:
                            return r < n.length ? (o = n[r],
                            this.plugins.hasOwnProperty(o) ? (a = this.manifests[o] || this.plugins[o].manifest,
                            this.isDeprecated(a) ? [4, this.disablePluginAndSave(o)] : [3, 7]) : [3, 7]) : [3, 8];
                        case 6:
                            s.sent(),
                            new JC("The plugin " + a.name + " v" + a.version + " has been disabled. This version has been reported to cause issues. Please check for a newer version of the plugin.",0),
                            s.label = 7;
                        case 7:
                            return r++,
                            [3, 5];
                        case 8:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.isDeprecated = function(e) {
                if (!e)
                    return !1;
                var t = e.id;
                if (!pM.hasOwnProperty(e.id))
                    return !1;
                var n = pM[t]
                  , i = e.version;
                return n.contains(i)
            }
            ,
            t.prototype.getLatestVersion = function(e, t, n) {
                return o(this, void 0, Promise, (function() {
                    var i, r, o, a, l, c, u;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            if (i = n.version || null,
                            r = n.minAppVersion,
                            !(gM && r && If(gM, r)))
                                return [3, 4];
                            s.label = 1;
                        case 1:
                            return s.trys.push([1, 3, , 4]),
                            i = null,
                            o = KD(e, t, "versions.json"),
                            c = (l = JSON).parse,
                            [4, ajaxPromise({
                                url: o
                            })];
                        case 2:
                            if (a = c.apply(l, [s.sent()]))
                                for (u in a)
                                    a.hasOwnProperty(u) && (If(gM, a[u]) || i && !If(i, u) || (i = u));
                            return [3, 4];
                        case 3:
                            return s.sent(),
                            [3, 4];
                        case 4:
                            return [2, i]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.ajaxCorsBypass = function(e) {
                return on.isMobileApp ? zS.requestUrl({
                    url: e
                }).then((function(e) {
                    return e.body
                }
                )) : ajaxPromise({
                    url: e
                })
            }
            ,
            t.prototype.installPlugin = function(e, t, n) {
                return o(this, void 0, Promise, (function() {
                    var i, r, o, a, l, c, u, h, p, d, f, g, m, v;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            i = n.id,
                            r = n.name,
                            new JC(sM("msg-installing-plugin", {
                                name: r
                            })),
                            o = null,
                            s.label = 1;
                        case 1:
                            return s.trys.push([1, 3, , 4]),
                            a = JD(e, t, XD),
                            [4, this.ajaxCorsBypass(a)];
                        case 2:
                            return o = s.sent(),
                            (l = JSON.parse(o)).id && l.id === i ? [3, 4] : (new JC("Plugin ID mismatch."),
                            [2]);
                        case 3:
                            return c = s.sent(),
                            console.error(c),
                            new JC(sM("msg-failed-to-install-plugin", {
                                name: r
                            })),
                            [2];
                        case 4:
                            return u = this.app.vault,
                            h = this.getPluginFolder(),
                            [4, u.exists(h)];
                        case 5:
                            return s.sent() ? [3, 7] : [4, u.createFolder(h)];
                        case 6:
                            s.sent(),
                            s.label = 7;
                        case 7:
                            return p = h + "/" + i,
                            [4, u.exists(p)];
                        case 8:
                            return s.sent() ? [3, 10] : [4, u.createFolder(p)];
                        case 9:
                            s.sent(),
                            s.label = 10;
                        case 10:
                            return [4, (d = u.adapter).write(p + "/" + XD, o)];
                        case 11:
                            s.sent(),
                            s.label = 12;
                        case 12:
                            return s.trys.push([12, 15, , 16]),
                            f = JD(e, t, ZD),
                            [4, this.ajaxCorsBypass(f)];
                        case 13:
                            return g = s.sent(),
                            [4, d.write(p + "/" + ZD, g)];
                        case 14:
                            return s.sent(),
                            [3, 16];
                        case 15:
                            return s.sent(),
                            console.log(r + ": " + "main.js not found"),
                            [3, 16];
                        case 16:
                            return s.trys.push([16, 19, , 20]),
                            m = JD(e, t, eM),
                            [4, this.ajaxCorsBypass(m)];
                        case 17:
                            return v = s.sent(),
                            [4, d.write(p + "/" + eM, v)];
                        case 18:
                            return s.sent(),
                            [3, 20];
                        case 19:
                            return s.sent(),
                            console.log(r + ": " + eM + " not found"),
                            [3, 20];
                        case 20:
                            return delete this.updates[i],
                            new JC(sM("msg-successfully-installed-plugin", {
                                name: r
                            })),
                            [4, this.loadManifests()];
                        case 21:
                            return s.sent(),
                            this.plugins.hasOwnProperty(i) ? [4, this.disablePlugin(i)] : [3, 24];
                        case 22:
                            return s.sent(),
                            [4, this.enablePlugin(i)];
                        case 23:
                            s.sent(),
                            s.label = 24;
                        case 24:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.checkForUpdates = function() {
                return o(this, void 0, void 0, (function() {
                    var e, t, n, i, r, o, a, l, c, u, h, p, d, f, g, m, v;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            this.updates = {},
                            e = this.updates,
                            s.label = 1;
                        case 1:
                            return s.trys.push([1, 3, , 4]),
                            [4, lM()];
                        case 2:
                            return t = s.sent(),
                            [3, 4];
                        case 3:
                            return n = s.sent(),
                            console.error(n),
                            new JC(sM("msg-failed-load-plugins")),
                            [2];
                        case 4:
                            i = 0,
                            r = t,
                            s.label = 5;
                        case 5:
                            if (!(i < r.length))
                                return [3, 12];
                            if (o = r[i],
                            a = o.id,
                            !this.manifests.hasOwnProperty(a))
                                return [3, 11];
                            if (l = this.manifests[a],
                            !(c = l.version))
                                return [3, 11];
                            u = o.repo,
                            h = o.branch,
                            p = KD(u, h, XD),
                            d = null,
                            s.label = 6;
                        case 6:
                            return s.trys.push([6, 8, , 9]),
                            g = (f = JSON).parse,
                            [4, ajaxPromise({
                                url: p
                            })];
                        case 7:
                            return (d = g.apply(f, [s.sent()])) && d.id && d.id === a ? [3, 9] : [3, 11];
                        case 8:
                            return s.sent(),
                            [3, 11];
                        case 9:
                            return [4, this.getLatestVersion(u, h, d)];
                        case 10:
                            m = s.sent(),
                            If(c, m) && (e[a] = {
                                repo: u,
                                version: m,
                                manifest: d
                            }),
                            s.label = 11;
                        case 11:
                            return i++,
                            [3, 5];
                        case 12:
                            return v = Object.keys(e).length,
                            new JC(0 === v ? sM("msg-no-updates-found") : sM("msg-updates-found", {
                                count: v
                            })),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t
        }()
          , oM = function(e) {
            function t(t) {
                var n = e.call(this, t) || this;
                n.containerEl.addClass("mod-confirmation"),
                n.titleEl.setText(sM("option-safe-mode")),
                n.contentEl.createEl("p", {
                    cls: "mod-warning",
                    text: sM("label-third-party-plugin-warning")
                }),
                n.contentEl.createEl("p", {
                    text: sM("label-disable-safe-mode-confirmation")
                });
                var i = n.modalEl.createDiv("modal-button-container")
                  , r = i.createEl("button", {
                    cls: "mod-cta",
                    text: sM("button-keep-safe-mode")
                });
                return i.createEl("button", {
                    cls: "mod-warning",
                    text: sM("button-disable-safe-mode")
                }).addEventListener("click", (function() {
                    return o(n, void 0, void 0, (function() {
                        return s(this, (function(e) {
                            switch (e.label) {
                            case 0:
                                return this.close(),
                                [4, this.app.plugins.setEnable(!0)];
                            case 1:
                                return e.sent(),
                                this.app.setting.open(),
                                this.app.setting.openTabById("community-plugins"),
                                [2]
                            }
                        }
                        ))
                    }
                    ))
                }
                )),
                r.addEventListener("click", (function() {
                    return o(n, void 0, void 0, (function() {
                        return s(this, (function(e) {
                            switch (e.label) {
                            case 0:
                                return this.close(),
                                [4, this.app.plugins.setEnable(!1)];
                            case 1:
                                return e.sent(),
                                this.app.setting.open(),
                                this.app.setting.openTabById("community-plugins"),
                                [2]
                            }
                        }
                        ))
                    }
                    ))
                }
                )),
                n
            }
            return i(t, e),
            t
        }(sn)
          , sM = Fe("setting.third-party-plugin")
          , aM = KD("obsidianmd/obsidian-releases", "master", "community-plugins.json")
          , lM = Hk((function() {
            return o(void 0, void 0, Promise, (function() {
                var e, t;
                return s(this, (function(n) {
                    switch (n.label) {
                    case 0:
                        return [4, ajaxPromise({
                            url: aM
                        })];
                    case 1:
                        if (e = n.sent(),
                        t = JSON.parse(e),
                        !Array.isArray(t))
                            throw new Error("Failed to parse community plugins.");
                        return [2, t]
                    }
                }
                ))
            }
            ))
        }
        ), 3e5, 6e4)
          , cM = KD("obsidianmd/obsidian-releases", "master", "community-plugin-stats.json")
          , uM = Hk((function() {
            return o(void 0, void 0, Promise, (function() {
                var e, t;
                return s(this, (function(n) {
                    switch (n.label) {
                    case 0:
                        return t = (e = JSON).parse,
                        [4, ajaxPromise({
                            url: cM
                        })];
                    case 1:
                        return [2, t.apply(e, [n.sent()])]
                    }
                }
                ))
            }
            ))
        }
        ), 3e5, 6e4)
          , hM = KD("obsidianmd/obsidian-releases", "master", "community-plugin-deprecation.json")
          , pM = {}
          , dM = [["download", "downloadReverse"], ["release", "releaseReverse"], ["alphabetical", "alphabeticalReverse"]]
          , fM = {
            download: "label-sort-downloads-high-to-low",
            downloadReverse: "label-sort-downloads-low-to-high",
            release: "label-sort-release-date-new-to-old",
            releaseReverse: "label-sort-release-date-old-to-new",
            alphabetical: "label-sort-alphabetical",
            alphabeticalReverse: "label-sort-alphabetical-reverse"
        }
          , gM = null;
        fe((function(e) {
            gM = e.ipcRenderer.sendSync("version")
        }
        ));
        var mM = function(e) {
            function t(t, n) {
                var i = e.call(this, t) || this;
                i.autoload = n,
                i.sortOrder = t.vault.getConfig("communityPluginSortOrder");
                var r = i.contentEl;
                i.modalEl.addClass("mod-community-plugin"),
                r.addClass("community-plugin");
                var o = i.searchContainerEl = r.createDiv("community-plugin-search")
                  , s = i.pluginContentEl = r.createDiv("community-plugin-details", (function(e) {
                    e.createDiv("community-plugin-details-empty-state", (function(e) {
                        e.createEl("p", {
                            text: sM("label-select-a-plugin")
                        })
                    }
                    ))
                }
                ));
                return on.isMobile && s.detach(),
                new vE(o).addSearch((function(e) {
                    return e.setPlaceholder(sM("placeholder-community-plugins")).onChange(i.updateSearch.bind(i)).then((function(e) {
                        i.searchEl = e.inputEl
                    }
                    ))
                }
                )).addButton((function(e) {
                    return e.onClick((function(e) {
                        i.showSortMenu(e)
                    }
                    )).then((function(e) {
                        if (on.isMobile)
                            e.setButtonText(Te("plugins.file-explorer.action-change-sort"));
                        else {
                            var t = e.buttonEl;
                            yk(t, yb),
                            Je(t, Te("plugins.file-explorer.action-change-sort")),
                            t.addClass("clickable-icon")
                        }
                    }
                    ))
                }
                )),
                i.searchSummaryEl = o.createDiv("community-plugin-search-summary u-muted"),
                i.searchResultEl = o.createDiv("community-plugin-search-results"),
                i.updateSearch(""),
                i
            }
            return i(t, e),
            t.prototype.updateSearch = function(e) {
                return o(this, void 0, void 0, (function() {
                    var t, n, i, r, o, a, l, c, u, h, p, d, f, g, m, v, y, b, w, k, C, x, E, S, L, D = this;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            n = (t = this).app,
                            i = t.searchResultEl,
                            r = t.sortOrder,
                            i.empty(),
                            i.addClass("is-loading"),
                            s.label = 1;
                        case 1:
                            return s.trys.push([1, 3, , 4]),
                            [4, lM()];
                        case 2:
                            return o = s.sent(),
                            [3, 4];
                        case 3:
                            return a = s.sent(),
                            console.error(a),
                            [3, 4];
                        case 4:
                            if (!o)
                                return new JC(sM("msg-failed-load-plugins")),
                                i.removeClass("is-loading"),
                                [2];
                            l = {},
                            s.label = 5;
                        case 5:
                            return s.trys.push([5, 7, , 8]),
                            [4, uM()];
                        case 6:
                            return l = s.sent(),
                            [3, 8];
                        case 7:
                            return s.sent(),
                            [3, 8];
                        case 8:
                            if (e = e.trim().toLowerCase(),
                            c = e.split(" "),
                            u = [],
                            "" === e)
                                for (u = o.slice(),
                                h = 0,
                                p = o; h < p.length; h++)
                                    (L = p[h]).matches = null,
                                    L.score = 0;
                            else
                                for (d = 0,
                                f = o; d < f.length; d++)
                                    (L = f[d]).name && L.repo && (L.matches = Pk(c, L.name.toLowerCase() + L.description.toLowerCase()),
                                    L.matches && (L.score = Dk(L.matches, L.name.length + L.description.length, e.length, 0),
                                    u.push(L)));
                            for (g = n.plugins.manifests,
                            m = [],
                            v = 0,
                            y = u; v < y.length; v++)
                                (L = y[v]).id && L.name && L.repo && (L.downloads = 0,
                                l.hasOwnProperty(L.id) && (L.downloads = l[L.id].downloads),
                                m.push(L));
                            for ("release" === r ? m.reverse() : "releaseReverse" !== r && (b = null,
                            "download" === r ? b = function(e, t) {
                                return t.downloads - e.downloads
                            }
                            : "downloadReverse" === r ? b = function(e, t) {
                                return e.downloads - t.downloads
                            }
                            : "alphabetical" === r ? b = function(e, t) {
                                return gx(e.name, t.name)
                            }
                            : "alphabeticalReverse" === r && (b = function(e, t) {
                                return -gx(e.name, t.name)
                            }
                            ),
                            m.sort(b)),
                            (w = this.autoload) && (this.autoload = null),
                            k = null,
                            C = Te("nouns.plugin-with-count", {
                                count: m.length
                            }),
                            this.searchSummaryEl.setText(sM("label-search-summary", {
                                pluginCount: C
                            })),
                            x = function(e) {
                                e.id === w && (k = e);
                                var t = i.createDiv("community-plugin-item")
                                  , n = t.createDiv("community-plugin-name");
                                (Nk(n, e.name, e.matches),
                                g.hasOwnProperty(e.id) && n.createSpan({
                                    cls: "flair mod-pop",
                                    text: sM("label-installed")
                                }),
                                e.downloads && t.createDiv("community-plugin-downloads", (function(t) {
                                    t.createSpan({}, (function(e) {
                                        yk(e, Hb, 12)
                                    }
                                    )),
                                    t.createSpan({
                                        cls: "community-plugin-downloads-text",
                                        text: e.downloads.toString()
                                    })
                                }
                                )),
                                e.author && t.createDiv({
                                    cls: "community-plugin-author",
                                    text: sM("label-by-author") + e.author
                                }),
                                e.description) && Nk(t.createDiv({
                                    cls: "community-plugin-desc"
                                }), Tf(e.description, 200), e.matches, -e.name.length);
                                t.addEventListener("click", (function() {
                                    D.showPlugin(e)
                                }
                                ))
                            }
                            ,
                            E = 0,
                            S = m; E < S.length; E++)
                                L = S[E],
                                x(L);
                            return i.firstChild || i.createDiv({
                                cls: "community-plugin-item",
                                text: sM("label-no-results-found")
                            }),
                            i.removeClass("is-loading"),
                            k && this.showPlugin(k),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.showPlugin = function(e) {
                return o(this, void 0, void 0, (function() {
                    var t, n, i, r, a, l, c, u, h, p, d, f, g, m, v, y, b, w, k, C, x, E, S, L, D, M, A, T, F, P, O = this;
                    return s(this, (function(I) {
                        switch (I.label) {
                        case 0:
                            n = (t = this).app,
                            (i = t.pluginContentEl).addClass("is-loading"),
                            i.empty(),
                            r = e.id,
                            a = e.name,
                            l = e.description,
                            c = e.repo,
                            u = e.branch,
                            h = KD(c, u, XD),
                            p = KD(c, u, "README.md"),
                            d = null,
                            I.label = 1;
                        case 1:
                            return I.trys.push([1, 3, , 4]),
                            g = (f = JSON).parse,
                            [4, ajaxPromise({
                                url: h
                            })];
                        case 2:
                            return (d = g.apply(f, [I.sent()])).id && d.id === r ? [3, 4] : (new JC("Plugin ID mismatch."),
                            i.removeClass("is-loading"),
                            [2]);
                        case 3:
                            return m = I.sent(),
                            console.error(m),
                            new JC(sM("msg-failed-to-load-manifest")),
                            i.removeClass("is-loading"),
                            [2];
                        case 4:
                            i.empty(),
                            on.isMobile && ((v = i.createDiv({
                                cls: "modal-setting-back-button"
                            }, (function(e) {
                                e.addEventListener("click", (function() {
                                    Nt(O.contentEl, O.searchContainerEl, "left")
                                }
                                ))
                            }
                            ))).createSpan("modal-setting-back-button-icon", (function(e) {
                                yk(e, ob, 20)
                            }
                            )),
                            v.createSpan({
                                text: Te("interface.start-screen.button-back")
                            }),
                            Nt(this.contentEl, i, "right")),
                            y = n.plugins.manifests[r],
                            b = i.createDiv("community-plugin-info"),
                            w = b.createDiv({
                                cls: "community-plugin-name",
                                text: a
                            }),
                            y && w.createSpan({
                                cls: "flair mod-pop",
                                text: sM("label-installed")
                            }),
                            e.downloads && b.createDiv("community-plugin-downloads", (function(t) {
                                t.createSpan({}, (function(e) {
                                    yk(e, Hb, 12)
                                }
                                )),
                                t.createSpan({
                                    cls: "community-plugin-downloads-text",
                                    text: e.downloads.toString()
                                }),
                                Je(t, sM("tooltip-downloaded-times", {
                                    count: e.downloads
                                }))
                            }
                            )),
                            d.version && (k = b.createDiv({
                                cls: "community-plugin-version",
                                text: sM("label-version", {
                                    version: d.version
                                })
                            }),
                            y && y.version && k.appendText(sM("label-currently-installed-version", {
                                version: y.version
                            }))),
                            (C = e.author || d.author) && (x = b.createDiv({
                                cls: "community-plugin-author",
                                text: sM("label-by-author")
                            }),
                            d.authorUrl ? x.createEl("a", {
                                href: d.authorUrl,
                                text: C
                            }) : x.appendText(C)),
                            E = b.createDiv({
                                cls: "community-plugin-author",
                                text: sM("label-repository")
                            }),
                            S = QD(c),
                            E.createEl("a", {
                                href: S,
                                text: S
                            }),
                            l && b.createDiv({
                                cls: "community-plugin-desc",
                                text: l
                            }),
                            (L = !on.isDesktopApp && d.isDesktopOnly) && b.createDiv({
                                cls: "mod-warning",
                                text: sM("label-unsupported")
                            }),
                            D = b.createEl("p"),
                            (M = D.createEl("button", {
                                cls: "mod-cta",
                                text: sM("button-install")
                            })).addEventListener("click", (function() {
                                return o(O, void 0, void 0, (function() {
                                    var t, n;
                                    return s(this, (function(i) {
                                        switch (i.label) {
                                        case 0:
                                            return L ? (new JC(sM("label-unsupported")),
                                            [2]) : [4, (t = this.app.plugins).getLatestVersion(c, u, d)];
                                        case 1:
                                            return (n = i.sent()) ? [4, t.installPlugin(c, n, d)] : (new JC("No appropriate version found."),
                                            [2]);
                                        case 2:
                                            return i.sent(),
                                            [4, this.showPlugin(e)];
                                        case 3:
                                            return i.sent(),
                                            [2]
                                        }
                                    }
                                    ))
                                }
                                ))
                            }
                            )),
                            y && (If(y.version, d.version) ? M.setText(sM("button-update")) : M.detach(),
                            A = this.app.plugins.plugins.hasOwnProperty(r),
                            D.createEl("button", {
                                text: sM(A ? "button-disable" : "button-enable")
                            }).addEventListener("click", (function() {
                                return o(O, void 0, void 0, (function() {
                                    return s(this, (function(t) {
                                        switch (t.label) {
                                        case 0:
                                            return A ? [4, this.app.plugins.disablePluginAndSave(r)] : [3, 2];
                                        case 1:
                                            return t.sent(),
                                            [3, 4];
                                        case 2:
                                            return [4, this.app.plugins.enablePluginAndSave(r)];
                                        case 3:
                                            t.sent(),
                                            t.label = 4;
                                        case 4:
                                            return [4, this.showPlugin(e)];
                                        case 5:
                                            return t.sent(),
                                            [2]
                                        }
                                    }
                                    ))
                                }
                                ))
                            }
                            )),
                            D.createEl("button", {
                                text: sM("label-uninstall")
                            }).addEventListener("click", (function() {
                                return o(O, void 0, void 0, (function() {
                                    return s(this, (function(t) {
                                        switch (t.label) {
                                        case 0:
                                            return [4, this.app.plugins.uninstallPlugin(r)];
                                        case 1:
                                            return t.sent(),
                                            [4, this.showPlugin(e)];
                                        case 2:
                                            return t.sent(),
                                            [2]
                                        }
                                    }
                                    ))
                                }
                                ))
                            }
                            ))),
                            I.label = 5;
                        case 5:
                            return I.trys.push([5, 7, , 8]),
                            [4, ajaxPromise({
                                url: p
                            })];
                        case 6:
                            return T = I.sent(),
                            [3, 8];
                        case 7:
                            return I.sent(),
                            T = sM("label-no-readme"),
                            [3, 8];
                        case 8:
                            return b.createEl("hr"),
                            F = b.createDiv("community-plugin-readme markdown-preview-view"),
                            P = hy(cy(T)),
                            F.appendChild(bt(P)),
                            i.removeClass("is-loading"),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.onClose = function() {
                this.app.setting.open(),
                this.app.setting.openTabById("community-plugins")
            }
            ,
            t.prototype.showSortMenu = function(e) {
                var t = this;
                e.preventDefault();
                for (var n = new Zk(this.app), i = this.sortOrder, r = 0, o = dM; r < o.length; r++) {
                    for (var s = function(e) {
                        var r = sM(fM[e]);
                        n.addItem((function(n) {
                            return n.setTitle(r).setActive(e === i).onClick((function() {
                                t.sortOrder = e,
                                t.app.vault.setConfig("communityPluginSortOrder", e),
                                t.updateSearch(t.searchEl.value)
                            }
                            ))
                        }
                        ))
                    }, a = 0, l = o[r]; a < l.length; a++) {
                        s(l[a])
                    }
                    n.addSeparator()
                }
                n.showAtMouseEvent(e)
            }
            ,
            t
        }(sn)
          , vM = function(e) {
            function t(t, n, i) {
                var r = e.call(this) || this;
                return r.manager = null,
                r.instance = null,
                r.enabled = !1,
                r.commands = [],
                r.ribbonActions = [],
                r.mobileFileInfo = [],
                r.hasStatusBarItem = !1,
                r.statusBarEl = null,
                r.addedButtonEls = [],
                r.views = {},
                r.app = t,
                r.instance = n,
                r.manager = i,
                r
            }
            return i(t, e),
            t.prototype.init = function() {
                var e = this.instance;
                e.init && e.init(this.app, this)
            }
            ,
            t.prototype.enable = function(e) {
                if (!this.enabled) {
                    this.enabled = !0;
                    for (var t = this, n = t.instance, i = t.views, r = t.app, o = 0, s = this.commands; o < s.length; o++) {
                        var a = s[o];
                        r.commands.addCommand(a)
                    }
                    for (var l = 0, c = this.ribbonActions; l < c.length; l++) {
                        var u = c[l]
                          , h = r.workspace.leftRibbon.addRibbonActionButton(u.icon, u.title, u.callback);
                        this.addedButtonEls.push(h)
                    }
                    if (on.isMobile)
                        for (var p = 0, d = this.mobileFileInfo; p < d.length; p++) {
                            var f = d[p];
                            r.workspace.addMobileFileInfo(f)
                        }
                    for (var g in this.hasStatusBarItem && (this.statusBarEl = r.statusBar.registerStatusBarItem(),
                    this.statusBarEl.addClass("plugin-" + this.instance.id.toLowerCase().replace(/[^_a-zA-Z0-9-]/, "-"))),
                    i)
                        i.hasOwnProperty(g) && this.app.viewRegistry.registerView(g, i[g]);
                    n.onEnable && n.onEnable(r, this),
                    e && n.onUserEnable && n.onUserEnable(r),
                    this.load(),
                    this.manager.requestSaveConfig(),
                    this.manager.trigger("change", this)
                }
            }
            ,
            t.prototype.disable = function(e) {
                if (this.enabled) {
                    this.enabled = !1;
                    var t = this
                      , n = t.instance
                      , i = t.views
                      , r = t.app;
                    n.onDisable && n.onDisable(r, this),
                    e && n.onUserDisable && n.onUserDisable(r);
                    for (var o = 0, s = this.commands; o < s.length; o++) {
                        var a = s[o];
                        r.commands.removeCommand(a.id)
                    }
                    for (var l = 0, c = this.addedButtonEls; l < c.length; l++) {
                        c[l].detach()
                    }
                    for (var u in this.statusBarEl && this.statusBarEl.detach(),
                    i)
                        i.hasOwnProperty(u) && (this.app.viewRegistry.unregisterView(u),
                        e && r.workspace.detachLeavesOfType(u));
                    this.unload(),
                    this.manager.requestSaveConfig(),
                    this.manager.trigger("change", this)
                }
            }
            ,
            t.prototype.loadData = function() {
                return o(this, void 0, Promise, (function() {
                    var e;
                    return s(this, (function(t) {
                        switch (t.label) {
                        case 0:
                            return e = this.instance.id,
                            [4, this.manager.app.vault.readConfigJson(e)];
                        case 1:
                            return [2, t.sent()]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.saveData = function(e) {
                return o(this, void 0, Promise, (function() {
                    var t;
                    return s(this, (function(n) {
                        switch (n.label) {
                        case 0:
                            return t = this.instance.id,
                            [4, this.manager.app.vault.writeConfigJson(t, e)];
                        case 1:
                            return n.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.deleteData = function() {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(e) {
                        switch (e.label) {
                        case 0:
                            return [4, this.manager.app.vault.deleteConfigJson(this.instance.id)];
                        case 1:
                            return e.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.registerViewType = function(e, t) {
                this.views[e] = t
            }
            ,
            t.prototype.registerGlobalCommand = function(e) {
                e.name = this.instance.name + ": " + e.name,
                this.commands.push(e)
            }
            ,
            t.prototype.registerRibbonAction = function(e, t, n) {
                this.ribbonActions.push({
                    title: e,
                    icon: t,
                    callback: n
                })
            }
            ,
            t.prototype.registerStatusBarItem = function() {
                this.hasStatusBarItem = !0
            }
            ,
            t.prototype.registerMobileFileInfo = function(e) {
                this.mobileFileInfo.push({
                    renderCallback: e
                })
            }
            ,
            t.prototype.addSettingTab = function(e) {
                var t = this;
                this.app.setting.addSettingTab(e),
                this.register((function() {
                    return t.app.setting.removeSettingTab(e)
                }
                ))
            }
            ,
            t
        }(Jk)
          , yM = function(e) {
            function t(t) {
                var n = e.call(this) || this;
                return n.plugins = {},
                n.requestSaveConfig = Pe(n.saveConfig.bind(n), 500),
                n.app = t,
                n
            }
            return i(t, e),
            t.prototype.getPluginById = function(e) {
                var t = this.plugins;
                return t.hasOwnProperty(e) ? t[e] : null
            }
            ,
            t.prototype.loadPlugin = function(e) {
                var t = this.app
                  , n = this.plugins;
                if (n.hasOwnProperty(e.id))
                    throw new Error("Plugin " + e.name + " has already been loaded");
                var i = new vM(t,e,this);
                return i.init(),
                e.lockOn && i.enable(!1),
                n[e.id] = i,
                e
            }
            ,
            t.prototype.getEnabledPlugins = function() {
                var e = this.plugins
                  , t = [];
                for (var n in e)
                    if (e.hasOwnProperty(n)) {
                        var i = e[n];
                        i.enabled && t.push(i)
                    }
                return t
            }
            ,
            t.prototype.enable = function() {
                return o(this, void 0, void 0, (function() {
                    var e, t, n, i, r, o, a, l;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return t = (e = this).app,
                            n = e.plugins,
                            [4, t.vault.readConfigJson("core-plugins")];
                        case 1:
                            if (!(i = s.sent())) {
                                for (l in r = t.vault.getConfig("pluginEnabledStatus"),
                                i = [],
                                n)
                                    n.hasOwnProperty(l) && (!0 === (o = r[l]) || void 0 === o && n[l].instance.defaultOn) && i.push(l);
                                this.requestSaveConfig()
                            }
                            for (l in i && Array.isArray(i) || (i = []),
                            a = new Set(i),
                            n)
                                n.hasOwnProperty(l) && a.has(l) && n[l].enable(!1);
                            return t.vault.setConfig("pluginEnabledStatus", void 0),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.saveConfig = function() {
                return o(this, void 0, void 0, (function() {
                    var e, t, n, i, r;
                    return s(this, (function(o) {
                        switch (o.label) {
                        case 0:
                            for (r in t = (e = this).app,
                            n = e.plugins,
                            i = [],
                            n)
                                n.hasOwnProperty(r) && n[r].enabled && i.push(r);
                            return [4, t.vault.writeConfigJson("core-plugins", i)];
                        case 1:
                            return o.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.trigger = function(t) {
                for (var n = [], i = 1; i < arguments.length; i++)
                    n[i - 1] = arguments[i];
                e.prototype.trigger.apply(this, l([t], n))
            }
            ,
            t.prototype.on = function(t, n, i) {
                return e.prototype.on.call(this, t, n, i)
            }
            ,
            t
        }(Bf)
          , bM = "audio/mp4"
          , wM = function() {
            function e() {
                this.id = "audio-recorder",
                this.name = Te("plugins.audio-recorder.name"),
                this.description = Te("plugins.audio-recorder.desc"),
                this.app = null,
                this.plugin = null,
                this.recording = !1,
                this.recorder = null,
                this.extension = ""
            }
            return e.prototype.init = function(e, t) {
                var n = this;
                this.app = e,
                this.plugin = t,
                t.registerRibbonAction(Te("plugins.audio-recorder.action-toggle"), Zy, this.onRecordAudio.bind(this)),
                t.registerGlobalCommand({
                    id: "audio-recorder:start",
                    name: Te("plugins.audio-recorder.action-start"),
                    icon: tk,
                    checkCallback: function(e) {
                        return !n.recording && (e || n.onStartRecording(),
                        !0)
                    }
                }),
                t.registerGlobalCommand({
                    id: "audio-recorder:stop",
                    name: Te("plugins.audio-recorder.action-stop"),
                    icon: nk,
                    checkCallback: function(e) {
                        return !!n.recording && (e || n.onStopRecording(),
                        !0)
                    }
                })
            }
            ,
            e.prototype.checkPermission = function() {
                return o(this, void 0, Promise, (function() {
                    var e, t, n;
                    return s(this, (function(i) {
                        switch (i.label) {
                        case 0:
                            return on.isDesktopApp && "MacOS" === re ? (e = de("electron")) ? (t = e.remote.systemPreferences,
                            n = t.getMediaAccessStatus("microphone"),
                            ["denied", "restricted", "unknown"].contains(n) ? (this.showRecordingMessage(Te("plugins.audio-recorder.msg-access-denied"), !0),
                            [2, !1]) : [3, 1]) : (this.showRecordingMessage(Te("plugins.audio-recorder.msg-access-denied"), !0),
                            [2, !1]) : [3, 5];
                        case 1:
                            return "not-determined" !== n ? [3, 3] : (this.showRecordingMessage(Te("plugins.audio-recorder.msg-pending-grant"), !1),
                            [4, t.askForMediaAccess("microphone")]);
                        case 2:
                            return [2, i.sent()];
                        case 3:
                            if ("granted" === n)
                                return [2, !0];
                            i.label = 4;
                        case 4:
                            return [2, !1];
                        case 5:
                            return [2, !0]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.onRecordAudio = function() {
                return o(this, void 0, void 0, (function() {
                    return s(this, (function(e) {
                        switch (e.label) {
                        case 0:
                            return [4, this.checkPermission()];
                        case 1:
                            return e.sent() ? this.recording ? [3, 3] : [4, this.onStartRecording()] : [2];
                        case 2:
                            return e.sent(),
                            [3, 4];
                        case 3:
                            this.onStopRecording(),
                            e.label = 4;
                        case 4:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.onStartRecording = function() {
                return o(this, void 0, void 0, (function() {
                    var e, t, n;
                    return s(this, (function(i) {
                        switch (i.label) {
                        case 0:
                            if (RS && !navigator.mediaDevices)
                                return new JC("This functionality requires iOS 14.5."),
                                [2];
                            i.label = 1;
                        case 1:
                            return i.trys.push([1, 4, , 5]),
                            [4, navigator.mediaDevices.getUserMedia({
                                audio: !0,
                                video: !1
                            })];
                        case 2:
                            return e = i.sent(),
                            [4, this.startRecording(e)];
                        case 3:
                            return i.sent(),
                            [3, 5];
                        case 4:
                            return (t = i.sent()).message.contains("Requested device not found") && this.plugin.addedButtonEls.length > 0 ? (n = Te("plugins.audio-recorder.msg-no-microphone"),
                            this.showRecordingMessage(n, !0)) : (t.message.contains("denied") && new JC(t.message),
                            console.error(t)),
                            [2];
                        case 5:
                            return this.recording = !0,
                            this.plugin.addedButtonEls.forEach((function(e) {
                                yk(e, eb, 18),
                                e.addClass("is-active")
                            }
                            )),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.onStopRecording = function() {
                this.recording = !1,
                this.recorder.stop(),
                this.plugin.addedButtonEls.forEach((function(e) {
                    yk(e, Zy, 18),
                    e.removeClass("is-active")
                }
                ))
            }
            ,
            e.prototype.startRecording = function(e) {
                var t = this
                  , n = []
                  , i = 'audio/webm;codecs="opus"';
                this.extension = "webm",
                MediaRecorder.isTypeSupported(bM) && (i = bM,
                this.extension = "m4a"),
                this.recorder = new MediaRecorder(e,{
                    mimeType: i
                }),
                this.recorder.addEventListener("dataavailable", (function(e) {
                    e.data.size > 0 && n.push(e.data)
                }
                )),
                this.recorder.addEventListener("stop", (function() {
                    return o(t, void 0, void 0, (function() {
                        var t, i = this;
                        return s(this, (function(r) {
                            return this.recorder = null,
                            e.getTracks().forEach((function(e) {
                                e.stop()
                            }
                            )),
                            (t = new FileReader).addEventListener("loadend", (function() {
                                return o(i, void 0, void 0, (function() {
                                    return s(this, (function(e) {
                                        switch (e.label) {
                                        case 0:
                                            return [4, this.saveRecording(t.result)];
                                        case 1:
                                            return e.sent(),
                                            [2]
                                        }
                                    }
                                    ))
                                }
                                ))
                            }
                            )),
                            t.readAsArrayBuffer(n[0]),
                            o(i, void 0, void 0, (function() {
                                var e;
                                return s(this, (function(t) {
                                    switch (t.label) {
                                    case 0:
                                        return t.trys.push([0, 3, , 4]),
                                        NS ? [4, _S.allowSleep()] : [3, 2];
                                    case 1:
                                        t.sent(),
                                        t.label = 2;
                                    case 2:
                                        return [3, 4];
                                    case 3:
                                        return e = t.sent(),
                                        console.error(e),
                                        [3, 4];
                                    case 4:
                                        return [2]
                                    }
                                }
                                ))
                            }
                            )).then(),
                            [2]
                        }
                        ))
                    }
                    ))
                }
                )),
                this.recorder.start(),
                o(t, void 0, void 0, (function() {
                    var e;
                    return s(this, (function(t) {
                        switch (t.label) {
                        case 0:
                            return t.trys.push([0, 3, , 4]),
                            NS ? [4, _S.keepAwake()] : [3, 2];
                        case 1:
                            t.sent(),
                            t.label = 2;
                        case 2:
                            return [3, 4];
                        case 3:
                            return e = t.sent(),
                            console.error(e),
                            [3, 4];
                        case 4:
                            return [2]
                        }
                    }
                    ))
                }
                )).then()
            }
            ,
            e.prototype.saveRecording = function(e) {
                return o(this, void 0, void 0, (function() {
                    var t, n, i, r, o, a, l, c, u, h;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return t = this.app,
                            n = t.workspace,
                            i = "Recording " + window.moment().format("YYYYMMDDHHmmss"),
                            r = null,
                            (o = n.getActiveViewOfType(gS)) && (r = o.file),
                            [4, t.vault.getAvailablePathForAttachments(i, this.extension, r)];
                        case 1:
                            return a = s.sent(),
                            [4, t.vault.createBinary(a, e)];
                        case 2:
                            return l = s.sent(),
                            o ? (c = o.file,
                            u = this.app.fileManager.generateMarkdownLink(l, c.path),
                            [4, t.vault.read(c)]) : [3, 5];
                        case 3:
                            return h = s.sent(),
                            h += "\n" + u + "\n",
                            [4, t.vault.modify(c, h)];
                        case 4:
                            return s.sent(),
                            [2];
                        case 5:
                            return [4, n.getUnpinnedLeaf().openFile(l, {
                                active: !0
                            })];
                        case 6:
                            return s.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.showRecordingMessage = function(e, t) {
                this.plugin.addedButtonEls.length > 0 && Ke(this.plugin.addedButtonEls[0], e, {
                    placement: "right",
                    classes: t ? ["mod-error"] : []
                })
            }
            ,
            e
        }()
          , kM = function(e) {
            function t(t, n) {
                var i = e.call(this, t) || this;
                return i.textInputEl = null,
                i.textInputEl = n,
                n.addEventListener("input", i.onInputChange.bind(i)),
                n.addEventListener("focus", i.onInputChange.bind(i)),
                n.addEventListener("blur", i.close.bind(i)),
                i.suggestEl.on("mousedown", ".suggestion-item", (function(e) {
                    e.preventDefault()
                }
                )),
                i
            }
            return i(t, e),
            t.prototype.onInputChange = function() {
                var e = this.textInputEl
                  , t = e.value
                  , n = this.getSuggestions(t);
                n.length > 0 ? (this.suggestions.setSuggestions(n),
                this.open(),
                this.setAutoDestroy(e),
                on.isMobile || this.reposition(Ut(e))) : this.close()
            }
            ,
            t
        }(jf)
          , CM = function(e) {
            function t(t, n, i, r) {
                var o = e.call(this, t, n) || this;
                return o.commands = i,
                o.cb = r,
                o
            }
            return i(t, e),
            t.prototype.renderSuggestion = function(e, t) {
                Nk(t, e.command.name, e.matches.matches)
            }
            ,
            t.prototype.getSuggestions = function(e) {
                var t = Ok(e);
                return this.commands.map((function(e) {
                    return {
                        command: e,
                        matches: t(e.name)
                    }
                }
                )).filter((function(e) {
                    return !!e.matches
                }
                )).sort((function(e, t) {
                    return t.matches.score - e.matches.score
                }
                )).slice(0, 100)
            }
            ,
            t.prototype.selectSuggestion = function(e) {
                this.cb(e.command),
                this.close()
            }
            ,
            t
        }(kM)
          , xM = function() {
            function e() {
                this.id = "command-palette",
                this.name = Te("plugins.command-palette.name"),
                this.description = Te("plugins.command-palette.desc"),
                this.defaultOn = !0,
                this.modal = null,
                this.options = {}
            }
            return e.prototype.init = function(e, t) {
                this.openCallback = this.onOpen.bind(this),
                t.registerRibbonAction(Te("plugins.command-palette.action-open"), Mw, this.openCallback),
                t.registerGlobalCommand({
                    id: "command-palette:open",
                    name: Te("plugins.command-palette.action-open"),
                    icon: qw,
                    callback: this.openCallback,
                    hotkeys: [sL(["Mod"], "P")]
                })
            }
            ,
            e.prototype.onEnable = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    var n, i, r, o;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return this.modal = new EM(e,this),
                            n = this,
                            r = (i = Object).assign,
                            o = [{}],
                            [4, t.loadData()];
                        case 1:
                            return n.options = r.apply(i, o.concat([s.sent()])),
                            t.addSettingTab(new SM(e,t,this)),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.onDisable = function(e, t) {
                this.modal = null
            }
            ,
            e.prototype.saveSettings = function(e) {
                e.saveData(this.options)
            }
            ,
            e.prototype.onOpen = function() {
                return this.modal && this.modal.open(),
                !1
            }
            ,
            e
        }()
          , EM = function(e) {
            function t(t, n) {
                var i = e.call(this, t) || this;
                return i.emptyStateText = Te("plugins.command-palette.label-no-commands"),
                i.plugin = n,
                i.setInstructions([{
                    command: "↑↓",
                    purpose: Te("plugins.command-palette.instruction-navigate")
                }, {
                    command: "↵",
                    purpose: Te("plugins.command-palette.instruction-use")
                }, {
                    command: "esc",
                    purpose: Te("plugins.command-palette.instruction-dismiss")
                }]),
                i.setPlaceholder(Te("plugins.command-palette.prompt-type-command")),
                i.scope.register(null, "Tab", (function() {
                    return !1
                }
                )),
                i
            }
            return i(t, e),
            t.prototype.getItems = function() {
                var e = this.app.commands.listCommands()
                  , t = this.plugin.options.pinned;
                return t && e.sort((function(e, n) {
                    var i = t.indexOf(e.id)
                      , r = t.indexOf(n.id);
                    return i === r ? gx(e.name, n.name) : -1 === i ? 1 : -1 === r ? -1 : i - r
                }
                )),
                e
            }
            ,
            t.prototype.getItemText = function(e) {
                return e.name
            }
            ,
            t.prototype.renderSuggestion = function(t, n) {
                var i = t.item
                  , r = this.plugin.options.pinned;
                r && r.contains(i.id) && n.createSpan({
                    cls: "suggestion-flair"
                }, (function(e) {
                    yk(e, Lb, 13)
                }
                )),
                e.prototype.renderSuggestion.call(this, t, n);
                var o = this.app
                  , s = o.hotkeyManager.getHotkeys(i.id)
                  , a = o.hotkeyManager.getDefaultHotkeys(i.id);
                if (s)
                    for (var l = 0, c = s; l < c.length; l++) {
                        var u = c[l];
                        n.createEl("kbd", {
                            cls: "suggestion-hotkey",
                            text: lL(u)
                        })
                    }
                else if (a)
                    for (var h = 0, p = a; h < p.length; h++) {
                        var d = p[h];
                        n.createEl("kbd", {
                            cls: "suggestion-hotkey",
                            text: lL(d)
                        })
                    }
            }
            ,
            t.prototype.onChooseItem = function(e) {
                yS(e)
            }
            ,
            t
        }(OL)
          , SM = function(e) {
            function t(t, n, i) {
                var r = e.call(this, t, n) || this;
                return r.instance = i,
                r
            }
            return i(t, e),
            t.prototype.display = function() {
                var e = this
                  , t = this.containerEl;
                t.empty(),
                new vE(t).setHeading().setName(Te("plugins.command-palette.label-pinned-commands"));
                var n = []
                  , i = function() {
                    var t = n.map((function(e) {
                        return e.id
                    }
                    ));
                    0 === t.length && (t = null),
                    e.instance.options.pinned = t,
                    e.instance.saveSettings(e.plugin),
                    e.display()
                }
                  , r = this.instance.options.pinned;
                if (r)
                    for (var o = 0, s = r; o < s.length; o++) {
                        var a = s[o];
                        (g = this.app.commands.commands[a]) && n.push(g)
                    }
                for (var l = t.createDiv(), c = function(e) {
                    l.createDiv("mobile-option-setting-item", (function(t) {
                        t.createSpan({
                            cls: "mobile-option-setting-item-name",
                            text: e.name
                        }),
                        t.createSpan("", (function(t) {
                            yk(t, wb),
                            Je(t, Te("interface.delete-action-short-name")),
                            t.addEventListener("click", (function() {
                                n.remove(e),
                                i()
                            }
                            ))
                        }
                        )),
                        t.createSpan("mobile-option-setting-drag-icon", (function(r) {
                            yk(r, Uy),
                            Je(r, Te("interface.drag-to-rearrange")),
                            Ue(r, t, l, 0, (function() {
                                return null
                            }
                            ), (function(t) {
                                n.remove(e),
                                n.splice(t, 0, e),
                                i()
                            }
                            ))
                        }
                        ))
                    }
                    ))
                }, u = 0, h = n; u < h.length; u++) {
                    c(g = h[u])
                }
                0 === n.length && l.createDiv({
                    cls: "mobile-option-setting-item",
                    text: Te("plugins.command-palette.label-no-commands")
                });
                var p = this.app.commands.commands
                  , d = [];
                for (var f in p) {
                    var g = p[f];
                    n.contains(g) || d.push(g)
                }
                new vE(t).setName(Te("plugins.command-palette.option-add-new-pin")).setDesc(Te("plugins.command-palette.option-add-new-pin-description")).addText((function(t) {
                    return t.setPlaceholder(Te("plugins.command-palette.prompt-type-command")).then((function() {
                        new CM(e.app,t.inputEl,d,(function(e) {
                            n.push(e),
                            i()
                        }
                        ))
                    }
                    ))
                }
                ))
            }
            ,
            t
        }(iM)
          , LM = function(e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }
            return i(t, e),
            t.prototype.renderSuggestion = function(e, t) {
                t.setText(K(e.path))
            }
            ,
            t.prototype.getSuggestions = function(e) {
                e = e.toLowerCase();
                for (var t = [], n = 0, i = this.app.vault.getAllLoadedFiles(); n < i.length; n++) {
                    var r = i[n];
                    r instanceof Vf && r.path.toLowerCase().contains(e) && t.push(r)
                }
                return t.slice(0, 100)
            }
            ,
            t.prototype.selectSuggestion = function(e) {
                var t = this.textInputEl;
                t.value = K(e.path),
                t.trigger("input"),
                this.close()
            }
            ,
            t
        }(kM)
          , DM = function(e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }
            return i(t, e),
            t.prototype.getSuggestions = function(t) {
                var n = e.prototype.getSuggestions.call(this, t);
                return n = n.filter((function(e) {
                    return "md" === e.extension
                }
                ))
            }
            ,
            t
        }(LM)
          , MM = function(e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }
            return i(t, e),
            t.prototype.renderSuggestion = function(e, t) {
                t.setText(e.path)
            }
            ,
            t.prototype.getSuggestions = function(e) {
                e = e.toLowerCase();
                for (var t = [], n = 0, i = this.app.vault.getAllLoadedFiles(); n < i.length; n++) {
                    var r = i[n];
                    r instanceof qf && r.path.toLowerCase().contains(e) && t.push(r)
                }
                return t.slice(0, 100)
            }
            ,
            t.prototype.selectSuggestion = function(e) {
                var t = this.textInputEl;
                t.value = e.path,
                t.trigger("input"),
                this.close()
            }
            ,
            t
        }(kM)
          , AM = "YYYY-MM-DD"
          , TM = Fe("plugins.daily-notes")
          , FM = function() {
            function e() {
                this.id = "daily-notes",
                this.name = TM("name"),
                this.description = TM("desc"),
                this.app = null,
                this.plugin = null,
                this.options = {}
            }
            return e.prototype.init = function(e, t) {
                var n = this;
                this.app = e,
                this.plugin = t,
                t.registerRibbonAction(TM("action-open"), mb, this.onOpenDailyNote.bind(this)),
                t.registerGlobalCommand({
                    id: "daily-notes",
                    name: TM("action-open"),
                    icon: Vw,
                    callback: this.onOpenDailyNote.bind(this)
                }),
                t.registerGlobalCommand({
                    id: "daily-notes:goto-prev",
                    name: TM("action-open-previous"),
                    icon: sk,
                    checkCallback: function(e) {
                        var t = n.getCurrentFileDateTimestamp();
                        return !!t && (e || n.gotoPreviousExisting(t),
                        !0)
                    }
                }),
                t.registerGlobalCommand({
                    id: "daily-notes:goto-next",
                    name: TM("action-open-next"),
                    icon: ik,
                    checkCallback: function(e) {
                        var t = n.getCurrentFileDateTimestamp();
                        return !!t && (e || n.gotoNextExisting(t),
                        !0)
                    }
                })
            }
            ,
            e.prototype.onEnable = function(e, t) {
                return o(this, void 0, void 0, (function() {
                    var n, i = this;
                    return s(this, (function(r) {
                        switch (r.label) {
                        case 0:
                            return n = this,
                            [4, t.loadData()];
                        case 1:
                            return n.options = r.sent() || {},
                            t.addSettingTab(new PM(e,t,this)),
                            this.app.workspace.onLayoutReady((function() {
                                i.options.autorun && i.onOpenDailyNote()
                            }
                            )),
                            t.registerEvent(this.app.workspace.on("receive-text-menu", (function(e, t) {
                                e.addItem((function(e) {
                                    return e.setTitle(TM("action-insert-text")).setIcon(mb).onClick((function() {
                                        return o(i, void 0, void 0, (function() {
                                            var e;
                                            return s(this, (function(n) {
                                                switch (n.label) {
                                                case 0:
                                                    return [4, this.getDailyNote()];
                                                case 1:
                                                    return e = n.sent(),
                                                    [4, this.app.fileManager.insertTextIntoFile(e, t, "", "", !1)];
                                                case 2:
                                                    return n.sent(),
                                                    [4, this.app.workspace.getLeaf().openFile(e, {
                                                        active: !0,
                                                        state: {
                                                            mode: "source"
                                                        }
                                                    })];
                                                case 3:
                                                    return n.sent(),
                                                    [2]
                                                }
                                            }
                                            ))
                                        }
                                        ))
                                    }
                                    ))
                                }
                                ))
                            }
                            ))),
                            t.registerEvent(this.app.workspace.on("receive-files-menu", (function(e, t) {
                                e.addItem((function(e) {
                                    return e.setTitle(TM("action-insert-link")).setIcon(mb).onClick((function() {
                                        return o(i, void 0, void 0, (function() {
                                            var e, n, i = this;
                                            return s(this, (function(r) {
                                                switch (r.label) {
                                                case 0:
                                                    return [4, this.getDailyNote()];
                                                case 1:
                                                    return e = r.sent(),
                                                    n = t.map((function(t) {
                                                        return i.app.fileManager.generateMarkdownLink(t, e.path)
                                                    }
                                                    )),
                                                    [4, this.app.fileManager.insertTextIntoFile(e, n.join("\n"), "", "", !1)];
                                                case 2:
                                                    return r.sent(),
                                                    [4, this.app.workspace.getLeaf().openFile(e, {
                                                        active: !0,
                                                        state: {
                                                            mode: "source"
                                                        }
                                                    })];
                                                case 3:
                                                    return r.sent(),
                                                    [2]
                                                }
                                            }
                                            ))
                                        }
                                        ))
                                    }
                                    ))
                                }
                                ))
                            }
                            ))),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.getDailyNote = function() {
                return o(this, void 0, Promise, (function() {
                    var e, t, n, i, r, o, a, l, c, u, h, p, d, f, g, m, v;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            t = (e = this).app,
                            n = e.options,
                            i = window.moment,
                            r = i(),
                            o = null,
                            a = this.getFormat();
                            try {
                                o = r.format(a)
                            } catch (e) {
                                return new JC(TM("msg-fail-format", {
                                    format: a
                                })),
                                console.error(e),
                                [2]
                            }
                            if (o && (o = o.trim()),
                            (c = n.folder) && String.isString(c)) {
                                if (u = ee(c),
                                !((h = t.vault.getAbstractFileByPath(u))instanceof qf))
                                    return new JC(TM("msg-fail-folder", {
                                        folderOption: c
                                    })),
                                    [2, null];
                                l = h
                            } else
                                l = t.fileManager.getNewFileParent("");
                            return p = l.getParentPrefix() + o + ".md",
                            !(d = t.vault.getAbstractFileByPathInsensitive(p)) || d instanceof Vf ? (f = d) ? [3, 6] : (g = n.template) ? (m = t.metadataCache.getFirstLinkpathDest(g, "")) ? [4, t.vault.cachedRead(m)] : (new JC(TM("msg-fail-template-file", {
                                template: g
                            })),
                            [2]) : [3, 4] : [2, null];
                        case 1:
                            return v = (v = s.sent()).replace(/{{(date|time):(.*?)}}/gi, (function(e, t, n) {
                                return (0,
                                window.moment)().format(n)
                            }
                            )),
                            [4, t.fileManager.createNewMarkdownFile(l, o)];
                        case 2:
                            return f = s.sent(),
                            [4, t.vault.modify(f, v)];
                        case 3:
                            return s.sent(),
                            [3, 6];
                        case 4:
                            return [4, t.fileManager.createNewMarkdownFile(l, o)];
                        case 5:
                            f = s.sent(),
                            s.label = 6;
                        case 6:
                            return [2, f]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.onOpenDailyNote = function() {
                return o(this, void 0, void 0, (function() {
                    var e;
                    return s(this, (function(t) {
                        switch (t.label) {
                        case 0:
                            return [4, this.getDailyNote()];
                        case 1:
                            return (e = t.sent()) ? [4, this.app.workspace.getLeaf().openFile(e, {
                                active: !0,
                                state: {
                                    mode: "source"
                                }
                            })] : [3, 3];
                        case 2:
                            t.sent(),
                            t.label = 3;
                        case 3:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.gotoPreviousExisting = function(e) {
                return o(this, void 0, void 0, (function() {
                    var t, n;
                    return s(this, (function(i) {
                        switch (i.label) {
                        case 0:
                            return t = Number.NEGATIVE_INFINITY,
                            n = null,
                            this.iterateDailyNotes((function(i, r) {
                                r < e && r > t && (n = i,
                                t = r)
                            }
                            )),
                            n ? [4, this.app.workspace.getLeaf().openFile(n, {
                                active: !0
                            })] : (new JC(TM("msg-no-previous")),
                            [2]);
                        case 1:
                            return i.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.gotoNextExisting = function(e) {
                return o(this, void 0, void 0, (function() {
                    var t, n;
                    return s(this, (function(i) {
                        switch (i.label) {
                        case 0:
                            return t = Number.POSITIVE_INFINITY,
                            n = null,
                            this.iterateDailyNotes((function(i, r) {
                                r > e && r < t && (n = i,
                                t = r)
                            }
                            )),
                            n ? [4, this.app.workspace.getLeaf().openFile(n, {
                                active: !0
                            })] : (new JC(TM("msg-no-next")),
                            [2]);
                        case 1:
                            return i.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.iterateDailyNotes = function(e) {
                var t = this.app
                  , n = window.moment
                  , i = t.vault.getAllLoadedFiles()
                  , r = this.getFormat();
                i.forEach((function(t) {
                    if (t instanceof Vf) {
                        var i = n(t.basename, r, !0);
                        i.isValid() && e(t, i.valueOf())
                    }
                }
                ))
            }
            ,
            e.prototype.getCurrentFileDateTimestamp = function() {
                var e = this.app.workspace.getActiveViewOfType(gS);
                if (e) {
                    var t = e.file.basename
                      , n = this.getFormat()
                      , i = window.moment(t, n, !0);
                    if (i.isValid())
                        return i.valueOf()
                }
                return null
            }
            ,
            e.prototype.getFormat = function() {
                var e = this.options.format;
                return e && String.isString(e) ? e : AM
            }
            ,
            e
        }()
          , PM = function(e) {
            function t(t, n, i) {
                var r = e.call(this, t, n) || this;
                return r.instance = i,
                r
            }
            return i(t, e),
            t.prototype.display = function() {
                var e = this
                  , t = this.containerEl;
                t.empty();
                var n = this.instance.options
                  , i = document.createDocumentFragment();
                i.appendText(TM("label-refer-to-syntax")),
                i.createEl("a", {
                    text: TM("label-syntax-link"),
                    attr: {
                        href: "https://momentjs.com/docs/#/displaying/format/",
                        target: "_blank"
                    }
                }),
                i.createEl("br"),
                i.appendText(TM("label-syntax-live-preview"));
                var r = i.createEl("b", "u-pop");
                new vE(t).setName(TM("option-date-format")).setDesc(i).addMomentFormat((function(t) {
                    return t.setSampleEl(r).setDefaultFormat(AM).setValue(n.format).onChange((function(t) {
                        n.format = t.trim(),
                        e.plugin.saveData(n)
                    }
                    ))
                }
                )),
                new vE(t).setName(TM("option-new-file-location")).setDesc(TM("option-new-file-location-description")).addText((function(t) {
                    t.setPlaceholder(Te("setting.folder-path-example-placeholder")).setValue(n.folder).onChange((function(t) {
                        n.folder = t.trim(),
                        e.plugin.saveData(n)
                    }
                    )),
                    new MM(e.app,t.inputEl)
                }
                )),
                new vE(t).setName(TM("option-template")).setDesc(TM("option-template-description")).addText((function(t) {
                    t.setPlaceholder(Te("setting.file-path-example-placeholder")).setValue(n.template).onChange((function(t) {
                        n.template = t.trim(),
                        e.plugin.saveData(n)
                    }
                    )),
                    new DM(e.app,t.inputEl)
                }
                )),
                new vE(t).setName(TM("option-open-on-start")).setDesc(TM("option-open-on-start-description")).addToggle((function(t) {
                    return t.setValue(n.autorun).onChange((function(t) {
                        n.autorun = t,
                        e.plugin.saveData(n)
                    }
                    ))
                }
                ))
            }
            ,
            t
        }(iM);
        function OM() {
            return Te(on.isMobileApp ? "plugins.open-with-default-app.action-open-file-mobile" : "plugins.open-with-default-app.action-open-file")
        }
        var IM = function() {
            function e() {
                this.id = "open-with-default-app",
                this.name = Te("plugins.open-with-default-app.name"),
                this.description = Te("plugins.open-with-default-app.desc"),
                this.defaultOn = !0,
                this.app = null
            }
            return e.prototype.init = function(e, t) {
                var n = this;
                this.app = e,
                t.registerGlobalCommand({
                    id: "open-with-default-app:open",
                    name: OM(),
                    icon: Gw,
                    checkCallback: function(e) {
                        var t = n.app.workspace.getActiveFile();
                        if (t)
                            return e || n.app.openWithDefaultApp(t.path),
                            !0
                    }
                }),
                on.isDesktopApp && t.registerGlobalCommand({
                    id: "open-with-default-app:show",
                    name: Te("plugins.open-with-default-app.action-show-in-folder"),
                    icon: _w,
                    checkCallback: function(e) {
                        var t = n.app.workspace.getActiveFile();
                        if (t)
                            return e || n.app.showInFolder(t.path),
                            !0
                    }
                })
            }
            ,
            e.prototype.onEnable = function(e, t) {
                t.registerEvent(e.workspace.on("file-menu", this.onFileMenu, this))
            }
            ,
            e.prototype.onFileMenu = function(e, t) {
                var n = this;
                t instanceof Vf && e.addItem((function(e) {
                    return e.setTitle(OM()).setIcon(nb).onClick((function() {
                        return n.app.openWithDefaultApp(t.path)
                    }
                    ))
                }
                )),
                on.isDesktopApp && e.addItem((function(e) {
                    return e.setTitle(Te("plugins.open-with-default-app.action-show-in-folder")).setIcon(nb).onClick((function() {
                        return n.app.showInFolder(t.path)
                    }
                    ))
                }
                ))
            }
            ,
            e
        }()
          , NM = Fe("plugins.file-explorer")
          , RM = function() {
            function e() {
                this.id = "file-explorer",
                this.name = NM("name"),
                this.description = NM("desc"),
                this.defaultOn = !0,
                this.moveFileModal = null
            }
            return e.prototype.init = function(e, t) {
                var n = this;
                this.app = e,
                this.plugin = t,
                this.moveFileModal = new _M(e),
                t.registerGlobalCommand({
                    id: "file-explorer:open",
                    name: NM("action-show"),
                    icon: _w,
                    callback: function() {
                        n.app.workspace.ensureSideLeaf(qM, "left", !1)
                    }
                }),
                t.registerGlobalCommand({
                    id: "file-explorer:reveal-active-file",
                    name: NM("action-reveal-active-file"),
                    icon: $w,
                    checkCallback: function(e) {
                        var t = n.app.workspace.getActiveFile();
                        if (t)
                            return e || n.revealInFolder(t),
                            !0
                    }
                }),
                t.registerGlobalCommand({
                    id: "file-explorer:move-file",
                    name: NM("command-move-file"),
                    icon: Qw,
                    checkCallback: function(e) {
                        var t = n.app.workspace.getActiveFile();
                        if (t)
                            return e || (n.moveFileModal.setCurrentFile(t),
                            n.moveFileModal.open()),
                            !0
                    }
                }),
                t.registerViewType(qM, (function(e) {
                    return new UM(e)
                }
                ))
            }
            ,
            e.prototype.onEnable = function(e, t) {
                t.registerEvent(e.workspace.on("layout-ready", this.initLeaf, this)),
                t.registerEvent(e.workspace.on("file-menu", this.onFileMenu, this)),
                e.workspace.registerHoverLinkSource("file-explorer", {
                    display: this.name,
                    defaultMod: !0
                })
            }
            ,
            e.prototype.onDisable = function(e) {
                e.workspace.unregisterHoverLinkSource("file-explorer")
            }
            ,
            e.prototype.onUserEnable = function() {
                this.initLeaf()
            }
            ,
            e.prototype.onFileMenu = function(e, t, n) {
                var i = this;
                !on.isMobile && t instanceof Vf && "file-explorer-context-menu" !== n && e.addItem((function(e) {
                    return e.setTitle(NM("action-reveal-file")).setIcon(zy).onClick((function() {
                        return i.revealInFolder(t)
                    }
                    ))
                }
                )),
                "link-context-menu" !== n && e.addItem((function(e) {
                    return e.setTitle(NM(t instanceof Vf ? "action-move-file" : "action-move-folder")).setIcon(Fb).onClick((function() {
                        i.moveFileModal.setCurrentFile(t),
                        i.moveFileModal.open()
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.initLeaf = function() {
                this.app.workspace.ensureSideLeaf(qM, "left", !1, !1)
            }
            ,
            e.prototype.revealInFolder = function(e) {
                var t, n = this.app, i = n.workspace.getLeavesOfType("file-explorer");
                0 === i.length ? (t = n.workspace.getLeftLeaf(!0)).setViewState({
                    type: "file-explorer"
                }) : t = i[0],
                n.workspace.revealLeaf(t),
                t.view.revealInFolder(e)
            }
            ,
            e
        }()
          , BM = function() {
            function e() {
                this.info = {
                    height: 0,
                    width: 0,
                    childTop: 0,
                    computed: !1,
                    queued: !1,
                    hidden: !1
                }
            }
            return e.prototype.updateTitle = function() {
                this.titleInnerEl.setText(this.getTitle()),
                this.titleEl.setAttr("data-path", this.file.path)
            }
            ,
            e.prototype.isFullTitleShown = function() {
                var e = this.titleEl
                  , t = this.titleInnerEl
                  , n = e.offsetParent
                  , i = parseInt(getComputedStyle(e).paddingLeft) + e.offsetLeft
                  , r = n.clientWidth;
                return i + t.scrollWidth <= r + n.scrollLeft
            }
            ,
            e.prototype.startRename = function() {
                var e = this.titleInnerEl;
                e.addClass("is-being-renamed"),
                e.setAttribute("contenteditable", "true"),
                Rt(e)
            }
            ,
            e.prototype.stopRename = function() {
                var e = this.titleInnerEl;
                e.removeClass("is-being-renamed"),
                e.removeAttribute("contenteditable");
                var t = e.parentElement.find(".tooltip");
                t && t.remove()
            }
            ,
            e
        }()
          , zM = function(e) {
            function t(t, n) {
                var i = e.call(this) || this;
                i.fileExplorer = t,
                i.file = n;
                var r = i.el = createDiv("nav-file")
                  , o = i.titleEl = r.createDiv("nav-file-title")
                  , s = n.extension;
                return U.contains(s) || (i.tagEl = o.createDiv({
                    cls: "nav-file-tag",
                    text: s
                })),
                i.titleInnerEl = o.createDiv("nav-file-title-content"),
                i.updateTitle(),
                i
            }
            return i(t, e),
            t.prototype.getTitle = function() {
                return this.file.basename
            }
            ,
            t.prototype.updateTitle = function() {
                e.prototype.updateTitle.call(this),
                this.titleEl.toggleClass("is-unsupported", !this.isSupported())
            }
            ,
            t.prototype.isSupported = function() {
                return this.fileExplorer.app.viewRegistry.isExtensionRegistered(this.file.extension)
            }
            ,
            t
        }(BM)
          , HM = function(e) {
            function t(t, n) {
                var i = e.call(this) || this;
                i.pusherEl = wx(),
                i.fileExplorer = t,
                i.file = n;
                var r = n.isRoot()
                  , o = i.el = createDiv("nav-folder");
                r && o.addClass("mod-root");
                var s = i.titleEl = o.createDiv("nav-folder-title");
                return i.collapseIndicatorEl = s.createDiv("nav-folder-collapse-indicator collapse-icon"),
                i.titleInnerEl = s.createDiv("nav-folder-title-content"),
                i.childrenEl = o.createDiv("nav-folder-children"),
                r || (yk(i.collapseIndicatorEl, Ry, 8),
                s.addEventListener("click", i.onTitleElClick.bind(i))),
                i.updateTitle(),
                i.setCollapsed(!r, !1),
                i
            }
            return i(t, e),
            t.prototype.getTitle = function() {
                var e = this.file
                  , t = e.name;
                return e.isRoot() && (t = e.vault.getName()),
                t
            }
            ,
            t.prototype.onTitleElClick = function(e) {
                0 === e.button && this.fileExplorer.fileBeingRenamed !== this.file && (this.fileExplorer.handleFileClick(e, this) || this.toggleCollapsed(!0))
            }
            ,
            t.prototype.toggleCollapsed = function(e) {
                this.setCollapsed(!this.collapsed, e)
            }
            ,
            t.prototype.setCollapsed = function(e, t) {
                return o(this, void 0, void 0, (function() {
                    var n, i, r, o;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return this.collapsed === e ? [2] : (this.collapsed = e,
                            i = (n = this).el,
                            r = n.fileExplorer,
                            o = n.childrenEl,
                            i.toggleClass("is-collapsed", e),
                            o.style.minHeight = "",
                            r.requestSaveFold(),
                            [4, Ot(o, i, e, t)]);
                        case 1:
                            return s.sent(),
                            r.dom.infinityScroll.invalidate(this, !0),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.sort = function() {
                var e = this.file
                  , t = this.fileExplorer
                  , n = yx[t.sortOrder]
                  , i = e.children.slice();
                i.sort((function(e, t) {
                    var i = e instanceof qf
                      , r = t instanceof qf;
                    return i || r ? i && !r ? -1 : r && !i ? 1 : gx(e.name, t.name) : n(e, t)
                }
                ));
                for (var r = [], o = 0, s = i; o < s.length; o++) {
                    var a = s[o]
                      , l = t.fileItems[a.path];
                    l && r.push(l)
                }
                this.children = r
            }
            ,
            t
        }(BM)
          , VM = function(e) {
            this.navFileContainerEl = null,
            this.navFileContainerEl = e.createDiv("nav-files-container"),
            this.infinityScroll = new Cx(this.navFileContainerEl),
            this.infinityScroll.setWidth = !0
        }
          , qM = "file-explorer"
          , UM = function(e) {
            function t(t) {
                var n = e.call(this, t) || this;
                n.icon = zy,
                n.dom = null,
                n.currentHoverFile = null,
                n.sortOrder = "alphabetical",
                n.fileBeingRenamed = null,
                n.fileRenameScope = null,
                n.requestSaveFold = Pe(n.saveFold.bind(n), 2e3),
                n.ready = !1,
                n.activeDom = null,
                n.selectedDoms = [];
                var i = n.containerEl
                  , r = n.headerDom = new mE(n.app,i);
                return r.addNavButton(By, NM("action-new-note"), n.onCreateNewNoteClick.bind(n)),
                r.addNavButton(zy, NM("action-new-folder"), n.onCreateNewFolderClick.bind(n)),
                r.addSortButton((function(e) {
                    return n.setSortOrder(e)
                }
                ), (function() {
                    return n.sortOrder
                }
                )),
                n.fileItems = {},
                n.files = wC(),
                n.fileRenameScope = new nn(n.app.scope),
                n.sortOrder = n.app.vault.getConfig("fileSortOrder"),
                n.fileRenameScope.register([], "Enter", n.onKeyEnterInRename.bind(n)),
                n.fileRenameScope.register([], "Escape", n.onKeyEscInRename.bind(n)),
                n.requestSort = n.app.nextFrameOnceCallback(n.sort.bind(n)),
                n.dom = new VM(i),
                i.on("click", ".nav-file", n.onFileClick.bind(n)),
                i.on("auxclick", ".nav-file", n.onFileClick.bind(n)),
                i.on("mouseover", ".nav-file-title, .nav-folder-title", n.onFileMouseover.bind(n)),
                i.on("mouseout", ".nav-file-title, .nav-folder-title", n.onFileMouseout.bind(n)),
                i.on("contextmenu", ".nav-file-title, .nav-folder-title", n.openFileContextMenu.bind(n)),
                n
            }
            return i(t, e),
            t.prototype.getDisplayText = function() {
                return NM("name")
            }
            ,
            t.prototype.getViewType = function() {
                return qM
            }
            ,
            t.prototype.load = function() {
                var t = this;
                e.prototype.load.call(this);
                var n = this.app
                  , i = n.vault;
                this.registerEvent(i.on("create", this.onCreate, this)),
                this.registerEvent(i.on("delete", this.onDelete, this)),
                this.registerEvent(i.on("rename", this.onRename, this)),
                this.registerEvent(i.on("modify", this.onModify, this)),
                this.registerEvent(i.on("config-changed", this.updateConfig, this)),
                this.registerEvent(n.workspace.on("file-open", this.onFileOpen, this)),
                this.registerEvent(n.viewRegistry.on("extensions-updated", this.onExtensionsUpdated, this)),
                this.registerScopeEvent(n.scope.register([], "F2", this.onRenameWithShortcut.bind(this))),
                this.ready = !1;
                for (var r = 0, o = n.vault.getAllLoadedFiles(); r < o.length; r++) {
                    var s = o[r];
                    this.onCreate(s)
                }
                this.updateConfig(),
                this.app.workspace.onLayoutReady((function() {
                    t.ready = !0,
                    t.requestSort(),
                    t.loadFold()
                }
                ))
            }
            ,
            t.prototype.onCreate = function(e) {
                var t = e.path
                  , n = this.fileItems[t];
                n || (e instanceof Vf ? n = this.createItemDom(e) : e instanceof qf && (n = this.createFolderDom(e)),
                this.fileItems[t] = n,
                this.files.set(n.el, e)),
                this.requestSort()
            }
            ,
            t.prototype.onDelete = function(e) {
                var t = e.path
                  , n = this.fileItems[t];
                n && (this.files.delete(n.el),
                delete this.fileItems[t],
                this.activeDom === n && (this.activeDom = null),
                this.selectedDoms.remove(n)),
                this.requestSort()
            }
            ,
            t.prototype.onRename = function(e, t) {
                var n = e.path
                  , i = this.fileItems[t];
                i && (i.updateTitle(),
                delete this.fileItems[t],
                this.fileItems[n] = i,
                this.files.set(i.el, e),
                i instanceof HM && this.requestSaveFold()),
                this.requestSort()
            }
            ,
            t.prototype.onModify = function() {
                "byModifiedTime" !== this.sortOrder && "byModifiedTimeReverse" !== this.sortOrder || this.requestSort()
            }
            ,
            t.prototype.updateConfig = function() {
                var e = this.app.vault;
                this.dom.navFileContainerEl.toggleClass("show-unsupported", e.getConfig("showUnsupportedFiles")),
                this.dom.infinityScroll.invalidateAll()
            }
            ,
            t.prototype.openFileContextMenu = function(e, t) {
                var n = this;
                e.preventDefault();
                var i = this.files.get(t.parentElement);
                if (!(i instanceof qf && i.isRoot())) {
                    var r = new Zk(this.app);
                    if (on.isMobile && r.addItem((function(e) {
                        return e.setTitle(i.name).setIsLabel(!0)
                    }
                    )).addSeparator(),
                    i instanceof qf) {
                        var a = i;
                        r.addItem((function(e) {
                            return e.setTitle(NM("menu-opt-new-note")).setIcon(Oy).onClick((function(e) {
                                var t = rn.isModifier(e, "Mod");
                                n.createAbstractFile("file", a, t)
                            }
                            ))
                        }
                        )).addItem((function(e) {
                            return e.setTitle(NM("menu-opt-new-folder")).setIcon(zy).onClick((function(e) {
                                var t = rn.isModifier(e, "Mod");
                                n.createAbstractFile("folder", a, t)
                            }
                            ))
                        }
                        )).addItem((function(e) {
                            return e.setTitle(NM("menu-opt-set-attachment-folder")).setIcon(Wy).onClick((function(e) {
                                n.app.setAttachmentFolder(a)
                            }
                            ))
                        }
                        )),
                        r.addSeparator()
                    }
                    r.addItem((function(e) {
                        return e.setTitle(NM("menu-opt-rename")).setIcon(Hy).onClick((function() {
                            return n.startRenameFile(i)
                        }
                        ))
                    }
                    )),
                    r.addItem((function(e) {
                        return e.setTitle(NM("menu-opt-delete")).setIcon(Iy).onClick((function() {
                            return o(n, void 0, void 0, (function() {
                                return s(this, (function(e) {
                                    return i instanceof qf ? this.app.fileManager.promptForFolderDeletion(i) : i instanceof Vf && this.app.fileManager.promptForFileDeletion(i),
                                    [2]
                                }
                                ))
                            }
                            ))
                        }
                        ))
                    }
                    )),
                    r.addItem((function(e) {
                        return e.setTitle(Te("interface.menu.open-in-new-pane")).setIcon(gb).onClick((function() {
                            return o(n, void 0, void 0, (function() {
                                return s(this, (function(e) {
                                    return i instanceof Vf && this.app.workspace.openLinkText(i.path, "", !0),
                                    [2]
                                }
                                ))
                            }
                            ))
                        }
                        ))
                    }
                    )),
                    this.app.workspace.trigger("file-menu", r, i, "file-explorer-context-menu", null),
                    i instanceof Vf && r.addItem((function(e) {
                        return e.setTitle(NM("menu-opt-make-copy")).setIcon(Yy).onClick((function(e) {
                            return o(n, void 0, void 0, (function() {
                                var t, n, r;
                                return s(this, (function(o) {
                                    switch (o.label) {
                                    case 0:
                                        return i instanceof Vf ? (t = rn.isModifier(e, "Mod"),
                                        n = this.app.vault.getAvailablePath(K(i.path), i.extension),
                                        [4, this.app.vault.copy(i, n)]) : [3, 2];
                                    case 1:
                                        r = o.sent(),
                                        this.afterCreate(r, t),
                                        o.label = 2;
                                    case 2:
                                        return [2]
                                    }
                                }
                                ))
                            }
                            ))
                        }
                        ))
                    }
                    )),
                    r.showAtMouseEvent(e);
                    var l = this.fileItems[i.path];
                    l && (l.titleEl.addClass("is-being-dragged"),
                    r.onHide((function() {
                        l.titleEl.removeClass("is-being-dragged")
                    }
                    )))
                }
            }
            ,
            t.prototype.setSortOrder = function(e) {
                this.sortOrder = e,
                this.app.vault.setConfig("fileSortOrder", e),
                this.sort()
            }
            ,
            t.prototype.onCreateNewFolderClick = function(e) {
                return o(this, void 0, void 0, (function() {
                    return s(this, (function(t) {
                        return e.preventDefault(),
                        this.createAbstractFile("folder", null, !1),
                        [2]
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.onCreateNewNoteClick = function(e) {
                return o(this, void 0, void 0, (function() {
                    var t, n, i, r, o;
                    return s(this, (function(s) {
                        return e.preventDefault(),
                        t = rn.isModifier(e, "Mod"),
                        n = this.app.workspace,
                        i = "",
                        (r = n.getActiveFile()) && (i = r.path),
                        o = this.app.fileManager.getNewFileParent(i),
                        this.createAbstractFile("file", o, t),
                        [2]
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.createAbstractFile = function(e, t, n) {
                return o(this, void 0, void 0, (function() {
                    var i, r;
                    return s(this, (function(o) {
                        switch (o.label) {
                        case 0:
                            return i = this.app,
                            r = null,
                            "file" !== e ? [3, 2] : [4, i.fileManager.createNewMarkdownFile(t)];
                        case 1:
                            return r = o.sent(),
                            [3, 4];
                        case 2:
                            return "folder" !== e ? [3, 4] : [4, i.fileManager.createNewFolder(t)];
                        case 3:
                            r = o.sent(),
                            o.label = 4;
                        case 4:
                            return this.afterCreate(r, n),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.afterCreate = function(e, t) {
                return o(this, void 0, void 0, (function() {
                    var n, i, r = this;
                    return s(this, (function(a) {
                        switch (a.label) {
                        case 0:
                            return e ? (n = this.app,
                            e instanceof Vf ? (i = n.workspace,
                            [4, i.getLeaf(t).openFile(e, {
                                active: !0,
                                state: {
                                    mode: "source"
                                },
                                eState: {
                                    rename: "all"
                                }
                            })]) : [3, 2]) : [2];
                        case 1:
                            return a.sent(),
                            [3, 3];
                        case 2:
                            n.nextFrame((function() {
                                return o(r, void 0, void 0, (function() {
                                    var t;
                                    return s(this, (function(n) {
                                        return this.sort(),
                                        this.startRenameFile(e),
                                        (t = this.fileItems[e.path]) && t.titleEl.scrollIntoView(!1),
                                        [2]
                                    }
                                    ))
                                }
                                ))
                            }
                            )),
                            a.label = 3;
                        case 3:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.onFileClick = function(e, t) {
                if (0 === e.button || 1 === e.button) {
                    e.preventDefault();
                    var n = this.files.get(t);
                    if (this.fileBeingRenamed !== n && n && n instanceof Vf) {
                        var i = this.fileItems[n.path];
                        if (this.handleFileClick(e, i))
                            return;
                        var r = this.app.workspace
                          , o = rn.isModifier(e, "Mod");
                        r.getLeaf(o || 1 === e.button).openFile(n, {
                            active: !0
                        })
                    }
                }
            }
            ,
            t.prototype.handleFileClick = function(e, t) {
                var n, i = this.selectedDoms, r = this.activeDom;
                if (e.altKey)
                    return i.contains(t) ? (i.remove(t),
                    t.titleEl.removeClass("is-active")) : (i.push(t),
                    t.titleEl.addClass("is-active")),
                    !0;
                if (e.shiftKey) {
                    if (r === t || !r)
                        return !0;
                    var o = this.fileItems["/"]
                      , s = r
                      , a = t
                      , l = this.getItemDomAncestorTree(o, s)
                      , c = this.getItemDomAncestorTree(o, a);
                    if (!l || !c)
                        return !0;
                    for (var u = o; l.length > 0 && c.length > 0 && l.last() === c.last(); )
                        u = l.last(),
                        l.pop(),
                        c.pop();
                    var h = u.children.indexOf(l.last() || s)
                      , p = u.children.indexOf(c.last() || a);
                    if (-1 === h || -1 === p)
                        return !0;
                    if (p < h) {
                        var d = s;
                        s = a,
                        a = d;
                        var f = l;
                        l = c,
                        c = f;
                        var g = h;
                        h = p,
                        p = g
                    }
                    var m = [];
                    m.push(s);
                    for (var v = s, y = 0, b = l; y < b.length; y++) {
                        for (var w = b[y], k = w.children.indexOf(v) + 1; k < w.children.length; k++)
                            m.push(w.children[k]);
                        v = w
                    }
                    for (k = h + 1; k < p; k++)
                        m.push(u.children[k]);
                    c.reverse();
                    for (k = 0; k < c.length; k++) {
                        var C = c[k]
                          , x = k === c.length - 1 ? a : c[k + 1];
                        m.push(C);
                        for (var E = C.children.indexOf(x), S = 0; S < E; S++)
                            m.push(C.children[S])
                    }
                    m.push(a),
                    n = m,
                    m = Array.from(new Set(n));
                    for (var L = this.app.vault.getConfig("showUnsupportedFiles"), D = 0, M = m; D < M.length; D++) {
                        var A = M[D];
                        !L && A instanceof zM && !A.isSupported() || (i.contains(A) || (i.push(A),
                        A.titleEl.addClass("is-active")))
                    }
                    return !0
                }
            }
            ,
            t.prototype.getItemDomAncestorTree = function(e, t) {
                for (var n = 0, i = e.children; n < i.length; n++) {
                    var r = i[n];
                    if (r === t)
                        return [e];
                    if (r instanceof HM) {
                        var o = this.getItemDomAncestorTree(r, t);
                        if (o)
                            return o.push(e),
                            o
                    }
                }
                return null
            }
            ,
            t.prototype.onFileMouseover = function(e, t) {
                if (He(e, t) && !qe(e)) {
                    var n = this.files.get(t.parentElement);
                    if (n) {
                        this.currentHoverFile = n;
                        var i = ""
                          , r = "";
                        n instanceof Vf && (i = NM("tooltip-modified-time", {
                            time: window.moment(n.stat.mtime).format("YYYY-MM-DD HH:mm")
                        }),
                        r = NM("tooltip-created-time", {
                            time: window.moment(n.stat.ctime).format("YYYY-MM-DD HH:mm")
                        }));
                        var o = this.fileItems[n.path]
                          , s = "";
                        if (o && !o.isFullTitleShown() && (s += o.getTitle()),
                        n instanceof Vf)
                            "" !== s && (s += "\n\n"),
                            s += i + "\n" + r;
                        else if (n instanceof qf) {
                            var a = Te("nouns.file-with-count", {
                                count: n.getFileCount()
                            })
                              , l = Te("nouns.folder-with-count", {
                                count: n.getFolderCount()
                            });
                            "" !== s && (s += "\n\n"),
                            s += NM("tooltip-folders-files-count", {
                                fileCount: a,
                                folderCount: l
                            })
                        }
                        "" !== s && Ke(t, s, {
                            placement: this.getSideTooltipPlacement(),
                            gap: 24,
                            horizontalParent: this.containerEl,
                            delay: 100
                        }),
                        n instanceof Vf && this.app.workspace.trigger("hover-link", {
                            event: e,
                            source: "file-explorer",
                            hoverParent: this,
                            targetEl: t,
                            linktext: n.path
                        })
                    }
                }
            }
            ,
            t.prototype.onFileMouseout = function(e, t) {
                He(e, t) && (this.currentHoverFile = null,
                this.clearTooltip())
            }
            ,
            t.prototype.onFileOpen = function(e) {
                var t = e ? this.fileItems[e.path] : null;
                if (t !== this.activeDom) {
                    var n = this.activeDom
                      , i = this.selectedDoms;
                    n && n.titleEl.removeClass("is-active");
                    for (var r = 0, o = i; r < o.length; r++) {
                        o[r].titleEl.removeClass("is-active")
                    }
                    this.selectedDoms = [],
                    this.activeDom = t,
                    t && (this.selectedDoms.push(t),
                    t.titleEl.addClass("is-active"))
                }
            }
            ,
            t.prototype.onResize = function() {
                this.dom.infinityScroll.onResize()
            }
            ,
            t.prototype.revealInFolder = function(e) {
                for (var t = this, n = e.parent; n && null !== n.path; ) {
                    var i = this.fileItems[n.path];
                    i && i instanceof HM && i.collapsed && i.toggleCollapsed(!1),
                    n = n.parent
                }
                this.app.nextFrame((function() {
                    var n = t.fileItems[e.path]
                      , i = t.dom.infinityScroll;
                    i.computeSync(),
                    i.scrollIntoView(n);
                    var r = n.el;
                    r.addClass("is-flashing"),
                    setTimeout((function() {
                        r.removeClass("is-flashing")
                    }
                    ), 2e3)
                }
                ))
            }
            ,
            t.prototype.sort = function() {
                if (this.ready) {
                    var e = this.fileItems
                      , t = [];
                    for (var n in e)
                        e.hasOwnProperty(n) && t.push(e[n]);
                    for (var i = this.dom.navFileContainerEl, r = i.scrollTop, o = 0, s = t; o < s.length; o++) {
                        var a = s[o];
                        a instanceof HM && (a.sort(),
                        a.file.isRoot() && (this.dom.infinityScroll.rootEl = a,
                        this.dom.navFileContainerEl.setChildrenInPlace([a.el])))
                    }
                    i.scrollTop = r,
                    this.dom.infinityScroll.compute()
                }
            }
            ,
            t.prototype.loadFold = function() {
                var e = this.fileItems
                  , t = this.app.loadLocalStorage("file-explorer-unfold");
                if (t && Array.isArray(t))
                    for (var n = 0, i = t; n < i.length; n++) {
                        var r = e[i[n]];
                        r && r instanceof HM && r.collapsed && r.toggleCollapsed(!1)
                    }
            }
            ,
            t.prototype.saveFold = function() {
                if (this.ready) {
                    var e = this.fileItems
                      , t = [];
                    for (var n in e)
                        if (e.hasOwnProperty(n)) {
                            var i = e[n];
                            i && i instanceof HM && !i.collapsed && t.push(i.file.path)
                        }
                    this.app.saveLocalStorage("file-explorer-unfold", t)
                }
            }
            ,
            t.prototype.attachFileEvents = function(e) {
                e.titleInnerEl.addEventListener("blur", this.onTitleBlur.bind(this)),
                e.titleInnerEl.addEventListener("input", this.onFileRenameInput.bind(this))
            }
            ,
            t.prototype.dragFiles = function(e, t) {
                var n = this.selectedDoms;
                if (0 === n.length || 1 === n.length && n[0] === t)
                    return null;
                if (!n.contains(t))
                    return null;
                for (var i = [], r = [], o = 0, s = n; o < s.length; o++) {
                    var a = s[o];
                    r.push(a.file),
                    i.push(a.titleEl)
                }
                var l = this.app.dragManager;
                return l.updateSource(i, "is-being-dragged"),
                l.dragFiles(e, r)
            }
            ,
            t.prototype.createItemDom = function(e) {
                var t = this
                  , n = new zM(this,e)
                  , i = n.titleEl
                  , r = this.app.dragManager;
                return r.handleDrag(i, (function(o) {
                    var s = t.dragFiles(o, n);
                    return s || (r.updateSource([i], "is-being-dragged"),
                    r.dragFile(o, e))
                }
                )),
                this.attachFileEvents(n),
                n
            }
            ,
            t.prototype.canMoveFileToFolder = function(e, t) {
                if (e === t)
                    return !1;
                if (e instanceof qf && e.isRoot())
                    return !1;
                if (e instanceof qf && t.path.startsWith(e.path))
                    return !1;
                var n = e.name;
                return "/" !== t.path && (n = t.path + "/" + n),
                e.path !== n
            }
            ,
            t.prototype.createFolderDom = function(e) {
                var t = this
                  , n = new HM(this,e)
                  , i = n.titleEl
                  , r = this.app.dragManager;
                return n.file.isRoot() || r.handleDrag(i, (function(o) {
                    var s = t.dragFiles(o, n);
                    return s || (r.updateSource([i], "is-being-dragged"),
                    r.dragFolder(o, e))
                }
                )),
                r.handleDrop(i, (function(n, r, a) {
                    var l = e.name || t.app.vault.getName();
                    if (!r) {
                        if ((m = n.dataTransfer.files).length > 0 && !a) {
                            for (var c = [], u = 0; u < m.length; u++) {
                                var h = (p = m[u]).path;
                                h && c.push(h)
                            }
                            o(t, void 0, void 0, (function() {
                                var t, n, i, r, o, a, l, u;
                                return s(this, (function(s) {
                                    switch (s.label) {
                                    case 0:
                                        t = this.app.vault,
                                        n = 0,
                                        s.label = 1;
                                    case 1:
                                        return n < c.length ? [4, ge(i = c[n])] : [3, 5];
                                    case 2:
                                        return (r = s.sent()) ? (o = W(ee(i)),
                                        a = Q(o),
                                        l = Y(o),
                                        u = t.getAvailablePath(e.getParentPrefix() + l, a),
                                        [4, t.createBinary(u, r)]) : [3, 4];
                                    case 3:
                                        s.sent(),
                                        s.label = 4;
                                    case 4:
                                        return n++,
                                        [3, 1];
                                    case 5:
                                        return [2]
                                    }
                                }
                                ))
                            }
                            ))
                        }
                        return {
                            dropEffect: "copy",
                            hoverEl: i,
                            hoverClass: "is-being-dragged-over"
                        }
                    }
                    if ("file" === r.type || "folder" === r.type) {
                        var p = r.file;
                        if (!t.canMoveFileToFolder(p, e))
                            return;
                        var d = p.name;
                        if ("/" !== e.path && (d = e.path + "/" + d),
                        !a) {
                            if (t.app.vault.getAbstractFileByPath(d)) {
                                var f = K(d)
                                  , g = Q(W(d));
                                d = t.app.vault.getAvailablePath(f, g)
                            }
                            t.app.fileManager.renameFile(p, d)
                        }
                        return {
                            action: Te("interface.drag-and-drop.move-into-folder", {
                                folder: l
                            }),
                            dropEffect: "move",
                            hoverEl: i,
                            hoverClass: "is-being-dragged-over"
                        }
                    }
                    if ("files" === r.type) {
                        for (var m, v = [], y = 0, b = m = r.files; y < b.length; y++) {
                            p = b[y];
                            t.canMoveFileToFolder(p, e) && v.push(p)
                        }
                        for (var w = [], k = 0, C = v; k < C.length; k++) {
                            p = C[k];
                            for (var x = !0, E = 0, S = v; E < S.length; E++) {
                                var L = S[E];
                                if (L instanceof qf && p.path.startsWith(L.path)) {
                                    x = !1;
                                    break
                                }
                            }
                            x && w.push(p)
                        }
                        if (0 === w.length)
                            return;
                        return a || o(t, void 0, void 0, (function() {
                            var t, n, i, r, o, a;
                            return s(this, (function(s) {
                                switch (s.label) {
                                case 0:
                                    t = 0,
                                    n = w,
                                    s.label = 1;
                                case 1:
                                    return t < n.length ? (i = n[t],
                                    r = i.name,
                                    "/" !== e.path && (r = e.path + "/" + r),
                                    this.app.vault.getAbstractFileByPath(r) && (i instanceof Vf ? (o = K(r),
                                    a = Q(W(r)),
                                    r = this.app.vault.getAvailablePath(o, a)) : i instanceof qf && (r = this.app.vault.getAvailablePath(r))),
                                    [4, this.app.fileManager.renameFile(i, r)]) : [3, 4];
                                case 2:
                                    s.sent(),
                                    s.label = 3;
                                case 3:
                                    return t++,
                                    [3, 1];
                                case 4:
                                    return [2]
                                }
                            }
                            ))
                        }
                        )),
                        {
                            action: Te("interface.drag-and-drop.move-into-folder", {
                                folder: l
                            }),
                            dropEffect: "move",
                            hoverEl: i,
                            hoverClass: "is-being-dragged-over"
                        }
                    }
                }
                ), !0),
                this.attachFileEvents(n),
                n
            }
            ,
            t.prototype.onTitleBlur = function() {
                return o(this, void 0, void 0, (function() {
                    return s(this, (function(e) {
                        return this.finishRename(),
                        [2]
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.onFileRenameInput = function(e) {
                var t = e.currentTarget
                  , n = this.files.get(t.parentElement.parentElement)
                  , i = t.getText();
                (1 === t.childNodes.length && t.firstChild.nodeType === Node.TEXT_NODE || (t.setText(i),
                Rt(t, !1)),
                i = i.trim(),
                this.clearTooltip(),
                Df.test(i)) ? Ke(t.parentElement, NM("msg-invalid-characters") + Sf, {
                    classes: ["mod-error"]
                }) : this.app.vault.checkForDuplicate(n, i) ? Ke(t.parentElement, NM("msg-file-already-exists"), {
                    classes: ["mod-error"]
                }) : Mf.test(i) && Ke(t.parentElement, NM("msg-unsafe-characters") + Lf, {
                    classes: ["mod-error"]
                })
            }
            ,
            t.prototype.startRenameFile = function(e) {
                return o(this, void 0, void 0, (function() {
                    var t, n;
                    return s(this, (function(i) {
                        switch (i.label) {
                        case 0:
                            return e instanceof qf && e.isRoot() ? [2] : [4, this.finishRename()];
                        case 1:
                            for (i.sent(),
                            this.fileBeingRenamed = e,
                            t = e.parent; t && null !== t.path; )
                                (n = this.fileItems[t.path]) && n instanceof HM && n.collapsed && n.toggleCollapsed(!1),
                                t = t.parent;
                            return this.app.keymap.pushScope(this.fileRenameScope),
                            this.fileItems[e.path].startRename(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.finishRename = function() {
                return o(this, void 0, void 0, (function() {
                    var e, t, n, i, r, o, a;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            if (!(e = this.fileBeingRenamed))
                                return [2];
                            if (this.exitRename(),
                            t = this.fileItems[e.path],
                            n = t.titleInnerEl,
                            "" === (i = n.getText().trim()))
                                return t.updateTitle(),
                                this.displayError(NM("msg-empty-file-name"), t),
                                [2];
                            if (r = e.getNewPathAfterRename(i),
                            e.path === r)
                                return [2];
                            s.label = 1;
                        case 1:
                            return s.trys.push([1, 3, , 4]),
                            [4, this.app.fileManager.renameFile(e, r)];
                        case 2:
                            return s.sent(),
                            [3, 4];
                        case 3:
                            return (o = s.sent()) && (console.error(o),
                            a = o.message || o.code || o.toString(),
                            this.displayError(a, t)),
                            [3, 4];
                        case 4:
                            return t.updateTitle(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.displayError = function(e, t) {
                Ke(t.titleEl, e, {
                    placement: "bottom",
                    classes: ["mod-error"]
                }),
                setTimeout(this.clearTooltip.bind(this), 2e3)
            }
            ,
            t.prototype.exitRename = function() {
                var e = this.fileBeingRenamed;
                this.fileBeingRenamed = null,
                this.fileItems[e.path].stopRename(),
                this.app.keymap.popScope(this.fileRenameScope)
            }
            ,
            t.prototype.onKeyEnterInRename = function(e) {
                e.preventDefault(),
                this.finishRename()
            }
            ,
            t.prototype.onKeyEscInRename = function() {
                var e = this.fileBeingRenamed;
                e && (this.fileItems[e.path].updateTitle(),
                this.exitRename())
            }
            ,
            t.prototype.onRenameWithShortcut = function() {
                return o(this, void 0, void 0, (function() {
                    return s(this, (function(e) {
                        switch (e.label) {
                        case 0:
                            return this.currentHoverFile ? [4, this.startRenameFile(this.currentHoverFile)] : [3, 2];
                        case 1:
                            e.sent(),
                            e.label = 2;
                        case 2:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.onExtensionsUpdated = function() {
                var e = this.fileItems;
                for (var t in e)
                    e.hasOwnProperty(t) && e[t].updateTitle()
            }
            ,
            t.prototype.clearTooltip = function() {
                Qe()
            }
            ,
            t
        }(YC)
          , _M = function(e) {
            function t(t) {
                var n = e.call(this, t) || this;
                return n.currentFile = null,
                n.emptyStateText = NM("label-no-folders"),
                n.setInstructions([{
                    command: "↑↓",
                    purpose: NM("instruction-navigate")
                }, {
                    command: "↵",
                    purpose: NM("instruction-move")
                }, {
                    command: "esc",
                    purpose: NM("instruction-dismiss")
                }]),
                n.inputEl.setAttribute("placeholder", NM("prompt-type-folder")),
                n.scope.register(null, "Tab", (function() {
                    return !1
                }
                )),
                n
            }
            return i(t, e),
            t.prototype.setCurrentFile = function(e) {
                this.currentFile = e
            }
            ,
            t.prototype.getItems = function() {
                for (var e = [], t = 0, n = this.app.vault.getAllLoadedFiles(); t < n.length; t++) {
                    var i = n[t];
                    i instanceof qf && e.push(i)
                }
                return e
            }
            ,
            t.prototype.getItemText = function(e) {
                return e.isRoot() ? "/" : e.path
            }
            ,
            t.prototype.onChooseItem = function(e) {
                return o(this, void 0, Promise, (function() {
                    var t, n, i, r, o;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return t = this.app,
                            (n = this.currentFile) ? n === e ? [2] : (i = n.name,
                            "/" !== e.path && (i = e.path + "/" + i),
                            n.path === i ? [2] : (t.vault.getAbstractFileByPath(i) && (r = K(i),
                            o = Q(W(i)),
                            i = t.vault.getAvailablePath(r, o)),
                            [4, t.fileManager.renameFile(n, i)])) : [2];
                        case 1:
                            return s.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t
        }(OL)
          , jM = {
            intervalMinutes: 5,
            keepDays: 7
        }
          , WM = Fe("plugins.file-recovery")
          , $M = function() {
            function e() {
                this.id = "file-recovery",
                this.name = WM("name"),
                this.description = WM("desc"),
                this.defaultOn = !0,
                this.app = null,
                this.pluginInstance = null,
                this.db = null,
                this.tsCache = {},
                this.pendingFiles = new Set
            }
            return e.prototype.init = function(e, t) {
                this.app = e,
                this.pluginInstance = t,
                t.registerGlobalCommand({
                    id: "file-recovery:open",
                    name: WM("action-open"),
                    icon: Xw,
                    callback: this.openModal.bind(this)
                })
            }
            ,
            e.prototype.onEnable = function(e, t) {
                return o(this, void 0, void 0, (function() {
                    var n, i, r, o, a, l = this;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return n = this,
                            r = (i = Object).assign,
                            o = [{}, jM],
                            [4, t.loadData()];
                        case 1:
                            return n.options = r.apply(i, o.concat([s.sent()])),
                            t.addSettingTab(new GM(e,t,this)),
                            t.registerEvent(e.vault.on("modify", this.onFileChanged, this)),
                            t.registerEvent(e.workspace.on("file-open", this.onFileChanged, this)),
                            t.registerInterval(window.setInterval(this.resave.bind(this), 6e4)),
                            t.registerInterval(window.setInterval(this.cleanup.bind(this), 36e5)),
                            e.workspace.onLayoutReady((function() {
                                t.registerEvent(e.vault.on("create", l.onFileChanged, l))
                            }
                            )),
                            a = this,
                            [4, CL(this.app.appId + "-backup", 1, {
                                upgrade: function(e, t, n, i) {
                                    e.objectStoreNames.contains("backups") && e.deleteObjectStore("backups");
                                    var r = e.createObjectStore("backups", {
                                        autoIncrement: !0
                                    });
                                    r.createIndex("path", "path"),
                                    r.createIndex("ts", "ts")
                                }
                            })];
                        case 2:
                            return a.db = s.sent(),
                            this.cleanup(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.onDisable = function() {
                this.db && (this.db.close(),
                this.db = null)
            }
            ,
            e.prototype.onFileChanged = function(e) {
                return o(this, void 0, void 0, (function() {
                    var t, n, i, r, o, a, l, c, u, h;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return e && e instanceof Vf && "md" === e.extension ? (n = (t = this).db,
                            i = t.tsCache,
                            n ? (r = e.path,
                            o = i[r],
                            a = null,
                            i.hasOwnProperty(r) ? [3, 2] : [4, this.getLastVersionByPath(r)]) : [2]) : [2];
                        case 1:
                            a = s.sent(),
                            o = a ? a.ts : 0,
                            i[r] = o,
                            s.label = 2;
                        case 2:
                            return l = Date.now(),
                            c = l - o,
                            u = this.options.intervalMinutes,
                            (isNaN(u) || u < 0) && (u = 5),
                            c < 60 * u * 1e3 ? (this.pendingFiles.add(r),
                            [2]) : [4, this.app.vault.cachedRead(e)];
                        case 3:
                            return h = s.sent(),
                            a ? [3, 5] : [4, this.getLastVersionByPath(r)];
                        case 4:
                            a = s.sent(),
                            s.label = 5;
                        case 5:
                            return a && a.data === h ? [2] : [4, n.add("backups", {
                                path: r,
                                ts: l,
                                data: h
                            })];
                        case 6:
                            return s.sent(),
                            i[r] = l,
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.resave = function() {
                return o(this, void 0, void 0, (function() {
                    var e, t, n, i, r, o;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            e = this.pendingFiles,
                            t = Array.from(e),
                            n = this.app.vault,
                            i = 0,
                            r = t,
                            s.label = 1;
                        case 1:
                            return i < r.length ? (o = r[i],
                            e.delete(o),
                            [4, this.onFileChanged(n.getAbstractFileByPath(o))]) : [3, 4];
                        case 2:
                            s.sent(),
                            s.label = 3;
                        case 3:
                            return i++,
                            [3, 1];
                        case 4:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.cleanup = function() {
                return o(this, void 0, void 0, (function() {
                    var e, t, n, i, r;
                    return s(this, (function(o) {
                        switch (o.label) {
                        case 0:
                            return (e = this.db) ? (t = e.transaction("backups", "readwrite"),
                            n = t.store.index("ts"),
                            i = this.options.keepDays,
                            (isNaN(i) || i < 1) && (i = 7),
                            [4, n.openCursor(IDBKeyRange.upperBound(Date.now() - 24 * i * 60 * 60 * 1e3))]) : [2];
                        case 1:
                            r = o.sent(),
                            o.label = 2;
                        case 2:
                            return r ? [4, r.delete()] : [3, 5];
                        case 3:
                            return o.sent(),
                            [4, r.continue()];
                        case 4:
                            return r = o.sent(),
                            [3, 2];
                        case 5:
                            return [4, t.done];
                        case 6:
                            return o.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.openModal = function() {
                new KM(this.app,this).open()
            }
            ,
            e.prototype.clearData = function() {
                this.db.clear("backups"),
                this.tsCache = {}
            }
            ,
            e.prototype.getLastVersionByPath = function(e) {
                return o(this, void 0, Promise, (function() {
                    var t, n;
                    return s(this, (function(i) {
                        switch (i.label) {
                        case 0:
                            return t = this.db.transaction("backups", "readonly"),
                            [4, t.store.index("path").openCursor(e, "prev")];
                        case 1:
                            return [2, (n = i.sent()) ? n.value : null]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e
        }()
          , GM = function(e) {
            function t(t, n, i) {
                var r = e.call(this, t, n) || this;
                return r.instance = i,
                r
            }
            return i(t, e),
            t.prototype.display = function() {
                var e = this
                  , t = this.containerEl;
                t.empty();
                var n = this.instance.options;
                new vE(t).setName(WM("option-interval")).setDesc(WM("option-interval-description")).addText((function(t) {
                    return t.setValue(String(n.intervalMinutes)).onChange((function(t) {
                        var i = parseFloat(t);
                        !isNaN(i) && i >= 0 && (n.intervalMinutes = i,
                        e.plugin.saveData(n))
                    }
                    ))
                }
                )),
                new vE(t).setName(WM("option-keep")).setDesc(WM("option-keep-description")).addText((function(t) {
                    return t.setValue(String(n.keepDays)).onChange((function(t) {
                        var i = parseFloat(t);
                        !isNaN(i) && i >= 1 && (n.keepDays = i,
                        e.plugin.saveData(n))
                    }
                    ))
                }
                )),
                new vE(t).setName(WM("option-open-history")).setDesc(WM("option-open-history-description")).addButton((function(t) {
                    return t.setButtonText(WM("button-view-snapshots")).setCta().onClick((function() {
                        e.instance.openModal()
                    }
                    ))
                }
                )),
                new vE(t).setName(WM("option-clear")).setDesc(WM("option-clear-description")).addButton((function(t) {
                    return t.setButtonText(WM("button-clear-history")).setWarning().onClick((function() {
                        new an(e.app).setTitle(WM("option-clear")).setContent(createFragment((function(e) {
                            e.createEl("p", {
                                cls: "mod-warning",
                                text: WM("label-clear-warning")
                            })
                        }
                        ))).addButton("mod-warning", WM("button-clear-history"), (function() {
                            e.instance.clearData(),
                            new JC(WM("msg-clear-complete"))
                        }
                        )).addCancelButton().open()
                    }
                    ))
                }
                ))
            }
            ,
            t
        }(iM)
          , YM = function(e) {
            function t(t, n, i, r) {
                var o = e.call(this, t, n) || this;
                return o.paths = [],
                o.modal = null,
                o.paths = i,
                o.modal = r,
                o
            }
            return i(t, e),
            t.prototype.renderSuggestion = function(e, t) {
                t.setText(K(e))
            }
            ,
            t.prototype.getSuggestions = function(e) {
                e = e.toLowerCase();
                for (var t = [], n = 0, i = this.paths; n < i.length; n++) {
                    var r = i[n];
                    r.toLowerCase().contains(e) && t.push(r)
                }
                return t.slice(0, 100)
            }
            ,
            t.prototype.selectSuggestion = function(e) {
                var t = this.textInputEl;
                t.value = K(e),
                this.modal.switchToPath(e),
                t.trigger("input"),
                this.close()
            }
            ,
            t
        }(kM)
          , KM = function(e) {
            function t(t, n) {
                var i = e.call(this, t) || this;
                return i.plugin = null,
                i.historyListEl = null,
                i.versionListEl = null,
                i.fileContentEl = null,
                i.dataEl = null,
                i.plugin = n,
                i
            }
            return i(t, e),
            t.prototype.switchToPath = function(e) {
                return o(this, void 0, void 0, (function() {
                    var t, n, i, r, o, a, l, c, u, h, p, d, f = this;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return n = (t = this).versionListEl,
                            i = t.dataEl,
                            r = t.fileContentEl,
                            n.empty(),
                            o = this.plugin.db,
                            a = o.transaction("backups", "readonly"),
                            [4, a.store.index("path").getAll(e)];
                        case 1:
                            for ((l = s.sent()).sort((function(e, t) {
                                return t.ts - e.ts
                            }
                            )),
                            c = null,
                            u = function(e) {
                                var t = n.createDiv({
                                    cls: "sync-history-list-item",
                                    text: window.moment(e.ts).format("LLLL")
                                });
                                t.createDiv("u-small u-muted").setText(N(e.data.length));
                                var o = function() {
                                    c && c.removeClass("is-active"),
                                    (c = t).addClass("is-active"),
                                    r.removeClass("mod-empty"),
                                    i.value = e.data,
                                    on.isMobile && Nt(f.contentEl, f.fileContentEl, "right")
                                };
                                t.addEventListener("click", o),
                                null !== c || on.isMobile || o()
                            }
                            ,
                            h = 0,
                            p = l; h < p.length; h++)
                                d = p[h],
                                u(d);
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.onOpen = function() {
                return o(this, void 0, void 0, (function() {
                    var e, t, n, i, r, a, l, c, u, h, p = this;
                    return s(this, (function(d) {
                        switch (d.label) {
                        case 0:
                            return t = (e = this).modalEl,
                            n = e.contentEl,
                            i = this.plugin.db,
                            r = i.transaction("backups", "readonly"),
                            [4, r.store.index("path").openCursor(null, "nextunique")];
                        case 1:
                            a = d.sent(),
                            l = [],
                            d.label = 2;
                        case 2:
                            return a ? (l.push(a.value.path),
                            [4, a.continue()]) : [3, 4];
                        case 3:
                            return a = d.sent(),
                            [3, 2];
                        case 4:
                            return l.sort(gx),
                            0 === l.length ? (this.titleEl.setText(WM("name")),
                            n.createEl("p", {
                                text: WM("label-no-history-found")
                            }),
                            [2]) : (t.addClass("mod-sync-history"),
                            c = this.historyListEl = n.createDiv("sync-history-list"),
                            new vE(c).addSearch((function(e) {
                                var t = e.inputEl;
                                t.setAttribute("placeholder", WM("placeholder-choose-file")),
                                new YM(p.app,t,l,p)
                            }
                            )),
                            this.versionListEl = c.createDiv("sync-history-list-item-container"),
                            u = this.fileContentEl = n.createDiv("sync-history-content-container mod-empty"),
                            on.isMobile && (u.detach(),
                            (h = u.createDiv({
                                cls: "modal-setting-back-button"
                            }, (function(e) {
                                e.addEventListener("click", (function() {
                                    Nt(p.contentEl, p.historyListEl, "left")
                                }
                                ))
                            }
                            ))).createSpan("modal-setting-back-button-icon", (function(e) {
                                yk(e, ob, 20)
                            }
                            )),
                            h.createSpan({
                                text: Te("interface.start-screen.button-back")
                            })),
                            u.createEl("p", {
                                cls: "sync-history-content-empty",
                                text: WM("label-select-file")
                            }),
                            this.dataEl = u.createEl("textarea", "sync-history-content"),
                            u.createEl("p", "sync-history-content-buttons u-center-text", (function(e) {
                                e.createEl("button", {
                                    cls: "mod-cta",
                                    text: Te("interface.label-copy")
                                }, (function(e) {
                                    e.addEventListener("click", (function() {
                                        return o(p, void 0, void 0, (function() {
                                            return s(this, (function(e) {
                                                return Oe(this.dataEl.value),
                                                new JC(Te("interface.copied", {
                                                    item: ""
                                                })),
                                                [2]
                                            }
                                            ))
                                        }
                                        ))
                                    }
                                    ))
                                }
                                ))
                            }
                            )),
                            [2])
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t
        }(sn)
          , QM = Fe("plugins.search")
          , JM = function() {
            function e() {
                this.id = "global-search",
                this.name = QM("name"),
                this.description = QM("desc"),
                this.defaultOn = !0,
                this.app = null,
                this.options = {}
            }
            return e.prototype.init = function(e, t) {
                var n = this;
                this.app = e,
                t.registerGlobalCommand({
                    id: "global-search:open",
                    name: QM("action-open-search"),
                    icon: Zw,
                    callback: function() {
                        var t = window.getSelection().toString()
                          , i = e.workspace.getActiveViewOfType(gS);
                        if (i) {
                            var r = i.getSelection();
                            r && (t = r)
                        }
                        t ? t.contains(" ") && (t = '"' + t.replace(/\\/, "\\\\").replace(/"/, '\\"') + '"') : t = null,
                        n.openGlobalSearch(t)
                    },
                    hotkeys: [sL(["Mod", "Shift"], "F")]
                }),
                t.registerViewType(XM, (function(e) {
                    return new ZM(e)
                }
                ))
            }
            ,
            e.prototype.onEnable = function(e, t) {
                return o(this, void 0, void 0, (function() {
                    var n;
                    return s(this, (function(i) {
                        switch (i.label) {
                        case 0:
                            return t.registerEvent(e.workspace.on("layout-ready", this.initLeaf, this)),
                            n = this,
                            [4, t.loadData()];
                        case 1:
                            return n.options = i.sent() || {},
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.onUserEnable = function() {
                this.initLeaf()
            }
            ,
            e.prototype.initLeaf = function() {
                this.app.workspace.ensureSideLeaf(XM, "left", !1, !1)
            }
            ,
            e.prototype.openGlobalSearch = function(e) {
                this.app.workspace.ensureSideLeaf(XM, "left", !1, !0, {
                    query: e
                })
            }
            ,
            e.prototype.getGlobalSearchQuery = function() {
                var e, t = this.app.workspace.getLeavesOfType(XM);
                if (0 === t.length)
                    return "";
                var n = t[0].getViewState();
                return (null === (e = null == n ? void 0 : n.state) || void 0 === e ? void 0 : e.query) ? n.state.query : ""
            }
            ,
            e
        }()
          , XM = "search"
          , ZM = function(e) {
            function t(t) {
                var n = e.call(this, t) || this;
                n.icon = Ny,
                n.searchInfoEl = null,
                n.matchingCase = !1,
                n.explainSearch = !1,
                n.searchQuery = null,
                n.recentSearches = [],
                n.requestSaveSearch = Pe(n.saveSearch.bind(n), 5e3, !0);
                var i = n.containerEl
                  , r = n.headerDom = new mE(n.app,i);
                return n.matchingCaseButtonEl = r.addNavButton(Ob, QM("label-match-case"), (function() {
                    return n.setMatchingCase(!n.matchingCase)
                }
                )),
                n.explainSearchButtonEl = r.addNavButton(Mb, QM("label-explain-search-term"), (function() {
                    return n.setExplainSearch(!n.explainSearch)
                }
                )),
                n.collapseAllButtonEl = r.addNavButton(Pb, QM("label-collapse-results"), (function() {
                    return n.setCollapseAll(!n.dom.collapseAll)
                }
                )),
                n.extraContextButtonEl = r.addNavButton(Nb, QM("label-more-context"), (function() {
                    return n.setExtraContext(!n.dom.extraContext)
                }
                )),
                r.addSortButton((function(e) {
                    return n.setSortOrder(e)
                }
                ), (function() {
                    return n.dom.sortOrder
                }
                )),
                r.addNavButton(Yy, QM("label-copy-search-results"), n.onCopyResultsClick.bind(n)),
                new SE(i).setPlaceholder(QM("prompt-start-search")).onChange(Pe(n.startSearch.bind(n), 250, !0)).then((function(e) {
                    Je(e.clearButtonEl, QM("tooltip-clear-search")),
                    n.searchComponent = e,
                    n.searchComponent.inputEl.addEventListener("keypress", (function(e) {
                        "Enter" === e.key && (on.isMobile && Bt(),
                        n.startSearch())
                    }
                    ))
                }
                )),
                n.searchInfoEl = i.createDiv({
                    cls: "search-info-container"
                }),
                n.searchInfoEl.hide(),
                n.dom = new Dx(n.app,i.createDiv("search-result-container mod-global-search"),QM("label-no-matches")),
                n.queue = new Mx(n.app,n.dom),
                n.addChild(n.queue),
                ED.attach(n.app, n.searchComponent.inputEl, !0),
                n
            }
            return i(t, e),
            t.prototype.onOpen = function() {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(t) {
                        return this.registerDomEvent(this.leaf.tabHeaderEl, "click", this.onTabHeaderClick.bind(this)),
                        [2, e.prototype.onOpen.call(this)]
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.saveSearch = function() {
                var e = this.searchComponent.getValue();
                if (e) {
                    var t = this.app.loadLocalStorage("recent-searches");
                    t && Array.isArray(t) || (t = []),
                    t.remove(e),
                    t.unshift(e),
                    t.length > 20 && (t = t.slice(0, 20)),
                    this.app.saveLocalStorage("recent-searches", t)
                }
            }
            ,
            t.prototype.getDisplayText = function() {
                return QM("name")
            }
            ,
            t.prototype.getViewType = function() {
                return XM
            }
            ,
            t.prototype.getState = function() {
                var t = e.prototype.getState.call(this);
                return t.query = this.getQuery(),
                t.matchingCase = this.matchingCase,
                t.explainSearch = this.explainSearch,
                t.collapseAll = this.dom.collapseAll,
                t.extraContext = this.dom.extraContext,
                t.sortOrder = this.dom.sortOrder,
                t
            }
            ,
            t.prototype.setState = function(t, n) {
                return o(this, void 0, Promise, (function() {
                    var i, r, o, a, l, c;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return [4, e.prototype.setState.call(this, t, n)];
                        case 1:
                            return s.sent(),
                            i = t.query,
                            r = t.matchingCase,
                            o = t.explainSearch,
                            a = t.collapseAll,
                            l = t.extraContext,
                            c = t.sortOrder,
                            (String.isString(i) || null === i) && this.setQuery(i),
                            isBoolean(r) && this.setMatchingCase(r),
                            isBoolean(o) && this.setExplainSearch(o),
                            isBoolean(a) && this.setCollapseAll(a),
                            isBoolean(l) && this.setExtraContext(l),
                            String.isString(c) && yx.hasOwnProperty(c) && this.setSortOrder(c),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.setMatchingCase = function(e) {
                e !== this.matchingCase && (this.matchingCase = e,
                this.matchingCaseButtonEl.toggleClass("is-active", e),
                this.app.workspace.requestSaveLayout(),
                "" !== this.searchComponent.getValue() && this.startSearch())
            }
            ,
            t.prototype.setExplainSearch = function(e) {
                e !== this.explainSearch && (this.explainSearch = e,
                this.searchInfoEl.toggle(e),
                this.explainSearchButtonEl.toggleClass("is-active", e),
                this.app.workspace.requestSaveLayout())
            }
            ,
            t.prototype.setCollapseAll = function(e) {
                e !== this.dom.collapseAll && (this.dom.setCollapseAll(e),
                this.collapseAllButtonEl.toggleClass("is-active", e),
                this.app.workspace.requestSaveLayout())
            }
            ,
            t.prototype.setExtraContext = function(e) {
                e !== this.dom.extraContext && (this.dom.setExtraContext(e),
                this.extraContextButtonEl.toggleClass("is-active", e),
                this.app.workspace.requestSaveLayout())
            }
            ,
            t.prototype.onCopyResultsClick = function(e) {
                e.preventDefault(),
                new eA(this.app,this.dom).open()
            }
            ,
            t.prototype.setSortOrder = function(e) {
                var t = this.dom;
                t.sortOrder = e,
                t.changed()
            }
            ,
            t.prototype.onResize = function() {
                this.dom.onResize()
            }
            ,
            t.prototype.startSearch = function() {
                this.stopSearch();
                var e = this
                  , t = e.app
                  , n = e.dom
                  , i = e.searchInfoEl;
                n.emptyResults();
                try {
                    var r = this.searchComponent.getValue()
                      , o = new dE(r,this.matchingCase);
                    if (!o.matcher)
                        return;
                    this.searchQuery = o,
                    this.renderSearchInfo(o.matcher, i);
                    var s = this.queue.start();
                    fE(t, o.requiredInputs, s, (function(e, t, i) {
                        var r = o.match(e, t, i);
                        r ? n.addResult(e, r, t).renderContentMatches() : n.removeResult(e)
                    }
                    ))
                } catch (e) {
                    i.createDiv({
                        cls: "search-info",
                        text: e.message
                    }),
                    console.log(e)
                }
                this.app.workspace.requestSaveLayout(),
                this.requestSaveSearch()
            }
            ,
            t.prototype.stopSearch = function() {
                this.queue.stop(),
                this.searchInfoEl.empty()
            }
            ,
            t.prototype.renderSearchInfo = function(e, t) {
                if (t.createDiv({
                    text: e.getInfo()
                }),
                e instanceof $x)
                    for (var n = t.createDiv("search-info-children"), i = 0, r = e.matchers; i < r.length; i++) {
                        var o = r[i];
                        this.renderSearchInfo(o, n)
                    }
                else if (e instanceof Kx) {
                    n = t.createDiv("search-info-children");
                    this.renderSearchInfo(e.matcher, n)
                }
            }
            ,
            t.prototype.setQuery = function(e) {
                var t = this.searchComponent
                  , n = t.inputEl;
                String.isString(e) ? (n.value = e,
                t.setValue(e),
                n.focus(),
                this.startSearch()) : n.select()
            }
            ,
            t.prototype.getQuery = function() {
                return this.searchComponent.getValue()
            }
            ,
            t.prototype.onTabHeaderClick = function() {
                var e = this;
                setTimeout((function() {
                    e.searchComponent.inputEl.select()
                }
                ), 0)
            }
            ,
            t
        }(YC)
          , eA = function(e) {
            function t(t, n) {
                var i = e.call(this, t) || this;
                return i.dom = n,
                i.titleEl.setText(QM("label-copy-search-results")),
                i
            }
            return i(t, e),
            t.prototype.onOpen = function() {
                var e = this
                  , t = this.contentEl
                  , n = this.dom
                  , i = {}
                  , r = this.app.internalPlugins.getPluginById("global-search");
                r && (i = r.instance.options),
                t.empty();
                var o, s, a, l = t.createDiv("copy-search-result-container"), c = l.createEl("textarea", "copy-search-result-textarea"), u = function() {
                    var e = n.getFiles();
                    c.value = e.map((function(e, t) {
                        var n = o.getValue() ? e.path : e.basename
                          , l = s.getValue();
                        "wikilink" === l ? n = "[[" + n + "]]" : "markdown" === l && (n = "[" + e.basename + "](" + n + ")");
                        var c = a.getValue();
                        return "-" === c ? n = "- " + n : "*" === c ? n = "* " + n : "num" === c && (n = t + 1 + ". " + n),
                        i.showFullPath = o.getValue(),
                        i.linkStyle = s.getValue(),
                        i.listStyle = a.getValue(),
                        r.saveData(i),
                        n
                    }
                    )).join("\n"),
                    c.select()
                };
                new vE(l).setName(QM("option-show-path")).setDesc(QM("option-show-path-description")).addToggle((function(e) {
                    e.setValue(!!i.showFullPath).onChange(u),
                    o = e
                }
                )),
                new vE(l).setName(QM("option-link-style")).setDesc(QM("option-link-style-description")).addDropdown((function(e) {
                    e.addOption("none", QM("option-choice-link-style-none")).addOption("wikilink", QM("option-choice-link-style-wikilink")).addOption("markdown", QM("option-choice-link-style-markdown-link")).setValue(i.linkStyle || "none").onChange(u),
                    s = e
                }
                )),
                new vE(l).setName(QM("option-list-prefix")).setDesc(QM("option-list-prefix-description")).addDropdown((function(e) {
                    e.addOption("none", QM("option-choice-list-style-none")).addOption("-", QM("option-choice-list-style-dash")).addOption("*", QM("option-choice-list-style-asterisk")).addOption("num", QM("option-choice-list-style-numbered")).setValue(i.listStyle || "none").onChange(u),
                    a = e
                }
                )),
                t.createDiv("modal-button-container", (function(t) {
                    t.createEl("button", {
                        text: QM("button-copy-results"),
                        cls: "mod-cta"
                    }).addEventListener("click", (function() {
                        Oe(c.value),
                        new JC(QM("msg-successfully-copied"))
                    }
                    )),
                    t.createEl("button", {
                        text: Te("dialogue.button-done")
                    }).addEventListener("click", (function() {
                        return e.close()
                    }
                    ))
                }
                )),
                u()
            }
            ,
            t.prototype.onClose = function() {
                this.contentEl.empty()
            }
            ,
            t
        }(sn)
          , tA = function() {
            function e() {
                this.id = "markdown-importer",
                this.name = Te("plugins.markdown-format-importer.name"),
                this.description = Te("plugins.markdown-format-importer.desc"),
                this.defaultOn = !0,
                this.modal = null
            }
            return e.prototype.init = function(e, t) {
                t.registerRibbonAction(Te("plugins.markdown-format-importer.action-open"), Ky, this.onOpen.bind(this)),
                t.registerGlobalCommand({
                    id: "markdown-importer:open",
                    name: Te("plugins.markdown-format-importer.action-open"),
                    icon: Ww,
                    callback: this.onOpen.bind(this)
                })
            }
            ,
            e.prototype.onEnable = function(e, t) {
                this.modal = new lA(e)
            }
            ,
            e.prototype.onDisable = function(e, t) {
                this.modal = null
            }
            ,
            e.prototype.onOpen = function() {
                return this.modal && this.modal.open(),
                !1
            }
            ,
            e
        }()
          , nA = /\^\^(\S(.*?\S)?)\^\^/g
          , iA = /::(\S(.*?\S)?)::/g
          , rA = /\[\[(\d+?)\]\]/g
          , oA = /\B\#([^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]+\b)/g
          , sA = /\B\#(\[\[[\w \t]*?\]\])/g
          , aA = /\{\{\[\[(TODO|DONE)\]\]\}\}/g
          , lA = function(e) {
            function t(t) {
                var n = e.call(this, t) || this;
                n.converters = [];
                var i = n.contentEl
                  , r = n.converters;
                n.titleEl.setText(Te("plugins.markdown-format-importer.name"));
                for (var o = n.conversionsEl = i.createDiv(), s = [{
                    name: Te("plugins.markdown-format-importer.option-roam-tag-fixer"),
                    description: Te("plugins.markdown-format-importer.option-roam-tag-fixer-description"),
                    convert: function(e, t, n, i) {
                        return (n = n.replace(oA, (function(e, t) {
                            for (var n = !0, r = 0; r < t.length; r++) {
                                var o = t.charCodeAt(r);
                                if (o < 48 || o > 57) {
                                    n = !1;
                                    break
                                }
                            }
                            return n ? e : (i.replaced++,
                            "[[" + t + "]]")
                        }
                        ))).replace(sA, (function(e, t) {
                            return i.replaced++,
                            t
                        }
                        ))
                    }
                }, {
                    name: Te("plugins.markdown-format-importer.option-roam-highlight-fixer"),
                    description: Te("plugins.markdown-format-importer.option-roam-highlight-fixer-description"),
                    convert: function(e, t, n, i) {
                        return n.replace(nA, (function(e, t) {
                            return i.replaced++,
                            "==" + t + "=="
                        }
                        ))
                    }
                }, {
                    name: Te("plugins.markdown-format-importer.option-roam-todo-converter"),
                    description: Te("plugins.markdown-format-importer.option-roam-todo-converter-description", Ce),
                    convert: function(e, t, n, i) {
                        return n.replace(aA, (function(e, t) {
                            return i.replaced++,
                            "TODO" === t ? "[ ]" : "[x]"
                        }
                        ))
                    }
                }, {
                    name: Te("plugins.markdown-format-importer.option-bear-highlight-fixer"),
                    description: Te("plugins.markdown-format-importer.option-bear-highlight-fixer-description"),
                    convert: function(e, t, n, i) {
                        return n.replace(iA, (function(e, t) {
                            return i.replaced++,
                            "==" + t + "=="
                        }
                        ))
                    }
                }, {
                    name: Te("plugins.markdown-format-importer.zettelkasten-link-fixer"),
                    description: Te("plugins.markdown-format-importer.zettelkasten-link-fixer-description"),
                    convert: function(e, t, n, i) {
                        return n.replace(rA, (function(n, r) {
                            for (var o = 0, s = e.vault.getAllLoadedFiles(); o < s.length; o++) {
                                var a = s[o];
                                if (a instanceof Vf && a.basename.contains(r))
                                    return i.replaced++,
                                    "[[" + e.metadataCache.fileToLinktext(a, t.path) + "]]"
                            }
                            return n
                        }
                        ))
                    }
                }, {
                    name: Te("plugins.markdown-format-importer.zettelkasten-link-beautifier"),
                    description: Te("plugins.markdown-format-importer.zettelkasten-link-beautifier-description"),
                    convert: function(e, t, n, i) {
                        return n.replace(rA, (function(n, r) {
                            for (var o = 0, s = e.vault.getAllLoadedFiles(); o < s.length; o++) {
                                var a = s[o];
                                if (a instanceof Vf && a.basename.contains(r))
                                    return i.replaced++,
                                    "[[" + e.metadataCache.fileToLinktext(a, t.path) + "|" + a.basename.replace(r, "").trim() + "]]"
                            }
                            return n
                        }
                        ))
                    }
                }], a = function(e) {
                    new vE(o).setName(e.name).setDesc(e.description).addToggle((function(t) {
                        t.setValue(!1),
                        r.push({
                            toggle: t,
                            conversion: e
                        })
                    }
                    ))
                }, l = 0, c = s; l < c.length; l++) {
                    a(c[l])
                }
                o.createEl("p", {
                    cls: "setting-message mod-warning",
                    text: Te("plugins.markdown-format-importer.msg-all-files-warning")
                }),
                o.createEl("p", {
                    cls: "setting-message mod-warning",
                    text: Te("plugins.markdown-format-importer.msg-override-files-warning")
                }),
                o.createDiv("modal-button-container").createEl("button", {
                    cls: "mod-cta",
                    text: Te("plugins.markdown-format-importer.label-start-conversion")
                }).addEventListener("click", n.onProcess.bind(n));
                var u = n.resultEl = createDiv();
                n.statusEl = u.createEl("p", "u-center-text"),
                n.processedEl = u.createDiv("changelog-item mod-success"),
                n.modifiedEl = u.createDiv("changelog-item mod-highlighted"),
                n.replacedEl = u.createDiv("changelog-item mod-highlighted"),
                n.renderStats({
                    processed: 0,
                    modified: 0,
                    replaced: 0
                });
                var h = u.createDiv("modal-button-container");
                return (n.cancelEl = h.createEl("button", {
                    cls: "mod-warning",
                    text: Te("plugins.markdown-format-importer.label-stop")
                })).addEventListener("click", n.onCancel.bind(n)),
                (n.goBackEl = h.createEl("button", {
                    cls: "",
                    text: Te("plugins.markdown-format-importer.label-go-back")
                })).addEventListener("click", n.onGoBack.bind(n)),
                (n.doneEl = h.createEl("button", {
                    cls: "mod-cta",
                    text: Te("plugins.markdown-format-importer.label-done")
                })).addEventListener("click", n.close.bind(n)),
                n
            }
            return i(t, e),
            t.prototype.onProcess = function() {
                for (var e = this, t = [], n = 0, i = this.converters; n < i.length; n++) {
                    var r = i[n];
                    r.toggle.getValue() && t.push(r.conversion)
                }
                0 !== t.length && (this.runnable = new Vk({
                    onCancel: function() {
                        e.cancelEl.hide(),
                        e.statusEl.setText(Te("plugins.markdown-format-importer.label-cancelling"))
                    }
                }),
                this.conversionsEl.detach(),
                this.contentEl.append(this.resultEl),
                this.cancelEl.show(),
                this.goBackEl.hide(),
                this.doneEl.hide(),
                this.statusEl.setText(Te("plugins.markdown-format-importer.label-processing")),
                this.process(t))
            }
            ,
            t.prototype.onCancel = function() {
                var e = this.runnable;
                e && e.cancel()
            }
            ,
            t.prototype.onGoBack = function() {
                this.resultEl.detach(),
                this.contentEl.append(this.conversionsEl);
                for (var e = 0, t = this.converters; e < t.length; e++) {
                    t[e].toggle.setValue(!1)
                }
            }
            ,
            t.prototype.onFinish = function(e) {
                this.renderStats(e),
                this.cancelEl.hide(),
                this.goBackEl.show(),
                this.statusEl.setText(Te("plugins.markdown-format-importer.label-finished")),
                this.doneEl.show()
            }
            ,
            t.prototype.renderStats = function(e) {
                this.processedEl.setText(Te("plugins.markdown-format-importer.label-processed-files")),
                this.processedEl.setAttribute("data-label", e.processed.toString()),
                this.modifiedEl.setText(Te("plugins.markdown-format-importer.label-modified-files")),
                this.modifiedEl.setAttribute("data-label", e.modified.toString()),
                this.replacedEl.setText(Te("plugins.markdown-format-importer.label-total-replacements")),
                this.replacedEl.setAttribute("data-label", e.replaced.toString())
            }
            ,
            t.prototype.onClose = function() {
                this.onCancel(),
                this.onGoBack()
            }
            ,
            t.prototype.process = function(e) {
                var t, n;
                return o(this, void 0, void 0, (function() {
                    var i, r, o, a, l, c, u, p, d, f, g, m, v, y, b;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            r = (i = this).app,
                            o = i.runnable,
                            a = {
                                processed: 0,
                                modified: 0,
                                replaced: 0
                            },
                            l = r.vault.getMarkdownFiles(),
                            s.label = 1;
                        case 1:
                            s.trys.push([1, 9, 10, 15]),
                            c = h(r.vault.iterateFiles(l)),
                            s.label = 2;
                        case 2:
                            return [4, c.next()];
                        case 3:
                            if ((u = s.sent()).done)
                                return [3, 8];
                            if (p = u.value,
                            d = p.file,
                            f = p.content,
                            o.isCancelled())
                                return this.onFinish(a),
                                [3, 8];
                            for (g = f,
                            m = 0,
                            v = e; m < v.length; m++)
                                y = v[m],
                                g = y.convert(r, d, g, a);
                            return g === f ? [3, 5] : (a.modified++,
                            [4, r.vault.modify(d, g)]);
                        case 4:
                            s.sent(),
                            s.label = 5;
                        case 5:
                            return a.processed++,
                            o.isCancelled() ? (this.onFinish(a),
                            [3, 8]) : (this.renderStats(a),
                            a.processed % 10 != 0 ? [3, 7] : [4, r.nextFramePromise()]);
                        case 6:
                            s.sent(),
                            s.label = 7;
                        case 7:
                            return [3, 2];
                        case 8:
                            return [3, 15];
                        case 9:
                            return b = s.sent(),
                            t = {
                                error: b
                            },
                            [3, 15];
                        case 10:
                            return s.trys.push([10, , 13, 14]),
                            u && !u.done && (n = c.return) ? [4, n.call(c)] : [3, 12];
                        case 11:
                            s.sent(),
                            s.label = 12;
                        case 12:
                            return [3, 14];
                        case 13:
                            if (t)
                                throw t.error;
                            return [7];
                        case 14:
                            return [7];
                        case 15:
                            return this.onFinish(a),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t
        }(sn)
          , cA = Fe("plugins.note-composer")
          , uA = /^#{1,6} (.*)/m
          , hA = function() {
            function e() {
                this.id = "note-composer",
                this.name = cA("name"),
                this.description = cA("desc"),
                this.defaultOn = !0,
                this.options = {},
                this.app = null,
                this.pluginInstance = null
            }
            return e.prototype.init = function(e, t) {
                var n = this;
                this.app = e,
                this.pluginInstance = t,
                t.registerGlobalCommand({
                    id: "note-composer:merge-file",
                    name: cA("command-merge-file"),
                    icon: lk,
                    checkCallback: function(e) {
                        var t = n.app.workspace.getActiveFile();
                        if (t) {
                            if (!e) {
                                var i = new pA(n.app,n);
                                i.setCurrentFile(t),
                                i.open()
                            }
                            return !0
                        }
                    }
                }),
                t.registerGlobalCommand({
                    id: "note-composer:split-file",
                    name: cA("command-split-file"),
                    icon: Fw,
                    editorCheckCallback: function(e, t) {
                        var i = n.app.workspace.getActiveFile();
                        if (i && t.somethingSelected()) {
                            if (!e) {
                                var r = new dA(n.app,t,n);
                                r.setCurrentFile(i),
                                r.open()
                            }
                            return !0
                        }
                    }
                })
            }
            ,
            e.prototype.onEnable = function(e, t) {
                return o(this, void 0, void 0, (function() {
                    var n;
                    return s(this, (function(i) {
                        switch (i.label) {
                        case 0:
                            return n = this,
                            [4, t.loadData()];
                        case 1:
                            return n.options = i.sent() || {
                                askBeforeMerging: !0
                            },
                            t.registerEvent(e.workspace.on("file-menu", this.onFileMenu, this)),
                            t.registerEvent(e.workspace.on("editor-menu", this.onEditorMenu, this)),
                            t.addSettingTab(new fA(e,t,this)),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.onFileMenu = function(e, t, n) {
                var i = this;
                "link-context-menu" !== n && t instanceof Vf && e.addItem((function(e) {
                    return e.setTitle(cA("action-merge-file")).setIcon(ck).onClick((function() {
                        var e = new pA(i.app,i);
                        e.setCurrentFile(t),
                        e.open()
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.onEditorMenu = function(e, t, n) {
                var i = this;
                t.getSelection() && e.addItem((function(e) {
                    return e.setTitle(cA("command-split-file")).setIcon(fk).onClick((function() {
                        var e = new dA(i.app,t,i);
                        e.setCurrentFile(n.file),
                        e.open()
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.getSelectionUnderHeading = function(e, t, n) {
                return o(this, void 0, void 0, (function() {
                    var i, r, o, a, l, c, u, h, p, d, f, g, m;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return [4, (i = this.app).vault.cachedRead(e)];
                        case 1:
                            if (r = s.sent().length,
                            o = i.metadataCache.getFileCache(e),
                            !(a = o.headings) || 0 === a.length)
                                return [2];
                            for (l = 0,
                            c = null,
                            u = null,
                            h = 0,
                            p = a; h < p.length; h++) {
                                if (d = p[h],
                                c && d.level <= l) {
                                    u = d;
                                    break
                                }
                                c || d.position.start.line !== n || (l = d.level,
                                c = d)
                            }
                            if (!c)
                                return [2, null];
                            if (f = r,
                            u && (f = u.position.start.offset - 1,
                            (g = u.position.start.line) > 0))
                                for (m = g - 1; "" === t.getLine(m) && m >= 0; m--)
                                    f--;
                            return [2, {
                                heading: c.heading,
                                start: c.position.start.offset,
                                end: f
                            }]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.getTemplateText = function() {
                return o(this, void 0, Promise, (function() {
                    var e, t, n;
                    return s(this, (function(i) {
                        switch (i.label) {
                        case 0:
                            return e = this.app,
                            t = "",
                            this.options.template ? (n = e.metadataCache.getFirstLinkpathDest(this.options.template, "")) ? [4, e.vault.cachedRead(n)] : (new JC(cA("msg-fail-to-fetch-template", {
                                template: this.options.template
                            })),
                            [2]) : [3, 2];
                        case 1:
                            return "" === (t = i.sent()) || t.contains("{{content}}") || (t += "\n\n{{content}}"),
                            [2, t];
                        case 2:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e
        }()
          , pA = function(e) {
            function t(t, n) {
                var i = e.call(this, t) || this;
                return i.currentFile = null,
                i.emptyStateText = cA("label-no-files"),
                i.noteComposer = n,
                i.shouldShowAttachments = !1,
                i.setPlaceholder(cA("prompt-select-file-to-merge")),
                i.setInstructions([{
                    command: "↑↓",
                    purpose: cA("instruction-navigate")
                }, {
                    command: "↵",
                    purpose: cA("instruction-merge")
                }, {
                    command: se ? "cmd ↵" : "ctrl ↵",
                    purpose: cA("instruction-create-new")
                }, {
                    command: "shift ↵",
                    purpose: cA("instruction-merge-at-top")
                }, {
                    command: "esc",
                    purpose: cA("instruction-dismiss")
                }]),
                i.scope.register(["Shift"], "Enter", (function(e) {
                    return i.chooser.useSelectedItem(e),
                    !1
                }
                )),
                i.scope.register(["Mod"], "Enter", (function(e) {
                    return i.chooser.useSelectedItem(e),
                    !1
                }
                )),
                i
            }
            return i(t, e),
            t.prototype.setCurrentFile = function(e) {
                this.currentFile = e
            }
            ,
            t.prototype.onChooseSuggestion = function(e, t) {
                return o(this, void 0, void 0, (function() {
                    var n, i, r, a, l, c, u, h, p, d, f = this;
                    return s(this, (function(g) {
                        switch (g.label) {
                        case 0:
                            return n = this.app,
                            i = this.inputEl.value,
                            !rn.isModifier(t, "Mod") && e && "unresolved" !== e.type ? [3, 2] : (a = i,
                            e && "unresolved" === e.type && (a = e.linktext),
                            l = n.fileManager.getNewFileParent(a),
                            [4, n.fileManager.createNewMarkdownFile(l, a)]);
                        case 1:
                            return r = g.sent(),
                            [3, 3];
                        case 2:
                            r = e.file,
                            g.label = 3;
                        case 3:
                            return r === this.currentFile || (c = this.currentFile,
                            u = t.shiftKey,
                            h = this.noteComposer,
                            p = function() {
                                return o(f, void 0, void 0, (function() {
                                    var e;
                                    return s(this, (function(t) {
                                        switch (t.label) {
                                        case 0:
                                            return [4, h.getTemplateText()];
                                        case 1:
                                            return e = t.sent(),
                                            [4, n.fileManager.mergeFile(r, c, e, u)];
                                        case 2:
                                            return t.sent(),
                                            [2]
                                        }
                                    }
                                    ))
                                }
                                ))
                            }
                            ,
                            h.options.askBeforeMerging ? ((d = document.createDocumentFragment()).createEl("p", {
                                text: cA("label-confirm-file-merge", {
                                    file: c.basename,
                                    destination: r.basename
                                })
                            }),
                            new an(n).setTitle(cA("label-merge-file")).setContent(d).addButton("mod-warning", cA("button-merge-do-not-ask-again"), (function() {
                                h.options.askBeforeMerging = !1,
                                h.pluginInstance.saveData(h.options),
                                p()
                            }
                            )).addButton("mod-warning", cA("button-merge"), (function() {
                                p()
                            }
                            )).addCancelButton().open()) : p()),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t
        }(RL)
          , dA = function(e) {
            function t(t, n, i) {
                var r = e.call(this, t) || this;
                return r.defaultValue = "",
                r.editor = n,
                r.composer = i,
                r.shouldShowUnresolved = !0,
                r.shouldShowAttachments = !1,
                r.setPlaceholder(cA("prompt-select-file-to-merge")),
                r.setInstructions([{
                    command: "↑↓",
                    purpose: cA("instruction-navigate")
                }, {
                    command: "↵",
                    purpose: cA("instruction-append")
                }, {
                    command: se ? "cmd ↵" : "ctrl ↵",
                    purpose: cA("instruction-create-new")
                }, {
                    command: "shift ↵",
                    purpose: cA("instruction-prepend")
                }, {
                    command: "esc",
                    purpose: cA("instruction-dismiss")
                }]),
                r.scope.register(["Shift"], "Enter", (function(e) {
                    return r.chooser.useSelectedItem(e),
                    !1
                }
                )),
                r.scope.register(["Mod"], "Enter", (function(e) {
                    return r.chooser.useSelectedItem(e),
                    !1
                }
                )),
                r
            }
            return i(t, e),
            t.prototype.setDefaultValue = function(e) {
                this.defaultValue = e
            }
            ,
            t.prototype.onOpen = function() {
                if (e.prototype.onOpen.call(this),
                !this.defaultValue) {
                    var t = this.editor.getSelection().split("\n");
                    if (t.length > 0) {
                        var n = t[0];
                        uA.test(n) && (this.defaultValue = n.match(uA)[1])
                    }
                }
                this.inputEl.value = this.defaultValue,
                this.updateSuggestions()
            }
            ,
            t.prototype.setCurrentFile = function(e) {
                this.currentFile = e
            }
            ,
            t.prototype.onChooseSuggestion = function(e, t) {
                return o(this, void 0, void 0, (function() {
                    var n, i, r, o, a, l, c, u, h;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return n = this.app,
                            i = this.editor.getSelection(),
                            r = t.shiftKey,
                            o = rn.isModifier(t, "Mod"),
                            [4, this.composer.getTemplateText()];
                        case 1:
                            return l = s.sent(),
                            c = this.currentFile,
                            !o && e ? [3, 3] : [4, n.fileManager.createNewMarkdownFileFromLinktext(this.inputEl.value, c.path)];
                        case 2:
                            return a = s.sent(),
                            [3, 6];
                        case 3:
                            return "unresolved" !== e.type ? [3, 5] : [4, n.fileManager.createNewMarkdownFileFromLinktext(e.linktext, c.path)];
                        case 4:
                            return a = s.sent(),
                            [3, 6];
                        case 5:
                            "file" !== e.type && "alias" !== e.type || (a = e.file),
                            s.label = 6;
                        case 6:
                            return [4, n.fileManager.insertTextIntoFile(a, i, c.basename, l, r)];
                        case 7:
                            return s.sent(),
                            u = n.fileManager.generateMarkdownLink(a, c.path),
                            "embed" === (h = this.composer.options.replacementText) ? this.editor.replaceSelection("!" + u) : "none" === h ? this.editor.replaceSelection("") : this.editor.replaceSelection(u),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t
        }(RL)
          , fA = function(e) {
            function t(t, n, i) {
                var r = e.call(this, t, n) || this;
                return r.instance = i,
                r
            }
            return i(t, e),
            t.prototype.display = function() {
                var e = this
                  , t = this.containerEl;
                t.empty();
                var n = this.instance.options;
                new vE(t).setName(cA("option-split-replacement-text")).setDesc(cA("option-split-replacement-text-description")).addDropdown((function(t) {
                    return t.addOption("link", cA("option-choice-split-replacement-text-link")).addOption("embed", cA("option-choice-split-replacement-text-embed")).addOption("none", cA("option-choice-split-replacement-text-none")).setValue(n.replacementText || "link").onChange((function(t) {
                        n.replacementText = t,
                        e.plugin.saveData(n)
                    }
                    ))
                }
                )),
                new vE(t).setName(cA("option-template-file")).setDesc(cA("option-template-file-description", Ce)).addText((function(t) {
                    t.setPlaceholder(Te("setting.file-path-example-placeholder")).setValue(n.template).onChange((function(t) {
                        n.template = t.trim(),
                        e.plugin.saveData(n)
                    }
                    )),
                    new DM(e.app,t.inputEl)
                }
                )),
                new vE(t).setName(cA("option-confirm-file-merge")).setDesc(cA("option-confirm-file-merge-description")).addToggle((function(t) {
                    return t.setValue(n.askBeforeMerging).onChange((function(t) {
                        n.askBeforeMerging = t,
                        e.plugin.saveData(n)
                    }
                    ))
                }
                ))
            }
            ,
            t
        }(iM)
          , gA = "outgoing-link"
          , mA = Fe("plugins.outgoing-links")
          , vA = function() {
            function e() {
                this.id = "outgoing-link",
                this.name = mA("name"),
                this.description = mA("desc"),
                this.defaultOn = !1
            }
            return e.prototype.init = function(e, t) {
                var n = this;
                this.app = e,
                this.plugin = t,
                t.registerViewType(gA, (function(e) {
                    return new yA(e)
                }
                )),
                t.registerGlobalCommand({
                    id: "outgoing-links:open",
                    name: mA("action-show"),
                    icon: rw,
                    callback: function() {
                        n.app.workspace.ensureSideLeaf(gA, "right", !1)
                    }
                }),
                t.registerGlobalCommand({
                    id: "outgoing-links:open-for-current",
                    name: mA("action-open-for-current"),
                    icon: rw,
                    checkCallback: this.openForCurrentFile.bind(this)
                })
            }
            ,
            e.prototype.onEnable = function(e, t) {
                t.registerEvent(e.workspace.on("layout-ready", this.initLeaf, this)),
                t.registerEvent(e.workspace.on("file-menu", this.onFileMenu, this))
            }
            ,
            e.prototype.onUserEnable = function() {
                this.initLeaf()
            }
            ,
            e.prototype.onUserDisable = function(e) {
                for (var t = 0, n = e.workspace.getLeavesOfType(gA); t < n.length; t++) {
                    n[t].detach()
                }
            }
            ,
            e.prototype.initLeaf = function() {
                this.app.workspace.ensureSideLeaf(gA, "right", !1, !1)
            }
            ,
            e.prototype.onFileMenu = function(e, t, n, i) {
                var r = this;
                !on.isMobile && t instanceof Vf && i && "sidebar-context-menu" !== n && e.addItem((function(e) {
                    return e.setTitle(mA("action-open")).setIcon(Nw).onClick((function() {
                        return o(r, void 0, void 0, (function() {
                            return s(this, (function(e) {
                                switch (e.label) {
                                case 0:
                                    return [4, this.app.workspace.splitLeafOrActive(i, "horizontal").setViewState({
                                        type: gA,
                                        active: !0,
                                        group: i,
                                        state: {
                                            file: t.path
                                        }
                                    })];
                                case 1:
                                    return e.sent(),
                                    [2]
                                }
                            }
                            ))
                        }
                        ))
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.openForCurrentFile = function(e) {
                var t = this.app.workspace
                  , n = t.getActiveFile();
                if (n) {
                    if (!e)
                        t.splitActiveLeaf("vertical").setViewState({
                            type: gA,
                            active: !0,
                            group: t.activeLeaf,
                            state: {
                                file: n.path
                            }
                        });
                    return !0
                }
            }
            ,
            e
        }()
          , yA = function(e) {
            function t(t) {
                var n = e.call(this, t) || this;
                n.icon = Nw;
                var i = n.contentEl.createDiv("outgoing-link-pane");
                return n.outgoingLink = n.addChild(new bA(n.app,i)),
                n.requestUpdate(),
                n
            }
            return i(t, e),
            t.prototype.getDisplayText = function() {
                return this.file ? mA("tab-title", {
                    displayText: e.prototype.getDisplayText.call(this)
                }) : mA("name")
            }
            ,
            t.prototype.getViewType = function() {
                return gA
            }
            ,
            t.prototype.canAcceptExtension = function(e) {
                return !0
            }
            ,
            t.prototype.getState = function() {
                var t = e.prototype.getState.call(this);
                return t.linksCollapsed = this.outgoingLink.linksCollapsed,
                t.unlinkedCollapsed = this.outgoingLink.unlinkedCollapsed,
                t
            }
            ,
            t.prototype.setState = function(t, n) {
                return o(this, void 0, Promise, (function() {
                    var i, r;
                    return s(this, (function(o) {
                        switch (o.label) {
                        case 0:
                            return [4, e.prototype.setState.call(this, t, n)];
                        case 1:
                            return o.sent(),
                            i = t.linksCollapsed,
                            r = t.unlinkedCollapsed,
                            isBoolean(i) ? [4, this.outgoingLink.setLinksCollapsed(i, !1)] : [3, 3];
                        case 2:
                            o.sent(),
                            o.label = 3;
                        case 3:
                            return isBoolean(r) ? [4, this.outgoingLink.setUnlinkedCollapsed(r, !1)] : [3, 5];
                        case 4:
                            o.sent(),
                            o.label = 5;
                        case 5:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.onResize = function() {
                this.outgoingLink.onResize()
            }
            ,
            t.prototype.update = function() {
                this.leaf.updateHeader();
                var e = this.outgoingLink;
                e.file = this.file,
                e.tooltipPlacement = this.getSideTooltipPlacement(),
                e.update()
            }
            ,
            t
        }(gE)
          , bA = function(e) {
            function t(t, n, i) {
                var r = e.call(this) || this;
                r.showSearch = !1,
                r.outgoingFile = null,
                r.linksCollapsed = !1,
                r.linksHeaderEl = null,
                r.linksCountEl = null,
                r.linksQueue = null,
                r.unlinkedFile = null,
                r.unlinkedCollapsed = !1,
                r.unlinkedHeaderEl = null,
                r.unlinkedCountEl = null,
                r.unlinksQueue = null,
                r.unlinkedDomInfo = new WeakMap,
                r.requestUpdate = Pe(r.update.bind(r), 50),
                r.app = t,
                i = i || n;
                var o = r.linksHeaderEl = n.createDiv("tree-item-self is-clickable");
                o.createSpan("tree-item-icon collapse-icon", (function(e) {
                    yk(e, Ry, 8)
                }
                )),
                o.createDiv({
                    cls: "tree-item-inner",
                    text: mA("label-links")
                }),
                o.addEventListener("click", r.toggleLinksCollapsed.bind(r)),
                r.linksCountEl = o.createDiv("tree-item-flair-outer").createSpan("tree-item-flair"),
                r.outgoingLinkDom = new wA(n.createDiv("search-result-container")),
                r.outgoingLinkInfinityScroller = new Cx(i),
                r.outgoingLinkInfinityScroller.rootEl = r.outgoingLinkDom;
                var s = r.unlinkedHeaderEl = n.createDiv("tree-item-self is-clickable");
                return s.createSpan("tree-item-icon collapse-icon", (function(e) {
                    yk(e, Ry, 8)
                }
                )),
                s.createDiv({
                    cls: "tree-item-inner",
                    text: mA("label-unlinked-mentions")
                }),
                s.addEventListener("click", r.toggleUnlinkedCollapsed.bind(r)),
                r.unlinkedCountEl = s.createDiv("tree-item-flair-outer").createSpan("tree-item-flair"),
                r.unlinkedDom = new Dx(t,n.createDiv("search-result-container"),mA("label-unlinked-mentions"),i),
                r.setUnlinkedCollapsed(!0, !1),
                r
            }
            return i(t, e),
            t.prototype.onload = function() {
                var e = this.app
                  , t = e.vault;
                this.registerEvent(e.metadataCache.on("resolve", this.onFileResolved, this)),
                this.registerEvent(t.on("delete", this.onFileDeleted, this))
            }
            ,
            t.prototype.onResize = function() {
                this.outgoingLinkInfinityScroller.onResize(),
                this.unlinkedDom.onResize()
            }
            ,
            t.prototype.toggleLinksCollapsed = function() {
                this.setLinksCollapsed(!this.linksCollapsed, !0)
            }
            ,
            t.prototype.setLinksCollapsed = function(e, t) {
                return o(this, void 0, void 0, (function() {
                    return s(this, (function(n) {
                        switch (n.label) {
                        case 0:
                            return e === this.linksCollapsed ? [2] : (this.linksCollapsed = e,
                            this.updateHeaderTooltip(this.linksHeaderEl, e),
                            [4, Pt(this.outgoingLinkDom.el, e, t)]);
                        case 1:
                            return n.sent(),
                            e || this.outgoingLinkInfinityScroller.invalidateAll(),
                            this.update(),
                            this.app.workspace.requestSaveLayout(),
                            this.outgoingLinkInfinityScroller.updateVirtualDisplay(),
                            this.unlinkedDom.infinityScroll.updateVirtualDisplay(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.toggleUnlinkedCollapsed = function() {
                this.setUnlinkedCollapsed(!this.unlinkedCollapsed, !0)
            }
            ,
            t.prototype.setUnlinkedCollapsed = function(e, t) {
                return o(this, void 0, void 0, (function() {
                    return s(this, (function(n) {
                        switch (n.label) {
                        case 0:
                            return e === this.unlinkedCollapsed ? [2] : (this.unlinkedCollapsed = e,
                            [4, this.setSectionCollapsed(this.unlinkedHeaderEl, this.unlinkedDom, e, t)]);
                        case 1:
                            return n.sent(),
                            this.app.workspace.requestSaveLayout(),
                            this.outgoingLinkInfinityScroller.updateVirtualDisplay(),
                            this.unlinkedDom.infinityScroll.updateVirtualDisplay(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.updateHeaderTooltip = function(e, t) {
                e.toggleClass("is-collapsed", t),
                Je(e, Te(t ? "interface.tooltip.click-to-expand" : "interface.tooltip.click-to-collapse"), {
                    placement: this.tooltipPlacement
                })
            }
            ,
            t.prototype.setSectionCollapsed = function(e, t, n, i) {
                return o(this, void 0, void 0, (function() {
                    return s(this, (function(r) {
                        switch (r.label) {
                        case 0:
                            return this.updateHeaderTooltip(e, n),
                            [4, t.toggle(n, i)];
                        case 1:
                            return r.sent(),
                            this.update(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.onFileResolved = function(e) {
                e === this.file && (this.outgoingFile = null,
                this.unlinkedFile = null,
                this.update())
            }
            ,
            t.prototype.onFileDeleted = function() {
                this.unlinkedFile = null,
                this.requestUpdate()
            }
            ,
            t.prototype.update = function() {
                var e = this.file;
                this.outgoingFile !== e && this.recomputeLinks(),
                this.unlinkedFile !== e && this.recomputeUnlinked(),
                this.updateHeaderTooltip(this.linksHeaderEl, this.linksCollapsed),
                this.updateHeaderTooltip(this.unlinkedHeaderEl, this.unlinkedCollapsed)
            }
            ,
            t.prototype.recomputeLinks = function() {
                var e = this
                  , t = this.linksQueue;
                t && !t.runnable.isCancelled() && (t.runnable.cancel(),
                this.outgoingFile = null),
                this.linksQueue = null;
                var n = this.linksCollapsed
                  , i = this.linksCountEl;
                if (n)
                    i.hide();
                else {
                    var r = this.file;
                    this.outgoingFile = r;
                    var a = this.outgoingLinkDom
                      , l = this.outgoingLinkInfinityScroller;
                    if (l.queueCompute(),
                    i.show(),
                    i.setText("0"),
                    r && "md" === r.extension) {
                        var c = this.app.metadataCache
                          , u = c.getFileCache(r);
                        if (u) {
                            var p = [];
                            if (Dy(u, (function(e) {
                                var t = e.link;
                                p.push({
                                    linktext: t,
                                    pos: e.position.start.offset
                                })
                            }
                            )),
                            p.sort((function(e, t) {
                                return e.pos - t.pos
                            }
                            )),
                            0 !== p.length) {
                                for (var d = r.path, f = 0, g = 0, m = a.children; g < m.length; g++) {
                                    m[g].invalidated = !0
                                }
                                a.children.filter((function(e) {
                                    return e.sourcePath === d
                                }
                                ));
                                var v = function() {
                                    var e = a.children;
                                    e.sort((function(e, t) {
                                        return e.pos - t.pos
                                    }
                                    ));
                                    for (var t = 0; t < e.length; t++) {
                                        var n = e[t];
                                        if (-1 !== f && n.pos > f)
                                            break;
                                        n.invalidated && (e.splice(t, 1),
                                        t--)
                                    }
                                    l.queueCompute(),
                                    i.setText(String(e.length))
                                };
                                t = this.linksQueue = new qk({
                                    onStart: function() {},
                                    onStop: function() {
                                        f = -1,
                                        v()
                                    },
                                    onCancel: function() {
                                        e.linksQueue = null
                                    }
                                });
                                var y = new Set;
                                t.addList(p);
                                var b = _k(t.generator(), {
                                    batchSize: 20,
                                    beforePause: function() {
                                        v()
                                    }
                                });
                                o(e, void 0, void 0, (function() {
                                    var e, t, n, i, r, o, l, u, p, g, m, v, w, k;
                                    return s(this, (function(s) {
                                        switch (s.label) {
                                        case 0:
                                            s.trys.push([0, 5, 6, 11]),
                                            e = h(b),
                                            s.label = 1;
                                        case 1:
                                            return [4, e.next()];
                                        case 2:
                                            if ((t = s.sent()).done)
                                                return [3, 4];
                                            if (n = t.value,
                                            i = n.linktext,
                                            r = n.pos,
                                            o = Ly(i),
                                            l = o.path,
                                            u = o.subpath,
                                            (p = c.getFirstLinkpathDest(l, d)) || (l = DL(l)),
                                            g = (p ? p.path : l) + u,
                                            y.has(g))
                                                return [3, 3];
                                            y.add(g),
                                            (m = new kA(this,i,l,u,d,p)).pos = r,
                                            f = r,
                                            a.children.push(m),
                                            s.label = 3;
                                        case 3:
                                            return [3, 1];
                                        case 4:
                                            return [3, 11];
                                        case 5:
                                            return v = s.sent(),
                                            w = {
                                                error: v
                                            },
                                            [3, 11];
                                        case 6:
                                            return s.trys.push([6, , 9, 10]),
                                            t && !t.done && (k = e.return) ? [4, k.call(e)] : [3, 8];
                                        case 7:
                                            s.sent(),
                                            s.label = 8;
                                        case 8:
                                            return [3, 10];
                                        case 9:
                                            if (w)
                                                throw w.error;
                                            return [7];
                                        case 10:
                                            return [7];
                                        case 11:
                                            return [2]
                                        }
                                    }
                                    ))
                                }
                                ))
                            } else
                                a.children = []
                        } else
                            a.children = []
                    } else
                        a.children = []
                }
            }
            ,
            t.prototype.recomputeUnlinked = function() {
                return o(this, void 0, void 0, (function() {
                    var e, t, n, i, r, a, l, c, u, p, d, f, g, m, v, y, b, w, k, C, x, E, S, L, D, M, A, T, F, P, O, I, N, R = this;
                    return s(this, (function(B) {
                        switch (B.label) {
                        case 0:
                            return (e = this.unlinksQueue) && !e.runnable.isCancelled() && (e.runnable.cancel(),
                            this.unlinkedFile = null),
                            this.unlinksQueue = null,
                            n = (t = this).unlinkedCollapsed,
                            i = t.unlinkedCountEl,
                            n ? (i.hide(),
                            [2]) : (r = this.file,
                            a = this.unlinkedDom,
                            c = (l = this).app,
                            u = l.unlinkedDomInfo,
                            this.unlinkedFile = r,
                            i.show(),
                            i.setText("0"),
                            r && "md" === r.extension ? (p = {},
                            d = function(e, t) {
                                e = e.toLowerCase();
                                var n = p[e] = p[e] || {
                                    text: e,
                                    files: []
                                };
                                n.files.contains(t) || n.files.push(t)
                            }
                            ,
                            f = c.metadataCache.getFileCache(r),
                            [4, c.vault.cachedRead(r)]) : (a.emptyResults(),
                            [2]));
                        case 1:
                            for (g = B.sent(),
                            m = c.vault.getMarkdownFiles(),
                            v = 0,
                            y = m; v < y.length; v++)
                                if ((b = y[v]) !== r && (d(b.basename, b),
                                (w = c.metadataCache.getFileCache(b)) && (k = my(w.frontmatter))))
                                    for (C = 0,
                                    x = k; C < x.length; C++)
                                        (E = x[C]) && d(E, b);
                            if (S = Array.from(Object.values(p)).sort((function(e, t) {
                                return gx(e.text, t.text)
                            }
                            )),
                            L = a.getResult(r)) {
                                for (D = L.children,
                                M = 0; M < D.length; M++)
                                    A = D[M],
                                    (T = u.get(A)) && p.hasOwnProperty(T.text) || (D.splice(M, 1),
                                    M--);
                                L.content = g
                            } else
                                a.emptyResults(),
                                L = a.addResult(r, {
                                    content: []
                                }, g, !1);
                            return L.separateMatches = !0,
                            F = function() {
                                L.children.sort((function(e, t) {
                                    return e.matches[0][0] - t.matches[0][0]
                                }
                                )),
                                a.infinityScroll.queueCompute(),
                                i.setText(String(a.getMatchCount()))
                            }
                            ,
                            e = this.unlinksQueue = new qk({
                                onStart: function() {},
                                onStop: function() {
                                    F()
                                },
                                onCancel: function() {
                                    R.linksQueue = null
                                }
                            }),
                            P = 0,
                            (O = f && f.frontmatter && f.frontmatter.position) && (P = O.end.offset),
                            I = g.toLowerCase(),
                            e.addList(S),
                            N = _k(e.generator(), {
                                beforePause: function() {
                                    F()
                                }
                            }),
                            o(R, void 0, void 0, (function() {
                                var e, t, n, i, a, l, p, d, m, v, y, b, w, k, C, x, E, S = this;
                                return s(this, (function(D) {
                                    switch (D.label) {
                                    case 0:
                                        D.trys.push([0, 5, 6, 11]),
                                        e = h(N),
                                        D.label = 1;
                                    case 1:
                                        return [4, e.next()];
                                    case 2:
                                        if ((t = D.sent()).done)
                                            return [3, 4];
                                        for (n = t.value,
                                        i = n.files,
                                        a = n.text,
                                        l = L.children,
                                        p = 0; p < l.length; p++)
                                            d = l[p],
                                            (m = u.get(d)) && m.text !== a || (l.splice(p, 1),
                                            p--);
                                        for (v = Ox(a),
                                        y = new RegExp(v,"giy"),
                                        b = v.startsWith("(?:") ? -1 : 0,
                                        w = I.indexOf(a, P),
                                        k = function() {
                                            y.lastIndex = w + b;
                                            var e = w
                                              , t = w + a.length;
                                            if (w = I.indexOf(a, t),
                                            !y.test(g))
                                                return "continue";
                                            if (Dy(f, (function(n) {
                                                return n.position.start.offset <= e && n.position.end.offset >= t
                                            }
                                            )))
                                                return "continue";
                                            var h = [e, t]
                                              , p = L.getMatchMinimalPositions(g, h)
                                              , d = p[0]
                                              , m = p[1]
                                              , v = p[2]
                                              , k = p[3]
                                              , C = new Lx(L,d,m,[h]);
                                            u.set(C, n);
                                            var x = i;
                                            C.onMatchRender = function(e, t) {
                                                for (var n = t.createDiv({
                                                    cls: "search-result-file-match-destination-file-container"
                                                }), i = function(e) {
                                                    var i = n.createDiv({
                                                        cls: "search-result-file-match-destination-file"
                                                    });
                                                    i.createSpan({
                                                        cls: "search-result-file-match-destination-file-icon"
                                                    }, (function(e) {
                                                        yk(e, rw, 14)
                                                    }
                                                    )),
                                                    i.createSpan({
                                                        cls: "search-result-file-match-destination-file-name",
                                                        text: K(e.basename)
                                                    });
                                                    var a = "/" !== e.parent.path
                                                      , l = mA("tooltip-link-file");
                                                    a && (l = K(e.path) + "\n\n" + l),
                                                    Je(i, l),
                                                    i.addEventListener("click", (function(n) {
                                                        return o(S, void 0, void 0, (function() {
                                                            var i, o, a, l, u, p;
                                                            return s(this, (function(s) {
                                                                switch (s.label) {
                                                                case 0:
                                                                    return n.preventDefault(),
                                                                    t.detach(),
                                                                    L.invalidate(),
                                                                    i = this.app.vault,
                                                                    o = h[0],
                                                                    a = h[1],
                                                                    e ? [4, i.read(r)] : [2];
                                                                case 1:
                                                                    return l = s.sent(),
                                                                    u = l.slice(o, a),
                                                                    p = c.fileManager.generateMarkdownLink(e, r.path, "", u),
                                                                    l = l.slice(0, o) + p + l.slice(a),
                                                                    [4, i.modify(r, l)];
                                                                case 2:
                                                                    return s.sent(),
                                                                    [2]
                                                                }
                                                            }
                                                            ))
                                                        }
                                                        ))
                                                    }
                                                    ))
                                                }, a = 0, l = x; a < l.length; a++)
                                                    i(l[a])
                                            }
                                            ,
                                            C.render(v, k),
                                            l.push(C)
                                        }
                                        ; -1 !== w; )
                                            k();
                                        D.label = 3;
                                    case 3:
                                        return [3, 1];
                                    case 4:
                                        return [3, 11];
                                    case 5:
                                        return C = D.sent(),
                                        x = {
                                            error: C
                                        },
                                        [3, 11];
                                    case 6:
                                        return D.trys.push([6, , 9, 10]),
                                        t && !t.done && (E = e.return) ? [4, E.call(e)] : [3, 8];
                                    case 7:
                                        D.sent(),
                                        D.label = 8;
                                    case 8:
                                        return [3, 10];
                                    case 9:
                                        if (x)
                                            throw x.error;
                                        return [7];
                                    case 10:
                                        return [7];
                                    case 11:
                                        return [2]
                                    }
                                }
                                ))
                            }
                            )).then(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t
        }(Jk)
          , wA = function(e) {
            this.info = {
                height: 0,
                width: 0,
                childTop: 0,
                computed: !1,
                queued: !1,
                hidden: !1
            },
            this.children = [],
            this.pusherEl = wx(),
            this.el = e,
            this.childrenEl = e
        }
          , kA = function(e, t, n, i, r, o) {
            this.info = {
                height: 0,
                width: 0,
                childTop: 0,
                computed: !1,
                queued: !1,
                hidden: !1
            },
            this.invalidated = !1,
            this.sourcePath = r;
            var s = e.app
              , a = this.el = createDiv("tree-item-self is-clickable outgoing-link-item")
              , l = a.createSpan("tree-item-icon")
              , c = rw
              , u = n
              , h = "";
            if (o) {
                var p = Fy(s.metadataCache.getFileCache(o), i);
                p ? "heading" === p.type ? (c = Jb,
                u = p.current.heading,
                h = n) : "block" === p.type && (c = Ky,
                u = p.block.id,
                h = n) : (c = rw,
                "/" !== o.parent.path && (h = $(o.path)))
            } else
                c = Bw,
                Je(a, mA("tooltip-not-created"));
            yk(l, c);
            var d = a.createDiv({
                cls: "tree-item-inner",
                text: u
            });
            if (h && d.createDiv({
                cls: "tree-item-inner-subtext",
                text: h
            }),
            a.onClickEvent((function(e) {
                s.workspace.openLinkText(t, r, rn.isModifier(e, "Mod") || 1 === e.button)
            }
            )),
            a.addEventListener("mouseover", (function(n) {
                !n.defaultPrevented && He(n, a) && (n.preventDefault(),
                s.workspace.trigger("hover-link", {
                    event: n,
                    source: "search",
                    hoverParent: e,
                    targetEl: a,
                    linktext: t,
                    sourcePath: r
                }))
            }
            )),
            o) {
                var f = s.dragManager;
                f.handleDrag(a, (function(e) {
                    return f.dragFile(e, o)
                }
                ))
            }
        }
          , CA = function(e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.children = null,
                t
            }
            return i(t, e),
            t.prototype.render = function() {
                var e = this.childrenEl
                  , t = this.children;
                if (null !== t) {
                    e.setChildrenInPlace(t.map((function(e) {
                        return e.el
                    }
                    )));
                    for (var n = 0, i = t; n < i.length; n++) {
                        i[n].render()
                    }
                } else
                    e.empty()
            }
            ,
            t
        }(SD)
          , xA = function() {
            function e(e) {
                this.children = [],
                this.childrenEl = e
            }
            return e.prototype.render = function() {
                var e = this.childrenEl
                  , t = this.children;
                e.setChildrenInPlace(t.map((function(e) {
                    return e.el
                }
                )));
                for (var n = 0, i = t; n < i.length; n++) {
                    i[n].render()
                }
            }
            ,
            e.prototype.addRoot = function(e) {
                this.children.push(e)
            }
            ,
            e.prototype.clear = function() {
                this.children = [],
                this.render()
            }
            ,
            e
        }();
        var EA, SA = function(e) {
            function t(t, n) {
                var i = e.call(this) || this;
                return i.owner = t,
                i.heading = n,
                i.innerEl.setText(n.heading),
                i
            }
            return i(t, e),
            t.prototype.onSelfClick = function(e) {
                if (!e.defaultPrevented) {
                    var t = this.owner;
                    t.onItemClick && t.onItemClick(this.heading)
                }
            }
            ,
            t.prototype.render = function() {
                e.prototype.render.call(this);
                var t = this.owner
                  , n = this.children;
                this.setCollapsible(t.collapsible && n && n.length > 0),
                this.setClickable(!!t.onItemClick)
            }
            ,
            t.prototype.setActive = function(e) {
                this.selfEl.toggleClass("mod-active", e)
            }
            ,
            t
        }(CA), LA = function(e) {
            function t(t, n) {
                var i = e.call(this, t) || this;
                return i.collapsible = !0,
                i.highlighted = null,
                i.allItems = [],
                i.onItemClick = n,
                i
            }
            return i(t, e),
            t.prototype.renderOutline = function(e) {
                for (var t = [], n = this.allItems = [], i = 0, r = e; i < r.length; i++) {
                    for (var o = r[i], s = o.level, a = new SA(this,o), l = t.last(); l && l.heading.level >= s; )
                        t.pop(),
                        l = t.last();
                    t.push(a),
                    l ? (l.children = l.children || [],
                    l.children.push(a)) : this.addRoot(a),
                    n.push(a)
                }
                this.highlighted = null,
                this.render()
            }
            ,
            t.prototype.highlightLine = function(e) {
                for (var t = this.highlighted, n = null, i = 0, r = this.allItems; i < r.length; i++) {
                    var o = r[i];
                    if (!(o.heading.position.start.line <= e))
                        break;
                    n = o
                }
                n !== t && (t && t.setActive(!1),
                this.highlighted = n,
                n && n.setActive(!0))
            }
            ,
            t
        }(xA), DA = "outline", MA = function() {
            function e() {
                this.id = "outline",
                this.name = Te("plugins.outline.name"),
                this.description = Te("plugins.outline.desc")
            }
            return e.prototype.init = function(e, t) {
                var n = this;
                this.app = e,
                this.plugin = t,
                t.registerViewType(DA, (function(e) {
                    return new AA(e)
                }
                )),
                t.registerGlobalCommand({
                    id: "outline:open",
                    name: Te("plugins.outline.action-show"),
                    icon: Yw,
                    callback: function() {
                        n.app.workspace.ensureSideLeaf(DA, "right", !1)
                    }
                }),
                t.registerGlobalCommand({
                    id: "outline:open-for-current",
                    name: Te("plugins.outline.action-open-for-current"),
                    icon: Yw,
                    checkCallback: this.openTocForActiveFile.bind(this)
                })
            }
            ,
            e.prototype.onEnable = function(e, t) {
                t.registerEvent(e.workspace.on("file-open", this.onFileOpen, this)),
                t.registerEvent(e.workspace.on("layout-ready", this.initLeaf, this)),
                t.registerEvent(e.workspace.on("file-menu", this.onFileMenu, this))
            }
            ,
            e.prototype.onFileOpen = function(e) {
                this.file = e instanceof Vf ? e : null
            }
            ,
            e.prototype.onUserEnable = function() {
                this.initLeaf()
            }
            ,
            e.prototype.initLeaf = function() {
                this.app.workspace.ensureSideLeaf(DA, "right", !1, !1)
            }
            ,
            e.prototype.onFileMenu = function(e, t, n, i) {
                var r = this;
                !on.isMobile && t instanceof Vf && i && "sidebar-context-menu" !== n && e.addItem((function(e) {
                    return e.setTitle(Te("plugins.outline.action-open")).setIcon(Pb).onClick((function() {
                        return o(r, void 0, void 0, (function() {
                            return s(this, (function(e) {
                                switch (e.label) {
                                case 0:
                                    return [4, this.app.workspace.splitLeafOrActive(i, "vertical").setViewState({
                                        type: DA,
                                        active: !0,
                                        group: i,
                                        state: {
                                            file: t.path
                                        }
                                    })];
                                case 1:
                                    return e.sent(),
                                    [2]
                                }
                            }
                            ))
                        }
                        ))
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.openTocForActiveFile = function(e) {
                var t = this.app.workspace
                  , n = t.getActiveFile();
                if (n) {
                    if (!e)
                        t.splitActiveLeaf("vertical").setViewState({
                            type: DA,
                            active: !0,
                            group: t.activeLeaf,
                            state: {
                                file: n.path
                            }
                        });
                    return !0
                }
            }
            ,
            e
        }(), AA = function(e) {
            function t(t) {
                var n = e.call(this, t) || this;
                n.icon = Pb,
                n.paneEl = null;
                var i = n.contentEl;
                return n.paneEl = i.createDiv("outline"),
                n.treeView = new LA(n.paneEl,n.onItemClick.bind(n)),
                n
            }
            return i(t, e),
            t.prototype.getDisplayText = function() {
                return this.file ? Te("plugins.outline.tab-title", {
                    displayText: e.prototype.getDisplayText.call(this)
                }) : Te("plugins.outline.name")
            }
            ,
            t.prototype.getViewType = function() {
                return DA
            }
            ,
            t.prototype.canAcceptExtension = function(e) {
                return !0
            }
            ,
            t.prototype.load = function() {
                e.prototype.load.call(this);
                var t = this.app;
                this.registerEvent(t.metadataCache.on("changed", this.onFileChanged, this)),
                this.requestUpdate()
            }
            ,
            t.prototype.onFileChanged = function(e) {
                e === this.file && this.requestUpdate()
            }
            ,
            t.prototype.update = function() {
                var e = this.paneEl
                  , t = this.treeView;
                e.empty(),
                t.clear();
                var n = this.getHeadings();
                n ? t.renderOutline(n) : e.createDiv({
                    cls: "pane-empty",
                    text: Te("plugins.outline.label-no-headings")
                })
            }
            ,
            t.prototype.onItemClick = function(e) {
                var t = this;
                setTimeout((function() {
                    var n = t.leaf;
                    iD.collapseFor(n);
                    var i, r = n.workspace;
                    i = n.group ? r.getGroupLeaves(n.group) : r.getLeavesOfType(fS);
                    for (var o = e.position.start.line, s = !1, a = 0, l = i; a < l.length; a++) {
                        var c;
                        (c = l[a]) && c.view instanceof gS && c.view.file === t.file && (c.view.setEphemeralState({
                            line: o
                        }),
                        s = !0)
                    }
                    s || (c = r.getLeaf()).openFile(t.file, {
                        eState: {
                            line: o
                        }
                    })
                }
                ), 0)
            }
            ,
            t.prototype.getHeadings = function() {
                var e = this.file;
                if (!e || "md" !== e.extension)
                    return null;
                var t = this.app.metadataCache.getFileCache(e);
                if (!t)
                    return null;
                var n = t.headings;
                return n && 0 !== n.length ? n : null
            }
            ,
            t
        }(gE), TA = function() {
            function e() {
                this.id = "page-preview",
                this.name = Te("plugins.page-preview.name"),
                this.description = Te("plugins.page-preview.desc"),
                this.defaultOn = !0,
                this.overrides = {}
            }
            return e.prototype.init = function(e, t) {
                this.app = e
            }
            ,
            e.prototype.onEnable = function(e, t) {
                return o(this, void 0, void 0, (function() {
                    var n, i, r, o;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return t.registerEvent(e.workspace.on("link-hover", this.onLinkHover, this)),
                            t.registerEvent(e.workspace.on("hover-link", this.onHoverLink, this)),
                            n = this,
                            r = (i = Object).assign,
                            o = [{}],
                            [4, t.loadData()];
                        case 1:
                            return n.overrides = r.apply(i, o.concat([s.sent()])),
                            t.addSettingTab(new FA(e,t,this)),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.onHoverLink = function(e) {
                var t = this
                  , n = e.source
                  , i = e.hoverParent
                  , r = e.targetEl
                  , o = e.linktext
                  , s = e.sourcePath
                  , a = void 0 === s ? "" : s
                  , l = e.state;
                if (!qe(e.event)) {
                    var c = !0;
                    if (this.overrides.hasOwnProperty(n) ? c = this.overrides[n] : this.app.workspace.hoverLinkSources.hasOwnProperty(n) && (c = this.app.workspace.hoverLinkSources[n].defaultMod),
                    WL(e.event),
                    c && !rn.isModifier(e.event, "Mod")) {
                        if (!r)
                            return;
                        var u = !1
                          , h = function() {
                            u = !0,
                            document.removeEventListener("keydown", p),
                            document.removeEventListener("mouseover", d)
                        }
                          , p = function(e) {
                            u || (document.body.contains(r) ? rn.isModifier(e, "Mod") && (h(),
                            t.onLinkHover(i, r, o, a, l)) : h())
                        }
                          , d = function(e) {
                            u || r === e.target || r.contains(e.target) || h()
                        };
                        return document.addEventListener("keydown", p),
                        void document.addEventListener("mouseover", d)
                    }
                    this.onLinkHover(i, r, o, a, l)
                }
            }
            ,
            e.prototype.onLinkHover = function(e, t, n, i, r) {
                var a = this
                  , l = e.hoverPopover;
                l && l.state !== NL.Hidden && l.targetEl === t || (l = new YL(e,t),
                setTimeout((function() {
                    return o(a, void 0, void 0, (function() {
                        var e, t;
                        return s(this, (function(o) {
                            switch (o.label) {
                            case 0:
                                return l.state === NL.Hidden ? [2] : (e = l.hoverEl,
                                (t = fx.load({
                                    app: this.app,
                                    linktext: n,
                                    sourcePath: i,
                                    containerEl: e,
                                    state: r
                                })) ? (l.addChild(t),
                                [4, t.loadFile()]) : [3, 2]);
                            case 1:
                                o.sent(),
                                o.label = 2;
                            case 2:
                                return l.state === NL.Shown && l.position(),
                                [2]
                            }
                        }
                        ))
                    }
                    ))
                }
                ), 100))
            }
            ,
            e
        }(), FA = function(e) {
            function t(t, n, i) {
                var r = e.call(this, t, n) || this;
                return r.instance = i,
                r
            }
            return i(t, e),
            t.prototype.display = function() {
                var e = this
                  , t = this.containerEl;
                t.empty(),
                new vE(t).setHeading().setName(Te("plugins.page-preview.label-require-mod", {
                    key: en.Mod
                }));
                var n = this.instance.overrides
                  , i = this.app.workspace.hoverLinkSources
                  , r = function(r) {
                    var o = i[r]
                      , s = n[r];
                    n.hasOwnProperty(r) || (s = o.defaultMod),
                    new vE(t).setName(o.display).addToggle((function(t) {
                        return t.setValue(s).onChange((function(t) {
                            t === o.defaultMod ? delete n[r] : n[r] = t,
                            e.plugin.saveData(n)
                        }
                        ))
                    }
                    ))
                };
                for (var o in i)
                    r(o)
            }
            ,
            t
        }(iM), PA = "indexFile", OA = "siteName", IA = "logo", NA = "noindex", RA = "defaultTheme", BA = "showNavigation", zA = "showGraph", HA = "showOutline", VA = "showSearch", qA = "googleAnalytics", UA = "readableLineLength", _A = "strictLineBreaks", jA = "showHoverPreview", WA = "showBacklinks", $A = "slidingWindowMode", GA = ((EA = {})[PA] = "",
        EA[IA] = "",
        EA[OA] = "",
        EA[NA] = !1,
        EA[RA] = "light",
        EA[BA] = !0,
        EA[zA] = !0,
        EA[HA] = !1,
        EA[VA] = !1,
        EA[qA] = "",
        EA[UA] = !0,
        EA[_A] = !1,
        EA[jA] = !1,
        EA[WA] = !1,
        EA[$A] = !1,
        EA), YA = Fe("plugins.publish"), KA = function(e) {
            function t(t, n) {
                var i = e.call(this, t) || this;
                return i.offlineSection = null,
                i.noAccountSection = null,
                i.noSubscriptionSection = null,
                i.manageSitesSection = null,
                i.siteOptionsSection = null,
                i.reviewChangesSection = null,
                i.uploadProgressSection = null,
                i.editSiteSlugSection = null,
                i.listPasswordSection = null,
                i.addPasswordSection = null,
                i.configureCustomDomainSection = null,
                i.errorMessageEl = null,
                i.loaderEl = null,
                i.currentSection = null,
                i.plugin = n,
                i.modalEl.addClass("mod-publish"),
                i.setTitleText(YA("action-publish-changes")),
                i.contentEl.createDiv("message-container", (function(e) {
                    i.errorMessageEl = e.createDiv("message mod-error"),
                    i.errorMessageEl.hide()
                }
                )),
                i.offlineSection = new XA(i),
                i.loaderEl = i.contentEl.createDiv("loader-cube", (function(e) {
                    for (var t = 1; t <= 9; t++)
                        e.createDiv({
                            cls: "sk-cube sk-cube" + t
                        })
                }
                )),
                i.loaderEl.hide(),
                i.noAccountSection = new ZA(i),
                i.noSubscriptionSection = new eT(i),
                i.manageSitesSection = new tT(i),
                i.siteOptionsSection = new nT(i),
                i.reviewChangesSection = new iT(i),
                i.uploadProgressSection = new rT(i),
                i.editSiteSlugSection = new oT(i),
                i.listPasswordSection = new sT(i),
                i.addPasswordSection = new aT(i),
                i.configureCustomDomainSection = new lT(i),
                i
            }
            return i(t, e),
            t.prototype.handleError = function(e) {
                console.error(e),
                this.loaderEl.hide(),
                e instanceof uT ? "AUTHFAIL" === e.code ? (this.openSection(this.manageSitesSection),
                this.showError(YA("msg-no-permission-to-publish-to-site"))) : "NET" === e.code ? this.showError(YA("msg-network-error") + e.message) : this.showError(e.message) : this.showError(YA("msg-something-went-wrong"))
            }
            ,
            t.prototype.showError = function(e) {
                this.errorMessageEl.setText(e),
                this.errorMessageEl.show()
            }
            ,
            t.prototype.hideError = function() {
                this.errorMessageEl.hide()
            }
            ,
            t.prototype.onOpen = function() {
                return o(this, void 0, void 0, (function() {
                    var e;
                    return s(this, (function(t) {
                        switch (t.label) {
                        case 0:
                            if (e = this.app.account,
                            this.closeSection(),
                            this.loaderEl.show(),
                            e.isLoggedIn)
                                return [3, 5];
                            t.label = 1;
                        case 1:
                            return t.trys.push([1, 3, , 4]),
                            [4, e.getUserInfo()];
                        case 2:
                            return t.sent(),
                            [3, 4];
                        case 3:
                            return t.sent(),
                            [2, this.openSection(this.offlineSection)];
                        case 4:
                            if (!e.isLoggedIn)
                                return [2, this.openSection(this.noAccountSection)];
                            t.label = 5;
                        case 5:
                            return this.plugin.siteId ? [2, this.openReviewChanges()] : [2, this.openSection(this.manageSitesSection)]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.getCurrentSlug = function() {
                return o(this, void 0, Promise, (function() {
                    var e;
                    return s(this, (function(t) {
                        switch (t.label) {
                        case 0:
                            e = this.plugin.siteId,
                            t.label = 1;
                        case 1:
                            return t.trys.push([1, 3, , 4]),
                            [4, this.plugin.apiGetSlugs([e])];
                        case 2:
                            return [2, t.sent()[e]];
                        case 3:
                            return t.sent(),
                            [2, e];
                        case 4:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.onClose = function() {}
            ,
            t.prototype.deleteSite = function(e) {
                return o(this, void 0, void 0, (function() {
                    var t = this;
                    return s(this, (function(n) {
                        return this.app.account.deleteSite(e, (function() {
                            return o(t, void 0, void 0, (function() {
                                return s(this, (function(t) {
                                    switch (t.label) {
                                    case 0:
                                        return this.plugin.siteId !== e ? [3, 2] : [4, this.plugin.setup(null, null)];
                                    case 1:
                                        t.sent(),
                                        t.label = 2;
                                    case 2:
                                        return [4, this.openSection(this.manageSitesSection)];
                                    case 3:
                                        return t.sent(),
                                        [2]
                                    }
                                }
                                ))
                            }
                            ))
                        }
                        )),
                        [2]
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.openReviewChanges = function() {
                return o(this, void 0, void 0, (function() {
                    return s(this, (function(e) {
                        switch (e.label) {
                        case 0:
                            return [4, this.openSection(this.reviewChangesSection)];
                        case 1:
                            return e.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.editSlug = function(e, t) {
                return o(this, void 0, void 0, (function() {
                    return s(this, (function(n) {
                        switch (n.label) {
                        case 0:
                            return this.editSiteSlugSection.setSiteInfo(e),
                            this.editSiteSlugSection.setExistingSlug(t),
                            [4, this.openSection(this.editSiteSlugSection)];
                        case 1:
                            return n.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.uploadChanges = function(e) {
                return o(this, void 0, void 0, (function() {
                    return s(this, (function(t) {
                        return this.uploadProgressSection.addChanges(e),
                        this.openSection(this.uploadProgressSection),
                        [2]
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.showPasswords = function() {
                return o(this, void 0, void 0, (function() {
                    var e, t, n;
                    return s(this, (function(i) {
                        switch (i.label) {
                        case 0:
                            e = this.listPasswordSection,
                            i.label = 1;
                        case 1:
                            return i.trys.push([1, 4, , 5]),
                            this.currentSection.hide(),
                            this.loaderEl.show(),
                            [4, this.plugin.apiGetPassword()];
                        case 2:
                            return t = i.sent().pass,
                            e.setPasswords(t),
                            e.updateDisplay(),
                            [4, this.openSection(e)];
                        case 3:
                            return i.sent(),
                            [3, 5];
                        case 4:
                            return n = i.sent(),
                            this.handleError(n),
                            [2];
                        case 5:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.openAddPassword = function() {
                return o(this, void 0, void 0, (function() {
                    return s(this, (function(e) {
                        switch (e.label) {
                        case 0:
                            return [4, this.openSection(this.addPasswordSection)];
                        case 1:
                            return e.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.setTitleText = function(e) {
                this.titleEl.setText(e)
            }
            ,
            t.prototype.closeSection = function() {
                this.errorMessageEl.hide(),
                this.currentSection && this.currentSection.hide(),
                this.currentSection = null
            }
            ,
            t.prototype.openSection = function(e) {
                return o(this, void 0, void 0, (function() {
                    return s(this, (function(t) {
                        switch (t.label) {
                        case 0:
                            return this.closeSection(),
                            e.title && this.setTitleText(e.title),
                            this.loaderEl.show(),
                            [4, e.show()];
                        case 1:
                            return t.sent(),
                            this.loaderEl.hide(),
                            this.currentSection = e,
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t
        }(sn), QA = function(e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }
            return i(t, e),
            t.prototype.selectSuggestion = function(e) {
                var t = this.textInputEl;
                t.value = e.path,
                t.trigger("input"),
                this.close()
            }
            ,
            t.prototype.getSuggestions = function(t) {
                var n = e.prototype.getSuggestions.call(this, t);
                return n = n.filter((function(e) {
                    return z.contains(e.extension)
                }
                ))
            }
            ,
            t
        }(LM), JA = function() {
            function e(e) {
                this.title = null,
                this.el = null,
                this.parentModal = null,
                this.parentModal = e,
                this.el = e.contentEl.createDiv(),
                this.hide()
            }
            return e.prototype.show = function() {
                return o(this, void 0, void 0, (function() {
                    return s(this, (function(e) {
                        return this.el.show(),
                        [2]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.hide = function() {
                this.el.hide()
            }
            ,
            e
        }(), XA = function(e) {
            function t(t) {
                var n = e.call(this, t) || this;
                return n.el.createEl("p", {
                    text: YA("label-no-internet-access")
                }),
                n
            }
            return i(t, e),
            t
        }(JA), ZA = function(e) {
            function t(t) {
                var n = e.call(this, t) || this;
                return n.el.createEl("p", {
                    text: YA("label-publish-service-description")
                }),
                n.el.createEl("p", {
                    text: YA("label-please-login")
                }),
                n.el.createDiv("modal-button-container", (function(e) {
                    e.createEl("button", {
                        cls: "mod-cta",
                        text: Te("setting.account.link-sign-up-now")
                    }, (function(e) {
                        e.addEventListener("click", (function() {
                            window.open("http://obsidian.md/account", "_blank")
                        }
                        ))
                    }
                    )),
                    e.createEl("button", {
                        text: Te("setting.account.button-login")
                    }, (function(e) {
                        e.addEventListener("click", (function() {
                            var e = n.parentModal.app;
                            n.parentModal.close(),
                            e.setting.openTabById("account"),
                            e.setting.open()
                        }
                        ))
                    }
                    ))
                }
                )),
                n
            }
            return i(t, e),
            t
        }(JA), eT = function(e) {
            function t(t) {
                var n = e.call(this, t) || this;
                return n.el.createEl("p", {
                    text: YA("label-no-publish-subscription")
                }),
                n.el.createDiv("modal-button-container", (function(e) {
                    e.createEl("button", {
                        cls: "mod-cta",
                        text: YA("button-purchase")
                    }, (function(e) {
                        e.addEventListener("click", (function() {
                            window.open("http://obsidian.md/pricing", "_blank")
                        }
                        ))
                    }
                    ))
                }
                )),
                n
            }
            return i(t, e),
            t
        }(JA), tT = function(e) {
            function t(t) {
                var n = e.call(this, t) || this;
                return n.title = YA("label-manage-sites"),
                n.slugInputEl = null,
                n
            }
            return i(t, e),
            t.prototype.show = function() {
                return o(this, void 0, void 0, (function() {
                    var t, n, i, r, a, l, c, u, h, p, d, f, g, m, v, y, b, w, k = this;
                    return s(this, (function(C) {
                        switch (C.label) {
                        case 0:
                            t = this.parentModal,
                            n = this.el,
                            i = t.plugin,
                            r = t.app,
                            a = r.account,
                            n.empty(),
                            C.label = 1;
                        case 1:
                            return C.trys.push([1, 3, , 4]),
                            [4, a.getSites()];
                        case 2:
                            return l = C.sent(),
                            [3, 4];
                        case 3:
                            return c = C.sent(),
                            t.handleError(c),
                            [2];
                        case 4:
                            return u = l.sites,
                            0 !== (h = l.limit) ? [3, 6] : [4, t.openSection(t.noSubscriptionSection)];
                        case 5:
                            return C.sent(),
                            [2];
                        case 6:
                            0 === u.length && n.createDiv("site-empty-state u-center-text", (function(e) {
                                e.createEl("p", {
                                    text: YA("label-no-sites")
                                })
                            }
                            )),
                            p = n.createDiv(),
                            d = u.map((function(e) {
                                return e.id
                            }
                            )),
                            f = {},
                            C.label = 7;
                        case 7:
                            return C.trys.push([7, 9, , 10]),
                            [4, i.apiGetSlugs(d)];
                        case 8:
                            return f = C.sent(),
                            [3, 10];
                        case 9:
                            return g = C.sent(),
                            console.error(g),
                            [3, 10];
                        case 10:
                            for (m = function(e) {
                                p.createDiv("site-list-item list-item", (function(n) {
                                    var a = f[e.id] || e.id;
                                    n.createDiv({
                                        cls: "list-item-part mod-extended",
                                        text: a
                                    }),
                                    n.createEl("button", {
                                        text: YA("button-choose")
                                    }, (function(n) {
                                        n.addEventListener("click", (function() {
                                            return o(k, void 0, void 0, (function() {
                                                return s(this, (function(n) {
                                                    switch (n.label) {
                                                    case 0:
                                                        return [4, i.setup(e.id, e.host)];
                                                    case 1:
                                                        return n.sent(),
                                                        [4, t.openReviewChanges()];
                                                    case 2:
                                                        return n.sent(),
                                                        [2]
                                                    }
                                                }
                                                ))
                                            }
                                            ))
                                        }
                                        ))
                                    }
                                    )),
                                    n.createDiv({
                                        cls: "clickable-icon"
                                    }, (function(t) {
                                        yk(t, Hy),
                                        Je(t, YA("tooltip-edit-site-id")),
                                        t.addEventListener("click", (function() {
                                            k.parentModal.editSlug(e, f[e.id] || "")
                                        }
                                        ))
                                    }
                                    )),
                                    n.createDiv("clickable-icon", (function(t) {
                                        yk(t, wb),
                                        Je(t, YA("tooltip-delete-site")),
                                        t.addEventListener("click", (function() {
                                            var t = document.createDocumentFragment();
                                            t.createEl("p", {
                                                text: YA("label-delete-site-confirmation")
                                            }),
                                            t.createEl("p", {
                                                cls: "setting-message mod-warning",
                                                text: YA("label-delete-site-details")
                                            }),
                                            new an(r).setTitle(YA("label-confirm-delete-site", {
                                                site: a
                                            })).setContent(t).addButton("mod-warning", Te("dialogue.button-delete"), (function() {
                                                k.parentModal.deleteSite(e.id)
                                            }
                                            )).addCancelButton().open()
                                        }
                                        ))
                                    }
                                    ))
                                }
                                ))
                            }
                            ,
                            v = 0,
                            y = u; v < y.length; v++)
                                b = y[v],
                                m(b);
                            return u.length < h ? (new vE(this.el).setName(YA("option-site-id")).setDesc(YA("option-site-id-description")).addText((function(e) {
                                e.setPlaceholder(YA("option-site-id-placeholder")),
                                e.inputEl.addEventListener("keypress", (function(e) {
                                    "Enter" === e.key && k.createSite()
                                }
                                )),
                                k.slugInputEl = e.inputEl
                            }
                            )).setClass("site-list-site-id-setting"),
                            this.el.createDiv("u-center-text", (function(e) {
                                e.createEl("button", {
                                    text: YA("button-create"),
                                    cls: "mod-cta"
                                }, (function(e) {
                                    e.addEventListener("click", k.createSite.bind(k))
                                }
                                ))
                            }
                            ))) : (w = Te("nouns.site-with-count", {
                                count: h
                            }),
                            new vE(n).setName(YA("label-site-usage", {
                                site: u.length.toString(),
                                limit: w
                            })).addButton((function(e) {
                                return e.setButtonText(YA("button-add-more-sites")).setCta().onClick((function() {
                                    window.open("http://obsidian.md/account", "_blank")
                                }
                                ))
                            }
                            ))),
                            e.prototype.show.call(this),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.createSite = function() {
                return o(this, void 0, void 0, (function() {
                    var e, t, n, i, r, a, l, c = this;
                    return s(this, (function(u) {
                        switch (u.label) {
                        case 0:
                            if (t = (e = this).parentModal,
                            n = e.slugInputEl,
                            i = t.app.account,
                            r = t.plugin,
                            t.hideError(),
                            a = n.value.toLowerCase(),
                            !/^[a-z0-9\-]+$/.test(a))
                                return t.showError(YA("msg-invalid-site-id")),
                                [2];
                            u.label = 1;
                        case 1:
                            return u.trys.push([1, 3, , 4]),
                            [4, r.apiCheckSlug(a)];
                        case 2:
                            return u.sent(),
                            t.showError(YA("msg-site-id-in-use")),
                            [3, 4];
                        case 3:
                            return (l = u.sent())instanceof uT && "NOTFOUND" === l.code ? i.createSite((function(e) {
                                return o(c, void 0, void 0, (function() {
                                    var n;
                                    return s(this, (function(i) {
                                        switch (i.label) {
                                        case 0:
                                            if (!e.id)
                                                return [3, 7];
                                            i.label = 1;
                                        case 1:
                                            return i.trys.push([1, 3, , 4]),
                                            [4, r.apiSetSlug(e.id, e.host, a)];
                                        case 2:
                                            return i.sent(),
                                            [3, 4];
                                        case 3:
                                            return n = i.sent(),
                                            this.parentModal.handleError(n),
                                            [2];
                                        case 4:
                                            return [4, r.setup(e.id, e.host)];
                                        case 5:
                                            return i.sent(),
                                            [4, t.openReviewChanges()];
                                        case 6:
                                            return i.sent(),
                                            [3, 8];
                                        case 7:
                                            this.parentModal.showError(YA("msg-create-site-issue")),
                                            i.label = 8;
                                        case 8:
                                            return [2]
                                        }
                                    }
                                    ))
                                }
                                ))
                            }
                            )) : t.handleError(l),
                            [3, 4];
                        case 4:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t
        }(JA), nT = function(e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.title = YA("label-site-options"),
                t
            }
            return i(t, e),
            t.prototype.show = function() {
                return o(this, void 0, void 0, (function() {
                    var t, n, i, r, a, l, c = this;
                    return s(this, (function(u) {
                        switch (u.label) {
                        case 0:
                            t = this.parentModal.plugin,
                            this.el.empty(),
                            u.label = 1;
                        case 1:
                            return u.trys.push([1, 3, , 4]),
                            [4, t.apiOptions()];
                        case 2:
                            return n = u.sent(),
                            [3, 4];
                        case 3:
                            return i = u.sent(),
                            this.parentModal.handleError(i),
                            [2];
                        case 4:
                            return r = {},
                            a = function(e) {
                                return n.hasOwnProperty(e) ? n[e] : GA[e]
                            }
                            ,
                            l = this.el.createDiv("publish-site-settings-container"),
                            new vE(l).setName(YA("option-site-metadata")).setHeading(),
                            new vE(l).setName(YA("option-site-name")).setDesc(YA("option-site-name-description")).addText((function(e) {
                                return e.setPlaceholder(YA("option-site-name-placeholder")).setValue(a(OA)).onChange((function(e) {
                                    return r[OA] = e
                                }
                                ))
                            }
                            )),
                            new vE(l).setName(YA("option-home-page-file")).setDesc(YA("option-home-page-file-description")).addText((function(e) {
                                e.setPlaceholder(YA("option-home-page-file-placeholder")).setValue(a(PA)).onChange((function(e) {
                                    return r[PA] = e
                                }
                                )),
                                new DM(c.parentModal.app,e.inputEl)
                            }
                            )),
                            new vE(l).setName(YA("option-logo")).setDesc(YA("option-logo-description")).addText((function(e) {
                                e.setPlaceholder(YA("option-logo-placeholder")).setValue(a(IA)).onChange((function(e) {
                                    return r[IA] = e
                                }
                                )),
                                new QA(c.parentModal.app,e.inputEl)
                            }
                            )),
                            new vE(l).setName(YA("option-custom-domain")).setDesc(YA("option-custom-domain-desc")).addButton((function(e) {
                                return e.setButtonText(YA("button-configure")).onClick((function() {
                                    return o(c, void 0, void 0, (function() {
                                        var e;
                                        return s(this, (function(t) {
                                            switch (t.label) {
                                            case 0:
                                                return [4, (e = this.parentModal).openSection(e.configureCustomDomainSection)];
                                            case 1:
                                                return t.sent(),
                                                [2]
                                            }
                                        }
                                        ))
                                    }
                                    ))
                                }
                                ))
                            }
                            )),
                            new vE(l).setName(YA("option-noindex")).setDesc(YA("option-noindex-desc")).addToggle((function(e) {
                                return e.setValue(a(NA)).onChange((function(e) {
                                    return r[NA] = e
                                }
                                ))
                            }
                            )),
                            new vE(l).setName(YA("option-site-appearance")).setHeading(),
                            new vE(l).setName(YA("option-theme")).setDesc(YA("option-theme-description")).addDropdown((function(e) {
                                return e.addOption("light", Te("setting.appearance.light-theme")).addOption("dark", Te("setting.appearance.dark-theme")).setValue(a(RA)).onChange((function(e) {
                                    return r[RA] = e
                                }
                                ))
                            }
                            )),
                            new vE(l).setName(YA("option-site-reading-experience")).setHeading(),
                            new vE(l).setName(YA("option-hover-preview-file")).setDesc(YA("option-hover-preview-file-description")).addToggle((function(e) {
                                return e.setValue(a(jA)).onChange((function(e) {
                                    return r[jA] = e
                                }
                                ))
                            }
                            )),
                            new vE(l).setName(YA("option-readable-line-length")).setDesc(YA("option-readable-line-length-description")).addToggle((function(e) {
                                return e.setValue(a(UA)).onChange((function(e) {
                                    return r[UA] = e
                                }
                                ))
                            }
                            )),
                            new vE(l).setName(Te("setting.editor.option-strict-line-break")).setDesc(Te("setting.editor.option-strict-line-break-description")).addToggle((function(e) {
                                return e.setValue(a(_A)).onChange((function(e) {
                                    return r[_A] = e
                                }
                                ))
                            }
                            )),
                            new vE(l).setName(YA("option-sliding-window-mode")).setDesc(YA("option-sliding-window-mode-description")).addToggle((function(e) {
                                return e.setValue(a($A)).onChange((function(e) {
                                    return r[$A] = e
                                }
                                ))
                            }
                            )),
                            new vE(l).setName(YA("option-site-components")).setHeading(),
                            new vE(l).setName(YA("option-show-navigation")).setDesc(YA("option-show-navigation-description")).addToggle((function(e) {
                                return e.setValue(a(BA)).onChange((function(e) {
                                    r[BA] = e
                                }
                                ))
                            }
                            )),
                            new vE(l).setName(YA("option-show-search")).setDesc(YA("option-show-search-description")).addToggle((function(e) {
                                return e.setValue(a(VA)).onChange((function(e) {
                                    return r[VA] = e
                                }
                                ))
                            }
                            )),
                            new vE(l).setName(YA("option-show-graph")).setDesc(YA("option-show-graph-description")).addToggle((function(e) {
                                return e.setValue(a(zA)).onChange((function(e) {
                                    return r[zA] = e
                                }
                                ))
                            }
                            )),
                            new vE(l).setName(YA("option-show-outline")).setDesc(YA("option-show-outline-description")).addToggle((function(e) {
                                return e.setValue(a(HA)).onChange((function(e) {
                                    return r[HA] = e
                                }
                                ))
                            }
                            )),
                            new vE(l).setName(YA("option-show-backlinks")).setDesc(YA("option-show-backlinks-description")).addToggle((function(e) {
                                return e.setValue(a(WA)).onChange((function(e) {
                                    return r[WA] = e
                                }
                                ))
                            }
                            )),
                            new vE(l).setName(YA("option-site-misc")).setHeading(),
                            new vE(l).setName(YA("option-site-password")).setDesc(YA("option-site-password-description")).addButton((function(e) {
                                return e.setButtonText(YA("button-manage-passwords")).onClick((function() {
                                    return o(c, void 0, void 0, (function() {
                                        return s(this, (function(e) {
                                            switch (e.label) {
                                            case 0:
                                                return [4, this.parentModal.showPasswords()];
                                            case 1:
                                                return e.sent(),
                                                [2]
                                            }
                                        }
                                        ))
                                    }
                                    ))
                                }
                                ))
                            }
                            )),
                            new vE(l).setName(YA("option-google-analytics")).setDesc(YA("option-google-analytics-description")).addSearch((function(e) {
                                return e.setPlaceholder("UA-XXXXX-Y").setValue(a(qA)).onChange((function(e) {
                                    return r[qA] = e
                                }
                                )).inputEl.style.width = "150px"
                            }
                            )),
                            this.el.createDiv("button-container u-center-text", (function(e) {
                                e.createEl("button", {
                                    text: YA("button-save-site-settings"),
                                    cls: "mod-cta"
                                }, (function(e) {
                                    e.addEventListener("click", (function() {
                                        return o(c, void 0, void 0, (function() {
                                            var e;
                                            return s(this, (function(n) {
                                                switch (n.label) {
                                                case 0:
                                                    return n.trys.push([0, 2, , 3]),
                                                    [4, t.apiOptions(r)];
                                                case 1:
                                                    return n.sent(),
                                                    [3, 3];
                                                case 2:
                                                    return e = n.sent(),
                                                    this.parentModal.handleError(e),
                                                    [2];
                                                case 3:
                                                    return new JC(YA("msg-updated-options")),
                                                    [4, this.parentModal.openReviewChanges()];
                                                case 4:
                                                    return n.sent(),
                                                    [2]
                                                }
                                            }
                                            ))
                                        }
                                        ))
                                    }
                                    ))
                                }
                                )),
                                e.createEl("button", {
                                    text: YA("button-go-back")
                                }, (function(e) {
                                    e.addEventListener("click", (function() {
                                        return o(c, void 0, void 0, (function() {
                                            return s(this, (function(e) {
                                                switch (e.label) {
                                                case 0:
                                                    return [4, this.parentModal.openReviewChanges()];
                                                case 1:
                                                    return e.sent(),
                                                    [2]
                                                }
                                            }
                                            ))
                                        }
                                        ))
                                    }
                                    ))
                                }
                                ))
                            }
                            )),
                            e.prototype.show.call(this),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t
        }(JA), iT = function(e) {
            function t(t) {
                var n = e.call(this, t) || this;
                n.title = YA("action-publish-changes"),
                n.noChangesEl = null,
                n.trackedChangesContainerEl = null,
                n.trackedUnchangedFilesContainerEl = null,
                n.untrackedChangesContainerEl = null,
                n.trackedListEl = null,
                n.trackedUnchangedListEl = null,
                n.untrackedListEl = null,
                n.selectAllTrackedEl = null,
                n.deselectAllTrackedEl = null,
                n.selectAllTrackedUnchangedEl = null,
                n.deselectAllTrackedUnchangedEl = null,
                n.selectAllUntrackedEl = null,
                n.deselectAllUntrackedEl = null,
                n.diffsToPublish = [],
                n.pathToDiffMap = {},
                n.pathToItemCheckboxEl = {},
                n.currentlyPublishedToSiteNameEl = null,
                n.trackedSelectedCountEl = null,
                n.trackedUnchangedSelectedCountEl = null,
                n.untrackedSelectedCountEl = null,
                n.filterComponent = null,
                n.el.createDiv({
                    cls: "publish-changes-info"
                }, (function(e) {
                    e.createDiv({
                        cls: "publish-changes-info-publishing-to",
                        text: YA("label-publishing-to")
                    }),
                    (n.currentlyPublishedToSiteNameEl = e.createEl("a", "publish-changes-current-site-name")).setAttribute("target", "_blank"),
                    e.createDiv("publish-changes-switch-site", (function(e) {
                        e.createSpan("clickable-icon", (function(e) {
                            yk(e, Bb),
                            Je(e, YA("tooltip-switch-site")),
                            e.addEventListener("click", (function() {
                                return o(n, void 0, void 0, (function() {
                                    var e;
                                    return s(this, (function(t) {
                                        switch (t.label) {
                                        case 0:
                                            return [4, (e = this.parentModal).openSection(e.manageSitesSection)];
                                        case 1:
                                            return t.sent(),
                                            [2]
                                        }
                                    }
                                    ))
                                }
                                ))
                            }
                            ))
                        }
                        )),
                        e.createSpan("clickable-icon", (function(e) {
                            yk(e, Gy),
                            Je(e, YA("tooltip-open-site-options")),
                            e.addEventListener("click", (function() {
                                var e = n.parentModal;
                                e.openSection(e.siteOptionsSection)
                            }
                            ))
                        }
                        ))
                    }
                    )),
                    (n.filterComponent = new SE(e)).inputEl.setAttribute("placeholder", Te("setting.hotkeys.prompt-filter")),
                    e.createEl("button", {
                        cls: "publish-changes-add-linked-btn",
                        text: YA("button-add-linked")
                    }, (function(e) {
                        Je(e, YA("tooltip-add-linked")),
                        e.addEventListener("click", (function() {
                            return o(n, void 0, void 0, (function() {
                                var e, t, n, i, r, o, a, l, c, u, h, p, d, f, g, m, v = this;
                                return s(this, (function(s) {
                                    for (e = this.parentModal.app.metadataCache,
                                    t = this.diffsToPublish.filter((function(e) {
                                        return "deleted" !== e.type
                                    }
                                    )).map((function(e) {
                                        return e.path
                                    }
                                    )),
                                    n = new Set,
                                    i = function(t) {
                                        Dy(e.getCache(t), (function(i) {
                                            var r = e.getFirstLinkpathDest(i.link, t);
                                            r && n.add(r.path)
                                        }
                                        ))
                                    }
                                    ,
                                    r = 0,
                                    o = t; r < o.length; r++)
                                        a = o[r],
                                        i(a);
                                    for (l = this.parentModal.plugin.remoteFiles,
                                    c = l.map((function(e) {
                                        return e.path
                                    }
                                    )),
                                    u = 0,
                                    h = c; u < h.length; u++)
                                        p = h[u],
                                        n.delete(p);
                                    for (d = 0,
                                    f = this.diffsToPublish; d < f.length; d++)
                                        g = f[d],
                                        n.delete(g.path);
                                    return m = 0,
                                    n.forEach((function(e) {
                                        var t = v.pathToItemCheckboxEl[e];
                                        t && !1 === t.checked && (t.checked = !0,
                                        t.dispatchEvent(new Event("change")),
                                        m += 1)
                                    }
                                    )),
                                    new JC(YA("msg-added-linked-files", {
                                        count: m
                                    })),
                                    [2]
                                }
                                ))
                            }
                            ))
                        }
                        ))
                    }
                    ))
                }
                )),
                n.noChangesEl = n.el.createEl("p", {
                    text: YA("label-no-changes-detected")
                });
                var i = n.el.createDiv("publish-sections-container");
                n.trackedChangesContainerEl = i.createDiv("publish-section", (function(e) {
                    e.createDiv("publish-section-header", (function(e) {
                        e.createDiv("publish-section-header-toggle-collapsed-button collapse-icon", (function(e) {
                            yk(e, Ry, 8),
                            e.addEventListener("click", (function() {
                                n.toggleSectionCollapsed(n.trackedChangesContainerEl)
                            }
                            ))
                        }
                        )),
                        e.createDiv({
                            cls: "publish-section-header-text",
                            text: YA("label-changed-files-to-be-published")
                        }, (function(e) {
                            e.addEventListener("click", (function() {
                                n.toggleSectionCollapsed(n.trackedChangesContainerEl)
                            }
                            ))
                        }
                        )),
                        e.createDiv("publish-section-header-selected", (function(e) {
                            n.trackedSelectedCountEl = e.createSpan({
                                cls: "publish-section-header-selected-count",
                                text: "0"
                            }),
                            e.createSpan({
                                text: YA("label-file-selected")
                            })
                        }
                        )),
                        n.selectAllTrackedEl = e.createDiv({
                            cls: "publish-section-header-action button",
                            text: YA("button-select-all-files")
                        }),
                        n.deselectAllTrackedEl = e.createDiv({
                            cls: "publish-section-header-action",
                            text: YA("button-deselect-all-files")
                        })
                    }
                    )),
                    n.trackedListEl = e.createDiv("publish-change-list")
                }
                )),
                n.trackedUnchangedFilesContainerEl = i.createDiv("publish-section", (function(e) {
                    e.createDiv("publish-section-header", (function(e) {
                        e.createDiv("publish-section-header-toggle-collapsed-button collapse-icon", (function(e) {
                            yk(e, Ry, 8),
                            e.addEventListener("click", (function() {
                                n.toggleSectionCollapsed(n.trackedUnchangedFilesContainerEl)
                            }
                            ))
                        }
                        )),
                        e.createDiv({
                            cls: "publish-section-header-text",
                            text: YA("label-unchanged-files-already-published")
                        }, (function(e) {
                            e.addEventListener("click", (function() {
                                n.toggleSectionCollapsed(n.trackedUnchangedFilesContainerEl)
                            }
                            ))
                        }
                        )),
                        e.createDiv("publish-section-header-selected", (function(e) {
                            n.trackedUnchangedSelectedCountEl = e.createSpan({
                                cls: "publish-section-header-selected-count",
                                text: "0"
                            }),
                            e.createSpan({
                                text: YA("label-file-selected")
                            })
                        }
                        )),
                        n.selectAllTrackedUnchangedEl = e.createDiv({
                            cls: "publish-section-header-action button",
                            text: YA("button-select-all-files")
                        }),
                        n.deselectAllTrackedUnchangedEl = e.createDiv({
                            cls: "publish-section-header-action",
                            text: YA("button-deselect-all-files")
                        })
                    }
                    )),
                    n.trackedUnchangedListEl = e.createDiv("publish-change-list")
                }
                )),
                n.untrackedChangesContainerEl = i.createDiv("publish-section", (function(e) {
                    e.createDiv("publish-section-header", (function(e) {
                        e.createDiv("publish-section-header-toggle-collapsed-button collapse-icon", (function(e) {
                            yk(e, Ry, 8),
                            e.addEventListener("click", (function() {
                                n.toggleSectionCollapsed(n.untrackedChangesContainerEl)
                            }
                            ))
                        }
                        )),
                        e.createDiv({
                            cls: "publish-section-header-text",
                            text: YA("label-new-files-to-be-published")
                        }, (function(e) {
                            e.addEventListener("click", (function() {
                                n.toggleSectionCollapsed(n.untrackedChangesContainerEl)
                            }
                            ))
                        }
                        )),
                        e.createDiv("publish-section-header-selected", (function(e) {
                            n.untrackedSelectedCountEl = e.createSpan({
                                cls: "publish-section-header-selected-count",
                                text: "0"
                            }),
                            e.createSpan({
                                text: YA("label-file-selected")
                            })
                        }
                        )),
                        n.selectAllUntrackedEl = e.createDiv({
                            cls: "publish-section-header-action",
                            text: YA("button-select-all-files")
                        }),
                        n.deselectAllUntrackedEl = e.createDiv({
                            cls: "publish-section-header-action",
                            text: YA("button-deselect-all-files")
                        })
                    }
                    )),
                    n.untrackedListEl = e.createDiv("publish-change-list")
                }
                ));
                var r = n.el.createDiv("modal-button-container");
                return r.createEl("button", {
                    cls: "mod-cta",
                    text: YA("button-publish")
                }, (function(e) {
                    e.addEventListener("click", n.uploadChanges.bind(n))
                }
                )),
                r.createEl("button", {
                    text: Te("dialogue.button-cancel")
                }, (function(e) {
                    e.addEventListener("click", n.parentModal.close.bind(n.parentModal))
                }
                )),
                n.selectAllTrackedEl.addEventListener("click", (function() {
                    n.toggleAllCheckboxesInContainer(n.trackedListEl, !0)
                }
                )),
                n.deselectAllTrackedEl.addEventListener("click", (function() {
                    n.toggleAllCheckboxesInContainer(n.trackedListEl, !1)
                }
                )),
                n.selectAllTrackedUnchangedEl.addEventListener("click", (function() {
                    n.toggleAllCheckboxesInContainer(n.trackedUnchangedListEl, !0)
                }
                )),
                n.deselectAllTrackedUnchangedEl.addEventListener("click", (function() {
                    n.toggleAllCheckboxesInContainer(n.trackedUnchangedListEl, !1)
                }
                )),
                n.selectAllUntrackedEl.addEventListener("click", (function() {
                    n.toggleAllCheckboxesInContainer(n.untrackedListEl, !0)
                }
                )),
                n.deselectAllUntrackedEl.addEventListener("click", (function() {
                    n.toggleAllCheckboxesInContainer(n.untrackedListEl, !1)
                }
                )),
                n
            }
            return i(t, e),
            t.prototype.setCurrentSiteName = function(e) {
                this.currentlyPublishedToSiteNameEl.setText(e),
                this.currentlyPublishedToSiteNameEl.setAttribute("href", cT + "/" + e)
            }
            ,
            t.prototype.show = function() {
                return o(this, void 0, void 0, (function() {
                    var t, n, i, r, o, a, l, c, u, h, p, d, f, g, m, v, y, b, w, k, C, x, E, S, L, D, M, A, T, F = this;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            t = this.parentModal,
                            this.pathToDiffMap = {},
                            this.pathToItemCheckboxEl = {},
                            this.trackedSelectedCountEl.setText("0"),
                            this.untrackedSelectedCountEl.setText("0"),
                            t.getCurrentSlug().then((function(e) {
                                return F.setCurrentSiteName(e)
                            }
                            )),
                            n = [],
                            i = [],
                            s.label = 1;
                        case 1:
                            return s.trys.push([1, 3, , 4]),
                            [4, t.plugin.scanForChanges()];
                        case 2:
                            return n = s.sent(),
                            i = t.plugin.remoteFiles,
                            this.noChangesEl.toggle(0 === n.length),
                            [3, 4];
                        case 3:
                            return r = s.sent(),
                            t.handleError(r),
                            [2];
                        case 4:
                            for (o = [],
                            a = [],
                            l = [],
                            c = 0,
                            u = n; c < u.length; c++)
                                h = u[c],
                                this.pathToDiffMap[h.path] = h,
                                "changed" === (p = h.type) || "deleted" === p ? o.push(h.path) : "new" === p && l.push(h.path);
                            for (d = 0,
                            f = i; d < f.length; d++)
                                g = f[d],
                                this.pathToDiffMap[g.path] || (a.push(g.path),
                                (m = Object.assign({}, g)).type = "to-delete",
                                this.pathToDiffMap[g.path] = m);
                            for (v = this.getPublishItems(o),
                            y = this.getPublishItems(a),
                            b = this.getPublishItems(l),
                            w = function(e, t) {
                                var n = e.children.length > 0
                                  , i = t.children.length > 0;
                                if (n || i) {
                                    if (n && !i)
                                        return -1;
                                    if (i && !n)
                                        return 1
                                }
                                return gx(e.name, t.name)
                            }
                            ,
                            k = function(e) {
                                e.sort(w);
                                for (var t = 0, n = e; t < n.length; t++) {
                                    var i = n[t];
                                    i.children.length > 0 && k(i.children)
                                }
                            }
                            ,
                            C = function(e) {
                                return 0 === e.children.length ? "deleted" === e.diff.type : e.children.some((function(e) {
                                    return C(e)
                                }
                                ))
                            }
                            ,
                            this.filterComponent.onChange((function(e) {
                                var t = function(n) {
                                    if (n.children.map((function(e) {
                                        return t(e)
                                    }
                                    )),
                                    "" === e)
                                        return n.itemEl.show(),
                                        !1;
                                    if (n.children.some((function(e) {
                                        return !t(e)
                                    }
                                    )))
                                        return n.itemEl.show(),
                                        !1;
                                    var i = n.checkboxEl.checked
                                      , r = n.path.toLowerCase().contains(e.toLowerCase());
                                    return i || r ? (n.itemEl.show(),
                                    !1) : (n.itemEl.hide(),
                                    !0)
                                };
                                v.map(t),
                                y.map(t),
                                b.map(t)
                            }
                            )),
                            k(v),
                            k(y),
                            k(b),
                            this.diffsToPublish = [],
                            this.trackedChangesContainerEl.toggle(v.length > 0),
                            this.trackedListEl.empty(),
                            x = 0,
                            E = v; x < E.length; x++)
                                T = E[x],
                                S = !C(T),
                                this.trackedListEl.appendChild(this.createItemEl(T, null, S, !0));
                            for (this.trackedUnchangedFilesContainerEl.toggle(y.length > 0),
                            this.trackedUnchangedListEl.empty(),
                            L = 0,
                            D = y; L < D.length; L++)
                                T = D[L],
                                this.trackedUnchangedListEl.appendChild(this.createItemEl(T, null));
                            for (this.untrackedChangesContainerEl.toggle(b.length > 0),
                            this.untrackedListEl.empty(),
                            M = 0,
                            A = b; M < A.length; M++)
                                T = A[M],
                                this.untrackedListEl.appendChild(this.createItemEl(T, null));
                            return v.length > 0 && (this.trackedUnchangedFilesContainerEl.addClass("is-collapsed"),
                            this.trackedUnchangedListEl.hide(),
                            this.untrackedChangesContainerEl.addClass("is-collapsed"),
                            this.untrackedListEl.hide()),
                            e.prototype.show.call(this),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.toggleSectionCollapsed = function(e) {
                return o(this, void 0, void 0, (function() {
                    var t, n;
                    return s(this, (function(i) {
                        switch (i.label) {
                        case 0:
                            return t = e.find(".publish-change-list"),
                            n = !e.hasClass("is-collapsed"),
                            e.toggleClass("is-collapsed", n),
                            [4, Pt(t, n, !0)];
                        case 1:
                            return i.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.toggleAllCheckboxesInContainer = function(e, t, n) {
                void 0 === n && (n = !1),
                e.findAll(".file-tree-item-checkbox").forEach((function(e) {
                    (null !== e.offsetParent || n) && e.checked !== t && (e.checked = t,
                    e.dispatchEvent(new Event("change")))
                }
                ))
            }
            ,
            t.prototype.uploadChanges = function() {
                return o(this, void 0, void 0, (function() {
                    return s(this, (function(e) {
                        return 0 === this.diffsToPublish.length ? (new JC(YA("msg-select-at-least-one-file")),
                        [2]) : (this.parentModal.uploadChanges(this.diffsToPublish),
                        [2])
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.getPublishItems = function(e) {
                var t = this
                  , n = []
                  , i = {
                    result: n
                }
                  , r = "";
                return e.forEach((function(e) {
                    r = "",
                    e.split("/").reduce((function(e, n, i, o) {
                        if (!e[n]) {
                            e[n] = {
                                result: []
                            };
                            var s = r + n
                              , a = void 0;
                            t.pathToDiffMap[s] && (a = t.pathToDiffMap[s]),
                            e.result.push({
                                name: n,
                                path: s,
                                children: e[n].result,
                                diff: a
                            })
                        }
                        return r += n + "/",
                        e[n]
                    }
                    ), i)
                }
                )),
                n
            }
            ,
            t.prototype.createItemEl = function(e, t, n, i) {
                var r = this;
                void 0 === n && (n = !1),
                void 0 === i && (i = !1);
                var a = this.pathToDiffMap[e.path]
                  , l = createDiv("file-tree-item")
                  , c = l.createDiv("file-tree-item-header")
                  , u = c.createEl("input", {
                    cls: "file-tree-item-checkbox",
                    type: "checkbox"
                });
                this.pathToItemCheckboxEl[e.path] = u;
                var h = c.createDiv("file-tree-item-icon")
                  , p = c.createDiv({
                    cls: "file-tree-item-title",
                    text: e.name
                });
                e.checkboxEl = u,
                e.itemEl = l;
                var d = e.children;
                if (d.length > 0) {
                    l.addClass("mod-folder");
                    var f = createDiv("file-tree-item-children-container");
                    f.appendChild(l);
                    var g = createDiv("list-item-collapse-indicator collapse-icon");
                    yk(g, Ry, 8),
                    c.insertBefore(g, c.firstChild),
                    yk(h, zy, 20);
                    for (var m = f.createDiv("file-tree-item-children"), v = 0, y = d; v < y.length; v++) {
                        var b = y[v];
                        m.append(this.createItemEl(b, e, n, i))
                    }
                    var w = e.children.map((function(e) {
                        return e.checkboxEl
                    }
                    ))
                      , k = w.every((function(e) {
                        return e.checked
                    }
                    ));
                    return (n || k) && (u.checked = !0,
                    c.addClass("is-selected")),
                    g.addEventListener("click", (function(e) {
                        return o(r, void 0, void 0, (function() {
                            var t;
                            return s(this, (function(n) {
                                switch (n.label) {
                                case 0:
                                    return e.stopPropagation(),
                                    t = !f.hasClass("is-collapsed"),
                                    f.toggleClass("is-collapsed", t),
                                    [4, Pt(m, t, !0)];
                                case 1:
                                    return n.sent(),
                                    [2]
                                }
                            }
                            ))
                        }
                        ))
                    }
                    )),
                    i || (f.addClass("is-collapsed"),
                    m.hide()),
                    u.addEventListener("change", (function() {
                        k = w.every((function(e) {
                            return e.checked
                        }
                        )),
                        u.checked = k,
                        c.toggleClass("is-selected", k),
                        t && t.checkboxEl.dispatchEvent(new Event("change"))
                    }
                    )),
                    u.addEventListener("click", (function() {
                        c.dispatchEvent(new Event("click"))
                    }
                    )),
                    c.addEventListener("click", (function() {
                        u.checked = !u.checked,
                        r.toggleAllCheckboxesInContainer(m, u.checked, f.hasClass("is-collapsed")),
                        u.dispatchEvent(new Event("change"))
                    }
                    )),
                    f
                }
                l.addClasses(["mod-file", "mod-" + a.type]),
                u.addEventListener("change", (function(e) {
                    var n = u.checked;
                    n ? r.diffsToPublish.push(a) : r.diffsToPublish.remove(a);
                    var i = r.diffsToPublish.filter((function(e) {
                        return "changed" === e.type || "deleted" === e.type
                    }
                    )).length
                      , o = r.diffsToPublish.filter((function(e) {
                        return "to-delete" === e.type
                    }
                    )).length
                      , s = r.diffsToPublish.filter((function(e) {
                        return "new" === e.type
                    }
                    )).length;
                    r.trackedSelectedCountEl.setText(String(i)),
                    r.trackedUnchangedSelectedCountEl.setText(String(o)),
                    r.untrackedSelectedCountEl.setText(String(s)),
                    c.toggleClass("is-selected", n),
                    t && t.checkboxEl && t.checkboxEl.dispatchEvent(new Event("change"))
                }
                )),
                n && (u.checked = !0,
                u.dispatchEvent(new Event("change"))),
                yk(h, By, 20);
                var C = e.name;
                return "md" === Q(C) && (C = Y(C)),
                p.setText(C),
                c.createDiv({
                    cls: "flair",
                    text: "to-delete" === a.type ? "To delete" : a.type
                }),
                u.addEventListener("click", (function(e) {
                    e.stopPropagation()
                }
                )),
                c.addEventListener("click", (function() {
                    u.checked = !u.checked,
                    u.dispatchEvent(new Event("change"))
                }
                )),
                l
            }
            ,
            t
        }(JA), rT = function(e) {
            function t(t) {
                var n = e.call(this, t) || this;
                return n.title = YA("label-upload-changes"),
                n.changesContainer = null,
                n.doneButton = null,
                n.successMessageEl = null,
                n.siteLinkEl = null,
                n.runnable = null,
                n.changes = [],
                n.pathToEl = {},
                n.changesContainer = n.el.createDiv("list-item-parent upload-progress-container"),
                n.successMessageEl = n.el.createDiv({}, (function(e) {
                    e.createEl("p", {
                        text: YA("label-clear-cache")
                    }),
                    e.createEl("p", {
                        text: YA("label-visit-site")
                    }, (function(e) {
                        return o(n, void 0, void 0, (function() {
                            return s(this, (function(t) {
                                return this.siteLinkEl = e.createEl("a"),
                                this.siteLinkEl.setAttribute("target", "_blank"),
                                [2]
                            }
                            ))
                        }
                        ))
                    }
                    ))
                }
                )),
                n.successMessageEl.hide(),
                n.el.createDiv("modal-button-container", (function(e) {
                    n.doneButton = e.createEl("button", {
                        cls: "mod-cta",
                        text: YA("button-done")
                    }, (function(e) {
                        e.addEventListener("click", (function() {
                            n.runnable ? (n.runnable.cancel(),
                            n.runnable = null) : n.parentModal.close()
                        }
                        ))
                    }
                    )),
                    e.createEl("button", {
                        text: YA("button-go-back")
                    }, (function(e) {
                        e.addEventListener("click", (function() {
                            n.runnable && n.runnable.cancel(),
                            n.parentModal.openReviewChanges()
                        }
                        ))
                    }
                    ))
                }
                )),
                n
            }
            return i(t, e),
            t.prototype.addChanges = function(e) {
                this.changes = e
            }
            ,
            t.prototype.show = function() {
                return o(this, void 0, void 0, (function() {
                    var t, n, i, r, o;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return this.runnable && this.runnable.cancel(),
                            [4, e.prototype.show.call(this)];
                        case 1:
                            for (s.sent(),
                            this.successMessageEl.hide(),
                            this.changesContainer.removeClass("is-finished"),
                            this.doneButton.addClass("mod-warning"),
                            this.doneButton.setText(YA("button-stop")),
                            this.changesContainer.empty(),
                            this.pathToEl = {},
                            t = function(e) {
                                n.pathToEl[e.path] = n.changesContainer.createDiv("publish-upload-item list-item", (function(t) {
                                    t.createDiv("list-item-part", (function(e) {
                                        yk(e, By)
                                    }
                                    )),
                                    t.createDiv({
                                        cls: "list-item-part mod-extended publish-upload-item-title",
                                        text: K(e.path)
                                    }),
                                    t.createDiv("list-item-part", (function(t) {
                                        var n = t.createSpan("flair");
                                        "new" === e.type || "changed" === e.type ? n.setText(YA("label-status-to-publish")) : "deleted" === e.type && n.setText(YA("label-status-to-delete"))
                                    }
                                    ))
                                }
                                ))
                            }
                            ,
                            n = this,
                            i = 0,
                            r = this.changes; i < r.length; i++)
                                o = r[i],
                                t(o);
                            return this.startUpload(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.startUpload = function() {
                return o(this, void 0, void 0, (function() {
                    var e, t, n, i, r, a, l, c, u, h, p, d = this;
                    return s(this, (function(f) {
                        switch (f.label) {
                        case 0:
                            e = this.parentModal,
                            t = e.app,
                            n = e.plugin,
                            (i = this.runnable = new Vk({
                                onStop: function() {
                                    return o(d, void 0, void 0, (function() {
                                        var e, t;
                                        return s(this, (function(n) {
                                            switch (n.label) {
                                            case 0:
                                                return this.doneButton.removeClass("mod-warning"),
                                                this.doneButton.setText(YA("button-done")),
                                                t = cT + "/",
                                                [4, this.parentModal.getCurrentSlug()];
                                            case 1:
                                                return e = t + n.sent(),
                                                this.siteLinkEl.setText(e),
                                                this.siteLinkEl.setAttribute("href", e),
                                                this.successMessageEl.show(),
                                                this.changesContainer.addClass("is-finished"),
                                                this.runnable === i && (this.runnable = null),
                                                [2]
                                            }
                                        }
                                        ))
                                    }
                                    ))
                                }
                            })).start(),
                            r = 0,
                            a = this.changes,
                            f.label = 1;
                        case 1:
                            if (!(r < a.length))
                                return [3, 10];
                            if (l = a[r],
                            c = this.pathToEl[l.path],
                            u = c.find(".flair"),
                            i.isCancelled())
                                return u.setText(YA("label-status-cancelled")),
                                c.addClass("mod-failed", "mod-completed"),
                                [3, 9];
                            f.label = 2;
                        case 2:
                            return f.trys.push([2, 7, , 8]),
                            u.setText(YA("label-status-uploading")),
                            "deleted" !== l.type && "to-delete" !== l.type ? [3, 4] : [4, n.apiRemoveFile(l.path)];
                        case 3:
                            return f.sent(),
                            u.setText(YA("label-status-deleted")),
                            [3, 6];
                        case 4:
                            return (h = t.vault.getAbstractFileByPath(l.path)) && h instanceof Vf ? [4, n.apiUploadFile(h)] : [3, 6];
                        case 5:
                            f.sent(),
                            u.setText(YA("label-status-published")),
                            f.label = 6;
                        case 6:
                            return c.scrollIntoView({
                                behavior: "smooth",
                                block: "center"
                            }),
                            [3, 8];
                        case 7:
                            return p = f.sent(),
                            this.parentModal.handleError(p),
                            u.setText(YA("label-status-failed")),
                            c.addClass("mod-failed"),
                            [3, 8];
                        case 8:
                            c.addClass("mod-completed"),
                            f.label = 9;
                        case 9:
                            return r++,
                            [3, 1];
                        case 10:
                            return i.stop(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t
        }(JA), oT = function(e) {
            function t(t) {
                var n = e.call(this, t) || this;
                return n.title = YA("tooltip-edit-site-id"),
                n.newSlug = null,
                n.site = null,
                n.slugInputEl = null,
                new vE(n.el).setName(YA("option-site-id")).setDesc(YA("option-site-id-description")).addText((function(e) {
                    e.setPlaceholder(YA("option-site-id-placeholder")).onChange((function(e) {
                        return n.newSlug = e.toLowerCase()
                    }
                    )),
                    n.slugInputEl = e.inputEl
                }
                )).setClass("site-list-site-id-setting"),
                n.el.createEl("p", "button-container u-center-text", (function(e) {
                    e.createEl("button", {
                        cls: "mod-cta",
                        text: YA("button-change")
                    }, (function(e) {
                        return o(n, void 0, void 0, (function() {
                            var n = this;
                            return s(this, (function(i) {
                                return e.addEventListener("click", (function() {
                                    return o(n, void 0, void 0, (function() {
                                        var e, n;
                                        return s(this, (function(i) {
                                            switch (i.label) {
                                            case 0:
                                                e = t.plugin,
                                                i.label = 1;
                                            case 1:
                                                return i.trys.push([1, 3, , 4]),
                                                [4, e.apiSetSlug(this.site.id, this.site.host, this.newSlug)];
                                            case 2:
                                                return i.sent(),
                                                [3, 4];
                                            case 3:
                                                return n = i.sent(),
                                                t.handleError(n),
                                                [2];
                                            case 4:
                                                return [4, t.openSection(t.siteOptionsSection)];
                                            case 5:
                                                return i.sent(),
                                                [2]
                                            }
                                        }
                                        ))
                                    }
                                    ))
                                }
                                )),
                                [2]
                            }
                            ))
                        }
                        ))
                    }
                    )),
                    e.createEl("button", {
                        text: Te("dialogue.button-cancel")
                    }, (function(e) {
                        return o(n, void 0, void 0, (function() {
                            var n = this;
                            return s(this, (function(i) {
                                return e.addEventListener("click", (function() {
                                    return o(n, void 0, void 0, (function() {
                                        return s(this, (function(e) {
                                            switch (e.label) {
                                            case 0:
                                                return [4, t.openSection(t.manageSitesSection)];
                                            case 1:
                                                return e.sent(),
                                                [2]
                                            }
                                        }
                                        ))
                                    }
                                    ))
                                }
                                )),
                                [2]
                            }
                            ))
                        }
                        ))
                    }
                    ))
                }
                )),
                n
            }
            return i(t, e),
            t.prototype.setSiteInfo = function(e) {
                this.site = e
            }
            ,
            t.prototype.setExistingSlug = function(e) {
                this.slugInputEl.value = e
            }
            ,
            t
        }(JA), sT = function(e) {
            function t(t) {
                var n = e.call(this, t) || this;
                return n.title = YA("label-manage-passwords"),
                n.passwords = null,
                n.updateDisplay(),
                n
            }
            return i(t, e),
            t.prototype.setPasswords = function(e) {
                this.passwords = e
            }
            ,
            t.prototype.updateDisplay = function() {
                var e = this
                  , t = this.el;
                if (t.empty(),
                null === this.passwords)
                    t.createEl("p", {
                        cls: "u-muted",
                        text: YA("label-no-password")
                    });
                else {
                    var n = 0;
                    t.createEl("p", {
                        cls: "u-muted",
                        text: YA("label-have-password")
                    }),
                    t.createEl("hr");
                    for (var i = t.createDiv("passwords-container"), r = function(t) {
                        i.createDiv("list-item password-item", (function(i) {
                            i.createDiv({
                                cls: "list-item-part",
                                text: t.name || YA("label-untitled-password")
                            }),
                            i.createDiv({
                                cls: "u-muted u-small list-item-part mod-extended",
                                text: YA("label-password-created-time", {
                                    time: window.moment(t.ts).fromNow()
                                })
                            }),
                            i.createDiv("list-item-part clickable-icon", (function(t) {
                                yk(t, wb),
                                Je(t, Te("dialogue.button-delete"));
                                var i = n;
                                t.addEventListener("click", (function() {
                                    return o(e, void 0, void 0, (function() {
                                        return s(this, (function(e) {
                                            switch (e.label) {
                                            case 0:
                                                return [4, this.parentModal.plugin.apiDelPassword(i)];
                                            case 1:
                                                return e.sent(),
                                                [4, this.parentModal.showPasswords()];
                                            case 2:
                                                return e.sent(),
                                                [2]
                                            }
                                        }
                                        ))
                                    }
                                    ))
                                }
                                )),
                                n += 1
                            }
                            ))
                        }
                        ))
                    }, a = 0, l = this.passwords; a < l.length; a++) {
                        r(l[a])
                    }
                }
                t.createDiv("button-container u-center-text", (function(t) {
                    t.createEl("button", {
                        cls: "mod-cta",
                        text: YA("action-new-password")
                    }, (function(t) {
                        t.addEventListener("click", (function() {
                            e.parentModal.openAddPassword()
                        }
                        ))
                    }
                    )),
                    t.createEl("button", {
                        text: YA("button-go-back")
                    }, (function(t) {
                        t.addEventListener("click", (function() {
                            var t = e.parentModal;
                            t.openSection(t.siteOptionsSection)
                        }
                        ))
                    }
                    ))
                }
                ))
            }
            ,
            t
        }(JA), aT = function(e) {
            function t(t) {
                var n = e.call(this, t) || this;
                return n.title = YA("label-add-password"),
                n.passwordFieldEl = null,
                n.nicknameFieldEl = null,
                new vE(n.el).setName(YA("option-password-name")).setDesc(YA("option-password-desc")).addText((function(e) {
                    return e.setPlaceholder(YA("option-password-placeholder")).then((function(e) {
                        e.inputEl.setAttribute("type", "password"),
                        n.passwordFieldEl = e.inputEl
                    }
                    ))
                }
                )),
                new vE(n.el).setName(YA("option-nickname-name")).setDesc(YA("option-nickname-desc")).addText((function(e) {
                    return n.nicknameFieldEl = e.inputEl
                }
                )),
                n.el.createDiv("button-container u-center-text", (function(e) {
                    e.createEl("button", {
                        text: YA("action-add-password"),
                        cls: "mod-cta"
                    }, (function(e) {
                        e.addEventListener("click", (function() {
                            return o(n, void 0, void 0, (function() {
                                var e, t, n;
                                return s(this, (function(i) {
                                    switch (i.label) {
                                    case 0:
                                        return i.trys.push([0, 2, , 3]),
                                        e = this.passwordFieldEl.value,
                                        t = this.nicknameFieldEl.value,
                                        [4, this.parentModal.plugin.apiAddPassword(t, e)];
                                    case 1:
                                        return i.sent(),
                                        [3, 3];
                                    case 2:
                                        return n = i.sent(),
                                        this.parentModal.handleError(n),
                                        [2];
                                    case 3:
                                        return new JC(YA("msg-added-new-password")),
                                        [4, this.parentModal.showPasswords()];
                                    case 4:
                                        return i.sent(),
                                        [2]
                                    }
                                }
                                ))
                            }
                            ))
                        }
                        ))
                    }
                    )),
                    e.createEl("button", {
                        text: YA("button-go-back")
                    }, (function(e) {
                        e.addEventListener("click", (function() {
                            return o(n, void 0, void 0, (function() {
                                return s(this, (function(e) {
                                    switch (e.label) {
                                    case 0:
                                        return [4, this.parentModal.showPasswords()];
                                    case 1:
                                        return e.sent(),
                                        [2]
                                    }
                                }
                                ))
                            }
                            ))
                        }
                        ))
                    }
                    ))
                }
                )),
                n
            }
            return i(t, e),
            t.prototype.show = function() {
                return o(this, void 0, void 0, (function() {
                    return s(this, (function(t) {
                        return this.passwordFieldEl.value = "",
                        this.nicknameFieldEl.value = "",
                        e.prototype.show.call(this),
                        [2]
                    }
                    ))
                }
                ))
            }
            ,
            t
        }(JA), lT = function(e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.title = YA("label-configure-custom-domain"),
                t
            }
            return i(t, e),
            t.prototype.show = function() {
                return o(this, void 0, void 0, (function() {
                    var t, n, i, r, a, l = this;
                    return s(this, (function(c) {
                        switch (c.label) {
                        case 0:
                            return (t = this.el).empty(),
                            [4, e.prototype.show.call(this)];
                        case 1:
                            return c.sent(),
                            [4, this.parentModal.plugin.apiCustomUrl()];
                        case 2:
                            return n = c.sent(),
                            new vE(t).setName(YA("option-custom-url-name")).setDesc(YA("option-custom-url-desc")).addText((function(e) {
                                return i = e.setPlaceholder(YA("option-custom-url-placeholder")).setValue(n.url || "")
                            }
                            )),
                            new vE(t).setName(YA("option-custom-url-redirect")).setDesc(YA("option-custom-url-redirect-desc")).addToggle((function(e) {
                                return r = e.setValue(n.redirect)
                            }
                            )),
                            a = YA("label-custom-domain-instructions", {
                                link: '<a href="https://help.obsidian.md/Licenses+%26+add-on+services/Obsidian+Publish#Custom+domain" target="_blank">' + YA("label-custom-domain-link-name") + "</a>"
                            }),
                            this.el.createEl("p", {
                                cls: "u-muted"
                            }, (function(e) {
                                e.innerHTML = a
                            }
                            )),
                            this.el.createDiv("button-container u-center-text", (function(e) {
                                e.createEl("button", {
                                    text: YA("button-update-custom-domain"),
                                    cls: "mod-cta"
                                }, (function(e) {
                                    e.addEventListener("click", (function() {
                                        return o(l, void 0, void 0, (function() {
                                            var e, t, n, o;
                                            return s(this, (function(s) {
                                                switch (s.label) {
                                                case 0:
                                                    return s.trys.push([0, 2, , 3]),
                                                    e = i.getValue(),
                                                    t = r.getValue(),
                                                    [4, this.parentModal.plugin.apiCustomUrl(e, t)];
                                                case 1:
                                                    return s.sent(),
                                                    [3, 3];
                                                case 2:
                                                    return n = s.sent(),
                                                    this.parentModal.handleError(n),
                                                    [2];
                                                case 3:
                                                    return (o = this.parentModal).openSection(o.siteOptionsSection),
                                                    [2]
                                                }
                                            }
                                            ))
                                        }
                                        ))
                                    }
                                    ))
                                }
                                )),
                                e.createEl("button", {
                                    text: YA("button-go-back")
                                }, (function(e) {
                                    e.addEventListener("click", (function() {
                                        return o(l, void 0, void 0, (function() {
                                            var e;
                                            return s(this, (function(t) {
                                                return (e = this.parentModal).openSection(e.siteOptionsSection),
                                                [2]
                                            }
                                            ))
                                        }
                                        ))
                                    }
                                    ))
                                }
                                ))
                            }
                            )),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t
        }(JA), cT = "https://publish.obsidian.md";
        ve && (cT = "http://127.0.0.1:3001");
        var uT = function(e) {
            function t(n, i) {
                var r = e.call(this, i) || this;
                return r.name = "RequestError",
                r.code = n,
                Object.setPrototypeOf(r, t.prototype),
                r
            }
            return i(t, e),
            t
        }(Error)
          , hT = Fe("plugins.publish")
          , pT = function() {
            function e() {
                this.id = "publish",
                this.name = hT("name"),
                this.description = hT("desc"),
                this.app = null,
                this.vault = null,
                this.plugin = null,
                this.siteId = null,
                this.host = null,
                this.remoteFiles = [],
                this.modal = null,
                this.requestSaveData = Pe(this.saveData.bind(this), 2e3)
            }
            return e.prototype.init = function(e, t) {
                this.app = e,
                this.vault = e.vault,
                this.plugin = t,
                t.registerRibbonAction(hT("action-publish-changes"), Fb, this.openPublishChanges.bind(this)),
                t.registerGlobalCommand({
                    id: "publish:view-changes",
                    name: hT("action-publish-changes"),
                    icon: Qw,
                    callback: this.openPublishChanges.bind(this)
                })
            }
            ,
            e.prototype.onEnable = function(e, t) {
                return o(this, void 0, void 0, (function() {
                    return s(this, (function(e) {
                        switch (e.label) {
                        case 0:
                            return [4, this.loadData()];
                        case 1:
                            return e.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.onDisable = function(e, t) {
                this.modal = null
            }
            ,
            e.prototype.loadData = function() {
                return o(this, void 0, void 0, (function() {
                    var e;
                    return s(this, (function(t) {
                        switch (t.label) {
                        case 0:
                            return [4, this.plugin.loadData()];
                        case 1:
                            if (!(e = t.sent()))
                                return [2];
                            try {
                                this.siteId = e.siteId,
                                this.host = e.host
                            } catch (e) {
                                console.error(e)
                            }
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.saveData = function() {
                return o(this, void 0, void 0, (function() {
                    return s(this, (function(e) {
                        switch (e.label) {
                        case 0:
                            return [4, this.plugin.saveData({
                                siteId: this.siteId,
                                host: this.host
                            })];
                        case 1:
                            return e.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.setup = function(e, t) {
                return o(this, void 0, void 0, (function() {
                    return s(this, (function(n) {
                        switch (n.label) {
                        case 0:
                            return this.siteId = e,
                            this.host = t,
                            [4, this.saveData()];
                        case 1:
                            return n.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.getHost = function() {
                var e = this.host || "127.0.0.1:3002";
                return e.startsWith("127.0.0.1") || e.startsWith("localhost") ? "http://" + e : "https://" + e
            }
            ,
            e.prototype.scanForChanges = function() {
                return o(this, void 0, Promise, (function() {
                    var e, t, n, i, r, o, a, l, c, u, h, p, d, f, g, m;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return e = this.vault,
                            t = [],
                            n = this,
                            [4, this.apiList()];
                        case 1:
                            n.remoteFiles = s.sent(),
                            i = {},
                            r = 0,
                            o = this.remoteFiles,
                            s.label = 2;
                        case 2:
                            return r < o.length ? (a = o[r],
                            l = a.path,
                            i[l] = a,
                            (c = e.getAbstractFileByPath(l)) && c instanceof Vf ? [4, this.getHash(c)] : [3, 4]) : [3, 6];
                        case 3:
                            return s.sent() !== a.hash && t.push({
                                path: l,
                                ctime: a.ctime,
                                mtime: a.mtime,
                                size: a.size,
                                type: "changed"
                            }),
                            [3, 5];
                        case 4:
                            t.push({
                                path: l,
                                ctime: a.ctime,
                                mtime: a.mtime,
                                size: a.size,
                                type: "deleted"
                            }),
                            s.label = 5;
                        case 5:
                            return r++,
                            [3, 2];
                        case 6:
                            for (u = e.getRoot(),
                            h = [u]; h.length; )
                                if ((p = h.pop())instanceof qf)
                                    for (d = 0,
                                    f = p.children; d < f.length; d++)
                                        g = f[d],
                                        h.push(g);
                                else
                                    p instanceof Vf && (!Z(p.extension) && "obsidian.css" !== p.name && "publish.css" !== p.name && "favicon.ico" !== p.name && "publish.js" !== p.name || i.hasOwnProperty(p.path) || (m = {
                                        path: p.path,
                                        ctime: 0,
                                        mtime: 0,
                                        size: 0,
                                        type: "new"
                                    },
                                    t.push(m)));
                            return [2, t]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.apiRequest = function(e) {
                return o(this, void 0, void 0, (function() {
                    var t, n, i;
                    return s(this, (function(r) {
                        switch (r.label) {
                        case 0:
                            return r.trys.push([0, 2, , 3]),
                            [4, ajaxPromise(e)];
                        case 1:
                            return t = r.sent(),
                            [3, 3];
                        case 2:
                            if ((n = r.sent())instanceof XMLHttpRequest)
                                throw new uT("NET","Network unavailable.");
                            if (n instanceof Error)
                                throw new uT("NET",n.message);
                            throw new uT("NET","Unknown");
                        case 3:
                            if ((i = JSON.parse(t)).code && i.message)
                                throw new uT(i.code,i.message);
                            return [2, i]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.apiPostFrontend = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(n) {
                        return t.token = this.app.account.token,
                        [2, this.apiRequest({
                            method: "POST",
                            url: cT + "/" + e,
                            data: t
                        })]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.apiPostBackend = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(n) {
                        return t.id = this.siteId,
                        t.token = this.app.account.token,
                        [2, this.apiRequest({
                            method: "POST",
                            url: this.getHost() + "/" + e,
                            data: t
                        })]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.apiSetSlug = function(e, t, n) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(i) {
                        return [2, this.apiPostFrontend("api/slug", {
                            id: e,
                            host: t,
                            slug: n
                        })]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.apiGetSlugs = function(e) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(t) {
                        return [2, this.apiPostFrontend("api/slugs", {
                            ids: e
                        })]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.apiCheckSlug = function(e) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(t) {
                        return [2, this.apiPostFrontend("api/site", {
                            slug: e
                        })]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.apiCustomUrl = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(n) {
                        return [2, this.apiPostFrontend("api/customurl", {
                            id: this.siteId,
                            host: this.host,
                            url: e,
                            redirect: t
                        })]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.apiList = function() {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(e) {
                        return [2, this.apiPostBackend("api/list", {})]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.apiOptions = function(e) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(t) {
                        return [2, this.apiPostBackend("api/options", {
                            options: e
                        })]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.apiGetPassword = function() {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(e) {
                        return [2, this.apiPostBackend("api/password", {})]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.apiAddPassword = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(n) {
                        return [2, this.apiPostBackend("api/password", {
                            name: e,
                            pw: t
                        })]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.apiDelPassword = function(e) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(t) {
                        return [2, this.apiPostBackend("api/password", {
                            del: e
                        })]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.apiRemoveFile = function(e) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(t) {
                        return [2, this.apiPostBackend("api/remove", {
                            path: e
                        })]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.apiUploadFile = function(e) {
                return o(this, void 0, Promise, (function() {
                    var t, n, i;
                    return s(this, (function(r) {
                        switch (r.label) {
                        case 0:
                            if (e.stat.size > 52428800)
                                throw new uT("TOOLARGE","Failed to upload file over limit of 50mb.");
                            return [4, this.getHash(e)];
                        case 1:
                            return t = r.sent(),
                            [4, this.vault.readBinary(e)];
                        case 2:
                            return n = r.sent(),
                            i = {
                                "obs-token": this.app.account.token,
                                "obs-id": this.siteId,
                                "obs-path": encodeURIComponent(e.path),
                                "obs-hash": t
                            },
                            [2, this.apiRequest({
                                method: "POST",
                                url: this.getHost() + "/api/upload",
                                headers: i,
                                data: n
                            })]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.getHash = function(e) {
                return o(this, void 0, Promise, (function() {
                    var t;
                    return s(this, (function(n) {
                        return (t = this.getHashFromMetadataCache(e)) ? [2, t] : [2, this.computeHash(e)]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.getHashFromMetadataCache = function(e) {
                var t = this.app.metadataCache.getFileInfo(e.path);
                return t && t.mtime === e.stat.mtime && t.size === e.stat.size ? t.hash : null
            }
            ,
            e.prototype.computeHash = function(e) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(t) {
                        switch (t.label) {
                        case 0:
                            return [4, this.vault.readBinary(e)];
                        case 1:
                            return [4, E(t.sent())];
                        case 2:
                            return [2, t.sent()]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.openPublishChanges = function() {
                this.modal || (this.modal = new KA(this.app,this)),
                this.modal.open()
            }
            ,
            e
        }()
          , dT = Fe("plugins.quick-switcher")
          , fT = function() {
            function e() {
                this.id = "switcher",
                this.name = dT("name"),
                this.description = dT("desc"),
                this.defaultOn = !0,
                this.options = {},
                this.QuickSwitcherModal = gT
            }
            return e.prototype.init = function(e, t) {
                this.app = e,
                t.registerRibbonAction(dT("action-open"), Qy, this.onOpen.bind(this)),
                t.registerGlobalCommand({
                    id: "switcher:open",
                    name: dT("action-open"),
                    icon: $w,
                    callback: this.onOpen.bind(this),
                    hotkeys: [sL(["Mod"], "O")]
                })
            }
            ,
            e.prototype.onEnable = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    var n;
                    return s(this, (function(i) {
                        switch (i.label) {
                        case 0:
                            return t.addSettingTab(new mT(e,t,this)),
                            n = this,
                            [4, t.loadData()];
                        case 1:
                            return n.options = i.sent() || {
                                showExistingOnly: !1,
                                showAttachments: !0,
                                showAllFileTypes: !1
                            },
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.onOpen = function() {
                new gT(this.app,this.options).open()
            }
            ,
            e
        }()
          , gT = function(e) {
            function t(t, n) {
                var i = e.call(this, t) || this;
                i.emptyStateText = dT("label-no-note-create-new"),
                i.shouldShowUnresolved = !n.showExistingOnly,
                i.shouldShowAttachments = n.showAttachments,
                i.shouldShowAllTypes = n.showAllFileTypes,
                i.setPlaceholder(dT("prompt-type-file-name")),
                i.setInstructions([{
                    command: "↑↓",
                    purpose: dT("instruction-navigate")
                }, {
                    command: "↵",
                    purpose: dT("instruction-open")
                }, {
                    command: se ? "cmd ↵" : "ctrl ↵",
                    purpose: dT("instruction-open-in-new-pane")
                }, {
                    command: "shift ↵",
                    purpose: dT("instruction-create")
                }, {
                    command: "esc",
                    purpose: dT("instruction-dismiss")
                }]);
                var r = i.scope;
                return r.register(["Mod"], "Enter", (function(e) {
                    return i.chooser.useSelectedItem(e),
                    !1
                }
                )),
                r.register(["Shift"], "Enter", (function(e) {
                    return i.selectSuggestion(null, e),
                    !1
                }
                )),
                i
            }
            return i(t, e),
            t.prototype.onChooseSuggestion = function(e, t) {
                var n = rn.isModifier(t, "Mod");
                if (e) {
                    if ("file" === e.type || "alias" === e.type)
                        this.app.workspace.getLeaf(n).openFile(e.file, {
                            active: !0
                        });
                    else if ("unresolved" === e.type) {
                        this.app.workspace.getLeaf(n).openLinkText(e.linktext, "", {
                            active: !0
                        })
                    }
                } else {
                    var i = this.inputEl.value;
                    this.app.workspace.openLinkText(i, "", n, {
                        active: !0
                    })
                }
            }
            ,
            t
        }(RL)
          , mT = function(e) {
            function t(t, n, i) {
                var r = e.call(this, t, n) || this;
                return r.instance = i,
                r
            }
            return i(t, e),
            t.prototype.display = function() {
                var e = this
                  , t = this.containerEl;
                t.empty();
                var n = this.instance.options;
                new vE(t).setName(dT("option-show-existing-only")).setDesc(dT("option-show-existing-only-description")).addToggle((function(t) {
                    return t.setValue(n.showExistingOnly).onChange((function(t) {
                        n.showExistingOnly = t,
                        e.plugin.saveData(n)
                    }
                    ))
                }
                )),
                new vE(t).setName(dT("option-show-attachments")).setDesc(dT("option-show-attachments-desc")).addToggle((function(t) {
                    return t.setValue(n.showAttachments).onChange((function(t) {
                        n.showAttachments = t,
                        e.plugin.saveData(n)
                    }
                    ))
                }
                )),
                this.app.vault.getConfig("showUnsupportedFiles") && new vE(t).setName(dT("option-show-all-file-types")).setDesc(dT("option-show-all-file-types-desc")).addToggle((function(t) {
                    return t.setValue(n.showAllFileTypes).onChange((function(t) {
                        n.showAllFileTypes = t,
                        e.plugin.saveData(n)
                    }
                    ))
                }
                ))
            }
            ,
            t
        }(iM)
          , vT = function() {
            function e() {
                this.id = "random-note",
                this.name = Te("plugins.random-note.name"),
                this.description = Te("plugins.random-note.desc"),
                this.app = null,
                this.pluginInstance = null
            }
            return e.prototype.init = function(e, t) {
                this.app = e,
                this.pluginInstance = t,
                t.registerRibbonAction(Te("plugins.random-note.action-open"), Sb, this.onRandomNote.bind(this)),
                t.registerGlobalCommand({
                    id: "random-note",
                    name: Te("plugins.random-note.action-open"),
                    icon: Uw,
                    callback: this.onRandomNote.bind(this)
                })
            }
            ,
            e.prototype.onRandomNote = function() {
                return o(this, void 0, void 0, (function() {
                    var e, t, n, i, r;
                    return s(this, (function(o) {
                        switch (o.label) {
                        case 0:
                            for (e = [],
                            t = 0,
                            n = this.app.vault.getAllLoadedFiles(); t < n.length; t++)
                                (i = n[t])instanceof Vf && "md" === i.extension && e.push(i);
                            return r = e[Math.floor(Math.random() * e.length)],
                            [4, this.app.workspace.getLeaf().openFile(r, {
                                active: !0
                            })];
                        case 1:
                            return o.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e
        }()
          , yT = _t("/lib/reveal/reveal.js")
          , bT = function() {
            function e() {
                this.id = "slides",
                this.name = Te("plugins.slides.name"),
                this.description = Te("plugins.slides.desc")
            }
            return e.prototype.init = function(e, t) {
                var n = this;
                this.app = e,
                t.registerGlobalCommand({
                    id: "slides:start",
                    name: Te("plugins.slides.action-start"),
                    icon: Kw,
                    checkCallback: function(e) {
                        var t = n.app.workspace.getActiveFile();
                        if (t && "md" === t.extension)
                            return e || new wT(n.app).openFile(t),
                            !0
                    }
                })
            }
            ,
            e.prototype.onEnable = function(e, t) {
                t.registerEvent(e.workspace.on("file-menu", this.onFileMenu, this))
            }
            ,
            e.prototype.onFileMenu = function(e, t) {
                var n = this;
                t instanceof Vf && "md" === t.extension && e.addItem((function(e) {
                    return e.setTitle(Te("plugins.slides.action-start")).setIcon(Jy).onClick((function() {
                        return new wT(n.app).openFile(t)
                    }
                    ))
                }
                ))
            }
            ,
            e
        }()
          , wT = function(e) {
            function t(t) {
                var n = e.call(this) || this;
                return n.containerEl = null,
                n.revealCssEl = null,
                n.themeCssEl = null,
                n.app = t,
                n.scope = new nn,
                n.scope.register([], "Escape", n.close.bind(n)),
                n
            }
            return i(t, e),
            t.prototype.openFile = function(e) {
                return o(this, void 0, void 0, (function() {
                    var t, n, i, r, o, a, l, c, u, h, p, d, f, g, m, v, y, b, w = this;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return this.app.keymap.pushScope(this.scope),
                            [4, this.app.vault.read(e)];
                        case 1:
                            t = s.sent(),
                            s.label = 2;
                        case 2:
                            for (s.trys.push([2, 6, , 7]),
                            this.containerEl && this.containerEl.detach(),
                            n = yT.promise,
                            i = "moonstone" === this.app.vault.getConfig("theme"),
                            r = this.containerEl = document.body.createDiv("slides-container"),
                            (o = this.themeCssEl = document.head.createEl("link", {
                                prepend: !0
                            })).setAttribute("rel", "stylesheet"),
                            i ? o.setAttribute("href", "/lib/reveal/white.css") : o.setAttribute("href", "/lib/reveal/black.css"),
                            (a = this.revealCssEl = document.head.createEl("link", {
                                prepend: !0
                            })).setAttribute("rel", "stylesheet"),
                            a.setAttribute("href", "/lib/reveal/reveal.css"),
                            l = r.createDiv("reveal"),
                            c = l.createDiv("slides"),
                            l.createDiv("slides-close-btn", (function(e) {
                                yk(e, Xy, 30),
                                e.addEventListener("click", w.close.bind(w))
                            }
                            )),
                            u = cy(t),
                            h = uy(u),
                            p = {
                                definitions: yy(u)
                            },
                            d = u.children,
                            f = [[]],
                            v = 0; v < d.length; v++)
                                "thematicBreak" === (g = d[v]).type ? f.push([]) : f.last().push(g);
                            for (m = function(e) {
                                var t = f[e];
                                if (0 === t.length)
                                    return "continue";
                                u.children = t;
                                var n = hy(u, p);
                                c.createEl("section", {}, (function(e) {
                                    var t = bt(n);
                                    e.appendChild(t)
                                }
                                ))
                            }
                            ,
                            v = 0; v < f.length; v++)
                                m(v);
                            return y = [],
                            zE.postProcess(this.app, {
                                docId: kf(16),
                                sourcePath: e.path,
                                frontmatter: h,
                                promises: y,
                                addChild: function(e) {
                                    return w.addChild(e)
                                },
                                getSectionInfo: function() {
                                    return null
                                },
                                containerEl: c,
                                el: c
                            }),
                            y.length > 0 ? [4, Promise.all(y)] : [3, 4];
                        case 3:
                            s.sent(),
                            s.label = 4;
                        case 4:
                            return [4, n];
                        case 5:
                            return s.sent(),
                            new Reveal(l,{
                                embedded: !0,
                                keyboardCondition: "focused",
                                controlsTutorial: !1,
                                overview: !1
                            }).initialize(),
                            setTimeout((function() {
                                l.dispatchEvent(new PointerEvent("pointerdown"))
                            }
                            ), 0),
                            [3, 7];
                        case 6:
                            return b = s.sent(),
                            console.error(b),
                            this.close(),
                            [3, 7];
                        case 7:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.close = function() {
                this.app.keymap.popScope(this.scope);
                var e = this
                  , t = e.containerEl
                  , n = e.revealCssEl
                  , i = e.themeCssEl;
                t && (t.detach(),
                this.containerEl = null),
                n && (n.detach(),
                this.revealCssEl = null),
                i && (i.detach(),
                this.themeCssEl = null)
            }
            ,
            t
        }(Jk)
          , kT = function(e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.id = "starred",
                t.name = Te("plugins.starred.name"),
                t.description = Te("plugins.starred.desc"),
                t.app = null,
                t.plugin = null,
                t.items = [],
                t
            }
            return i(t, e),
            t.prototype.init = function(e, t) {
                var n = this;
                this.app = e,
                this.plugin = t,
                t.registerGlobalCommand({
                    id: "starred:open",
                    name: Te("plugins.starred.action-show"),
                    icon: ek,
                    callback: function() {
                        n.app.workspace.ensureSideLeaf(CT, "left", !1)
                    }
                }),
                t.registerGlobalCommand({
                    id: "starred:star-current-file",
                    name: Te("plugins.starred.action-toggle"),
                    icon: ek,
                    callback: function() {
                        var t = e.workspace.getActiveFile();
                        t && n.toggleFile(t)
                    }
                }),
                t.registerViewType(CT, (function(e) {
                    return new xT(e,n)
                }
                ))
            }
            ,
            t.prototype.onEnable = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    var n;
                    return s(this, (function(i) {
                        switch (i.label) {
                        case 0:
                            return t.registerEvent(e.workspace.on("layout-ready", this.initLeaf, this)),
                            t.registerEvent(e.vault.on("rename", this.onRename, this)),
                            t.registerEvent(e.workspace.on("file-menu", this.onFileMenu, this)),
                            [4, t.loadData()];
                        case 1:
                            return (n = i.sent()) && n.items && Array.isArray(n.items) && (this.items = n.items,
                            this.onItemsChanged(!1)),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.onUserEnable = function() {
                this.initLeaf()
            }
            ,
            t.prototype.initLeaf = function() {
                this.app.workspace.ensureSideLeaf(CT, "left", !1, !1)
            }
            ,
            t.prototype.toggleFile = function(e) {
                var t = this.findStarredFile(e);
                t ? this.removeItem(t) : this.addStarredFile(e)
            }
            ,
            t.prototype.onRename = function(e, t) {
                for (var n = !1, i = 0, r = this.items; i < r.length; i++) {
                    var o = r[i];
                    "file" === o.type && o.path === t && (o.path = e.path,
                    n = !0)
                }
                n && this.onItemsChanged(!0)
            }
            ,
            t.prototype.onFileMenu = function(e, t) {
                var n = this;
                if (t instanceof Vf) {
                    var i = this.findStarredFile(t);
                    i ? e.addItem((function(e) {
                        return e.setTitle(Te("plugins.starred.action-unstar")).setIcon(Eb).onClick((function() {
                            return n.removeItem(i)
                        }
                        ))
                    }
                    )) : e.addItem((function(e) {
                        return e.setTitle(Te("plugins.starred.action-star")).setIcon(xb).onClick((function() {
                            return n.addStarredFile(t)
                        }
                        ))
                    }
                    ))
                }
            }
            ,
            t.prototype.findStarredFile = function(e) {
                var t = this.items.filter((function(t) {
                    return "file" === t.type && t.path === e.path
                }
                ));
                return t.length > 0 ? t[0] : null
            }
            ,
            t.prototype.addStarredFile = function(e) {
                this.findStarredFile(e) || this.addItem({
                    type: "file",
                    title: e.basename,
                    path: e.path
                })
            }
            ,
            t.prototype.findStarredSearch = function(e) {
                var t = this.items.filter((function(t) {
                    return "search" === t.type && t.query === e
                }
                ));
                return t.length > 0 ? t[0] : null
            }
            ,
            t.prototype.addStarredSearch = function(e) {
                this.findStarredSearch(e) || this.addItem({
                    type: "search",
                    title: e,
                    query: e
                })
            }
            ,
            t.prototype.toggleFileStar = function(e) {
                var t = this.findStarredFile(e);
                t ? this.removeItem(t) : this.addStarredFile(e)
            }
            ,
            t.prototype.addFilesStar = function(e) {
                for (var t = 0, n = 0, i = e; n < i.length; n++) {
                    var r = i[n];
                    this.findStarredFile(r) || (this.items.push({
                        type: "file",
                        title: r.basename,
                        path: r.path
                    }),
                    t++)
                }
                0 !== t && (new JC(Te("plugins.starred.msg-successfully-starred", {
                    type: "file",
                    title: t + " files"
                })),
                this.onItemsChanged(!0))
            }
            ,
            t.prototype.addItem = function(e) {
                if (e) {
                    this.items.push(e);
                    var t = e.type
                      , n = this.getItemText(e);
                    new JC(Te("plugins.starred.msg-successfully-starred", {
                        type: t,
                        title: n
                    })),
                    this.onItemsChanged(!0)
                }
            }
            ,
            t.prototype.removeItem = function(e) {
                if (e) {
                    this.items.remove(e);
                    var t = e.type
                      , n = this.getItemText(e);
                    new JC(Te("plugins.starred.msg-removed-starred", {
                        type: t,
                        title: n
                    })),
                    this.onItemsChanged(!0)
                }
            }
            ,
            t.prototype.getItemText = function(e) {
                return "file" === e.type ? e.title : "search" === e.type ? e.query : ""
            }
            ,
            t.prototype.onItemsChanged = function(e) {
                this.trigger("changed"),
                e && this.plugin.saveData({
                    items: this.items
                })
            }
            ,
            t.prototype.trigger = function(t) {
                for (var n = [], i = 1; i < arguments.length; i++)
                    n[i - 1] = arguments[i];
                e.prototype.trigger.apply(this, l([t], n))
            }
            ,
            t.prototype.on = function(t, n, i) {
                return e.prototype.on.call(this, t, n, i)
            }
            ,
            t
        }(Bf)
          , CT = "starred"
          , xT = function(e) {
            function t(t, n) {
                var i = e.call(this, t) || this;
                i.icon = xb,
                i.plugin = n,
                i.itemLookup = wC();
                var r = i.containerEl
                  , o = i.headerDom = new mE(i.app,r);
                o.addNavButton(xb, Te("plugins.starred.action-toggle"), i.onStar.bind(i)),
                o.addNavButton(Ib, Te("plugins.starred.action-toggle-search"), i.onStarSearch.bind(i));
                var s = i.listEl = r.createDiv("item-list");
                s.style.position = "relative",
                s.on("contextmenu", ".nav-file-title", i.openContextMenu.bind(i));
                var a = i.insertIndicatorEl = createDiv("drop-indicator")
                  , l = Pe((function(e) {
                    return a.style.top = e + "px"
                }
                ), 0);
                return i.app.dragManager.handleDrop(r, (function(e, t, r) {
                    if ("starred" === t.source) {
                        var o = null;
                        if ("file" === t.type && (o = n.findStarredFile(t.file)),
                        "search" === t.type && (o = n.findStarredSearch(t.query)),
                        !o)
                            return;
                        var c = n.items
                          , u = c.indexOf(o)
                          , h = e.target
                          , p = null;
                        if (s.contains(h)) {
                            for (var d = h; d && d.parentNode !== s; )
                                d = d.parentNode;
                            if (d && d.parentNode === s) {
                                var f = i.itemLookup.get(d);
                                if (f) {
                                    var g = d.getBoundingClientRect()
                                      , m = g.y + g.height / 2
                                      , v = void 0
                                      , y = c.indexOf(f);
                                    if (e.clientY < m)
                                        v = d.offsetTop;
                                    else {
                                        var b = d.nextSibling;
                                        v = b ? b.offsetTop : d.offsetTop + d.offsetHeight,
                                        y++
                                    }
                                    p = {
                                        index: y,
                                        y: v
                                    }
                                }
                            }
                            if (!p) {
                                var w = s.lastChild;
                                p = {
                                    index: c.length,
                                    y: w.offsetTop + w.offsetHeight
                                }
                            }
                        }
                        if (p || (p = {
                            index: 0,
                            y: 0
                        }),
                        p.index > u && p.index--,
                        p.index === u)
                            return;
                        return a.parentNode !== s && s.prepend(a),
                        l(Math.max(0, p.y - 2)),
                        r || (c.remove(o),
                        c.splice(p.index, 0, o),
                        n.onItemsChanged(!0)),
                        {
                            dropEffect: "move",
                            hoverEl: a,
                            hoverClass: "is-active"
                        }
                    }
                    if ("file" === t.type)
                        return r || n.addStarredFile(t.file),
                        {
                            action: Te("interface.drag-and-drop.star-this-file"),
                            dropEffect: "copy"
                        };
                    if ("files" === t.type) {
                        if (!r) {
                            for (var k = [], C = 0, x = t.files; C < x.length; C++) {
                                var E = x[C];
                                E instanceof Vf && k.push(E)
                            }
                            n.addFilesStar(k)
                        }
                        return {
                            action: Te("interface.drag-and-drop.star-these-files"),
                            dropEffect: "copy"
                        }
                    }
                }
                )),
                i
            }
            return i(t, e),
            t.prototype.getDisplayText = function() {
                return Te("plugins.starred.name")
            }
            ,
            t.prototype.getViewType = function() {
                return CT
            }
            ,
            t.prototype.load = function() {
                e.prototype.load.call(this),
                this.registerEvent(this.plugin.on("changed", this.renderItems, this)),
                this.renderItems()
            }
            ,
            t.prototype.renderItems = function() {
                var e = this;
                this.listEl.empty();
                for (var t = this.app.dragManager, n = function(n) {
                    if ("file" !== n.type && "search" !== n.type)
                        return "continue";
                    var r = createDiv("nav-file")
                      , o = r.createDiv("nav-file-title")
                      , s = o.createDiv("nav-file-icon");
                    if ("file" === n.type) {
                        var a = i.app.vault.getAbstractFileByPath(n.path);
                        if (!(a instanceof Vf))
                            return "continue";
                        yk(s, By),
                        o.createDiv({
                            cls: "nav-file-title-content",
                            text: a.basename
                        });
                        var l = a;
                        t.handleDrag(r, (function(e) {
                            return t.updateSource([o], "is-being-dragged"),
                            t.dragFile(e, l, "starred")
                        }
                        ))
                    } else if ("search" === n.type) {
                        var c = n.query;
                        yk(s, Ny),
                        o.createDiv({
                            cls: "nav-file-title-content",
                            text: c
                        }),
                        t.handleDrag(r, (function(e) {
                            return t.updateSource([o], "is-being-dragged"),
                            {
                                source: "starred",
                                type: "search",
                                icon: pb,
                                title: c,
                                query: c
                            }
                        }
                        ))
                    }
                    i.listEl.appendChild(r),
                    i.itemLookup.set(r, n),
                    r.onClickEvent((function(t) {
                        if (0 === t.button || 1 === t.button) {
                            var i = rn.isModifier(t, "Mod");
                            e.triggerStarredItem(n, i || 1 === t.button)
                        }
                    }
                    ))
                }, i = this, r = 0, o = this.plugin.items; r < o.length; r++) {
                    n(o[r])
                }
            }
            ,
            t.prototype.triggerStarredItem = function(e, t) {
                var n = this.app;
                if ("file" === e.type) {
                    var i = n.vault.getAbstractFileByPath(e.path);
                    if (!(i instanceof Vf))
                        return void new JC(Te("plugins.starred.msg-cannot-find-path", {
                            path: e.path
                        }));
                    this.app.workspace.getLeaf(t).openFile(i, {
                        active: !0
                    })
                } else if ("search" === e.type) {
                    var r = this.app.internalPlugins.getPluginById("global-search");
                    r && r.instance.openGlobalSearch(e.query)
                }
            }
            ,
            t.prototype.onStar = function() {
                var e = this.app.workspace.getActiveFile();
                e && this.plugin.toggleFileStar(e)
            }
            ,
            t.prototype.onStarSearch = function() {
                var e = this.app.workspace.getLeavesOfType("search");
                if (0 !== e.length) {
                    var t = e[0];
                    if (t.view instanceof ZM) {
                        var n = t.view.getQuery();
                        if (n) {
                            var i = this.plugin.findStarredSearch(n);
                            i ? this.plugin.removeItem(i) : this.plugin.addStarredSearch(n)
                        }
                    }
                }
            }
            ,
            t.prototype.openContextMenu = function(e, t) {
                var n = this;
                e.preventDefault();
                var i = this.itemLookup.get(t.parentElement);
                new Zk(this.app).addItem((function(e) {
                    return e.setTitle(Te("plugins.starred.menu-opt-remove")).setIcon(xb).onClick((function() {
                        return n.plugin.removeItem(i)
                    }
                    ))
                }
                )).showAtMouseEvent(e)
            }
            ,
            t
        }(YC)
          , ET = function() {
            function e(e, t, n, i) {
                this.min = e || 0,
                this.max = t || Number.MAX_VALUE,
                this.base = n || 1e3,
                this.jitter = i || !0,
                this.count = 0,
                this.nextTs = Date.now()
            }
            return e.prototype.success = function() {
                this.count = 0,
                this.nextTs = Date.now() + this.getTimeout()
            }
            ,
            e.prototype.fail = function() {
                this.count++,
                this.nextTs = Date.now() + this.getTimeout()
            }
            ,
            e.prototype.getTimeout = function() {
                if (0 === this.count)
                    return this.min;
                var e = this.count - 1
                  , t = this.base * Math.pow(2, e);
                if (this.jitter) {
                    t *= .5 + .5 * Math.random()
                }
                return t = Math.floor(Math.min(this.max, this.min + t))
            }
            ,
            e.prototype.getNextTs = function() {
                return this.nextTs
            }
            ,
            e.prototype.isReady = function() {
                return Date.now() > this.nextTs
            }
            ,
            e
        }()
          , ST = {
            1e3: "Normal Closure",
            1001: "Going Away",
            1002: "Protocol Error",
            1003: "Unsupported Data",
            1004: "(For future)",
            1005: "No Status Received",
            1006: "Abnormal Closure",
            1007: "Invalid frame payload data",
            1008: "Policy Violation",
            1009: "Message too big",
            1010: "Missing Extension",
            1011: "Internal Error",
            1012: "Service Restart",
            1013: "Try Again Later",
            1014: "Bad Gateway",
            1015: "TLS Handshake"
        };
        var LT = window.process && window.process.platform
          , DT = NS || LT && "win32" !== LT && "darwin" !== LT
          , MT = NS ? 1e3 : 5e3
          , AT = ["image"]
          , TT = Fe("plugins.sync")
          , FT = "";
        NS && o(void 0, void 0, void 0, (function() {
            var e;
            return s(this, (function(t) {
                switch (t.label) {
                case 0:
                    return [4, US.getInfo()];
                case 1:
                    return e = t.sent(),
                    FT = e.name,
                    [2]
                }
            }
            ))
        }
        ));
        var PT = function(e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.id = "sync",
                t.name = TT("name"),
                t.description = TT("desc"),
                t.app = null,
                t.vault = null,
                t.plugin = null,
                t.db = null,
                t.vaultId = null,
                t.vaultName = null,
                t.key = null,
                t.host = null,
                t.deviceName = "",
                t.version = 0,
                t.initial = !0,
                t.localFiles = {},
                t.scanSpecialFiles = !1,
                t.scanSpecialFileQueue = [],
                t.serverFiles = {},
                t.fileRetry = {},
                t.newServerFiles = [],
                t.allowTypes = new Set(AT),
                t.allowSpecialFiles = new Set,
                t.ignoreFolders = [],
                t.dirty = !1,
                t.requestSaveData = Pe(t.saveData.bind(t), 2e3),
                t.boundOnFileAdd = t.onFileAdd.bind(t),
                t.boundOnFileRemove = t.onFileRemove.bind(t),
                t.boundOnFileRename = t.onFileRename.bind(t),
                t.boundOnRaw = t.onRaw.bind(t),
                t.pause = !1,
                t.syncing = !1,
                t.error = !1,
                t.ready = !1,
                t.server = null,
                t.syncLog = [],
                t.timer = 0,
                t.backoff = new ET(0,3e5,5e3,!0),
                t.createVaultModal = null,
                t.chooseRemoteVaultModal = null,
                t.statusIconEl = null,
                t.iconSize = 18,
                t.syncingPath = "",
                t.syncStatus = "",
                t
            }
            return i(t, e),
            t.prototype.getRemoteVaultId = function() {
                return this.vaultId
            }
            ,
            t.prototype.getRemoteVaultName = function() {
                return this.vaultName
            }
            ,
            t.prototype.init = function(e, t) {
                this.app = e,
                this.vault = e.vault,
                this.plugin = t,
                this.settingTab = new zT(e,t,this),
                t.registerStatusBarItem(),
                this.chooseRemoteVaultModal = new RT(e,this,this.settingTab),
                this.createVaultModal = new NT(this.app,this),
                this.setStatus("Uninitialized")
            }
            ,
            t.prototype.onEnable = function(e, t) {
                return o(this, void 0, void 0, (function() {
                    var n, i, r, a = this;
                    return s(this, (function(l) {
                        return n = e.workspace,
                        this.registerEvents(),
                        t.addSettingTab(this.settingTab),
                        t.registerEvent(e.workspace.on("file-menu", this.onFileMenu, this)),
                        on.isMobile && (this.iconSize = 28,
                        n.onLayoutReady((function() {
                            var e = n.rightSplit;
                            a.statusIconEl = e.addHeaderButton(Ub, a.showSyncLog.bind(a)),
                            a.statusIconEl.addClass("sync-status-icon")
                        }
                        ))),
                        n.onLayoutReady((function() {
                            return o(a, void 0, void 0, (function() {
                                return s(this, (function(e) {
                                    switch (e.label) {
                                    case 0:
                                        return [4, this.loadData()];
                                    case 1:
                                        return e.sent(),
                                        this.scanFiles(),
                                        this.requestSync(),
                                        [2]
                                    }
                                }
                                ))
                            }
                            ))
                        }
                        )),
                        this.timer = window.setInterval(this.requestSync.bind(this), 3e4),
                        this.on("status-change", (function() {
                            a.updateStatusBar()
                        }
                        )),
                        (i = t.statusBarEl) && (r = i.createDiv("status-bar-item-segment"),
                        this.statusIconEl = r.createSpan("status-bar-item-icon sync-status-icon"),
                        this.statusIconEl.addEventListener("click", this.showSyncLog.bind(this))),
                        [2]
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.onDisable = function(e, t) {
                this.server && (this.server.disconnect(),
                this.server = null),
                this.timer && (clearInterval(this.timer),
                this.timer = 0),
                this.unregisterEvents()
            }
            ,
            t.prototype.onFileMenu = function(e, t, n) {
                var i = this;
                t instanceof Vf && ("pane-more-options" === n || "file-explorer-context-menu" === n) && e.addItem((function(e) {
                    return e.setTitle(TT("action-view-version-history")).setIcon(Cb).onClick((function() {
                        return i.showVersionHistory(t.path)
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.loadData = function() {
                return o(this, void 0, void 0, (function() {
                    var e, t, n, i;
                    return s(this, (function(r) {
                        switch (r.label) {
                        case 0:
                            e = null,
                            r.label = 1;
                        case 1:
                            return r.trys.push([1, 4, , 5]),
                            t = this,
                            [4, CL(this.app.appId + "-sync", 1, {
                                upgrade: function(e, t, n, i) {
                                    e.objectStoreNames.contains("data") || e.createObjectStore("data")
                                }
                            })];
                        case 2:
                            return [4, (t.db = r.sent()).get("data", "data")];
                        case 3:
                            return e = r.sent(),
                            [3, 5];
                        case 4:
                            return n = r.sent(),
                            console.error("Failed to load sync data", n),
                            [3, 5];
                        case 5:
                            return e ? [3, 9] : [4, this.plugin.loadData()];
                        case 6:
                            return (e = r.sent()) ? [4, this.db.put("data", e, "data")] : [3, 9];
                        case 7:
                            return r.sent(),
                            [4, this.plugin.deleteData()];
                        case 8:
                            r.sent(),
                            r.label = 9;
                        case 9:
                            if (!e)
                                return [2];
                            try {
                                this.vaultId = e.vaultId,
                                this.vaultName = e.vaultName,
                                this.key = k(e.key),
                                this.host = e.host,
                                this.deviceName = e.deviceName || "",
                                this.pause = !!e.pause,
                                this.version = e.version || 0,
                                this.initial = void 0 === e.initial || !!e.initial,
                                this.localFiles = e.local || {},
                                this.serverFiles = e.remote || {},
                                this.newServerFiles = e.pending || [],
                                (i = e.appId) && i !== this.app.appId && (this.pause = !0,
                                this.version = 0,
                                this.initial = !0,
                                this.localFiles = {},
                                this.serverFiles = {},
                                this.newServerFiles = []),
                                this.fileRetry = {},
                                this.allowTypes = new Set(e.allowTypes || AT),
                                this.allowSpecialFiles = new Set(e.allowSpecialFiles || []),
                                this.ignoreFolders = e.ignoreFolders || []
                            } catch (e) {
                                console.error(e)
                            }
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.saveData = function() {
                return o(this, void 0, void 0, (function() {
                    var e;
                    return s(this, (function(t) {
                        switch (t.label) {
                        case 0:
                            return this.dirty ? (this.dirty = !1,
                            (e = {}).appId = this.app.appId,
                            e.vaultId = this.vaultId,
                            e.vaultName = this.vaultName,
                            e.key = C(this.key),
                            e.host = this.host,
                            e.deviceName = this.deviceName,
                            e.pause = this.pause,
                            e.version = this.version,
                            e.initial = this.initial,
                            e.local = this.localFiles,
                            e.remote = this.serverFiles,
                            e.pending = this.newServerFiles,
                            e.allowTypes = Array.from(this.allowTypes),
                            e.allowSpecialFiles = Array.from(this.allowSpecialFiles),
                            e.ignoreFolders = this.ignoreFolders,
                            [4, this.db.put("data", e, "data")]) : [2];
                        case 1:
                            return t.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.getDefaultDeviceName = function() {
                return on.isDesktopApp ? window.require("os").hostname() : FT || "Unknown"
            }
            ,
            t.prototype.setup = function(e, t, n, i, r) {
                return o(this, void 0, void 0, (function() {
                    var o;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return this.vaultId = e,
                            this.vaultName = t,
                            o = this,
                            [4, I(n, i)];
                        case 1:
                            return o.key = s.sent(),
                            this.host = r,
                            this.clear(),
                            this.scanFiles(),
                            [4, this.saveData()];
                        case 2:
                            return s.sent(),
                            this.requestSync(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.unsetup = function() {
                return o(this, void 0, void 0, (function() {
                    return s(this, (function(e) {
                        switch (e.label) {
                        case 0:
                            return this.vaultId = null,
                            this.vaultName = null,
                            this.key = null,
                            this.host = null,
                            this.clear(),
                            this.setStatus("Uninitialized"),
                            [4, this.saveData()];
                        case 1:
                            return e.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.clear = function() {
                this.dirty = !0,
                this.version = 0,
                this.initial = !0,
                this.serverFiles = {},
                this.newServerFiles = [],
                this.fileRetry = {},
                this.allowTypes = new Set(AT);
                var e = this.server;
                e && (e.disconnect(),
                this.server = null),
                this.gettingServer = null,
                this.backoff.success()
            }
            ,
            t.prototype.setPause = function(e) {
                this.pause = e,
                e ? (this.setStatus("Paused"),
                this.log("Paused")) : (this.setStatus("Resumed"),
                this.log("Resumed")),
                this.dirty = !0,
                this.saveData(),
                this.requestSync()
            }
            ,
            t.prototype.getPause = function() {
                return this.pause
            }
            ,
            t.prototype.changeFilter = function(e) {
                var t = this.serverFiles
                  , n = this.newServerFiles
                  , i = this.app.vault.configDir + "/"
                  , r = [];
                for (var o in t)
                    if (t.hasOwnProperty(o)) {
                        var s = t[o];
                        this.allowSyncFile(s.path, s.folder, i) || r.push(s)
                    }
                e();
                for (var a = [], l = 0, c = r; l < c.length; l++) {
                    s = c[l];
                    this.allowSyncFile(s.path, s.folder, i) && a.push(s)
                }
                a.sort((function(e, t) {
                    return e.path.length - t.path.length
                }
                )),
                n.unshift.apply(n, a)
            }
            ,
            t.prototype.makeKeyHash = function(e, t) {
                return o(this, void 0, void 0, (function() {
                    var n, i;
                    return s(this, (function(r) {
                        switch (r.label) {
                        case 0:
                            return [4, I(e, t)];
                        case 1:
                            return n = r.sent(),
                            i = D,
                            [4, S(n)];
                        case 2:
                            return [2, i.apply(void 0, [r.sent()])]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.getSalt = function() {
                return function(e) {
                    for (var t = [], n = 0, i = R.length; n < e; n++)
                        t.push(R.charAt(Math.floor(Math.random() * i)));
                    return t.join("")
                }(20)
            }
            ,
            t.prototype.verifyPassword = function(e, t, n, i) {
                return o(this, void 0, void 0, (function() {
                    var r, o, a, l;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return [4, this.makeKeyHash(t, n)];
                        case 1:
                            return r = s.sent(),
                            l = (a = JSON).parse,
                            [4, this.app.account.verifyVaultKey(e, r, i)];
                        case 2:
                            if ((o = l.apply(a, [s.sent()])).error)
                                throw new Error(o.error);
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.log = function(e, t, n) {
                void 0 === n && (n = !1);
                var i = this.syncLog;
                if ("Fully synced" === e && i.last().info === e)
                    return;
                i.push({
                    file: t,
                    info: e,
                    ts: Date.now(),
                    error: n
                }),
                i.length > MT && i.splice(0, 100),
                this.trigger("new-log")
            }
            ,
            t.prototype.scanFiles = function() {
                for (var e = this.vault, t = this.localFiles, n = [e.getRoot()]; n.length; ) {
                    var i = n.pop();
                    if (this.onFileAdd(i),
                    i instanceof qf)
                        for (var r = 0, o = i.children; r < o.length; r++) {
                            var s = o[r];
                            n.push(s)
                        }
                }
                for (var a in t) {
                    if (t.hasOwnProperty(a) && !a.startsWith("."))
                        e.getAbstractFileByPath(a) || delete t[a]
                }
                this.scanSpecialFiles = !0
            }
            ,
            t.prototype.setIgnoreFolders = function(e) {
                var t = this;
                this.changeFilter((function() {
                    t.ignoreFolders = e
                }
                )),
                this.forceSaveData(),
                this.requestSync()
            }
            ,
            t.prototype.setSyncType = function(e, t) {
                var n = this;
                this.allowTypes.has(e) !== t && (this.changeFilter((function() {
                    t ? n.allowTypes.add(e) : n.allowTypes.delete(e)
                }
                )),
                this.forceSaveData(),
                this.requestSync())
            }
            ,
            t.prototype.setAllowSpecialFile = function(e, t) {
                var n = this;
                this.allowSpecialFiles.has(e) !== t && (this.changeFilter((function() {
                    t ? n.allowSpecialFiles.add(e) : n.allowSpecialFiles.delete(e)
                }
                )),
                this.forceSaveData(),
                this.requestSync())
            }
            ,
            t.prototype.registerEvents = function() {
                this.vault.on("create", this.boundOnFileAdd),
                this.vault.on("modify", this.boundOnFileAdd),
                this.vault.on("delete", this.boundOnFileRemove),
                this.vault.on("rename", this.boundOnFileRename),
                this.vault.on("raw", this.boundOnRaw)
            }
            ,
            t.prototype.unregisterEvents = function() {
                this.vault.off("create", this.boundOnFileAdd),
                this.vault.off("modify", this.boundOnFileAdd),
                this.vault.off("delete", this.boundOnFileRemove),
                this.vault.off("rename", this.boundOnFileRename),
                this.vault.off("raw", this.boundOnRaw)
            }
            ,
            t.prototype.onFileAdd = function(e) {
                var t = e.path;
                if ("/" !== t) {
                    var n = this.localFiles
                      , i = n[t];
                    if (i || (n[t] = i = {
                        path: t,
                        folder: !1,
                        ctime: 0,
                        mtime: 0,
                        size: 0,
                        hash: "",
                        synctime: 0,
                        synchash: ""
                    }),
                    i.path = t,
                    e instanceof qf)
                        i.folder = !0,
                        i.ctime = 0,
                        i.mtime = 0,
                        i.size = 0,
                        i.hash = "";
                    else if (e instanceof Vf) {
                        i.folder = !1;
                        var r = e.stat
                          , o = Math.ceil(r.mtime)
                          , s = Math.ceil(r.ctime)
                          , a = r.size;
                        i.mtime && i.mtime === o && i.size === r.size || (i.hash = ""),
                        i.mtime = o,
                        i.ctime = s,
                        i.size = a
                    }
                    this.requestSync()
                }
            }
            ,
            t.prototype.onFileRemove = function(e) {
                delete this.localFiles[e.path],
                this.requestSync()
            }
            ,
            t.prototype.onFileRename = function(e, t) {
                var n = this.localFiles
                  , i = n[t];
                n[e.path] = i,
                delete n[t],
                i.path = e.path,
                i.synctime = 0,
                this.onFileAdd(e),
                this.requestSync()
            }
            ,
            t.prototype.onRaw = function(e) {
                if (e.startsWith(this.vault.configDir + "/")) {
                    var t = this.scanSpecialFileQueue;
                    if (t.contains(e))
                        return;
                    t.push(e),
                    this.requestSync()
                }
            }
            ,
            t.prototype.onPushedFile = function(e) {
                if (this.version = e.uid,
                !this.initial || !e.deleted) {
                    var t = e.path
                      , n = {
                        path: e.path,
                        size: e.size,
                        hash: e.hash,
                        ctime: e.ctime,
                        mtime: e.mtime,
                        folder: e.folder,
                        deleted: e.deleted,
                        uid: e.uid
                    };
                    this.initial && (n.initial = !0);
                    var i = this.localFiles[t]
                      , r = !1;
                    n.deleted !== !i ? r = !0 : !i || n.folder === i.folder && n.size === i.size && n.hash === i.hash || (r = !0),
                    n.device = e.device,
                    r && this.log("Server pushed" + (e.folder ? " (folder)" : "") + (e.deleted ? " (deleted)" : "") + (e.device ? " [" + e.device + "]" : ""), e.path),
                    this.newServerFiles.push(n),
                    this.requestSync()
                }
            }
            ,
            t.prototype.allowSyncFile = function(e, t, n) {
                for (var i = 0, r = this.ignoreFolders; i < r.length; i++) {
                    var o = r[i];
                    if (t && e === o || e.startsWith(o + "/"))
                        return !1
                }
                if (!t && e.startsWith(n)) {
                    var s = e.substr(n.length)
                      , a = null;
                    return "app.json" === s ? a = "app" : "appearance.json" === s ? a = "appearance" : "hotkeys.json" === s ? a = "hotkey" : "core-plugins.json" === s ? a = "core-plugin" : "community-plugins.json" === s ? a = "community-plugin" : s.startsWith("themes/") || s.startsWith("snippets/") ? a = "appearance-data" : !s.contains("/") && s.endsWith(".json") ? a = "core-plugin-data" : s.startsWith("plugins/") && (a = "community-plugin-data"),
                    a && this.allowSpecialFiles.has(a)
                }
                if (e.startsWith("."))
                    return !1;
                if (t)
                    return !0;
                if (e.startsWith("."))
                    return !1;
                var l = Q(W(e));
                if ("md" === l)
                    return !0;
                var c = this.allowTypes;
                return z.contains(l) ? c.has("image") : H.contains(l) ? c.has("audio") : V.contains(l) ? c.has("video") : q.contains(l) ? c.has("pdf") : !!c.has("unsupported")
            }
            ,
            t.prototype.canSyncPath = function(e, t) {
                var n = this.fileRetry;
                for (var i in n)
                    if (n.hasOwnProperty(i) && n[i].ts > e && t.startsWith(i))
                        return !1;
                return !0
            }
            ,
            t.prototype.canSyncLocalFile = function(e, t) {
                if (!t.synctime)
                    return !0;
                var n = t.size
                  , i = n > 10240 ? n > 102400 ? 30 : 20 : 10;
                return e - t.synctime > 1e3 * i
            }
            ,
            t.prototype.getHost = function() {
                var e = this.host || "127.0.0.1:3003";
                return e.startsWith("127.0.0.1") || e.startsWith("localhost") ? "ws://" + e : "wss://" + e
            }
            ,
            t.prototype.setStatus = function(e) {
                this.syncStatus = e,
                this.trigger("status-change")
            }
            ,
            t.prototype.getStatus = function() {
                return this.vaultId ? this.error || Object.keys(this.fileRetry).length > 0 ? "error" : this.pause ? "paused" : this.syncing ? "syncing" : "synced" : "paused"
            }
            ,
            t.prototype.failedSync = function(e) {
                var t = this.syncingPath;
                if (this.log(e, t, !0),
                t) {
                    var n = this.fileRetry
                      , i = Date.now()
                      , r = n[t];
                    r || (r = n[t] = {
                        count: 0,
                        error: "",
                        ts: 0
                    }),
                    r.error = e;
                    var o = r.count = r.count + 1
                      , s = 5 * Math.pow(2, o) * 1e3;
                    s = Math.min(s, 3e5),
                    r.ts = i + s
                }
            }
            ,
            t.prototype.requestSync = function() {
                return o(this, void 0, void 0, (function() {
                    var e, t, n;
                    return s(this, (function(i) {
                        switch (i.label) {
                        case 0:
                            return this.syncing ? [2] : (this.syncing = !0,
                            this.error = !1,
                            this.trigger("status-change"),
                            [4, Rk(50)]);
                        case 1:
                            i.sent(),
                            e = !0,
                            i.label = 2;
                        case 2:
                            if (!e || !this.plugin.enabled || this.pause || !this.vaultId)
                                return [3, 9];
                            i.label = 3;
                        case 3:
                            return i.trys.push([3, 5, , 6]),
                            this.error = !1,
                            this.syncingPath = null,
                            [4, this._sync()];
                        case 4:
                            return e = i.sent(),
                            (t = this.syncingPath) && delete this.fileRetry[t],
                            [3, 6];
                        case 5:
                            return n = i.sent(),
                            console.log("Sync Error!"),
                            console.error(n),
                            this.error = !0,
                            this.failedSync(n.message),
                            e = !1,
                            this.trigger("status-change"),
                            [3, 6];
                        case 6:
                            return this.dirty && this.requestSaveData(),
                            e ? [4, Rk(100)] : [3, 8];
                        case 7:
                            i.sent(),
                            i.label = 8;
                        case 8:
                            return [3, 2];
                        case 9:
                            return this.syncing = !1,
                            this.trigger("status-change"),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.getServer = function() {
                var e = this
                  , t = this.gettingServer;
                if (!t) {
                    this.gettingServer = t = this.asyncGetServer();
                    var n = function() {
                        e.gettingServer = null
                    };
                    t.then(n, n)
                }
                return t
            }
            ,
            t.prototype.asyncGetServer = function() {
                return o(this, void 0, Promise, (function() {
                    var e, t, n, i, r, o, a = this;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return !(e = this.server) || e.isConnected() || e.isConnecting() || (e.disconnect(),
                            e = this.server = null,
                            this.backoff.fail()),
                            e ? [3, 4] : this.host && this.app.account.token && this.vaultId && this.key ? [4, A(this.key)] : [3, 3];
                        case 1:
                            return t = s.sent(),
                            i = D,
                            [4, S(this.key)];
                        case 2:
                            return n = i.apply(void 0, [s.sent()]),
                            e = this.server = new HT(t,n),
                            [3, 4];
                        case 3:
                            return [2, null];
                        case 4:
                            if (e.hasConnection())
                                return [3, 8];
                            this.setStatus("Connecting to server"),
                            this.log("Connecting to server"),
                            this.ready = !1,
                            s.label = 5;
                        case 5:
                            return s.trys.push([5, 7, , 8]),
                            r = this.deviceName || this.getDefaultDeviceName(),
                            [4, e.connect(this.getHost(), this.app.account.token, this.vaultId, this.version, this.initial, r, (function(e) {
                                a.ready = !0,
                                a.initial = !1,
                                a.version < e && (a.version = e),
                                a.dirty = !0,
                                a.requestSaveData(),
                                a.requestSync()
                            }
                            ), this.onPushedFile.bind(this))];
                        case 6:
                            return s.sent(),
                            this.backoff.success(),
                            [3, 8];
                        case 7:
                            return (o = s.sent()).message && o.message.contains("Your subscription to Obsidian Sync has expired") && new JC(o.message),
                            console.error(o),
                            this.log(o.message, null, !0),
                            e.disconnect(),
                            e = this.server = null,
                            this.error = !0,
                            this.backoff.fail(),
                            [2, null];
                        case 8:
                            return [2, e]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype._sync = function() {
                return o(this, void 0, Promise, (function() {
                    var e, t, n, i, r, o, a, l, c, u, h, p, d, f, g, m, v, y, b, k, C, x, S, L, D, M, A, T, F, P, O, I, N, R, B, z, H, V, q, U, _, j, $, G, Y, K, J, X, Z, ee, te, ne, ie = this;
                    return s(this, (function(re) {
                        switch (re.label) {
                        case 0:
                            return this.pause ? [2, !1] : this.backoff.isReady() ? [4, this.getServer()] : (this.log("Waiting to connect to server"),
                            [2, !1]);
                        case 1:
                            if (!(e = re.sent()))
                                return [2, !1];
                            if (this.pause || !this.vaultId)
                                return [2, !1];
                            t = this.localFiles,
                            n = this.serverFiles,
                            i = this.newServerFiles,
                            r = this.vault,
                            o = r.adapter,
                            a = Date.now(),
                            l = 0,
                            this.setStatus("Indexing..."),
                            c = r.configDir,
                            u = c + "/",
                            re.label = 2;
                        case 2:
                            if (re.trys.push([2, 21, , 22]),
                            h = {},
                            p = this.scanSpecialFileQueue,
                            !this.scanSpecialFiles)
                                return [3, 17];
                            for (j in this.scanSpecialFiles = !1,
                            this.setStatus("Initializing..."),
                            p = this.scanSpecialFileQueue = [],
                            t)
                                t.hasOwnProperty(j) && j.startsWith(".") && (h[j] = t[j],
                                delete t[j]);
                            return [4, o.exists(c)];
                        case 3:
                            return re.sent() ? (p.push(u + "config"),
                            [4, o.list(c)]) : [3, 17];
                        case 4:
                            for (d = re.sent(),
                            f = 0,
                            g = d.files; f < g.length; f++)
                                "json" === Q(F = g[f]) && p.push(F);
                            return [4, o.exists(u + "themes")];
                        case 5:
                            return re.sent() ? [4, o.list(u + "themes")] : [3, 7];
                        case 6:
                            for (m = re.sent(),
                            v = 0,
                            y = m.files; v < y.length; v++)
                                "css" === Q(F = y[v]) && p.push(F);
                            re.label = 7;
                        case 7:
                            return [4, o.exists(u + "snippets")];
                        case 8:
                            return re.sent() ? [4, o.list(u + "snippets")] : [3, 10];
                        case 9:
                            for (b = re.sent(),
                            k = 0,
                            C = b.files; k < C.length; k++)
                                "css" === Q(F = C[k]) && p.push(F);
                            re.label = 10;
                        case 10:
                            return [4, o.exists(u + "plugins")];
                        case 11:
                            return re.sent() ? [4, o.list(u + "plugins")] : [3, 16];
                        case 12:
                            x = re.sent(),
                            S = 0,
                            L = x.folders,
                            re.label = 13;
                        case 13:
                            return S < L.length ? (D = L[S],
                            [4, o.list(D)]) : [3, 16];
                        case 14:
                            for (M = re.sent(),
                            A = 0,
                            T = M.files; A < T.length; A++)
                                F = T[A],
                                "manifest.json" !== (P = W(F)) && "main.js" !== P && "styles.css" !== P && "data.json" !== P || p.push(F);
                            re.label = 15;
                        case 15:
                            return S++,
                            [3, 13];
                        case 16:
                            this.forceSaveData(),
                            re.label = 17;
                        case 17:
                            return p.length > 0 ? (j = p.pop(),
                            [4, o.exists(j)]) : [3, 20];
                        case 18:
                            return re.sent() ? [4, o.stat(j)] : (delete t[j],
                            [3, 17]);
                        case 19:
                            return "file" !== (O = re.sent()).type ? (delete t[j],
                            [3, 17]) : ((_ = t[j]) || (_ = h.hasOwnProperty(j) ? t[j] = h[j] : t[j] = {
                                path: j,
                                ctime: 0,
                                mtime: 0,
                                size: 0,
                                folder: !1,
                                hash: "",
                                synchash: "",
                                synctime: 0
                            }),
                            X = Math.ceil(O.mtime),
                            J = Math.ceil(O.ctime),
                            I = O.size,
                            _.mtime && _.mtime === X && _.size === O.size || (_.hash = ""),
                            _.mtime = X,
                            _.ctime = J,
                            _.size = I,
                            [3, 17]);
                        case 20:
                            return [3, 22];
                        case 21:
                            return N = re.sent(),
                            console.error("Failed to scan config files", N),
                            [3, 22];
                        case 22:
                            if (!(i.length > 0))
                                return [3, 26];
                            R = function(c) {
                                var h, p, d, f, g, m, v, y, b, k, C, x, E, S, L, D, M, A, T, F, P, O, I, N, R, z, H, V, q, U, _;
                                return s(this, (function(s) {
                                    switch (s.label) {
                                    case 0:
                                        if (h = i[c],
                                        p = h.path,
                                        d = n[p],
                                        f = t[p],
                                        g = function(e, t) {
                                            return e || ie.log("Accepted", p),
                                            f && (f.synctime = Date.now()),
                                            t || (n[p] = h),
                                            i.splice(c, 1),
                                            ie.setDirty(),
                                            !0
                                        }
                                        ,
                                        !B.allowSyncFile(p, h.folder, u))
                                            return [2, {
                                                value: g(!0)
                                            }];
                                        if (!Af(p) || on.isAndroidApp && /[?<>]/.test(p))
                                            return B.log("Ignoring remote file name with illegal characters", p, !0),
                                            new JC('Sync: Unable to download file with illegal name "' + p + '"'),
                                            [2, {
                                                value: g(!0, !0)
                                            }];
                                        if (!B.canSyncPath(a, p))
                                            return l++,
                                            [2, "continue"];
                                        for (B.syncingPath = p,
                                        m = c + 1; m < i.length; m++)
                                            if (i[m].path === p)
                                                return B.log("Skipped", p),
                                                [2, {
                                                    value: g(!0, !0)
                                                }];
                                        return f ? [3, 2] : h.deleted ? [2, {
                                            value: g(!0)
                                        }] : (B.setStatus("Downloading " + p),
                                        [4, B.syncFileDown(e, h)]);
                                    case 1:
                                        return s.sent(),
                                        [2, {
                                            value: g()
                                        }];
                                    case 2:
                                        return f.folder || f.hash ? [3, 4] : (B.getHashFromMetadataCache(f),
                                        f.hash ? [3, 4] : (B.setStatus("Computing hash " + p),
                                        [4, B.updateHash(f)]));
                                    case 3:
                                        s.sent(),
                                        s.label = 4;
                                    case 4:
                                        if (!f.folder || !h.folder)
                                            return [3, 9];
                                        if (!h.deleted)
                                            return [3, 8];
                                        if (!(E = r.getAbstractFileByPath(p)))
                                            return [3, 8];
                                        if (E instanceof qf && E.children.length > 0)
                                            return [2, {
                                                value: g(!0)
                                            }];
                                        B.setStatus("Deleting " + p),
                                        B.log("Deleting", p),
                                        s.label = 5;
                                    case 5:
                                        return s.trys.push([5, 7, , 8]),
                                        [4, r.delete(E, !0)];
                                    case 6:
                                        return s.sent(),
                                        [3, 8];
                                    case 7:
                                        return v = s.sent(),
                                        y = (v ? v.message : "") || "Failed to delete folder",
                                        B.log(y, p, !0),
                                        [3, 8];
                                    case 8:
                                        return [2, {
                                            value: g(!0)
                                        }];
                                    case 9:
                                        return f.folder || h.folder || f.hash !== h.hash ? d && (f.folder && d.folder || f.hash === d.hash) ? h.deleted ? (B.setStatus("Deleting " + p),
                                        (E = r.getAbstractFileByPath(p)) ? (B.log("Deleting", p),
                                        [4, r.delete(E)]) : [3, 11]) : [3, 14] : [3, 16] : [2, {
                                            value: g(!0)
                                        }];
                                    case 10:
                                        return s.sent(),
                                        [3, 13];
                                    case 11:
                                        return B.log("Deleting", p),
                                        [4, o.remove(p)];
                                    case 12:
                                        s.sent(),
                                        s.label = 13;
                                    case 13:
                                        return [2, {
                                            value: g()
                                        }];
                                    case 14:
                                        return B.setStatus("Downloading " + p),
                                        [4, B.syncFileDown(e, h)];
                                    case 15:
                                        return s.sent(),
                                        [2, {
                                            value: g()
                                        }];
                                    case 16:
                                        return f.folder || !h.folder ? [3, 18] : (E = r.getAbstractFileByPath(p))instanceof Vf ? (b = E.extension,
                                        k = b ? p.substr(p.length - b.length - 1) : "",
                                        C = p.substr(0, p.length - k.length),
                                        x = C + " (Conflicted copy)" + k,
                                        B.setStatus("Renaming conflicted file " + p),
                                        B.log("Renaming conflicted file", p),
                                        [4, r.rename(E, x)]) : [3, 18];
                                    case 17:
                                        return s.sent(),
                                        B.setDirty(),
                                        [2, {
                                            value: !0
                                        }];
                                    case 18:
                                        return h.initial && h.mtime > f.mtime ? (B.setStatus("Downloading " + p),
                                        [4, B.syncFileDown(e, h)]) : [3, 20];
                                    case 19:
                                        return s.sent(),
                                        [2, {
                                            value: g()
                                        }];
                                    case 20:
                                        if (h.initial || f.folder || h.folder || "md" !== Q(p) || h.hash === f.synchash)
                                            return [3, 37];
                                        if (B.setStatus("Merging " + p),
                                        B.log("Merging conflicted file", p),
                                        !((E = r.getAbstractFileByPath(p))instanceof Vf))
                                            return B.log("Merge failed.", p, !0),
                                            [2, {
                                                value: g(!0)
                                            }];
                                        S = void 0,
                                        s.label = 21;
                                    case 21:
                                        return s.trys.push([21, 23, , 24]),
                                        [4, r.read(E)];
                                    case 22:
                                        return S = s.sent(),
                                        [3, 24];
                                    case 23:
                                        return L = s.sent(),
                                        B.log("Merge failed. " + L.error, p, !0),
                                        [2, {
                                            value: g(!0)
                                        }];
                                    case 24:
                                        return S ? [3, 26] : [4, B.syncFileDown(e, h)];
                                    case 25:
                                        return s.sent(),
                                        [2, {
                                            value: g()
                                        }];
                                    case 26:
                                        if (D = "",
                                        !d)
                                            return [3, 30];
                                        s.label = 27;
                                    case 27:
                                        return s.trys.push([27, 29, , 30]),
                                        M = w,
                                        [4, e.pull(d.uid)];
                                    case 28:
                                        return D = M.apply(void 0, [s.sent()]),
                                        [3, 30];
                                    case 29:
                                        return A = s.sent(),
                                        B.log("Merge failed. " + A.error, p, !0),
                                        [2, {
                                            value: g(!0)
                                        }];
                                    case 30:
                                        T = void 0,
                                        s.label = 31;
                                    case 31:
                                        return s.trys.push([31, 33, , 34]),
                                        F = w,
                                        [4, e.pull(h.uid)];
                                    case 32:
                                        return T = F.apply(void 0, [s.sent()]),
                                        [3, 34];
                                    case 33:
                                        return P = s.sent(),
                                        B.log("Merge failed. " + P.error, p, !0),
                                        [2, {
                                            value: g(!0)
                                        }];
                                    case 34:
                                        return D === T || S === T ? [2, {
                                            value: g()
                                        }] : T ? (O = pS(D, S, T),
                                        [4, r.modify(E, O)]) : [3, 36];
                                    case 35:
                                        s.sent(),
                                        B.log("Merge successful", p),
                                        s.label = 36;
                                    case 36:
                                        return [2, {
                                            value: g()
                                        }];
                                    case 37:
                                        if (!p.startsWith(u))
                                            return [3, 46];
                                        if ("json" !== Q(p))
                                            return [3, 44];
                                        s.label = 38;
                                    case 38:
                                        return s.trys.push([38, 43, , 44]),
                                        B.setStatus("Merging " + p),
                                        B.log("Merging conflicted file", p),
                                        R = (N = JSON).parse,
                                        [4, o.read(p)];
                                    case 39:
                                        return !(I = R.apply(N, [s.sent()])) || Array.isArray(I) || "object" != typeof I ? [3, 42] : (V = (H = JSON).parse,
                                        q = w,
                                        [4, e.pull(h.uid)]);
                                    case 40:
                                        if (!(z = V.apply(H, [q.apply(void 0, [s.sent()])])))
                                            return [3, 42];
                                        for (U in z)
                                            z.hasOwnProperty(U) && (I[U] = z[U]);
                                        return [4, o.write(p, JSON.stringify(I, void 0, 2))];
                                    case 41:
                                        return s.sent(),
                                        B.log("Merge successful", p),
                                        [2, {
                                            value: g(!0)
                                        }];
                                    case 42:
                                        return [3, 44];
                                    case 43:
                                        return _ = s.sent(),
                                        B.log("Merge failed. " + _.error, p, !0),
                                        [3, 44];
                                    case 44:
                                        return [4, B.syncFileDown(e, h)];
                                    case 45:
                                        return s.sent(),
                                        [2, {
                                            value: g()
                                        }];
                                    case 46:
                                        return B.log("Rejected server change", p),
                                        [2, {
                                            value: g(!0)
                                        }]
                                    }
                                }
                                ))
                            }
                            ,
                            B = this,
                            te = 0,
                            re.label = 23;
                        case 23:
                            return te < i.length ? [5, R(te)] : [3, 26];
                        case 24:
                            if ("object" == typeof (z = re.sent()))
                                return [2, z.value];
                            re.label = 25;
                        case 25:
                            return te++,
                            [3, 23];
                        case 26:
                            if (!this.ready)
                                return [2, !1];
                            for (j in H = null,
                            V = null,
                            n)
                                if (n.hasOwnProperty(j) && ($ = n[j],
                                !t.hasOwnProperty(j))) {
                                    if ($.deleted) {
                                        delete n[j];
                                        continue
                                    }
                                    if (!this.allowSyncFile(j, $.folder, u))
                                        continue;
                                    $.folder ? (!V || $.path.length > V.path.length) && (V = $) : (!H || $.path.length > H.path.length) && (H = $)
                                }
                            return H ? (j = H.path,
                            this.setStatus("Deleting remote file " + j),
                            this.log("Deleting remote file", j),
                            this.syncingPath = j,
                            [4, e.push(j, !1, !0, 0, 0, "", null)]) : [3, 28];
                        case 27:
                            return re.sent(),
                            H.deleted = !0,
                            this.setDirty(),
                            [2, !0];
                        case 28:
                            return V ? (j = V.path,
                            this.setStatus("Deleting remote folder " + j),
                            this.log("Deleting remote folder", j),
                            this.syncingPath = j,
                            [4, e.push(j, !0, !0, 0, 0, "", null)]) : [3, 30];
                        case 29:
                            return re.sent(),
                            V.deleted = !0,
                            this.setDirty(),
                            [2, !0];
                        case 30:
                            for (j in q = null,
                            U = null,
                            t)
                                if (t.hasOwnProperty(j) && (_ = t[j],
                                this.allowSyncFile(j, _.folder, u)))
                                    if (this.canSyncPath(a, j)) {
                                        if ($ = n[j],
                                        DT && !_.folder && $ && $.ctime && (0 === _.ctime || _.ctime > $.ctime) && !$.folder && !$.deleted && (_.ctime = $.ctime),
                                        _.folder || !(_.size > 103809024))
                                            if ($ && !$.deleted) {
                                                if (!q)
                                                    if (_.folder) {
                                                        if (!this.canSyncLocalFile(a, _)) {
                                                            l++;
                                                            continue
                                                        }
                                                        $.folder || (!q || _.path.length < q.path.length) && (q = _)
                                                    } else if ($.folder) {
                                                        if (!this.canSyncLocalFile(a, _)) {
                                                            l++;
                                                            continue
                                                        }
                                                        V = $
                                                    } else if (_.hash || this.getHashFromMetadataCache(_),
                                                    !_.hash || _.hash !== $.hash) {
                                                        if (!this.canSyncLocalFile(a, _)) {
                                                            l++;
                                                            continue
                                                        }
                                                        (!U || _.size < U.size) && (U = _)
                                                    }
                                            } else {
                                                if (!this.canSyncLocalFile(a, _)) {
                                                    l++;
                                                    continue
                                                }
                                                _.folder ? (!q || _.path.length < q.path.length) && (q = _) : (!U || _.size < U.size) && (U = _)
                                            }
                                    } else
                                        l++;
                            return q ? (j = q.path,
                            this.syncingPath = j,
                            this.setStatus("Uploading " + j),
                            this.log("Uploading", j),
                            K = this.version,
                            [4, e.push(j, !0, !1, 0, 0, "", null)]) : [3, 32];
                        case 31:
                            return re.sent(),
                            n[j] = {
                                uid: K,
                                path: j,
                                folder: !0,
                                deleted: !1,
                                ctime: 0,
                                mtime: 0,
                                size: 0,
                                hash: ""
                            },
                            this.setDirty(),
                            q.synctime = Date.now(),
                            [2, !0];
                        case 32:
                            return U ? (j = U.path,
                            this.syncingPath = j,
                            this.setStatus("Uploading " + j),
                            $ = n[j],
                            !U.hash && (this.getHashFromMetadataCache(U),
                            $ && $.hash === U.hash) ? (this.setDirty(),
                            [2, !0]) : [4, o.readBinary(j)]) : [3, 36];
                        case 33:
                            return G = re.sent(),
                            Y = U,
                            [4, E(G)];
                        case 34:
                            return Y.hash = re.sent(),
                            $ && $.hash === U.hash ? (this.setDirty(),
                            [2, !0]) : (this.log("Uploading file", j),
                            K = this.version,
                            J = U.ctime,
                            X = U.mtime,
                            Z = U.hash,
                            [4, e.push(j, !1, !1, J, X, Z, G)]);
                        case 35:
                            for (re.sent(),
                            U.synchash = Z,
                            this.log("Upload complete", j),
                            ee = !1,
                            te = i.length - 1; te >= 0; te--)
                                (ne = i[te]).path === j && (ne.mtime !== X || ne.hash !== Z || ee ? ee && i.splice(te, 1) : (ee = !0,
                                i.splice(te, 1),
                                n[j] = ne));
                            return ee || (n[j] = {
                                uid: K,
                                path: j,
                                folder: !1,
                                deleted: !1,
                                ctime: J,
                                mtime: X,
                                size: G.byteLength,
                                hash: Z
                            }),
                            U.synctime = Date.now(),
                            this.setDirty(),
                            [2, !0];
                        case 36:
                            return 0 === l ? (this.log("Fully synced"),
                            this.setStatus("Fully synced"),
                            [2, !1]) : (this.setStatus("Indexing..."),
                            [2, !0])
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.setDirty = function() {
                this.dirty = !0,
                this.trigger("status-change")
            }
            ,
            t.prototype.forceSaveData = function() {
                this.setDirty(),
                this.requestSaveData()
            }
            ,
            t.prototype.getHashFromMetadataCache = function(e) {
                var t = this.app.metadataCache.getFileInfo(e.path);
                t && Math.ceil(t.mtime) === e.mtime && t.size === e.size && (e.hash = t.hash)
            }
            ,
            t.prototype.syncFileDown = function(e, t) {
                return o(this, void 0, void 0, (function() {
                    var n, i, r, o, a, l, c, u, h, p;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return n = t.path,
                            [4, (i = this.vault.adapter).stat(n)];
                        case 1:
                            return r = s.sent(),
                            t.folder ? r && "folder" === r.type ? [2] : r && "file" === r.type ? (this.log("Deleting local file", n),
                            [4, i.remove(n)]) : [3, 3] : [3, 5];
                        case 2:
                            s.sent(),
                            s.label = 3;
                        case 3:
                            return this.log("Creating local folder", n),
                            [4, i.mkdir(n)];
                        case 4:
                            return s.sent(),
                            [2];
                        case 5:
                            return r && "folder" === r.type ? [4, i.list(n)] : [3, 10];
                        case 6:
                            return 0 !== (o = s.sent()).files.length || 0 !== o.folders.length ? [3, 8] : (this.log("Deleting local folder", n),
                            [4, i.rmdir(n, !0)]);
                        case 7:
                            return s.sent(),
                            [2];
                        case 8:
                            return this.log("Renaming conflicted file", n),
                            [4, i.rename(n, n + " (Conflicted copy)")];
                        case 9:
                            return s.sent(),
                            [2];
                        case 10:
                            return this.log("Downloading file", n),
                            [4, e.pull(t.uid)];
                        case 11:
                            return [4, E(a = s.sent())];
                        case 12:
                            return l = s.sent(),
                            r ? (c = void 0,
                            t.ctime && (0 === r.ctime || t.ctime < r.ctime) && (c = t.ctime),
                            [4, i.writeBinary(n, a, {
                                ctime: c,
                                mtime: t.mtime
                            })]) : [3, 14];
                        case 13:
                            return s.sent(),
                            [3, 20];
                        case 14:
                            return u = $(n),
                            (h = "/" !== u && "" !== u) ? [4, i.exists(u)] : [3, 16];
                        case 15:
                            h = !s.sent(),
                            s.label = 16;
                        case 16:
                            return h ? [4, i.mkdir(u)] : [3, 18];
                        case 17:
                            s.sent(),
                            s.label = 18;
                        case 18:
                            return [4, i.writeBinary(n, a, {
                                ctime: t.ctime,
                                mtime: t.mtime
                            })];
                        case 19:
                            s.sent(),
                            s.label = 20;
                        case 20:
                            (p = this.localFiles[n]) && (p.hash = l,
                            p.synchash = l),
                            this.log("Downloading complete", n),
                            s.label = 21;
                        case 21:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.updateHash = function(e) {
                return o(this, void 0, Promise, (function() {
                    var t, n;
                    return s(this, (function(i) {
                        switch (i.label) {
                        case 0:
                            return e.folder || e.hash ? [2, null] : [4, this.vault.adapter.readBinary(e.path)];
                        case 1:
                            return t = i.sent(),
                            n = e,
                            [4, E(t)];
                        case 2:
                            return n.hash = i.sent(),
                            [2, t]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.updateStatusBar = function() {
                var e = this.getStatus()
                  , t = this.statusIconEl;
                t && (Je(t, this.syncStatus, {
                    placement: "top"
                }),
                t.removeClass("mod-success", "mod-working", "mod-error"),
                "paused" === e ? (yk(t, jb, this.iconSize),
                t.addClass("mod-working")) : "synced" === e ? (yk(t, _b, this.iconSize),
                t.addClass("mod-success")) : "syncing" === e ? (yk(t, Ub, this.iconSize),
                t.addClass("mod-working")) : "error" === e && (yk(t, Ub, this.iconSize),
                t.addClass("mod-error")))
            }
            ,
            t.prototype.showVersionHistory = function(e) {
                return o(this, void 0, void 0, (function() {
                    return s(this, (function(t) {
                        return new OT(this.app,this,e).open(),
                        [2]
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.getHistory = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(n) {
                        switch (n.label) {
                        case 0:
                            return [4, this.getServer()];
                        case 1:
                            return [4, n.sent().listHistory(e, t)];
                        case 2:
                            return [2, n.sent()]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.getContentForVersion = function(e) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(t) {
                        switch (t.label) {
                        case 0:
                            return [4, this.getServer()];
                        case 1:
                            return [2, t.sent().pull(e)]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.restoreVersion = function(e) {
                return o(this, void 0, void 0, (function() {
                    return s(this, (function(t) {
                        switch (t.label) {
                        case 0:
                            return [4, this.getServer()];
                        case 1:
                            return [4, t.sent().restore(e)];
                        case 2:
                            return t.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.showDeletedFiles = function() {
                return o(this, void 0, void 0, (function() {
                    var e;
                    return s(this, (function(t) {
                        switch (t.label) {
                        case 0:
                            return [4, this.getServer()];
                        case 1:
                            return [4, t.sent().listDeleted()];
                        case 2:
                            return (e = t.sent()).reverse(),
                            new IT(this.app,this,e).open(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.showConfigFiles = function() {
                return o(this, void 0, void 0, (function() {
                    var e, t, n, i, r;
                    return s(this, (function(o) {
                        for (i in e = [],
                        t = this.serverFiles,
                        n = this.app.vault.configDir + "/",
                        t)
                            t.hasOwnProperty(i) && !(r = t[i]).folder && r.path.startsWith(n) && e.push({
                                uid: r.uid,
                                ts: r.mtime,
                                folder: r.folder,
                                path: r.path,
                                size: r.size,
                                deleted: r.deleted,
                                device: r.device
                            });
                        return e.sort((function(e, t) {
                            return t.ts - e.ts
                        }
                        )),
                        new IT(this.app,this,e).open(),
                        [2]
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.purge = function() {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(e) {
                        switch (e.label) {
                        case 0:
                            return [4, this.getServer()];
                        case 1:
                            return [4, e.sent().purge()];
                        case 2:
                            return e.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.size = function() {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(e) {
                        switch (e.label) {
                        case 0:
                            return [4, this.getServer()];
                        case 1:
                            return [4, e.sent().size()];
                        case 2:
                            return [2, e.sent()]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.openSettings = function() {
                var e = this.app.setting;
                e.open(),
                e.activeTab !== this.settingTab && e.openTabById(this.id)
            }
            ,
            t.prototype.showSyncLog = function() {
                this.vaultId && !this.pause ? new BT(this.app,this).open() : this.openSettings()
            }
            ,
            t.prototype.trigger = function(t) {
                for (var n = [], i = 1; i < arguments.length; i++)
                    n[i - 1] = arguments[i];
                e.prototype.trigger.apply(this, l([t], n))
            }
            ,
            t.prototype.on = function(t, n, i) {
                return e.prototype.on.call(this, t, n, i)
            }
            ,
            t
        }(Bf)
          , OT = function(e) {
            function t(t, n, i) {
                var r = e.call(this, t) || this;
                return r.plugin = null,
                r.history = null,
                r.filepath = null,
                r.activeHistoryId = null,
                r.historyListContainerEl = null,
                r.historyListEl = null,
                r.historyContentTextareaEl = null,
                r.historyContentOtherEl = null,
                r.historyContentCopyButtonEl = null,
                r.historyContentContainerEl = null,
                r.activeHistoryItemEl = null,
                r.loadMoreButtonEl = null,
                r.activeHistory = null,
                r.plugin = n,
                r.filepath = i,
                r
            }
            return i(t, e),
            t.prototype.onOpen = function() {
                return o(this, void 0, void 0, (function() {
                    var e, t, n, i, r, a, l = this;
                    return s(this, (function(c) {
                        switch (c.label) {
                        case 0:
                            return t = (e = this).modalEl,
                            n = e.contentEl,
                            t.addClass("mod-sync-history"),
                            i = this.historyListContainerEl = n.createDiv("sync-history-list-container"),
                            this.historyListEl = i.createDiv("sync-history-list"),
                            this.loadMoreButtonEl = i.createDiv({
                                cls: "sync-history-load-more-button",
                                text: TT("label-load-more")
                            }, (function(e) {
                                e.addEventListener("click", l.fetchMore.bind(l))
                            }
                            )),
                            r = this.historyContentContainerEl = n.createDiv("sync-history-content-container"),
                            on.isMobile && (r.detach(),
                            (a = r.createDiv({
                                cls: "modal-setting-back-button"
                            }, (function(e) {
                                e.addEventListener("click", (function() {
                                    Nt(l.contentEl, l.historyListContainerEl, "left")
                                }
                                ))
                            }
                            ))).createSpan("modal-setting-back-button-icon", (function(e) {
                                yk(e, ob, 20)
                            }
                            )),
                            a.createSpan({
                                text: Te("interface.start-screen.button-back")
                            })),
                            this.historyContentTextareaEl = r.createEl("textarea", "sync-history-content"),
                            this.historyContentOtherEl = r.createDiv("sync-history-content-other"),
                            r.createDiv("modal-button-container u-center-text", (function(e) {
                                l.historyContentCopyButtonEl = e.createEl("button", {
                                    cls: "mod-cta",
                                    text: Te("interface.label-copy")
                                }, (function(e) {
                                    e.addEventListener("click", (function() {
                                        return o(l, void 0, void 0, (function() {
                                            return s(this, (function(e) {
                                                return Oe(this.historyContentTextareaEl.value),
                                                new JC(Te("interface.copied", {
                                                    item: ""
                                                })),
                                                [2]
                                            }
                                            ))
                                        }
                                        ))
                                    }
                                    ))
                                }
                                )),
                                e.createEl("button", {
                                    cls: "mod-cta",
                                    text: TT("label-restore-this-version")
                                }, (function(e) {
                                    e.addEventListener("click", (function() {
                                        return o(l, void 0, void 0, (function() {
                                            return s(this, (function(e) {
                                                switch (e.label) {
                                                case 0:
                                                    return this.activeHistory === this.history.items[0] ? (new JC(TT("msg-already-latest-version")),
                                                    [2]) : [4, this.plugin.restoreVersion(this.activeHistory.uid)];
                                                case 1:
                                                    return e.sent(),
                                                    new JC(TT("msg-restored-version", {
                                                        time: window.moment(this.activeHistory.ts).fromNow()
                                                    })),
                                                    this.close(),
                                                    [2]
                                                }
                                            }
                                            ))
                                        }
                                        ))
                                    }
                                    ))
                                }
                                ))
                            }
                            )),
                            [4, this.fetchMore()];
                        case 1:
                            return c.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.openHistory = function(e) {
                return o(this, void 0, void 0, (function() {
                    var t, n, i, r, o, a, l, c, u, h;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return n = (t = this).historyContentContainerEl,
                            i = t.historyContentTextareaEl,
                            r = t.historyContentOtherEl,
                            o = t.historyContentCopyButtonEl,
                            r.empty(),
                            e.deleted ? (i.value = TT("label-file-deleted"),
                            i.show(),
                            o.hide(),
                            r.hide(),
                            [3, 10]) : [3, 1];
                        case 1:
                            n.addClass("is-loading"),
                            s.label = 2;
                        case 2:
                            return s.trys.push([2, , 9, 10]),
                            a = Q(W(this.filepath)),
                            U.contains(a) || _.contains(a) ? (l = i,
                            c = w,
                            [4, this.plugin.getContentForVersion(e.uid)]) : [3, 4];
                        case 3:
                            return l.value = c.apply(void 0, [s.sent()]),
                            i.show(),
                            o.show(),
                            r.hide(),
                            [3, 8];
                        case 4:
                            return z.contains(a) ? [4, this.plugin.getContentForVersion(e.uid)] : [3, 6];
                        case 5:
                            return u = s.sent(),
                            h = URL.createObjectURL(new Blob([u],{
                                type: "image/" + a
                            })),
                            Ie(r, h),
                            [3, 7];
                        case 6:
                            r.setText("Unable to preview " + a + " files"),
                            s.label = 7;
                        case 7:
                            i.hide(),
                            o.hide(),
                            r.show(),
                            s.label = 8;
                        case 8:
                            return [3, 10];
                        case 9:
                            return n.removeClass("is-loading"),
                            [7];
                        case 10:
                            return on.isMobile && Nt(this.contentEl, this.historyContentContainerEl, "right"),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.setActiveHistoryItem = function(e, t) {
                this.activeHistoryItemEl && this.activeHistoryItemEl.removeClass("is-active"),
                this.activeHistoryItemEl = e,
                this.activeHistory = t,
                e.addClass("is-active")
            }
            ,
            t.prototype.fetchMore = function() {
                return o(this, void 0, void 0, (function() {
                    var e, t, n, i, r, a, l, c, u, h, p, d, f, g, m, v = this;
                    return s(this, (function(y) {
                        switch (y.label) {
                        case 0:
                            return t = (e = this).contentEl,
                            n = e.titleEl,
                            i = e.modalEl,
                            r = e.historyListEl,
                            a = e.loadMoreButtonEl,
                            l = null,
                            c = !this.history,
                            this.history && (l = this.history.items.last().uid),
                            u = this,
                            [4, this.plugin.getHistory(this.filepath, l)];
                        case 1:
                            return u.history = y.sent(),
                            h = this.history.items,
                            c ? 0 === h.length ? (t.empty(),
                            n.setText("Version history"),
                            i.removeClass("mod-sync-history"),
                            t.createEl("p", {
                                cls: "u-center-text",
                                text: TT("label-no-earlier-version")
                            }),
                            [2]) : (this.activeHistoryId = h[0].uid,
                            on.isMobile ? [3, 3] : [4, this.openHistory(h[0])]) : [3, 3];
                        case 2:
                            y.sent(),
                            y.label = 3;
                        case 3:
                            for (p = function(e) {
                                if (e.folder)
                                    return "continue";
                                var t = r.createDiv({
                                    cls: "sync-history-list-item",
                                    text: window.moment(e.ts).format("LLLL")
                                })
                                  , n = t.createDiv("u-small u-muted");
                                e.deleted ? n.setText(TT("label-file-deleted")) : 0 === e.size ? n.setText(TT("label-empty-file")) : n.setText(N(e.size)),
                                e.device && n.appendText(" [" + e.device + "]"),
                                t.addEventListener("click", (function() {
                                    return o(v, void 0, void 0, (function() {
                                        return s(this, (function(n) {
                                            switch (n.label) {
                                            case 0:
                                                return [4, this.openHistory(e)];
                                            case 1:
                                                return n.sent(),
                                                on.isMobile || this.setActiveHistoryItem(t, e),
                                                [2]
                                            }
                                        }
                                        ))
                                    }
                                    ))
                                }
                                )),
                                e.uid === d.activeHistoryId && d.setActiveHistoryItem(t, e)
                            }
                            ,
                            d = this,
                            f = 0,
                            g = h; f < g.length; f++)
                                m = g[f],
                                p(m);
                            return this.history.more || a.hide(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t
        }(sn)
          , IT = function(e) {
            function t(t, n, i) {
                var r = e.call(this, t) || this;
                return r.plugin = null,
                r.history = [],
                r.plugin = n,
                r.history = i,
                r
            }
            return i(t, e),
            t.prototype.onOpen = function() {
                var e = this
                  , t = this.titleEl
                  , n = this.contentEl;
                t.setText(TT("label-deleted-files")),
                n.createEl("p", {
                    cls: "u-center-text",
                    text: TT("label-click-to-see-history")
                });
                for (var i = n.createDiv("sync-file-tree-container"), r = function(t) {
                    if (t.folder)
                        return "continue";
                    var n = i.createDiv({
                        cls: "list-item deleted-file-item"
                    });
                    n.createDiv({
                        cls: "list-item-part mod-extended",
                        text: ie(t.path)
                    });
                    var r = window.moment(t.ts).fromNow();
                    t.device && (r = "[" + t.device + "] " + r),
                    n.createDiv({
                        cls: "u-muted u-small list-item-part",
                        text: r
                    }),
                    n.addEventListener("click", (function() {
                        e.plugin.showVersionHistory(t.path)
                    }
                    ))
                }, o = 0, s = this.history; o < s.length; o++) {
                    r(s[o])
                }
            }
            ,
            t
        }(sn)
          , NT = function(e) {
            function t(t, n) {
                var i = e.call(this, t) || this;
                return i.plugin = null,
                i.vaultName = "",
                i.useOwnKey = !0,
                i.key = "",
                i.errorEl = null,
                i.plugin = n,
                i.setTitle(TT("label-create-remote-vault")).addButton("mod-cta", "Create", i.onCreateVault.bind(i)).addCancelButton(),
                i
            }
            return i(t, e),
            t.prototype.onCreateVault = function() {
                return o(this, void 0, void 0, (function() {
                    var e, t, n, i, r, o, a, l, c, u, h = this;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return t = (e = this).app,
                            n = e.vaultName,
                            i = e.useOwnKey,
                            r = e.key,
                            o = e.errorEl,
                            a = e.plugin,
                            o.hide(),
                            l = "",
                            !0 === i && "" === r && (l = TT("msg-please-enter-password")),
                            "" === n && (l = TT("msg-vault-name-cannot-be-empty")),
                            l ? (o.setText(l),
                            o.show(),
                            [2, !0]) : (u = null,
                            i ? (c = a.getSalt(),
                            [4, a.makeKeyHash(r, c)]) : [3, 2]);
                        case 1:
                            u = s.sent(),
                            s.label = 2;
                        case 2:
                            return t.account.createVault(n, u, c, (function(e) {
                                if (e.error)
                                    return o.setText(e.error),
                                    void o.show();
                                t.account.getVaults((function() {
                                    h.close(),
                                    new JC(TT("msg-successfully-created-vault", {
                                        name: n
                                    })),
                                    h.plugin.chooseRemoteVaultModal.open()
                                }
                                ))
                            }
                            )),
                            [2, !0]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.onOpen = function() {
                var e = this;
                this.vaultName = "",
                this.useOwnKey = !0,
                this.key = "";
                var t = this.contentEl;
                t.empty(),
                t.createDiv("message-container", (function(t) {
                    e.errorEl = t.createDiv("message mod-error"),
                    e.errorEl.hide()
                }
                )),
                t.createEl("p", {
                    text: TT("label-remote-vault-explanation")
                }),
                new vE(t).setName(TT("option-vault-name")).setDesc(TT("option-vault-name-desc")).addText((function(t) {
                    return t.setPlaceholder(TT("option-vault-name-placeholder")).onChange((function(t) {
                        return e.vaultName = t
                    }
                    ))
                }
                ));
                var n = null;
                new vE(t).setName(TT("option-use-custom-encryption-password")).setDesc(createFragment((function(e) {
                    e.createDiv({
                        text: TT("option-use-custom-encryption-password-desc")
                    }),
                    e.createDiv({
                        cls: "mod-warning",
                        text: TT("option-use-custom-encryption-password-desc-warning")
                    })
                }
                ))).addToggle((function(t) {
                    return t.setValue(!0).onChange((function(t) {
                        n.settingEl.toggle(t),
                        e.useOwnKey = t
                    }
                    ))
                }
                )),
                n = new vE(t).setName(TT("option-encryption-password")).setDesc(createFragment((function(e) {
                    e.createDiv({
                        text: TT("option-encryption-password-desc")
                    }),
                    e.createDiv({
                        cls: "mod-warning",
                        text: TT("option-encryption-password-desc-warning")
                    }),
                    e.createDiv({
                        text: TT("option-encryption-password-desc-2")
                    })
                }
                ))).addText((function(t) {
                    t.inputEl.type = "password",
                    t.setPlaceholder(TT("option-encryption-password-placeholder")).onChange((function(t) {
                        return e.key = t
                    }
                    ))
                }
                ))
            }
            ,
            t
        }(an)
          , RT = function(e) {
            function t(t, n, i) {
                var r = e.call(this, t) || this;
                r.plugin = null,
                r.promptKeyModal = null,
                r.settingTab = null,
                r.keyInputEl = null,
                r.currentVaultInfo = null,
                r.errorEl = null,
                r.settingTab = i;
                var a = document.createDocumentFragment()
                  , l = a.createDiv("loader-cube", (function(e) {
                    for (var t = 1; t <= 9; t++)
                        e.createDiv({
                            cls: "sk-cube sk-cube" + t
                        })
                }
                ));
                l.hide();
                var c = a.createDiv({}, (function(e) {
                    e.createDiv("message-container", (function(e) {
                        r.errorEl = e.createDiv("message mod-error")
                    }
                    )),
                    r.errorEl.hide(),
                    e.createEl("p", "u-center-text", (function(e) {
                        e.createEl("label", {
                            cls: "input-label",
                            text: TT("option-encryption-password")
                        }),
                        r.keyInputEl = e.createEl("input", {
                            type: "password"
                        }, (function(e) {
                            e.setAttribute("placeholder", TT("option-encryption-password-placeholder"))
                        }
                        ))
                    }
                    ))
                }
                ));
                return r.plugin = n,
                r.promptKeyModal = new an(t).setTitle(TT("label-enter-encryption-password")).setContent(a).addButton("mod-cta", TT("button-unlock-vault"), (function() {
                    return o(r, void 0, void 0, (function() {
                        var e, n, i;
                        return s(this, (function(r) {
                            switch (r.label) {
                            case 0:
                                l.show(),
                                c.hide(),
                                this.errorEl.hide(),
                                e = this.keyInputEl.value,
                                r.label = 1;
                            case 1:
                                return r.trys.push([1, 5, , 6]),
                                n = this.currentVaultInfo,
                                [4, this.plugin.verifyPassword(n.id, e, n.salt, n.host)];
                            case 2:
                                return r.sent(),
                                new JC(TT("msg-verified-password")),
                                [4, this.plugin.setup(n.id, n.name, e, n.salt, n.host)];
                            case 3:
                                return r.sent(),
                                [4, this.plugin.setPause(!0)];
                            case 4:
                                return r.sent(),
                                new UT(t,this.plugin,this.settingTab,n.name).open(),
                                this.promptKeyModal.close(),
                                this.onOpen(),
                                [3, 6];
                            case 5:
                                return i = r.sent(),
                                console.error(i),
                                i instanceof XMLHttpRequest ? this.errorEl.setText(Te("plugins.publish.msg-network-error")) : this.errorEl.setText(i.message),
                                this.errorEl.show(),
                                [3, 6];
                            case 6:
                                return c.show(),
                                l.hide(),
                                [2, !0]
                            }
                        }
                        ))
                    }
                    ))
                }
                )).addCancelButton(),
                r
            }
            return i(t, e),
            t.prototype.onOpen = function() {
                var e = this
                  , t = this.contentEl;
                t.empty();
                var n = t.createDiv()
                  , i = this.plugin.getRemoteVaultId();
                this.titleEl.setText(TT("label-remote-vaults"));
                var r = t.createDiv("loader-cube", (function(e) {
                    for (var t = 1; t <= 9; t++)
                        e.createDiv({
                            cls: "sk-cube sk-cube" + t
                        })
                }
                ));
                this.app.account.getVaults((function(t) {
                    n.empty();
                    for (var a = n.createDiv("vault-list"), l = function(t) {
                        var l = i === t.id;
                        a.createDiv("vault-list-item list-item", (function(a) {
                            a.toggleClass("is-connected", l),
                            a.createDiv("vault-list-item-icon list-item-part", (function(e) {
                                yk(e, l ? Tb : Ab, 16)
                            }
                            )),
                            a.createDiv({
                                cls: "vault-list-item-title list-item-part",
                                text: t.name
                            }),
                            l && a.createSpan({
                                cls: "flair mod-pop",
                                text: TT("label-connected-vault")
                            });
                            var c = window.moment;
                            a.createDiv({
                                cls: "vault-list-item-creation-time list-item-part mod-extended",
                                text: TT("label-vault-created-time", {
                                    time: c(t.created).fromNow()
                                })
                            }),
                            l || a.createDiv("list-item-part clickable-icon", (function(i) {
                                yk(i, wb),
                                Je(i, TT("tooltip-delete-remote-vault")),
                                i.addEventListener("click", (function() {
                                    var i = document.createDocumentFragment();
                                    i.createEl("p", {
                                        text: TT("label-confirm-delete-remote-vault-question")
                                    }),
                                    i.createEl("p", {
                                        text: TT("label-confirm-delete-remote-vault-result")
                                    }),
                                    i.createEl("p", {
                                        cls: "mod-warning",
                                        text: TT("label-confirm-delete-remote-vault-warning")
                                    }),
                                    new an(e.app).setTitle(TT("label-confirm-delete-remote-vault")).setContent(i).addButton("mod-warning", "Delete", (function() {
                                        n.hide(),
                                        r.show(),
                                        e.app.account.deleteVault(t.id, (function() {
                                            new JC(TT("msg-remote-vault-deleted", {
                                                name: t.name
                                            })),
                                            e.open()
                                        }
                                        ))
                                    }
                                    )).addCancelButton().open()
                                }
                                ))
                            }
                            )),
                            a.createEl("button", {
                                cls: "list-item-part vault-list-item-button",
                                text: TT("button-connect-to-remote-vault")
                            }, (function(a) {
                                i || a.addClass("mod-cta"),
                                l ? (a.setText(TT("button-disconnect-from-remote-vault")),
                                a.addEventListener("click", (function() {
                                    return o(e, void 0, void 0, (function() {
                                        return s(this, (function(e) {
                                            switch (e.label) {
                                            case 0:
                                                return n.hide(),
                                                r.show(),
                                                [4, this.plugin.unsetup()];
                                            case 1:
                                                return e.sent(),
                                                this.open(),
                                                [2]
                                            }
                                        }
                                        ))
                                    }
                                    ))
                                }
                                ))) : a.addEventListener("click", (function() {
                                    return o(e, void 0, void 0, (function() {
                                        return s(this, (function(e) {
                                            switch (e.label) {
                                            case 0:
                                                return t.password ? [3, 1] : (this.currentVaultInfo = t,
                                                this.promptKeyModal.open(),
                                                [3, 4]);
                                            case 1:
                                                return n.hide(),
                                                r.show(),
                                                [4, this.plugin.setup(t.id, t.name, t.password, t.salt, t.host)];
                                            case 2:
                                                return e.sent(),
                                                [4, this.plugin.setPause(!0)];
                                            case 3:
                                                e.sent(),
                                                this.close(),
                                                new UT(this.app,this.plugin,this.settingTab,t.name).open(),
                                                e.label = 4;
                                            case 4:
                                                return [2]
                                            }
                                        }
                                        ))
                                    }
                                    ))
                                }
                                ))
                            }
                            ))
                        }
                        ))
                    }, c = 0, u = t; c < u.length; c++) {
                        l(u[c])
                    }
                    0 === t.length && n.createDiv("vault-empty-state", (function(e) {
                        e.createEl("p", {
                            text: TT("label-not-remote-vaults")
                        })
                    }
                    )),
                    t.length < 5 && n.createDiv("button-container u-center-text", (function(t) {
                        t.createEl("button", {
                            cls: "mod-cta js-create-vault",
                            text: TT("button-create-new-remote-vault")
                        }, (function(t) {
                            t.addEventListener("click", (function() {
                                e.plugin.createVaultModal.open()
                            }
                            ))
                        }
                        ))
                    }
                    )),
                    r.hide()
                }
                ))
            }
            ,
            t.prototype.onClose = function() {
                e.prototype.onClose.call(this),
                this.settingTab.display()
            }
            ,
            t
        }(sn)
          , BT = function(e) {
            function t(t, n) {
                var i = e.call(this, t) || this;
                i.plugin = null,
                i.syncLog = [],
                i.syncLogContainerEl = null,
                i.errorOnly = !1,
                i.plugin = n;
                var r = i
                  , o = r.titleEl
                  , s = r.contentEl;
                return r.modalEl.addClass("mod-sync-log"),
                o.setText(TT("label-sync-log")),
                new vE(s).setName(TT("options-only-show-errors")).setDesc(TT("options-only-show-errors-desc")).addToggle((function(e) {
                    return e.onChange((function(e) {
                        i.errorOnly = e,
                        i.updateSyncLog()
                    }
                    ))
                }
                )),
                i.syncLogContainerEl = s.createDiv("sync-log-container"),
                s.createDiv("modal-button-container", (function(e) {
                    e.createEl("button", {
                        text: TT("button-copy-sync-log"),
                        cls: "mod-cta"
                    }).addEventListener("click", i.onCopyResults.bind(i)),
                    e.createEl("button", {
                        text: Te("dialogue.button-done")
                    }).addEventListener("click", (function() {
                        return i.close()
                    }
                    ))
                }
                )),
                i
            }
            return i(t, e),
            t.prototype.onOpen = function() {
                e.prototype.onOpen.call(this),
                this.updateSyncLog(),
                this.plugin.on("new-log", this.updateSyncLog.bind(this))
            }
            ,
            t.prototype.updateSyncLog = function() {
                for (var e = this.syncLogContainerEl, t = this.syncLog = this.plugin.syncLog, n = function(e) {
                    if (e.el)
                        return "continue";
                    e.el = createDiv("list-item", (function(t) {
                        var n, i = window.moment(e.ts).format("YYYY-MM-DD HH:mm") + " - " + e.info + " " + (null !== (n = e.file) && void 0 !== n ? n : "");
                        t.createSpan({
                            text: i
                        })
                    }
                    )),
                    e.error && e.el.addClass("mod-error")
                }, i = 0, r = t; i < r.length; i++) {
                    n(r[i])
                }
                this.errorOnly && (t = t.filter((function(e) {
                    return e.error
                }
                ))),
                e.setChildrenInPlace(t.map((function(e) {
                    return e.el
                }
                ))),
                e.scrollTop = e.scrollHeight
            }
            ,
            t.prototype.onCopyResults = function() {
                for (var e = "", t = 0, n = this.syncLog; t < n.length; t++) {
                    var i = n[t];
                    e += "" + window.moment(i.ts).format("YYYY-MM-DD HH:mm"),
                    e += " - " + i.info,
                    i.file && (e += " " + i.file),
                    e += "\n"
                }
                Oe(e),
                new JC(TT("msg-successfully-copied-sync-log"))
            }
            ,
            t
        }(sn)
          , zT = function(e) {
            function t(t, n, i) {
                var r = e.call(this, t, n) || this;
                return r.vaults = [],
                r.manageExcludedFoldersModal = null,
                r.sync = i,
                r.manageExcludedFoldersModal = new VT(t,i,r),
                r
            }
            return i(t, e),
            t.prototype.display = function() {
                return o(this, void 0, Promise, (function() {
                    var e, t, n, i, r, a, l, c, u, h, p, d, f, g, m, v = this;
                    return s(this, (function(y) {
                        switch (y.label) {
                        case 0:
                            if (t = (e = this).app,
                            n = e.sync,
                            i = e.containerEl,
                            r = t.account,
                            i.empty(),
                            a = n.getRemoteVaultId(),
                            l = n.getRemoteVaultName(),
                            !r.email)
                                return this.displayRequireLogin(),
                                [2];
                            if (a)
                                return [3, 7];
                            if (c = i.createDiv("loader-cube", (function(e) {
                                for (var t = 1; t <= 9; t++)
                                    e.createDiv({
                                        cls: "sk-cube sk-cube" + t
                                    })
                            }
                            )),
                            r.email)
                                return [3, 5];
                            y.label = 1;
                        case 1:
                            return y.trys.push([1, 3, , 4]),
                            [4, r.getUserInfo()];
                        case 2:
                            return y.sent(),
                            [3, 4];
                        case 3:
                            return y.sent(),
                            c.hide(),
                            i.createEl("p", {
                                text: Te("plugins.publish.msg-network-error")
                            }),
                            i.createDiv("modal-button-container", (function(e) {
                                e.createEl("button", {
                                    cls: "mod-cta",
                                    text: TT("button-retry")
                                }, (function(e) {
                                    e.addEventListener("click", (function() {
                                        v.display()
                                    }
                                    ))
                                }
                                ))
                            }
                            )),
                            [2];
                        case 4:
                            if (!r.email)
                                return this.displayRequireLogin(),
                                [2];
                            y.label = 5;
                        case 5:
                            return [4, r.getSubscriptions()];
                        case 6:
                            if (u = y.sent(),
                            c.hide(),
                            !u.sync)
                                return i.createEl("p", {
                                    cls: "u-center-text",
                                    text: TT("label-no-sync-subscription")
                                }),
                                i.createDiv("modal-button-container", (function(e) {
                                    e.createEl("button", {
                                        cls: "mod-cta",
                                        text: TT("button-purchase-subscription")
                                    }, (function(e) {
                                        e.addEventListener("click", (function() {
                                            window.open("http://obsidian.md/pricing", "_blank")
                                        }
                                        ))
                                    }
                                    ))
                                }
                                )),
                                [2];
                            y.label = 7;
                        case 7:
                            return i.empty(),
                            h = new vE(i).setName(TT("option-pick-remote-vault")),
                            l ? (h.setDesc(TT("option-pick-remote-vault-desc-connected", {
                                name: l
                            })),
                            h.addExtraButton((function(e) {
                                return e.setIcon(Cb).setTooltip(TT("button-disconnect-from-remote-vault")).onClick((function() {
                                    return o(v, void 0, void 0, (function() {
                                        return s(this, (function(e) {
                                            switch (e.label) {
                                            case 0:
                                                return [4, this.sync.unsetup()];
                                            case 1:
                                                return e.sent(),
                                                [4, this.display()];
                                            case 2:
                                                return e.sent(),
                                                [2]
                                            }
                                        }
                                        ))
                                    }
                                    ))
                                }
                                ))
                            }
                            ))) : h.setDesc(TT("option-pick-remote-vault-desc-not-connected")),
                            h.addButton((function(e) {
                                return e.setButtonText("Choose").onClick((function() {
                                    n.chooseRemoteVaultModal.open()
                                }
                                ))
                            }
                            )),
                            a && (n.getPause() ? new vE(i).setName(TT("option-sync-status")).setDesc(TT("option-sync-status-desc-paused")).addButton((function(e) {
                                return e.setButtonText(TT("button-resume")).setCta().onClick((function() {
                                    n.setPause(!1),
                                    n.requestSync(),
                                    v.display()
                                }
                                ))
                            }
                            )) : new vE(i).setName(TT("option-sync-status")).setDesc(TT("option-sync-status-desc-running")).addButton((function(e) {
                                return e.setButtonText(TT("button-pause")).onClick((function() {
                                    n.setPause(!0),
                                    v.display()
                                }
                                ))
                            }
                            )),
                            new vE(i).setName(TT("option-device-name")).setDesc(TT("option-device-name-desc")).addText((function(e) {
                                return e.setPlaceholder(n.getDefaultDeviceName()).setValue(n.deviceName).onChange((function(e) {
                                    n.deviceName = e,
                                    n.forceSaveData()
                                }
                                ))
                            }
                            )),
                            new vE(i).setName(TT("option-view-deleted-files")).setDesc(TT("option-view-deleted-files-desc")).addButton((function(e) {
                                return e.setButtonText(TT("button-view")).onClick((function() {
                                    return n.showDeletedFiles()
                                }
                                ))
                            }
                            )),
                            new vE(i).setName(TT("option-sync-log")).setDesc(TT("option-sync-log-desc")).addButton((function(e) {
                                return e.setButtonText(TT("button-view")).onClick((function() {
                                    return n.showSyncLog()
                                }
                                ))
                            }
                            )),
                            d = function() {
                                return o(v, void 0, void 0, (function() {
                                    var e, t, i, r;
                                    return s(this, (function(o) {
                                        switch (o.label) {
                                        case 0:
                                            return [4, n.size()];
                                        case 1:
                                            return e = o.sent(),
                                            t = e.size > e.limit,
                                            f.settingEl.toggle(t),
                                            i = e.size < 0 ? "Unknown" : N(e.size),
                                            r = e.limit < 0 ? "Unknown" : N(e.limit),
                                            p.setText(TT("option-over-size-desc", {
                                                size: i,
                                                limit: r
                                            })),
                                            [2]
                                        }
                                    }
                                    ))
                                }
                                ))
                            }
                            ,
                            (f = new vE(i).setName(TT("option-over-size")).setDesc(createFragment((function(e) {
                                p = e.createSpan({
                                    text: ""
                                })
                            }
                            ))).addButton((function(e) {
                                return e.setButtonText(TT("msg-largest-files")).onClick((function() {
                                    new qT(t,n).open()
                                }
                                ))
                            }
                            )).addButton((function(e) {
                                return e.setWarning().setButtonText(TT("button-purge-remote")).setTooltip(TT("tooltip-purge-remote")).onClick((function() {
                                    return o(v, void 0, void 0, (function() {
                                        return s(this, (function(e) {
                                            switch (e.label) {
                                            case 0:
                                                return [4, n.purge()];
                                            case 1:
                                                return e.sent(),
                                                new JC(TT("msg-purge-complete")),
                                                [4, d()];
                                            case 2:
                                                return e.sent(),
                                                [2]
                                            }
                                        }
                                        ))
                                    }
                                    ))
                                }
                                ))
                            }
                            ))).settingEl.hide(),
                            d(),
                            new vE(i).setHeading().setName(TT("option-selective-sync")),
                            new vE(i).setName(TT("option-excluded-folders")).setDesc(createFragment((function(e) {
                                var t = v.sync.ignoreFolders;
                                if (e.appendText(TT("option-excluded-folder-desc")),
                                t.length > 0) {
                                    e.appendText(TT("option-currently-excluded-folders"));
                                    for (var n = e.createEl("ul"), i = 0, r = t; i < r.length; i++) {
                                        var o = r[i];
                                        n.createEl("li", {
                                            text: o
                                        })
                                    }
                                }
                            }
                            ))).addButton((function(e) {
                                return e.setButtonText(TT("button-manage-excluded-folders")).onClick((function() {
                                    v.manageExcludedFoldersModal.open()
                                }
                                ))
                            }
                            )),
                            (g = function(e, t) {
                                new vE(i).setName(TT("option-sync-" + e)).setDesc(TT("option-sync-" + e + "-desc", t)).addToggle((function(t) {
                                    return t.setValue(n.allowTypes.has(e)).onChange((function(t) {
                                        return n.setSyncType(e, t)
                                    }
                                    ))
                                }
                                ))
                            }
                            )("image", {
                                extensions: z.join(", ")
                            }),
                            g("audio", {
                                extensions: H.join(", ")
                            }),
                            g("video", {
                                extensions: V.join(", ")
                            }),
                            g("pdf"),
                            g("unsupported"),
                            m = function(e) {
                                new vE(i).setName(TT("option-sync-" + e)).setDesc(TT("option-sync-" + e + "-desc")).addToggle((function(t) {
                                    return t.setValue(n.allowSpecialFiles.has(e)).onChange((function(t) {
                                        return n.setAllowSpecialFile(e, t)
                                    }
                                    ))
                                }
                                ))
                            }
                            ,
                            new vE(i).setHeading().setName(TT("option-vault-config-sync")),
                            new vE(i).setName(TT("option-view-config-files")).setDesc(TT("option-view-config-files-desc")).addButton((function(e) {
                                return e.setButtonText(TT("button-view")).onClick((function() {
                                    return n.showConfigFiles()
                                }
                                ))
                            }
                            )),
                            m("app"),
                            m("appearance"),
                            m("appearance-data"),
                            m("hotkey"),
                            m("core-plugin"),
                            m("core-plugin-data"),
                            m("community-plugin"),
                            m("community-plugin-data")),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.displayRequireLogin = function() {
                var e = this
                  , t = this.containerEl;
                t.createEl("p", {
                    text: "Obsidian Sync is Obsidian's add-on sync service with end-to-end encryption and version history."
                }),
                t.createEl("p", {
                    text: "To start syncing, please log in or create a new Obsidian account."
                }),
                t.createDiv("modal-button-container", (function(t) {
                    t.createEl("button", {
                        cls: "mod-cta",
                        text: TT("button-sign-up")
                    }, (function(e) {
                        e.addEventListener("click", (function() {
                            window.open("http://obsidian.md/account", "_blank")
                        }
                        ))
                    }
                    )),
                    t.createEl("button", {
                        text: TT("button-log-in")
                    }, (function(t) {
                        t.addEventListener("click", (function() {
                            e.setting.openTabById("account")
                        }
                        ))
                    }
                    ))
                }
                ))
            }
            ,
            t
        }(iM)
          , HT = function() {
            function e(e, t) {
                this.socket = null,
                this.queue = new Bk,
                this.cryptoKey = null,
                this.keyhash = null,
                this.cryptoKey = e,
                this.keyhash = t
            }
            return e.prototype.isConnecting = function() {
                var e = this.socket;
                return e && e.readyState === WebSocket.CONNECTING
            }
            ,
            e.prototype.isConnected = function() {
                var e = this.socket;
                return e && e.readyState === WebSocket.OPEN
            }
            ,
            e.prototype.hasConnection = function() {
                return !!this.socket
            }
            ,
            e.prototype.connect = function(e, t, n, i, r, a, l, c) {
                return o(this, void 0, Promise, (function() {
                    var o = this;
                    return s(this, (function(s) {
                        return this.hasConnection() ? [2] : (this.onReady = l,
                        this.onPush = c,
                        [2, new Promise((function(s, l) {
                            var c = !1
                              , u = function(e) {
                                c || (c = !0,
                                o.disconnect(),
                                l(e))
                            }
                              , h = o.socket = new WebSocket(e);
                            h.binaryType = "arraybuffer",
                            h.onclose = function(e) {
                                u(new Error("Disconnected. Code: " + e.code + " " + function(e) {
                                    if (e >= 0 && e <= 999)
                                        return "(Unused)";
                                    if (e >= 1016) {
                                        if (e <= 1999)
                                            return "(For WebSocket standard)";
                                        if (e <= 2999)
                                            return "(For WebSocket extensions)";
                                        if (e <= 3999)
                                            return "(For libraries and frameworks)";
                                        if (e <= 4999)
                                            return "(For applications)"
                                    }
                                    return ST.hasOwnProperty(e) ? ST[e] : "(Unknown)"
                                }(e.code)))
                            }
                            ,
                            h.onopen = function() {
                                o.lastMessageTs = Date.now(),
                                o.heartbeat = window.setInterval((function() {
                                    var e = Date.now() - o.lastMessageTs;
                                    e > 12e4 ? o.disconnect() : e > 1e4 && o.send({
                                        op: "ping"
                                    })
                                }
                                ), 2e4),
                                o.send({
                                    op: "init",
                                    token: t,
                                    id: n,
                                    keyhash: o.keyhash,
                                    version: i,
                                    initial: r,
                                    device: a
                                })
                            }
                            ,
                            h.onmessage = function(e) {
                                var t, n = e.data;
                                if ("string" != typeof n)
                                    return u(new Error("Server returned binary"));
                                try {
                                    t = JSON.parse(n)
                                } catch (e) {
                                    return console.error(e),
                                    u(new Error("Server JSON failed to parse: " + n))
                                }
                                return "err" === t.status ? u(new Error("Failed to authenticated: " + t.msg)) : "ok" !== t.res ? u(new Error("Did not respond to login request: " + n)) : (s(),
                                c = !0,
                                h.onmessage = o.onMessage.bind(o),
                                h.onclose = o.disconnect.bind(o),
                                void (h.onerror = o.disconnect.bind(o)))
                            }
                        }
                        ))])
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.disconnect = function() {
                this.socket && this.socket.close(),
                this.socket = null,
                clearInterval(this.heartbeat),
                this.heartbeat = null;
                var e = new Error("Disconnected");
                this.responsePromise && (this.responsePromise.reject(e),
                this.responsePromise = null),
                this.dataPromise && (this.dataPromise.reject(e),
                this.dataPromise = null)
            }
            ,
            e.prototype.pull = function(e) {
                return o(this, void 0, Promise, (function() {
                    var t = this;
                    return s(this, (function(n) {
                        return [2, this.queue.queue((function() {
                            return o(t, void 0, void 0, (function() {
                                var t, n, i, r, o, a, l;
                                return s(this, (function(s) {
                                    switch (s.label) {
                                    case 0:
                                        return [4, this.request({
                                            op: "pull",
                                            uid: e
                                        })];
                                    case 1:
                                        if ((t = s.sent()).deleted)
                                            return [3, 8];
                                        n = t.size,
                                        i = t.pieces,
                                        r = new ArrayBuffer(n),
                                        o = 0,
                                        a = 0,
                                        s.label = 2;
                                    case 2:
                                        return a < i ? [4, this.dataResponse()] : [3, 5];
                                    case 3:
                                        l = s.sent(),
                                        new Uint8Array(r,o,l.byteLength).set(new Uint8Array(l)),
                                        o += l.byteLength,
                                        s.label = 4;
                                    case 4:
                                        return a++,
                                        [3, 2];
                                    case 5:
                                        return r.byteLength > 0 ? [4, F(r, this.cryptoKey)] : [3, 7];
                                    case 6:
                                        r = s.sent(),
                                        s.label = 7;
                                    case 7:
                                        return [2, r];
                                    case 8:
                                        return [2, null]
                                    }
                                }
                                ))
                            }
                            ))
                        }
                        ))]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.push = function(e, t, n, i, r, a, l) {
                return o(this, void 0, Promise, (function() {
                    var c = this;
                    return s(this, (function(u) {
                        return [2, this.queue.queue((function() {
                            return o(c, void 0, void 0, (function() {
                                var o, c, u, h, p, d, f, g;
                                return s(this, (function(s) {
                                    switch (s.label) {
                                    case 0:
                                        return [4, this.encodeStr(e)];
                                    case 1:
                                        return o = s.sent(),
                                        c = t ? "" : Q(W(e)),
                                        t || n ? [4, this.request({
                                            op: "push",
                                            path: o,
                                            extension: c,
                                            hash: "",
                                            ctime: 0,
                                            mtime: 0,
                                            folder: t,
                                            deleted: n
                                        })] : [3, 3];
                                    case 2:
                                        return s.sent(),
                                        [2];
                                    case 3:
                                        return l.byteLength > 0 ? [4, T(l, this.cryptoKey)] : [3, 5];
                                    case 4:
                                        l = s.sent(),
                                        s.label = 5;
                                    case 5:
                                        return a ? [4, this.encodeStr(a)] : [3, 7];
                                    case 6:
                                        a = s.sent(),
                                        s.label = 7;
                                    case 7:
                                        return u = l.byteLength,
                                        h = 2097152,
                                        p = Math.ceil(u / h),
                                        [4, this.request({
                                            op: "push",
                                            path: o,
                                            extension: c,
                                            hash: a,
                                            ctime: i,
                                            mtime: r,
                                            folder: t,
                                            deleted: n,
                                            size: u,
                                            pieces: p
                                        })];
                                    case 8:
                                        if ("ok" === s.sent().res)
                                            return [2];
                                        d = 0,
                                        s.label = 9;
                                    case 9:
                                        return d < p ? (f = d * h,
                                        g = Math.min(h, u - f),
                                        this.sendBinary(new Uint8Array(l,f,g)),
                                        [4, this.response()]) : [3, 12];
                                    case 10:
                                        s.sent(),
                                        s.label = 11;
                                    case 11:
                                        return d++,
                                        [3, 9];
                                    case 12:
                                        return [2]
                                    }
                                }
                                ))
                            }
                            ))
                        }
                        ))]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.listDeleted = function() {
                return o(this, void 0, Promise, (function() {
                    var e = this;
                    return s(this, (function(t) {
                        return [2, this.queue.queue((function() {
                            return o(e, void 0, void 0, (function() {
                                var e, t, n, i, r, o;
                                return s(this, (function(s) {
                                    switch (s.label) {
                                    case 0:
                                        return [4, this.request({
                                            op: "deleted"
                                        })];
                                    case 1:
                                        e = s.sent(),
                                        t = e.items,
                                        n = 0,
                                        i = t,
                                        s.label = 2;
                                    case 2:
                                        return n < i.length ? (r = i[n],
                                        o = r,
                                        [4, this.decodeStr(r.path)]) : [3, 5];
                                    case 3:
                                        o.path = s.sent(),
                                        s.label = 4;
                                    case 4:
                                        return n++,
                                        [3, 2];
                                    case 5:
                                        return [2, t]
                                    }
                                }
                                ))
                            }
                            ))
                        }
                        ))]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.listHistory = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    var n = this;
                    return s(this, (function(i) {
                        return [2, this.queue.queue((function() {
                            return o(n, void 0, void 0, (function() {
                                var n, i, r, o, a, l, c;
                                return s(this, (function(s) {
                                    switch (s.label) {
                                    case 0:
                                        return [4, this.encodeStr(e)];
                                    case 1:
                                        return n = s.sent(),
                                        [4, this.request({
                                            op: "history",
                                            path: n,
                                            last: t
                                        })];
                                    case 2:
                                        i = s.sent(),
                                        r = i.items,
                                        o = 0,
                                        a = r,
                                        s.label = 3;
                                    case 3:
                                        return o < a.length ? (l = a[o],
                                        c = l,
                                        [4, this.decodeStr(l.path)]) : [3, 6];
                                    case 4:
                                        c.path = s.sent(),
                                        s.label = 5;
                                    case 5:
                                        return o++,
                                        [3, 3];
                                    case 6:
                                        return [2, i]
                                    }
                                }
                                ))
                            }
                            ))
                        }
                        ))]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.restore = function(e) {
                return o(this, void 0, Promise, (function() {
                    var t = this;
                    return s(this, (function(n) {
                        return [2, this.queue.queue((function() {
                            return o(t, void 0, void 0, (function() {
                                return s(this, (function(t) {
                                    return [2, this.request({
                                        op: "restore",
                                        uid: e
                                    })]
                                }
                                ))
                            }
                            ))
                        }
                        ))]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.purge = function() {
                return o(this, void 0, Promise, (function() {
                    var e = this;
                    return s(this, (function(t) {
                        return [2, this.queue.queue((function() {
                            return e.request({
                                op: "purge"
                            })
                        }
                        ))]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.size = function() {
                return o(this, void 0, Promise, (function() {
                    var e = this;
                    return s(this, (function(t) {
                        return [2, this.queue.queue((function() {
                            return e.request({
                                op: "size"
                            })
                        }
                        ))]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.onServerPush = function(e) {
                return o(this, void 0, void 0, (function() {
                    var t, n;
                    return s(this, (function(i) {
                        switch (i.label) {
                        case 0:
                            return t = e,
                            [4, this.decodeStr(e.path)];
                        case 1:
                            return t.path = i.sent(),
                            e.hash ? (n = e,
                            [4, this.decodeStr(e.hash)]) : [3, 3];
                        case 2:
                            n.hash = i.sent(),
                            i.label = 3;
                        case 3:
                            return this.onPush(e),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.response = function() {
                return (this.responsePromise = zk()).promise
            }
            ,
            e.prototype.dataResponse = function() {
                return (this.dataPromise = zk()).promise
            }
            ,
            e.prototype.request = function(e, t) {
                return void 0 === t && (t = 6e4),
                o(this, void 0, Promise, (function() {
                    var n, i, r, o, a;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            n = this.responsePromise = zk(),
                            this.send(e),
                            i = new Error("Timeout"),
                            r = window.setTimeout((function() {
                                return n.reject(i)
                            }
                            ), t),
                            s.label = 1;
                        case 1:
                            return s.trys.push([1, 3, , 4]),
                            [4, n.promise];
                        case 2:
                            return o = s.sent(),
                            clearTimeout(r),
                            [3, 4];
                        case 3:
                            throw (a = s.sent()) === i && this.disconnect(),
                            a;
                        case 4:
                            if (o.err)
                                throw new Error(o.err);
                            return [2, o]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.onMessage = function(e) {
                if (this.lastMessageTs = Date.now(),
                "string" == typeof e.data) {
                    var t = void 0;
                    try {
                        t = JSON.parse(e.data)
                    } catch (t) {
                        return console.log(e.data),
                        void this.disconnect()
                    }
                    var n = t.op;
                    if ("pong" === n)
                        return;
                    if ("ready" === n)
                        return void this.onReady(t.version);
                    if ("push" === n)
                        return void this.onServerPush(t);
                    var i = this.responsePromise;
                    i && (this.responsePromise = null,
                    i.resolve(t))
                } else {
                    var r = this.dataPromise;
                    r && (this.dataPromise = null,
                    r.resolve(e.data))
                }
            }
            ,
            e.prototype.send = function(e) {
                this.socket.send(JSON.stringify(e))
            }
            ,
            e.prototype.sendBinary = function(e) {
                this.socket.send(e)
            }
            ,
            e.prototype.encodeStr = function(e) {
                return o(this, void 0, Promise, (function() {
                    var t, n, i, r;
                    return s(this, (function(o) {
                        switch (o.label) {
                        case 0:
                            return [4, S(t = b(e))];
                        case 1:
                            return n = o.sent(),
                            i = new Uint8Array(n,0,12),
                            r = D,
                            [4, T(t, this.cryptoKey, i)];
                        case 2:
                            return [2, r.apply(void 0, [o.sent()])]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.decodeStr = function(e) {
                return o(this, void 0, Promise, (function() {
                    var t;
                    return s(this, (function(n) {
                        switch (n.label) {
                        case 0:
                            return t = w,
                            [4, F(L(e), this.cryptoKey)];
                        case 1:
                            return [2, t.apply(void 0, [n.sent()])]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e
        }()
          , VT = function(e) {
            function t(t, n, i) {
                var r = e.call(this, t) || this;
                r.sync = null,
                r.settingTab = null,
                r.excludedFolderCountEl = null,
                r.fileTreeContainerEl = null,
                r.allFolders = [],
                r.sync = n,
                r.settingTab = i;
                var o = r
                  , s = o.contentEl;
                return o.titleEl.setText(TT("label-manage-excluded-folders")),
                r.excludedFolderCountEl = s.createEl("p"),
                r.fileTreeContainerEl = s.createDiv("sync-file-tree-container"),
                s.createDiv("modal-button-container").createEl("button", {
                    cls: "mod-cta",
                    text: Te("dialogue.button-done")
                }, (function(e) {
                    e.addEventListener("click", r.close.bind(r))
                }
                )),
                r
            }
            return i(t, e),
            t.prototype.onOpen = function() {
                return o(this, void 0, void 0, (function() {
                    var e, t, n, i, r, o;
                    return s(this, (function(s) {
                        for (e = this.app.vault.getRoot(),
                        t = this.allFolders = this.getFolders(e),
                        (n = function(e) {
                            e.sort((function(e, t) {
                                return gx(e.name, t.name)
                            }
                            ));
                            for (var t = 0, i = e; t < i.length; t++) {
                                var r = i[t];
                                r instanceof qf && r.children.length > 0 && n(r.children)
                            }
                        }
                        )(t),
                        this.fileTreeContainerEl.empty(),
                        i = 0,
                        r = t; i < r.length; i++)
                            o = r[i],
                            this.fileTreeContainerEl.appendChild(this.createItemEl(o));
                        return this.updateExcludedFolderCount(),
                        [2]
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.onClose = function() {
                this.settingTab.display()
            }
            ,
            t.prototype.updateExcludedFolderCount = function() {
                var e = this.sync.ignoreFolders.length
                  , t = Te("nouns.folder-with-count", {
                    count: e
                });
                this.excludedFolderCountEl.setText(TT("label-number-of-folders-excluded", {
                    folders: t
                }))
            }
            ,
            t.prototype.getFolders = function(e) {
                for (var t = [], n = 0, i = e.children; n < i.length; n++) {
                    var r = i[n];
                    if (r instanceof qf) {
                        var o = {
                            name: r.name,
                            path: r.path,
                            children: [],
                            ignored: this.sync.ignoreFolders.contains(r.path)
                        };
                        o.children = this.getFolders(r),
                        t.push(o)
                    }
                }
                return t
            }
            ,
            t.prototype.getExcludedFolderInList = function(e) {
                for (var t = [], n = 0, i = e; n < i.length; n++) {
                    var r = i[n]
                      , o = r.checkboxEl.disabled
                      , s = r.checkboxEl.checked;
                    o || s || t.push(r.path),
                    t = t.concat(this.getExcludedFolderInList(r.children))
                }
                return t
            }
            ,
            t.prototype.createItemEl = function(e) {
                var t = this
                  , n = e.children
                  , i = createDiv("file-tree-item mod-folder")
                  , r = i.createDiv("file-tree-item-header")
                  , a = r.createEl("input", {
                    cls: "file-tree-item-checkbox",
                    type: "checkbox"
                })
                  , l = r.createDiv("file-tree-item-icon", (function(e) {
                    yk(e, zy)
                }
                ));
                r.createDiv({
                    cls: "file-tree-item-title",
                    text: e.name
                }),
                e.checkboxEl = a,
                e.headerEl = r;
                var c = function(e, t) {
                    for (var n = 0, i = e.children; n < i.length; n++) {
                        var r = i[n];
                        r.headerEl.toggleClass("is-disabled", t),
                        r.checkboxEl.disabled = t,
                        c(r, t)
                    }
                };
                if (a.addEventListener("click", (function() {
                    r.dispatchEvent(new Event("click"))
                }
                )),
                r.addEventListener("click", (function() {
                    a.checked = !a.checked,
                    r.toggleClass("is-selected", a.checked),
                    c(e, !a.checked),
                    t.sync.setIgnoreFolders(t.getExcludedFolderInList(t.allFolders)),
                    t.updateExcludedFolderCount()
                }
                )),
                n.length > 0) {
                    var u = r.createDiv("list-item-collapse-indicator collapse-icon");
                    yk(u, Ry, 8),
                    r.insertBefore(u, r.firstChild),
                    yk(l, zy, 20);
                    for (var h = i.createDiv("file-tree-item-children"), p = 0, d = n; p < d.length; p++) {
                        var f = d[p];
                        h.append(this.createItemEl(f))
                    }
                    return a.checked = !e.ignored,
                    r.toggleClass("is-selected", !e.ignored),
                    e.ignored && c(e, !0),
                    u.addEventListener("click", (function(e) {
                        return o(t, void 0, void 0, (function() {
                            var t;
                            return s(this, (function(n) {
                                switch (n.label) {
                                case 0:
                                    return e.stopPropagation(),
                                    t = !i.hasClass("is-collapsed"),
                                    i.toggleClass("is-collapsed", t),
                                    [4, Pt(h, t, !0)];
                                case 1:
                                    return n.sent(),
                                    [2]
                                }
                            }
                            ))
                        }
                        ))
                    }
                    )),
                    i
                }
                return a.checked = !e.ignored,
                r.toggleClass("is-selected", !e.ignored),
                i
            }
            ,
            t
        }(sn)
          , qT = function(e) {
            function t(t, n) {
                var i = e.call(this, t) || this;
                return i.sync = n,
                i.titleEl.setText(TT("msg-largest-files")),
                i.contentEl.createDiv({
                    text: TT("msg-largest-files-desc")
                }),
                i
            }
            return i(t, e),
            t.prototype.onOpen = function() {
                return o(this, void 0, void 0, (function() {
                    var e, t, n, i, r, o, a;
                    return s(this, (function(s) {
                        for (n in e = this.sync.serverFiles,
                        t = [],
                        e)
                            e.hasOwnProperty(n) && (a = e[n]).size > 0 && t.push(a);
                        for (t = t.sort((function(e, t) {
                            return t.size - e.size
                        }
                        )).slice(0, 20),
                        i = this.contentEl,
                        r = 0,
                        o = t; r < o.length; r++)
                            a = o[r],
                            i.createDiv({
                                cls: "u-small u-muted",
                                text: a.path + " (" + N(a.size) + ")"
                            });
                        return [2]
                    }
                    ))
                }
                ))
            }
            ,
            t
        }(sn)
          , UT = function(e) {
            function t(t, n, i, r) {
                var a = e.call(this, t) || this;
                a.sync = null,
                a.settingTab = null,
                a.sync = n,
                a.settingTab = i;
                var l = a
                  , c = l.contentEl;
                l.titleEl.setText(TT("label-setup-connection")),
                c.createEl("p", {
                    text: TT("label-now-connected-to-vault", {
                        name: r
                    })
                });
                var u = c.createDiv("modal-button-container");
                return u.createEl("button", {
                    text: TT("button-start-syncing")
                }, (function(e) {
                    e.addEventListener("click", (function() {
                        return o(a, void 0, void 0, (function() {
                            return s(this, (function(e) {
                                switch (e.label) {
                                case 0:
                                    return this.sync.setPause(!1),
                                    [4, this.settingTab.display()];
                                case 1:
                                    return e.sent(),
                                    this.close(),
                                    [2]
                                }
                            }
                            ))
                        }
                        ))
                    }
                    ))
                }
                )),
                u.createEl("button", {
                    text: TT("label-manage-excluded-folders")
                }, (function(e) {
                    e.addEventListener("click", (function() {
                        a.settingTab.manageExcludedFoldersModal.open()
                    }
                    ))
                }
                )),
                a
            }
            return i(t, e),
            t
        }(sn)
          , _T = function() {
            function e() {
                this.id = "tag-pane",
                this.name = Te("plugins.tag-pane.name"),
                this.description = Te("plugins.tag-pane.desc")
            }
            return e.prototype.init = function(e, t) {
                var n = this;
                this.app = e,
                this.plugin = t,
                t.registerGlobalCommand({
                    id: "tag-pane:open",
                    name: Te("plugins.tag-pane.action-show"),
                    icon: Qb,
                    callback: function() {
                        n.app.workspace.ensureSideLeaf(jT, "right", !1)
                    }
                }),
                t.registerViewType(jT, (function(e) {
                    return new QT(e)
                }
                ))
            }
            ,
            e.prototype.onEnable = function(e, t) {
                t.registerEvent(e.workspace.on("layout-ready", this.initLeaf, this))
            }
            ,
            e.prototype.onUserEnable = function() {
                this.initLeaf()
            }
            ,
            e.prototype.initLeaf = function() {
                var e = "right";
                on.isMobile && (e = "left"),
                this.app.workspace.ensureSideLeaf(jT, e, !1, !1)
            }
            ,
            e
        }()
          , jT = "tag"
          , WT = [["alphabetical", "alphabeticalReverse"], ["frequency", "frequencyReverse"]]
          , $T = {
            alphabetical: "plugins.tag-pane.label-sort-by-name-a-to-z",
            alphabeticalReverse: "plugins.tag-pane.label-sort-by-name-z-to-a",
            frequency: "plugins.tag-pane.label-sort-by-frequency-high-to-low",
            frequencyReverse: "plugins.tag-pane.label-sort-by-frequency-low-to-high"
        }
          , GT = function() {
            this.info = {
                height: 0,
                width: 0,
                childTop: 0,
                computed: !1,
                queued: !1,
                hidden: !1
            },
            this.el = createDiv({
                cls: "pane-empty tag-pane-empty",
                text: Te("plugins.tag-pane.label-no-tags")
            })
        }
          , YT = function(e) {
            function t(t) {
                var n = e.call(this) || this;
                n.info = {
                    height: 0,
                    width: 0,
                    childTop: 0,
                    computed: !1,
                    queued: !1,
                    hidden: !1
                },
                n.tag = "",
                n.count = -1,
                n.children = [],
                n.pusherEl = wx(),
                n.tagView = t;
                var i = n
                  , r = i.selfEl
                  , o = i.innerEl;
                return r.addClass("tag-pane-tag"),
                n.tagTextEl = o.createDiv("tag-pane-tag-text"),
                n.tagCountEl = r.createDiv("tree-item-flair-outer").createSpan("tag-pane-tag-count tree-item-flair"),
                n.setCollapsible(!0),
                n.setClickable(!0),
                n
            }
            return i(t, e),
            t.prototype.onSelfClick = function(e) {
                var t = "tag:" + this.tag
                  , n = this.tagView.app.internalPlugins.getPluginById("global-search");
                if (n) {
                    var i = n.instance;
                    if (i) {
                        var r = i.getGlobalSearchQuery();
                        if (!rn.isModifier(e, "Mod") || "" === r)
                            return void i.openGlobalSearch(t);
                        r.contains(t) ? i.openGlobalSearch(r.replace(t, "").trim()) : i.openGlobalSearch(r.trim() + " " + t)
                    }
                }
            }
            ,
            t.prototype.setTag = function(e) {
                if (this.tag !== e) {
                    this.tag = e;
                    var t = this.tagTextEl;
                    e.startsWith("#") && (e = e.substr(1));
                    var n = e.split("/").last()
                      , i = e.substr(0, e.length - n.length);
                    t.empty(),
                    t.createSpan({
                        cls: "tag-pane-tag-parent",
                        text: i
                    }),
                    t.createSpan({
                        cls: "tag-pane-tag-self",
                        text: n
                    })
                }
                return this
            }
            ,
            t.prototype.setCount = function(e) {
                this.count !== e && (this.count = e,
                this.tagCountEl.setText(String(e)));
                return this
            }
            ,
            t.prototype.updateCollapsed = function(t) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(n) {
                        switch (n.label) {
                        case 0:
                            return [4, e.prototype.updateCollapsed.call(this, t)];
                        case 1:
                            return n.sent(),
                            this.tagView.infinityScroll.invalidate(this),
                            this.tagView.requestSaveFold(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t
        }(SD)
          , KT = function(e) {
            this.children = [],
            this.info = {
                height: 0,
                width: 0,
                childTop: 0,
                computed: !1,
                queued: !1,
                hidden: !1
            },
            this.pusherEl = wx(),
            this.el = e,
            this.childrenEl = e.createDiv()
        }
          , QT = function(e) {
            function t(t) {
                var n = e.call(this, t) || this;
                n.icon = rb,
                n.tagPaneEl = null,
                n.sortOrder = "frequency",
                n.useHierarchy = !1,
                n.tagDoms = {},
                n.requestSaveFold = Pe(n.saveFold.bind(n), 500);
                var i = n.containerEl
                  , r = new mE(n.app,i);
                r.addNavButton(yb, Te("plugins.file-explorer.action-change-sort"), (function(e) {
                    e.preventDefault();
                    for (var t = new Zk(n.app), i = n.sortOrder, r = 0, o = WT; r < o.length; r++) {
                        for (var s = function(e) {
                            var r = Te($T[e]);
                            t.addItem((function(t) {
                                return t.setTitle(r).setActive(e === i).onClick((function() {
                                    n.sortOrder = e,
                                    n.requestUpdateTags(),
                                    n.app.workspace.requestSaveLayout()
                                }
                                ))
                            }
                            ))
                        }, a = 0, l = o[r]; a < l.length; a++) {
                            s(l[a])
                        }
                        t.addSeparator()
                    }
                    t.showAtMouseEvent(e)
                }
                )),
                n.useHierarchyEl = r.addNavButton($b, Te("plugins.tag-pane.action-show-nested-tags"), (function() {
                    return n.setUseHierarchy(!n.useHierarchy)
                }
                ));
                var o = n.tagPaneEl = i.createDiv("tag-container");
                return n.infinityScroll = new Cx(o),
                n.root = new KT(o),
                n.infinityScroll.rootEl = n.root,
                n.requestUpdateTags = Pe(n.updateTags.bind(n), 10),
                n.setUseHierarchy(!0),
                n
            }
            return i(t, e),
            t.prototype.getDisplayText = function() {
                return Te("plugins.tag-pane.name")
            }
            ,
            t.prototype.getViewType = function() {
                return jT
            }
            ,
            t.prototype.getState = function() {
                var t = e.prototype.getState.call(this);
                return t.sortOrder = this.sortOrder,
                t.useHierarchy = this.useHierarchy,
                t
            }
            ,
            t.prototype.setState = function(t, n) {
                return o(this, void 0, Promise, (function() {
                    var i, r;
                    return s(this, (function(o) {
                        switch (o.label) {
                        case 0:
                            return [4, e.prototype.setState.call(this, t, n)];
                        case 1:
                            return o.sent(),
                            i = t.sortOrder,
                            r = t.useHierarchy,
                            String.isString(i) && $T.hasOwnProperty(i) && (this.sortOrder = i),
                            isBoolean(r) && this.setUseHierarchy(r),
                            this.requestUpdateTags(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.load = function() {
                e.prototype.load.call(this);
                var t = this.app;
                this.registerEvent(t.metadataCache.on("finished", this.requestUpdateTags, this)),
                this.requestUpdateTags()
            }
            ,
            t.prototype.onResize = function() {
                this.infinityScroll.onResize()
            }
            ,
            t.prototype.setUseHierarchy = function(e) {
                this.useHierarchy !== e && (this.useHierarchy = e,
                this.useHierarchyEl.toggleClass("is-active", e),
                this.requestUpdateTags(),
                this.app.workspace.requestSaveLayout())
            }
            ,
            t.prototype.saveFold = function() {
                if (this.app.workspace.layoutReady) {
                    var e = this.tagDoms
                      , t = [];
                    for (var n in e)
                        if (e.hasOwnProperty(n)) {
                            var i = e[n];
                            i && i.collapsed && t.push(n)
                        }
                    this.app.saveLocalStorage("tag-pane-fold", t)
                }
            }
            ,
            t.prototype.updateTags = function() {
                var e = this
                  , t = this.app
                  , n = this.tagDoms
                  , i = t.metadataCache.getTags()
                  , r = Object.keys(i)
                  , o = this.tagDoms = {}
                  , s = this.app.loadLocalStorage("tag-pane-fold")
                  , a = new Set(s || null);
                if (r.length > 0) {
                    var l = []
                      , c = this.sortOrder
                      , u = null;
                    if ("alphabetical" === c)
                        u = function(e, t) {
                            return gx(e.tag, t.tag)
                        }
                        ;
                    else if ("alphabeticalReverse" === c)
                        u = function(e, t) {
                            return -gx(e.tag, t.tag)
                        }
                        ;
                    else {
                        var h = "frequencyReverse" === c ? -1 : 1;
                        u = function(e, t) {
                            var n = e.tag
                              , r = t.tag
                              , o = i[n]
                              , s = i[r];
                            return o === s ? gx(n, r) : h * (s - o)
                        }
                    }
                    var p = this.useHierarchy
                      , d = function(t, n) {
                        var i = t.split("/").last();
                        if (p && i !== t) {
                            var r = t.substr(0, t.length - i.length - 1)
                              , s = r.toLowerCase()
                              , a = o[s];
                            a || ((a = new YT(e)).setTag(r),
                            o[s] = a),
                            a.children.contains(n) || a.children.push(n),
                            d(r, a)
                        } else
                            l.contains(n) || l.push(n)
                    };
                    for (var f in n)
                        n.hasOwnProperty(f) && (n[f].children = []);
                    for (var g = 0, m = r; g < m.length; g++) {
                        (w = n[f = (b = m[g]).toLowerCase()]) || (w = new YT(this)),
                        w.setTag(b),
                        o[f] = w
                    }
                    for (var v = 0, y = r; v < y.length; v++) {
                        var b;
                        f = (b = y[v]).toLowerCase();
                        d(b, o[f])
                    }
                    for (var f in o)
                        if (o.hasOwnProperty(f)) {
                            var w, k = (w = o[f]).children.length > 0;
                            w.setCollapsible(k),
                            w.setCount(i[w.tag] || 0),
                            k && w.collapsed !== a.has(f) && w.setCollapsed(a.has(f), !1)
                        }
                    var C = function(e) {
                        e.sort(u);
                        for (var t = 0, n = e; t < n.length; t++) {
                            var i = n[t];
                            C(i.children)
                        }
                    };
                    C(l),
                    this.root.children = l
                } else
                    this.root.children = [new GT];
                this.infinityScroll.queueCompute()
            }
            ,
            t
        }(YC)
          , JT = "YYYY-MM-DD"
          , XT = "HH:mm"
          , ZT = function() {
            function e() {
                this.id = "templates",
                this.name = Te("plugins.templates.name"),
                this.description = Te("plugins.templates.desc"),
                this.app = null,
                this.plugin = null,
                this.options = {},
                this.modal = null,
                this.templateFiles = []
            }
            return e.prototype.init = function(e, t) {
                this.app = e,
                this.plugin = t,
                t.registerRibbonAction(Te("plugins.templates.action-insert"), Yy, this.onInsertTemplate.bind(this)),
                t.registerGlobalCommand({
                    id: "insert-template",
                    name: Te("plugins.templates.action-insert"),
                    icon: zw,
                    callback: this.onInsertTemplate.bind(this)
                }),
                t.registerGlobalCommand({
                    id: "insert-current-date",
                    name: Te("plugins.templates.action-insert-current-date"),
                    icon: Vw,
                    editorCallback: this.insertCurrentDate.bind(this)
                }),
                t.registerGlobalCommand({
                    id: "insert-current-time",
                    name: Te("plugins.templates.action-insert-current-time"),
                    icon: Hw,
                    editorCallback: this.insertCurrentTime.bind(this)
                })
            }
            ,
            e.prototype.onEnable = function(e, t) {
                return o(this, void 0, void 0, (function() {
                    var n;
                    return s(this, (function(i) {
                        switch (i.label) {
                        case 0:
                            return n = this,
                            [4, t.loadData()];
                        case 1:
                            return n.options = i.sent() || {},
                            this.modal = new eF(e,this),
                            t.addSettingTab(new tF(e,t,this)),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.insertTemplate = function(e) {
                return o(this, void 0, void 0, (function() {
                    var t, n, i, r, o, a, l, c, u, h, p, d;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return n = (t = this).app,
                            i = t.options,
                            r = i.dateFormat || JT,
                            o = i.timeFormat || XT,
                            a = window.moment,
                            l = a(),
                            c = l.format(r),
                            u = l.format(o),
                            (h = n.workspace.getActiveViewOfType(gS)) ? (p = h.file,
                            [4, this.app.vault.cachedRead(e)]) : [3, 2];
                        case 1:
                            d = s.sent(),
                            h.editor.insertTemplate(d, {
                                date: c,
                                time: u,
                                title: p.basename
                            }),
                            s.label = 2;
                        case 2:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.onInsertTemplate = function() {
                return o(this, void 0, void 0, (function() {
                    var e, t, n, i, r, o, a, l = this;
                    return s(this, (function(s) {
                        return t = (e = this).app,
                        n = e.options,
                        (i = n.folder) && String.isString(i) ? (r = ee(Pf(i).normalize("NFC")),
                        (o = t.vault.getAbstractFileByPath(r)) && o instanceof qf ? (this.templateFiles = [],
                        (a = function(e) {
                            for (var t = 0, n = e.children; t < n.length; t++) {
                                var i = n[t];
                                i instanceof Vf && "md" === i.extension ? l.templateFiles.push(i) : i instanceof qf && a(i)
                            }
                        }
                        )(o),
                        1 === this.templateFiles.length ? (this.insertTemplate(this.templateFiles[0]),
                        [2]) : (this.modal.open(),
                        [2])) : (new JC(Te("plugins.templates.msg-fail-folder-not-found", {
                            folderOption: i
                        })),
                        [2])) : [2]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.insertCurrentDate = function(e) {
                return o(this, void 0, void 0, (function() {
                    var t, n, i, r, o;
                    return s(this, (function(s) {
                        return t = this.options,
                        n = t.dateFormat || JT,
                        i = window.moment,
                        r = i(),
                        o = r.format(n),
                        e.insertText(o),
                        [2]
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.insertCurrentTime = function(e) {
                return o(this, void 0, void 0, (function() {
                    var t, n, i, r, o;
                    return s(this, (function(s) {
                        return t = this.options,
                        n = t.timeFormat || XT,
                        i = window.moment,
                        r = i(),
                        o = r.format(n),
                        e.insertText(o),
                        [2]
                    }
                    ))
                }
                ))
            }
            ,
            e
        }()
          , eF = function(e) {
            function t(t, n) {
                var i = e.call(this, t) || this;
                return i.emptyStateText = Te("plugins.templates.msg-no-templates-found"),
                i.templatePlugin = null,
                i.templatePlugin = n,
                i.setInstructions([{
                    command: "↑↓",
                    purpose: Te("plugins.templates.instruction-navigate")
                }, {
                    command: "↵",
                    purpose: Te("plugins.templates.instruction-insert")
                }, {
                    command: "esc",
                    purpose: Te("plugins.templates.instruction-dismiss")
                }]),
                i.setPlaceholder(Te("plugins.templates.prompt-type-template")),
                i.scope.register(null, "Tab", (function() {
                    return !1
                }
                )),
                i
            }
            return i(t, e),
            t.prototype.getItems = function() {
                return this.templatePlugin.templateFiles
            }
            ,
            t.prototype.onChooseItem = function(e) {
                this.templatePlugin.insertTemplate(e)
            }
            ,
            t.prototype.getItemText = function(e) {
                return e.basename
            }
            ,
            t
        }(OL)
          , tF = function(e) {
            function t(t, n, i) {
                var r = e.call(this, t, n) || this;
                return r.instance = i,
                r
            }
            return i(t, e),
            t.prototype.display = function() {
                var e = this
                  , t = this.containerEl;
                t.empty();
                var n = this.instance.options;
                new vE(t).setName(Te("plugins.templates.option-template-folder-location")).setDesc(Te("plugins.templates.option-template-folder-location-description")).addText((function(t) {
                    t.setPlaceholder(Te("setting.folder-path-example-placeholder")).setValue(n.folder).onChange((function(t) {
                        n.folder = t.trim(),
                        e.plugin.saveData(n)
                    }
                    )),
                    new MM(e.app,t.inputEl)
                }
                ));
                var i = document.createDocumentFragment();
                i.appendText(Te("plugins.templates.option-template-date-format-description", Ce)),
                i.createEl("br"),
                i.appendText(Te("plugins.templates.option-template-date-format-description2", Ce)),
                i.createEl("br"),
                i.appendText(Te("plugins.daily-notes.label-refer-to-syntax")),
                i.createEl("a", {
                    text: Te("plugins.daily-notes.label-syntax-link"),
                    attr: {
                        href: "https://momentjs.com/docs/#/displaying/format/",
                        target: "_blank"
                    }
                }),
                i.createEl("br"),
                i.appendText(Te("plugins.daily-notes.label-syntax-live-preview"));
                var r = i.createEl("b", "u-pop");
                new vE(t).setName(Te("plugins.templates.option-template-date-format")).setDesc(i).addMomentFormat((function(t) {
                    return t.setSampleEl(r).setDefaultFormat(JT).setValue(n.dateFormat).onChange((function(t) {
                        n.dateFormat = t.trim(),
                        e.plugin.saveData(n)
                    }
                    ))
                }
                ));
                var o = document.createDocumentFragment();
                o.appendText(Te("plugins.templates.option-template-time-format-description", Ce)),
                o.createEl("br"),
                o.appendText(Te("plugins.templates.option-template-time-format-description2", Ce)),
                o.createEl("br"),
                o.appendText(Te("plugins.daily-notes.label-refer-to-syntax")),
                o.createEl("a", {
                    text: Te("plugins.daily-notes.label-syntax-link"),
                    attr: {
                        href: "https://momentjs.com/docs/#/displaying/format/",
                        target: "_blank"
                    }
                }),
                o.createEl("br"),
                o.appendText(Te("plugins.daily-notes.label-syntax-live-preview"));
                var s = o.createEl("b", "u-pop");
                new vE(t).setName(Te("plugins.templates.option-template-time-format")).setDesc(o).addMomentFormat((function(t) {
                    return t.setSampleEl(s).setDefaultFormat(XT).setValue(n.timeFormat).onChange((function(t) {
                        n.timeFormat = t.trim(),
                        e.plugin.saveData(n)
                    }
                    ))
                }
                ))
            }
            ,
            t
        }(iM);
        var nF = "\nlet pattern = /(?:[0-9]+(?:(?:,|\\.)[0-9]+)*|[\\-" + Ax.source + "஀-௿가-힣ꥠ-ꥼힰ-ퟆ])+|[" + Tx.source + "]/g;\nfunction countWords(str) {\n\tpattern.lastIndex = 0;\n\tlet m = str.match(pattern);\n\treturn m ? m.length : 0;\n}\n\nself.onmessage = function (e) {\n\ttry {\n\t\tself.postMessage(countWords(e.data));\n\t} catch (e) {\n\t\tconsole.error('WordCount', e);\n\t}\n};\n"
          , iF = function() {
            function e() {
                this.id = "word-count",
                this.name = Te("plugins.word-count.name"),
                this.description = Te("plugins.word-count.desc"),
                this.defaultOn = !0,
                this.worker = null,
                this.wordEl = null,
                this.charEl = null,
                this.mobileInfoEl = null,
                this.wordCount = 0,
                this.charCount = 0
            }
            return e.prototype.init = function(e, t) {
                this.app = e,
                this.plugin = t,
                t.registerStatusBarItem(),
                t.registerMobileFileInfo(this.updateMobileFileInfo.bind(this))
            }
            ,
            e.prototype.onEnable = function(e, t) {
                var n, i;
                t.registerEvent(e.workspace.on("file-open", this.onFileOpen, this)),
                t.registerEvent(e.workspace.on("quick-preview", this.onQuickPreview, this)),
                this.worker = (n = nF,
                new Worker(URL.createObjectURL(new Blob([n],{
                    type: "text/javascript"
                })),i)),
                this.worker.onmessage = this.onMessage.bind(this);
                var r = t.statusBarEl;
                r && (r.empty(),
                this.wordEl = r.createSpan({
                    cls: "status-bar-item-segment",
                    text: ""
                }),
                this.charEl = r.createSpan({
                    cls: "status-bar-item-segment",
                    text: ""
                }));
                var o = e.workspace.getActiveFile();
                o ? this.onFileOpen(o) : this.onFileOpen(null)
            }
            ,
            e.prototype.onDisable = function() {
                this.worker.terminate(),
                this.worker = null,
                this.wordEl = null,
                this.charEl = null
            }
            ,
            e.prototype.onFileOpen = function(e) {
                return o(this, void 0, void 0, (function() {
                    var t;
                    return s(this, (function(n) {
                        switch (n.label) {
                        case 0:
                            return e instanceof Vf && "md" === e.extension ? [4, this.app.vault.cachedRead(e)] : [3, 2];
                        case 1:
                            return t = n.sent(),
                            this.updateCharCount(t.length),
                            this.worker.postMessage(t),
                            [3, 3];
                        case 2:
                            this.updateCharCount(0),
                            this.updateWordCount(0),
                            n.label = 3;
                        case 3:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.onQuickPreview = function(e, t) {
                this.app.workspace.getActiveFile() === e && (this.updateCharCount(t.length),
                this.worker.postMessage(t))
            }
            ,
            e.prototype.onMessage = function(e) {
                this.updateWordCount(e.data),
                this.updateMobileFileInfo()
            }
            ,
            e.prototype.updateWordCount = function(e) {
                this.wordCount = e;
                var t = this.wordEl;
                t && t.setText(Te("nouns.word-with-count", {
                    count: e
                }))
            }
            ,
            e.prototype.updateCharCount = function(e) {
                this.charCount = e;
                var t = this.charEl;
                t && t.setText(Te("nouns.character-with-count", {
                    count: e
                }))
            }
            ,
            e.prototype.updateMobileFileInfo = function(e) {
                if (e ? this.mobileInfoEl = e : e = this.mobileInfoEl,
                e) {
                    var t = Te("nouns.word-with-count", {
                        count: this.wordCount
                    })
                      , n = Te("nouns.character-with-count", {
                        count: this.charCount
                    })
                      , i = Te("plugins.file-explorer.tooltip-folders-files-count", {
                        fileCount: t,
                        folderCount: n
                    });
                    e.setText(i)
                }
            }
            ,
            e
        }()
          , rF = function() {
            function e() {
                this.id = "workspaces",
                this.name = Te("plugins.workspaces.name"),
                this.description = Te("plugins.workspaces.desc"),
                this.workspaces = {},
                this.activeWorkspace = ""
            }
            return e.prototype.init = function(e, t) {
                this.app = e,
                this.plugin = t,
                t.registerGlobalCommand({
                    id: "workspaces:load",
                    name: Te("plugins.workspaces.action-load"),
                    icon: ok,
                    callback: this.onLoad.bind(this)
                }),
                t.registerGlobalCommand({
                    id: "workspaces:save-and-load",
                    name: Te("plugins.workspaces.action-save-and-load"),
                    icon: ok,
                    callback: this.onSaveAndLoad.bind(this)
                }),
                t.registerRibbonAction(Te("plugins.workspaces.action-manage-workspaces"), zb, this.onOpenModal.bind(this)),
                t.registerGlobalCommand({
                    id: "workspaces:open-modal",
                    name: Te("plugins.workspaces.action-manage-workspaces"),
                    icon: ok,
                    callback: this.onOpenModal.bind(this)
                })
            }
            ,
            e.prototype.onEnable = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    var e;
                    return s(this, (function(n) {
                        switch (n.label) {
                        case 0:
                            return [4, t.loadData()];
                        case 1:
                            return (e = n.sent()) && e.workspaces ? (this.workspaces = e.workspaces || {},
                            this.activeWorkspace = e.active || "") : this.workspaces = e || {},
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.onDisable = function(e, t) {
                return o(this, void 0, Promise, (function() {
                    return s(this, (function(e) {
                        switch (e.label) {
                        case 0:
                            return [4, t.saveData(this.workspaces)];
                        case 1:
                            return e.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.onOpenModal = function() {
                new oF(this.app,this).open()
            }
            ,
            e.prototype.onLoad = function() {
                return new sF(this.app,this,!1).open(),
                !1
            }
            ,
            e.prototype.onSaveAndLoad = function() {
                return new sF(this.app,this,!0).open(),
                !1
            }
            ,
            e.prototype.saveWorkspace = function(e) {
                this.workspaces[e] = this.app.workspace.getLayout(),
                this.saveData()
            }
            ,
            e.prototype.setActiveWorkspace = function(e) {
                this.activeWorkspace = e,
                this.saveData()
            }
            ,
            e.prototype.loadWorkspace = function(e) {
                var t = this.workspaces[e];
                t && (this.activeWorkspace = e,
                this.app.workspace.changeLayout(t),
                this.saveData())
            }
            ,
            e.prototype.deleteWorkspace = function(e) {
                return o(this, void 0, void 0, (function() {
                    return s(this, (function(t) {
                        switch (t.label) {
                        case 0:
                            return delete this.workspaces[e],
                            [4, this.saveData()];
                        case 1:
                            return t.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.saveData = function() {
                return o(this, void 0, void 0, (function() {
                    return s(this, (function(e) {
                        switch (e.label) {
                        case 0:
                            return [4, this.plugin.saveData({
                                workspaces: this.workspaces,
                                active: this.activeWorkspace
                            })];
                        case 1:
                            return e.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e
        }()
          , oF = function(e) {
            function t(t, n) {
                var i = e.call(this, t) || this;
                return i.plugin = n,
                i.titleEl.setText(Te("plugins.workspaces.action-manage-workspaces")),
                i
            }
            return i(t, e),
            t.prototype.onOpen = function() {
                var e = this
                  , t = this.contentEl
                  , n = this.plugin;
                t.empty(),
                t.createDiv("list-item", (function(t) {
                    var n = e.nameEl = t.createEl("input", {
                        cls: "list-item-part mod-extended",
                        type: "text"
                    });
                    n.placeholder = Te("plugins.workspaces.placeholder-save-current-workspace-as"),
                    n.addEventListener("keypress", (function(t) {
                        "Enter" === t.key && e.onFinish()
                    }
                    )),
                    t.createEl("button", {
                        cls: "list-item-part",
                        text: Te("plugins.workspaces.button-save")
                    }).addEventListener("click", e.onFinish.bind(e))
                }
                ));
                var i = this.plugin.workspaces;
                Object.keys(i).length > 0 && t.createEl("hr"),
                t.createDiv({}, (function(t) {
                    var r = function(r) {
                        i.hasOwnProperty(r) && t.createDiv("list-item", (function(t) {
                            t.createDiv({
                                cls: "list-item-part mod-extended",
                                text: r
                            }),
                            t.createEl("button", {
                                cls: "list-item-part",
                                text: Te("plugins.workspaces.button-load")
                            }, (function(t) {
                                t.addEventListener("click", (function() {
                                    n.loadWorkspace(r),
                                    e.close()
                                }
                                ))
                            }
                            )),
                            t.createDiv("list-item-part clickable-icon", (function(t) {
                                yk(t, wb, 14),
                                Je(t, Te("plugins.workspaces.tooltip-delete-workspace")),
                                t.addEventListener("click", (function() {
                                    return o(e, void 0, void 0, (function() {
                                        return s(this, (function(e) {
                                            switch (e.label) {
                                            case 0:
                                                return [4, n.deleteWorkspace(r)];
                                            case 1:
                                                return e.sent(),
                                                new JC(Te("plugins.workspaces.msg-delete-workspace-success")),
                                                this.onOpen(),
                                                [2]
                                            }
                                        }
                                        ))
                                    }
                                    ))
                                }
                                ))
                            }
                            ))
                        }
                        ))
                    };
                    for (var a in i)
                        r(a)
                }
                )),
                this.nameEl.focus()
            }
            ,
            t.prototype.onClose = function() {
                this.contentEl.empty()
            }
            ,
            t.prototype.onFinish = function() {
                var e = this.nameEl.value.trim();
                e ? (this.plugin.saveWorkspace(e),
                this.plugin.setActiveWorkspace(e),
                new JC(Te("plugins.workspaces.msg-save-workspace-success")),
                this.nameEl.value = "",
                this.onOpen()) : new JC(Te("plugins.workspaces.msg-please-enter-name"))
            }
            ,
            t
        }(sn)
          , sF = function(e) {
            function t(t, n, i) {
                var r = e.call(this, t) || this;
                return r.emptyStateText = Te("plugins.workspaces.label-no-workspaces-found"),
                r.plugin = n,
                r.shouldSave = i,
                r.setPlaceholder(Te("plugins.workspaces.placeholder-type-to-search-workspaces")),
                r
            }
            return i(t, e),
            t.prototype.getItems = function() {
                return Object.keys(this.plugin.workspaces)
            }
            ,
            t.prototype.getEmptySearchItems = function() {
                return this.getItems()
            }
            ,
            t.prototype.getItemText = function(e) {
                return e
            }
            ,
            t.prototype.renderSuggestion = function(e, t) {
                var n = e.item;
                Nk(t, this.getItemText(n), e.match ? e.match.matches : null)
            }
            ,
            t.prototype.onChooseItem = function(e) {
                if (this.shouldSave) {
                    var t = this.plugin
                      , n = t.workspaces
                      , i = t.activeWorkspace;
                    i && n[i] && this.plugin.saveWorkspace(i)
                }
                this.plugin.loadWorkspace(e)
            }
            ,
            t
        }(OL)
          , aF = "YYYYMMDDHHmm"
          , lF = Fe("plugins.zettelkasten-prefixer")
          , cF = function() {
            function e() {
                this.id = "zk-prefixer",
                this.name = lF("name"),
                this.description = lF("desc"),
                this.app = null,
                this.plugin = null,
                this.options = {}
            }
            return e.prototype.init = function(e, t) {
                this.app = e,
                this.plugin = t,
                t.registerRibbonAction(lF("action-create-note"), vb, this.onCreateNote.bind(this)),
                t.registerGlobalCommand({
                    id: "zk-prefixer",
                    name: lF("action-create-note"),
                    icon: ak,
                    callback: this.onCreateNote.bind(this)
                })
            }
            ,
            e.prototype.onEnable = function(e, t) {
                return o(this, void 0, void 0, (function() {
                    var n;
                    return s(this, (function(i) {
                        switch (i.label) {
                        case 0:
                            return n = this,
                            [4, t.loadData()];
                        case 1:
                            return n.options = i.sent() || {},
                            t.addSettingTab(new uF(e,t,this)),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.onCreateNote = function() {
                return o(this, void 0, void 0, (function() {
                    var e, t, n, i, r, o, a, l, c, u, h, p, d, f, g, m, v;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            for (t = (e = this).app,
                            n = e.options,
                            i = window.moment,
                            r = i(); !o; )
                                a = this.getFormat(),
                                l = r.format(a),
                                this.checkNoteExists(l) ? r = r.add(1, "m") : o = l;
                            if (c = this.app.workspace.getLeaf(),
                            (h = n.folder) && String.isString(h)) {
                                if (p = ee(Pf(h).normalize("NFC")),
                                !((d = t.vault.getAbstractFileByPath(p))instanceof qf))
                                    return new JC(lF("msg-folder-not-found", {
                                        folderOption: h
                                    })),
                                    [2];
                                u = d
                            } else
                                u = t.fileManager.getNewFileParent("");
                            return (g = n.template) ? (m = t.metadataCache.getFirstLinkpathDest(g, "")) ? [4, t.vault.cachedRead(m)] : (new JC(lF("msg-template-file-not-found", {
                                template: g
                            })),
                            [2]) : [3, 4];
                        case 1:
                            return v = (v = s.sent()).replace(/{{(date|time):(.*?)}}/gi, (function(e, t, n) {
                                return (0,
                                window.moment)().format(n)
                            }
                            )),
                            [4, t.fileManager.createNewMarkdownFile(u, o)];
                        case 2:
                            return f = s.sent(),
                            [4, t.vault.modify(f, v)];
                        case 3:
                            return s.sent(),
                            [3, 6];
                        case 4:
                            return [4, t.fileManager.createNewMarkdownFile(u, o)];
                        case 5:
                            f = s.sent(),
                            s.label = 6;
                        case 6:
                            return [4, c.openFile(f, {
                                state: {
                                    mode: "source"
                                },
                                eState: {
                                    rename: "end"
                                }
                            })];
                        case 7:
                            return s.sent(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.checkNoteExists = function(e) {
                for (var t = !1, n = 0, i = this.app.vault.getAllLoadedFiles(); n < i.length; n++) {
                    var r = i[n];
                    if (r instanceof Vf && r.name.startsWith(e)) {
                        t = !0;
                        break
                    }
                }
                return t
            }
            ,
            e.prototype.getFormat = function() {
                var e = this.options.format;
                return e && String.isString(e) ? e : aF
            }
            ,
            e
        }()
          , uF = function(e) {
            function t(t, n, i) {
                var r = e.call(this, t, n) || this;
                return r.instance = i,
                r
            }
            return i(t, e),
            t.prototype.display = function() {
                var e = this
                  , t = this.containerEl;
                t.empty();
                var n = this.instance.options;
                new vE(t).setName(lF("option-new-file-location")).setDesc(lF("option-new-file-location-description")).addText((function(t) {
                    t.setPlaceholder(Te("setting.folder-path-example-placeholder")).setValue(n.folder).onChange((function(t) {
                        n.folder = t.trim(),
                        e.plugin.saveData(n)
                    }
                    )),
                    new MM(e.app,t.inputEl)
                }
                )),
                new vE(t).setName(lF("option-template-file")).setDesc(lF("option-template-file-description")).addText((function(t) {
                    t.setPlaceholder(lF("option-template-file-placeholder")).setValue(n.template).onChange((function(t) {
                        n.template = t.trim(),
                        e.plugin.saveData(n)
                    }
                    )),
                    new LM(e.app,t.inputEl)
                }
                ));
                var i = document.createDocumentFragment();
                i.appendText(Te("plugins.daily-notes.label-refer-to-syntax")),
                i.createEl("a", {
                    text: Te("plugins.daily-notes.label-syntax-link"),
                    attr: {
                        href: "https://momentjs.com/docs/#/displaying/format/",
                        target: "_blank"
                    }
                }),
                i.createEl("br"),
                i.appendText(Te("plugins.daily-notes.label-syntax-live-preview"));
                var r = i.createEl("b", "u-pop");
                new vE(t).setName(lF("option-id-format")).setDesc(i).addMomentFormat((function(t) {
                    return t.setSampleEl(r).setDefaultFormat(aF).setValue(n.format).onChange((function(t) {
                        n.format = t.trim(),
                        e.plugin.saveData(n)
                    }
                    ))
                }
                ))
            }
            ,
            t
        }(iM)
          , hF = function() {
            function e(e, t) {
                this.app = e,
                this.containerEl = t
            }
            return e.prototype.registerStatusBarItem = function() {
                return this.containerEl.createDiv("status-bar-item")
            }
            ,
            e
        }();
        var pF, dF = function(e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.name = Te("setting.about.name"),
                t.id = "about",
                t
            }
            return i(t, e),
            t.prototype.display = function() {
                return o(this, void 0, Promise, (function() {
                    var e, t, n, i, r, o, a, l, c, u, h, p, d, f, g, m, v, y, b, w, k, C, x = this;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return (e = this.containerEl).empty(),
                            t = function() {
                                var e = Te("setting.about.label-unknown-version")
                                  , t = Te("setting.about.label-unknown-version")
                                  , n = ""
                                  , i = !1
                                  , r = !1
                                  , o = !0
                                  , s = !0
                                  , a = !1;
                                return fe((function(l) {
                                    var c = l.remote.app.getVersion();
                                    t = "v" + c,
                                    e = "v" + l.ipcRenderer.sendSync("version"),
                                    n = l.ipcRenderer.sendSync("update"),
                                    (o = If("0.7.3", c)) && (i = l.ipcRenderer.sendSync("check-update"),
                                    r = l.ipcRenderer.sendSync("disable-update")),
                                    (s = If("0.10.0", c)) && (a = l.ipcRenderer.sendSync("disable-gpu"))
                                }
                                )),
                                {
                                    appVersion: e,
                                    installerVersion: t,
                                    update: n,
                                    checking: i,
                                    updateDisabled: r,
                                    supportsCheckAndDisable: o,
                                    supportsAppReady: s,
                                    disableGpu: a
                                }
                            }(),
                            n = t.appVersion,
                            i = t.installerVersion,
                            r = t.update,
                            o = t.updateDisabled,
                            a = t.checking,
                            l = t.supportsCheckAndDisable,
                            c = t.supportsAppReady,
                            u = t.disableGpu,
                            on.isDesktopApp ? (a && (h = function() {
                                fe((function(e) {
                                    l && (a = e.ipcRenderer.sendSync("check-update"))
                                }
                                )),
                                a ? setTimeout(h, 1e3) : x.display()
                            }
                            ,
                            setTimeout(h, 0)),
                            p = new vE(e).setName(Te("setting.about.label-current-version") + n).setDesc(createFragment((function(e) {
                                e.appendText(Te("setting.about.label-install-version", {
                                    version: i
                                })),
                                e.createEl("br"),
                                "update-manual-required" === r ? (e.createEl("b", {
                                    text: Te("setting.about.label-manual-install-required")
                                }),
                                e.appendText(" "),
                                e.createEl("a", {
                                    text: Te("setting.about.label-download-link"),
                                    attr: {
                                        href: "https://obsidian.md"
                                    }
                                })) : "update-downloaded" === r ? (e.appendText(Te("setting.about.label-new-version-ready")),
                                e.createEl("br"),
                                e.createEl("a", {
                                    text: Te("setting.about.label-read-changelog"),
                                    attr: {
                                        href: "https://forum.obsidian.md/c/announcements/13"
                                    }
                                }),
                                e.createEl("br"),
                                e.appendText(Te("setting.about.label-relaunch-to-update"))) : o ? e.appendText(Te("setting.about.label-disabled-updates")) : (e.appendText(Te("setting.about.label-up-to-date")),
                                e.createEl("br"),
                                e.createEl("a", {
                                    text: Te("setting.about.label-read-changelog"),
                                    attr: {
                                        href: "https://forum.obsidian.md/c/announcements/13"
                                    }
                                })),
                                e.createEl("br"),
                                a && (e.appendText(Te("setting.about.label-checking-for-updates")),
                                e.createEl("br")),
                                e.lastChild.detach()
                            }
                            ))),
                            "update-downloaded" === r ? p.addButton((function(e) {
                                return e.setCta().setButtonText(Te("setting.about.button-relaunch")).onClick((function() {
                                    fe((function(e) {
                                        e.ipcRenderer.sendSync("relaunch")
                                    }
                                    ))
                                }
                                ))
                            }
                            )) : l && p.addButton((function(e) {
                                return e.setCta().setButtonText(Te("setting.about.button-check-for-updates")).onClick((function() {
                                    fe((function(e) {
                                        e.ipcRenderer.sendSync("check-update", !0),
                                        x.display()
                                    }
                                    ))
                                }
                                ))
                            }
                            )),
                            l && new vE(e).setName(Te("setting.about.option-auto-update")).setDesc(Te("setting.about.option-auto-update-description")).addToggle((function(e) {
                                return e.setValue(!o).onChange((function(e) {
                                    fe((function(t) {
                                        t.ipcRenderer.sendSync("disable-update", !e),
                                        setTimeout((function() {
                                            return x.display()
                                        }
                                        ), 500)
                                    }
                                    ))
                                }
                                ))
                            }
                            )),
                            [3, 3]) : [3, 1];
                        case 1:
                            return NS ? [4, zS.getInfo()] : [3, 3];
                        case 2:
                            d = s.sent(),
                            new vE(e).setName(Te("setting.about.label-current-version") + d.version),
                            s.label = 3;
                        case 3:
                            return f = this.app.setting,
                            new vE(e).setName(Te("setting.about.option-open-help")).setDesc(Te("setting.about.option-open-help-description")).addButton((function(e) {
                                return e.setButtonText(Te("setting.about.button-open")).onClick((function() {
                                    f.close(),
                                    x.app.openHelp()
                                }
                                ))
                            }
                            )),
                            g = localStorage.getItem(be) || we,
                            m = g,
                            new vE(e).setName(Te("setting.about.option-language")).setDesc(Te("setting.about.option-language-description")).addButton((function(e) {
                                v = e,
                                e.setCta().setButtonText(Te("setting.about.button-relaunch")).onClick((function() {
                                    m === we ? localStorage.removeItem(be) : localStorage.setItem(be, m),
                                    window.location.reload()
                                }
                                )),
                                e.buttonEl.hide()
                            }
                            )).addDropdown((function(e) {
                                for (var t in e.onChange((function(e) {
                                    m = e,
                                    v.buttonEl.toggle(g !== m)
                                }
                                )),
                                ke)
                                    ke.hasOwnProperty(t) && e.addOption(t, ke[t]);
                                e.setValue(g)
                            }
                            )),
                            (y = this.app.account).checkKey((function() {
                                var t = y.license
                                  , n = y.key
                                  , i = y.keyValidation;
                                if (t && on.isDesktopApp) {
                                    var r = !1;
                                    fe((function(e) {
                                        r = e.ipcRenderer.sendSync("insiderBuild", null)
                                    }
                                    )),
                                    new vE(e).setName(Te("setting.about.option-insider-build")).setDesc(Te("setting.about.option-insider-build-description")).addToggle((function(e) {
                                        return e.setValue(r).onChange((function(e) {
                                            fe((function(t) {
                                                t.ipcRenderer.sendSync("insiderBuild", e)
                                            }
                                            ))
                                        }
                                        ))
                                    }
                                    ))
                                }
                                if (n) {
                                    var o = e.createDiv("setting-item").createDiv("setting-item-info")
                                      , s = "****" + n.slice(n.length - 4);
                                    o.createEl("p", {
                                        text: Te("setting.about.label-your-commercial-license")
                                    }, (function(e) {
                                        e.createEl("b", {
                                            cls: "u-pop",
                                            text: s
                                        }, (function(e) {
                                            Je(e, n)
                                        }
                                        )),
                                        e.createSpan({
                                            text: "."
                                        })
                                    }
                                    )),
                                    "valid" === i ? o.createEl("p", {
                                        text: Te("setting.about.label-commercial-license-info", {
                                            company: y.company,
                                            seats: y.seats,
                                            expiry: window.moment(y.expiry).format("MMMM D, YYYY")
                                        })
                                    }) : i ? (o.createEl("p", {
                                        text: Te("setting.about.label-invalid-commercial-license") + "" + i
                                    }),
                                    o.createEl("button", {
                                        cls: "mod-cta",
                                        text: Te("setting.about.button-activate-commercial-license")
                                    }, (function(e) {
                                        e.addEventListener("click", (function() {
                                            x.openCommercialLicenseModal()
                                        }
                                        ))
                                    }
                                    ))) : o.createEl("p", {
                                        text: Te("setting.about.label-validating-commercial-license")
                                    })
                                } else if (t) {
                                    var a = document.createDocumentFragment();
                                    a.createEl("b", {
                                        cls: "u-pop",
                                        text: "Catalyst " + t
                                    }),
                                    a.appendText(Te("setting.about.label-personal-license")),
                                    a.appendText(Te("setting.about.label-thank-you-for-support")),
                                    new vE(e).setName(Te("setting.about.label-license")).setDesc(a).addButton((function(e) {
                                        return e.setButtonText(Te("setting.about.button-activate-commercial-license")).onClick((function() {
                                            x.openCommercialLicenseModal()
                                        }
                                        ))
                                    }
                                    ))
                                } else
                                    new vE(e).setName(Te("setting.about.label-license")).setDesc(Te("setting.about.label-free-personal-license")).addButton((function(e) {
                                        return e.setCta().setButtonText(Te("setting.about.button-activate-commercial-license")).onClick((function() {
                                            x.openCommercialLicenseModal()
                                        }
                                        ))
                                    }
                                    ))
                            }
                            )),
                            new vE(e).setName(Te("setting.about.option-advanced")).setHeading(),
                            on.isDesktopApp && c && new vE(e).setName(Te("setting.about.option-hw-acceleration")).setDesc(createFragment((function(e) {
                                e.createDiv({
                                    text: Te("setting.about.option-hw-acceleration-description")
                                }),
                                e.createDiv({
                                    cls: "mod-warning",
                                    text: Te("setting.about.option-hw-acceleration-warning")
                                })
                            }
                            ))).addButton((function(e) {
                                b = e,
                                e.setCta().setButtonText(Te("setting.about.button-relaunch")).onClick((function() {
                                    fe((function(e) {
                                        e.ipcRenderer.sendSync("relaunch")
                                    }
                                    ))
                                }
                                )),
                                e.buttonEl.hide()
                            }
                            )).addToggle((function(e) {
                                return e.setValue(!u).onChange((function(e) {
                                    e = !e,
                                    fe((function(t) {
                                        t.ipcRenderer.sendSync("disable-gpu", e),
                                        b.buttonEl.toggle(e !== u)
                                    }
                                    ))
                                }
                                ))
                            }
                            )),
                            k = localStorage.getItem(this.app.appId + "-config") || "",
                            C = k,
                            new vE(e).setName(Te("setting.about.option-config-location")).setDesc(Te("setting.about.option-config-location-description")).addButton((function(e) {
                                w = e,
                                e.setCta().setButtonText(Te("setting.about.button-relaunch")).onClick((function() {
                                    localStorage.setItem(x.app.appId + "-config", C),
                                    window.location.reload()
                                }
                                )),
                                e.buttonEl.hide()
                            }
                            )).addText((function(e) {
                                e.setPlaceholder(".obsidian").setValue(k).onChange((function(t) {
                                    !t || Uf.validateConfigDir(t) ? (Qe(),
                                    C = t,
                                    w.buttonEl.toggle(t !== k)) : Ke(e.inputEl, Te("setting.about.option-config-location-warning"), {
                                        placement: "left",
                                        classes: ["mod-error"]
                                    })
                                }
                                ))
                            }
                            )),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.openCommercialLicenseModal = function() {
                var e = this;
                this.setting.close();
                var t, n, i = this.app, r = new an(i).setTitle(Te("setting.about.label-activate-license")).setContent(createFragment((function(e) {
                    e.createDiv("message-container", (function(e) {
                        n = e.createDiv("message mod-error")
                    }
                    )),
                    n.hide();
                    var i = "https://obsidian.md/pricing";
                    e.createEl("p", {
                        text: Te("setting.account.message-obtain-commercial-license", {
                            pricingPageLink: i
                        })
                    }, (function(e) {
                        e.innerHTML = e.innerHTML.replace(i, '<a href="' + i + '">' + i + "</a>")
                    }
                    )),
                    e.createEl("p", {
                        text: Te("setting.about.label-enter-commercial-license")
                    }),
                    e.createEl("p", {}, (function(e) {
                        e.createEl("label", {
                            cls: "input-label",
                            text: Te("setting.about.label-license-key")
                        }),
                        t = e.createEl("input", {
                            type: "text"
                        }, (function(e) {
                            e.setAttribute("placeholder", Te("setting.about.license-key-placeholder"))
                        }
                        ))
                    }
                    ))
                }
                ))).addButton("mod-cta", Te("setting.about.button-activate"), (function() {
                    return i.account.key = t.value,
                    i.account.checkKey((function() {
                        "valid" === i.account.keyValidation ? (r.close(),
                        e.setting.open()) : (i.account.key = null,
                        n.setText(i.account.keyValidation),
                        n.show())
                    }
                    )),
                    !0
                }
                )).addCancelButton();
                r.open()
            }
            ,
            t
        }($D), fF = function(e) {
            function t(t, n) {
                var i = e.call(this, t, n) || this;
                return i.name = Te("setting.account.name"),
                i.id = "account",
                i
            }
            return i(t, e),
            t.prototype.display = function() {
                var e, t, n, i, r = this, o = this.app.account;
                this.containerEl.empty(),
                e = this.containerEl.createDiv();
                var s = function() {
                    t.hide();
                    var e = n.value
                      , s = i.value
                      , a = !1;
                    "" === e ? (t.setText(Te("setting.account.message-empty-email")),
                    a = !0) : -1 === e.indexOf("@") ? (t.setText(Te("setting.account.message-invalid-email")),
                    a = !0) : "" === s && (t.setText(Te("setting.account.message-empty-password")),
                    a = !0),
                    a ? t.show() : o.login(e, s, (function(e) {
                        if (e.error && "Login failed" === e.error)
                            return t.setText(Te("setting.account.message-login-failed")),
                            void t.show();
                        r.display()
                    }
                    ))
                }
                  , a = this.containerEl.createDiv("loader-cube", (function(e) {
                    for (var t = 1; t <= 9; t++)
                        e.createDiv({
                            cls: "sk-cube sk-cube" + t
                        })
                }
                ))
                  , l = this.containerEl.createDiv({}, (function(e) {
                    e.createEl("h2", {
                        text: Te("setting.account.label-log-in")
                    }),
                    e.createDiv("message-container", (function(e) {
                        (t = e.createDiv("message mod-error")).hide()
                    }
                    )),
                    e.createEl("p", "login-field", (function(e) {
                        e.createEl("label", {
                            cls: "input-label",
                            text: Te("setting.account.label-email")
                        }),
                        n = e.createEl("input", {
                            type: "email"
                        }, (function(e) {
                            e.setAttribute("placeholder", Te("setting.account.placeholder-email")),
                            e.addEventListener("keypress", (function(e) {
                                "Enter" === e.key && s()
                            }
                            ))
                        }
                        ))
                    }
                    )),
                    e.createEl("p", "login-field", (function(e) {
                        e.createEl("label", {
                            cls: "input-label",
                            text: Te("setting.account.label-password")
                        }),
                        i = e.createEl("input", {
                            type: "password"
                        }, (function(e) {
                            e.setAttribute("placeholder", Te("setting.account.placeholder-password")),
                            e.addEventListener("keypress", (function(e) {
                                "Enter" === e.key && s()
                            }
                            ))
                        }
                        ))
                    }
                    )),
                    e.createDiv("button-container u-center-text", (function(e) {
                        e.createEl("button", {
                            cls: "mod-cta",
                            text: Te("setting.account.button-login")
                        }, (function(e) {
                            e.addEventListener("click", s.bind(r))
                        }
                        ))
                    }
                    )),
                    e.createEl("p", "u-center-text", (function(e) {
                        e.createSpan({
                            text: Te("setting.account.label-no-account")
                        }),
                        e.createEl("a", {
                            text: Te("setting.account.link-sign-up-now")
                        }, (function(e) {
                            e.setAttribute("href", "https://obsidian.md/account#mode=signup"),
                            e.setAttribute("target", "_blank")
                        }
                        ))
                    }
                    ))
                }
                ));
                l.hide();
                var c = function() {
                    o.getUserInfo().then((function() {
                        o.checkKey((function() {
                            o.isLoggedIn && function() {
                                e.empty(),
                                e.createEl("h2", {
                                    text: Te("setting.account.label-welcome", {
                                        name: r.app.account.name
                                    })
                                }),
                                e.createEl("p", {
                                    text: Te("setting.account.label-your-account-email")
                                }, (function(e) {
                                    e.createSpan({
                                        cls: "u-pop",
                                        text: r.app.account.email
                                    })
                                }
                                ));
                                var t, n = r.app.account, i = e.createDiv(), o = n.license;
                                ["insider", "supporter", "vip"].contains(o) ? ("insider" === o ? t = Te("setting.account.label-insider") : "supporter" === o ? t = Te("setting.account.label-supporter") : "vip" === o && (t = Te("setting.account.label-vip")),
                                i.createEl("p", {}, (function(e) {
                                    e.innerHTML = Te("setting.account.label-role-text", {
                                        role: '<b class="u-pop">' + t + "</b>"
                                    })
                                }
                                )),
                                i.createEl("p", {
                                    text: Te("setting.account.message-get-community-badges")
                                })) : o = null,
                                n.key && n.license || e.createEl("p", {
                                    text: Te("setting.account.label-action-suggestion")
                                }),
                                n.key || e.createEl("p", {}, (function(e) {
                                    e.createEl("button", "mod-cta", (function(e) {
                                        e.createEl("a", {
                                            text: Te("setting.account.button-get-commercial-license")
                                        }, (function(e) {
                                            e.setAttribute("href", "https://obsidian.md/pricing"),
                                            e.setAttribute("target", "_blank")
                                        }
                                        ))
                                    }
                                    ))
                                }
                                )),
                                n.license || e.createEl("p", {}, (function(e) {
                                    e.createEl("button", "mod-cta", (function(e) {
                                        e.createEl("a", {
                                            text: Te("setting.account.button-get-catalyst-license")
                                        }, (function(e) {
                                            e.setAttribute("href", "https://obsidian.md/pricing"),
                                            e.setAttribute("target", "_blank")
                                        }
                                        ))
                                    }
                                    )),
                                    e.createEl("button", {
                                        cls: "mod-cta",
                                        text: Te("setting.account.button-check-for-catalyst-license")
                                    }, (function(e) {
                                        e.addEventListener("click", (function() {
                                            c()
                                        }
                                        ))
                                    }
                                    ))
                                }
                                )),
                                o && "vip" !== o && e.createEl("a", {}, (function(e) {
                                    e.createEl("button", {
                                        cls: "mod-cta",
                                        text: Te("setting.account.button-upgrade-catalyst-license")
                                    }),
                                    e.setAttribute("href", "https://obsidian.md/account"),
                                    e.setAttribute("target", "_blank")
                                }
                                )),
                                e.createEl("button", {
                                    text: Te("setting.account.button-log-out")
                                }, (function(e) {
                                    e.addEventListener("click", (function() {
                                        n.logout(r.display.bind(r))
                                    }
                                    ))
                                }
                                ))
                            }(),
                            a.hide(),
                            o.isLoggedIn ? (l.hide(),
                            e.show()) : (l.show(),
                            e.hide())
                        }
                        ))
                    }
                    ))
                };
                c()
            }
            ,
            t
        }($D), gF = Fe("setting.appearance"), mF = [{
            id: "obsidian",
            nameI18n: "dark-theme"
        }, {
            id: "moonstone",
            nameI18n: "light-theme"
        }], vF = function(e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.name = gF("name"),
                t.id = "appearance",
                t
            }
            return i(t, e),
            t.prototype.display = function() {
                return o(this, void 0, void 0, (function() {
                    var e, t, n, i, r, a, l, c, u, h, p, d, f, g, m, v, y, b, w, k, C, x, E = this;
                    return s(this, (function(S) {
                        for (t = (e = this).containerEl,
                        n = e.app,
                        t.empty(),
                        i = n.customCss,
                        new vE(t).setName(gF("option-base-theme")).setDesc(gF("option-base-theme-description")).addDropdown((function(e) {
                            e.onChange((function(e) {
                                n.changeTheme(e)
                            }
                            ));
                            for (var t = 0, i = mF; t < i.length; t++) {
                                var r = i[t];
                                e.addOption(r.id, gF(r.nameI18n))
                            }
                            e.setValue(n.getTheme())
                        }
                        )),
                        new vE(t).setName(gF("option-use-obsidian-css")).setDesc(gF("option-use-obsidian-css-description")).addToggle((function(e) {
                            return e.setValue(n.vault.getConfig("obsidianCss")).onChange((function(e) {
                                i.setUseObsidianCss(e)
                            }
                            ))
                        }
                        )),
                        new vE(t).setName(Te("plugins.translucency.name")).setDesc(Te("plugins.translucency.desc")).addToggle((function(e) {
                            return e.setValue(n.vault.getConfig("translucency")).onChange((function(e) {
                                i.setTranslucency(e)
                            }
                            ))
                        }
                        )),
                        l = cf.baseFontSize,
                        c = function(e) {
                            return r.extraSettingsEl.toggleVisibility(e !== l)
                        }
                        ,
                        new vE(t).setName(gF("option-font-size")).setDesc(gF("option-font-size-description")).addExtraButton((function(e) {
                            return r = e.setIcon(Cb).setTooltip(Te("setting.hotkeys.tooltip-restore-default")).onClick((function() {
                                a.setValue(l)
                            }
                            ))
                        }
                        )).addSlider((function(e) {
                            return a = e.setLimits(10, 30, 1).setDynamicTooltip().setValue(n.vault.getConfig("baseFontSize")).onChange((function(e) {
                                n.changeBaseFontSize(e),
                                c(e)
                            }
                            ))
                        }
                        )),
                        c(a.getValue()),
                        new vE(t).setName(gF("option-font-size-action")).setDesc(gF("option-font-size-action-description")).addToggle((function(e) {
                            return e.setValue(n.vault.getConfig("baseFontSizeAction")).onChange((function(e) {
                                n.vault.setConfig("baseFontSizeAction", e)
                            }
                            ))
                        }
                        )),
                        u = new vE(t).setHeading().setName(gF("option-themes")).addExtraButton((function(e) {
                            return e.setIcon(Bb).setTooltip(gF("button-reload-themes")).onClick((function() {
                                return o(E, void 0, void 0, (function() {
                                    return s(this, (function(e) {
                                        switch (e.label) {
                                        case 0:
                                            return [4, i.readCssFolders()];
                                        case 1:
                                            return e.sent(),
                                            new JC(gF("msg-reloaded-themes")),
                                            this.display(),
                                            [2]
                                        }
                                    }
                                    ))
                                }
                                ))
                            }
                            ))
                        }
                        )),
                        on.isDesktopApp && u.addExtraButton((function(e) {
                            return e.setIcon(zy).setTooltip(gF("button-open-themes-folder")).onClick((function() {
                                return o(E, void 0, void 0, (function() {
                                    var e, t;
                                    return s(this, (function(n) {
                                        switch (n.label) {
                                        case 0:
                                            return e = this.app.vault,
                                            t = i.getThemeFolder(),
                                            [4, e.exists(t)];
                                        case 1:
                                            return n.sent() ? [3, 3] : [4, e.createFolder(t)];
                                        case 2:
                                            n.sent(),
                                            n.label = 3;
                                        case 3:
                                            return this.app.openWithDefaultApp(t),
                                            [2]
                                        }
                                    }
                                    ))
                                }
                                ))
                            }
                            ))
                        }
                        )),
                        h = i.snippets,
                        p = i.enabledSnippets,
                        d = i.theme || "none",
                        (f = {}).none = gF("option-choice-none"),
                        g = i.themes,
                        m = 0,
                        v = g; m < v.length; m++)
                            y = v[m],
                            f[y] = y;
                        for (new vE(t).setName(gF("option-theme")).setDesc(gF("option-theme-description", {
                            path: "vault/" + i.getThemeFolder()
                        })).addDropdown((function(e) {
                            return e.addOptions(f).setValue(d).onChange((function(e) {
                                "none" === e && (e = ""),
                                i.setTheme(e)
                            }
                            ))
                        }
                        )),
                        new vE(t).setName(gF("option-community-themes")).setDesc(gF("option-community-themes-description")).addButton((function(e) {
                            return e.setCta().setButtonText(gF("button-browse-community-themes")).onClick((function() {
                                new wF(n,E).open()
                            }
                            ))
                        }
                        )),
                        b = new vE(t).setHeading().setName(gF("option-css-snippets")).addExtraButton((function(e) {
                            return e.setIcon(Bb).setTooltip(gF("button-reload-snippets")).onClick((function() {
                                return o(E, void 0, void 0, (function() {
                                    return s(this, (function(e) {
                                        switch (e.label) {
                                        case 0:
                                            return [4, i.readCssFolders()];
                                        case 1:
                                            return e.sent(),
                                            new JC(gF("msg-reloaded-snippets")),
                                            this.display(),
                                            [2]
                                        }
                                    }
                                    ))
                                }
                                ))
                            }
                            ))
                        }
                        )),
                        on.isDesktopApp && b.addExtraButton((function(e) {
                            return e.setIcon(zy).setTooltip(gF("button-open-snippets-folder")).onClick((function() {
                                return o(E, void 0, void 0, (function() {
                                    var e, t;
                                    return s(this, (function(n) {
                                        switch (n.label) {
                                        case 0:
                                            return e = this.app.vault,
                                            t = i.getSnippetsFolder(),
                                            [4, e.exists(t)];
                                        case 1:
                                            return n.sent() ? [3, 3] : [4, e.createFolder(t)];
                                        case 2:
                                            n.sent(),
                                            n.label = 3;
                                        case 3:
                                            return this.app.openWithDefaultApp(t),
                                            [2]
                                        }
                                    }
                                    ))
                                }
                                ))
                            }
                            ))
                        }
                        )),
                        0 === h.length && new vE(t).setName(gF("label-no-css-snippets-found")).setDesc(gF("no-snippet-description", {
                            path: "vault/" + i.getSnippetsFolder()
                        })),
                        w = function(e) {
                            new vE(t).setName(e).setDesc(gF("option-toggle-snippet-description", {
                                path: "vault/" + i.getSnippetPath(e)
                            })).addToggle((function(t) {
                                return t.setValue(p.has(e)).onChange((function(t) {
                                    return o(E, void 0, void 0, (function() {
                                        return s(this, (function(n) {
                                            switch (n.label) {
                                            case 0:
                                                return [4, i.setCssEnabledStatus(e, t)];
                                            case 1:
                                                return n.sent(),
                                                [2]
                                            }
                                        }
                                        ))
                                    }
                                    ))
                                }
                                ))
                            }
                            ))
                        }
                        ,
                        k = 0,
                        C = h; k < C.length; k++)
                            x = C[k],
                            w(x);
                        return [2]
                    }
                    ))
                }
                ))
            }
            ,
            t
        }($D), yF = KD("obsidianmd/obsidian-releases", "master", "community-css-themes.json"), bF = Hk((function() {
            return o(void 0, void 0, Promise, (function() {
                var e, t, n, i, r;
                return s(this, (function(o) {
                    switch (o.label) {
                    case 0:
                        return [4, ajaxPromise({
                            url: yF
                        })];
                    case 1:
                        if (e = o.sent(),
                        t = JSON.parse(e),
                        !Array.isArray(t))
                            throw new Error("Failed to parse community themes.");
                        for (n = 0,
                        i = t; n < i.length; n++)
                            (r = i[n]).branch || (r.branch = "master");
                        return [2, t]
                    }
                }
                ))
            }
            ))
        }
        ), 3e5, 6e4), wF = function(e) {
            function t(t, n) {
                var i = e.call(this, t) || this;
                return i.themes = [],
                i.appearanceSettings = null,
                i.searchInput = null,
                i.currentModeToggle = null,
                i.appearanceSettings = n,
                i
            }
            return i(t, e),
            t.prototype.onOpen = function() {
                var e = this.modalEl
                  , t = this.titleEl;
                e.addClass("mod-community-theme"),
                t.setText(gF("option-community-themes")),
                this.loadThemes()
            }
            ,
            t.prototype.onClose = function() {
                this.appearanceSettings.display()
            }
            ,
            t.prototype.loadThemes = function() {
                return o(this, void 0, void 0, (function() {
                    var e, t, n, i, r, a, l, c, u, h, p, d = this;
                    return s(this, (function(f) {
                        switch (f.label) {
                        case 0:
                            (e = this.contentEl).empty(),
                            f.label = 1;
                        case 1:
                            return f.trys.push([1, 3, , 4]),
                            new JC(Te("plugins.custom-css.msg-fetching-themes")),
                            [4, bF()];
                        case 2:
                            return t = f.sent(),
                            [3, 4];
                        case 3:
                            return n = f.sent(),
                            console.error(n),
                            e.createDiv("message-container", (function(e) {
                                e.createDiv({
                                    cls: "message mod-error",
                                    text: Te("plugins.custom-css.msg-load-error")
                                })
                            }
                            )),
                            [2];
                        case 4:
                            for (i = e.createDiv("community-theme-container"),
                            (r = i.createDiv("community-theme-filters-container")).createDiv("community-theme-search-container", (function(e) {
                                d.searchInput = new EE(e).setPlaceholder(Te("plugins.custom-css.prompt-filter")).onChange((function() {
                                    return d.updateThemeVisibility()
                                }
                                ))
                            }
                            )),
                            r.createDiv("community-theme-mode-toggle-container", (function(e) {
                                e.createEl("label", {
                                    cls: "community-theme-mode-toggle-label",
                                    text: "obsidian" === d.app.getTheme() ? Te("plugins.custom-css.label-dark-theme-only") : Te("plugins.custom-css.label-light-theme-only")
                                }),
                                d.currentModeToggle = new CE(e).setValue(!0).onChange((function() {
                                    return d.updateThemeVisibility()
                                }
                                ))
                            }
                            )),
                            a = this.themes = [],
                            l = i.createDiv("community-theme-list"),
                            c = function(e) {
                                var t = e.name
                                  , n = e.author
                                  , i = e.repo
                                  , r = e.branch
                                  , c = e.screenshot
                                  , u = Te("plugins.custom-css.theme-title", {
                                    name: t,
                                    author: n
                                })
                                  , h = {
                                    info: e,
                                    el: null,
                                    previewButton: null,
                                    title: u
                                }
                                  , p = h.el = l.createDiv("community-theme");
                                if (p.createDiv({
                                    cls: "community-theme-title",
                                    text: u
                                }),
                                c) {
                                    var f = KD(i, r, c);
                                    p.createDiv().createEl("img", {
                                        cls: "community-theme-screenshot",
                                        attr: {
                                            alt: u,
                                            src: f
                                        }
                                    }).addEventListener("click", (function() {
                                        var e = new sn(d.app);
                                        e.contentEl.createEl("img", {
                                            cls: "community-theme-lightbox",
                                            attr: {
                                                alt: u,
                                                src: f
                                            }
                                        }),
                                        e.open()
                                    }
                                    ))
                                }
                                var g = p.createDiv("modal-button-container");
                                h.previewButton = new wE(g).setButtonText(Te("plugins.custom-css.label-preview")).onClick((function() {
                                    return d.previewTheme(h)
                                }
                                )),
                                g.createEl("button", {
                                    text: Te("plugins.custom-css.label-use")
                                }, (function(t) {
                                    t.addEventListener("click", (function() {
                                        return o(d, void 0, void 0, (function() {
                                            var t, n, i = this;
                                            return s(this, (function(r) {
                                                switch (r.label) {
                                                case 0:
                                                    return t = this.app,
                                                    n = t.customCss.getThemePath(e.name),
                                                    [4, t.vault.exists(n)];
                                                case 1:
                                                    return r.sent() ? new an(t).setTitle(Te("plugins.custom-css.msg-override-theme")).setContent(createFragment((function(e) {
                                                        e.createEl("p", {
                                                            text: Te("plugins.custom-css.msg-existing-theme", {
                                                                file: W(n)
                                                            })
                                                        }),
                                                        e.createEl("p", {
                                                            text: Te("plugins.custom-css.msg-confirm-override")
                                                        })
                                                    }
                                                    ))).addButton("mod-warning", Te("plugins.custom-css.label-override"), (function() {
                                                        return i.useTheme(h)
                                                    }
                                                    )).addCancelButton().open() : this.useTheme(h),
                                                    [2]
                                                }
                                            }
                                            ))
                                        }
                                        ))
                                    }
                                    ))
                                }
                                )),
                                g.createEl("a", {
                                    text: Te("plugins.custom-css.label-visit-on-github"),
                                    href: QD(e.repo),
                                    attr: {
                                        target: "_blank"
                                    }
                                }),
                                a.push(h)
                            }
                            ,
                            u = 0,
                            h = t; u < h.length; u++)
                                p = h[u],
                                c(p);
                            return function(e) {
                                for (var t, n, i = e.length; 0 !== i; )
                                    n = Math.floor(Math.random() * i),
                                    t = e[i -= 1],
                                    e[i] = e[n],
                                    e[n] = t
                            }(a),
                            this.updateThemeVisibility(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.previewTheme = function(e) {
                return o(this, void 0, void 0, (function() {
                    var t, n, i, r, o;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return t = e.previewButton,
                            n = e.info,
                            t.buttonEl.hasClass("mod-cta") ? (this.app.customCss.applyCss(),
                            t.removeCta().setButtonText(Te("plugins.custom-css.label-preview")),
                            [3, 3]) : [3, 1];
                        case 1:
                            return new JC(Te("plugins.custom-css.msg-fetching-css")),
                            [4, this.downloadCss(n)];
                        case 2:
                            for (i = s.sent(),
                            r = 0,
                            o = this.themes; r < o.length; r++)
                                o[r].previewButton.removeCta().setButtonText(Te("plugins.custom-css.label-preview"));
                            t.setCta().setButtonText(Te("plugins.custom-css.label-stop-preview")),
                            this.app.customCss.applyCss(i),
                            s.label = 3;
                        case 3:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.useTheme = function(e) {
                return o(this, void 0, void 0, (function() {
                    var t, n, i, r, o, a, l, c;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return t = this.app,
                            n = e.info,
                            i = e.title,
                            r = n.name,
                            o = t.vault,
                            a = t.customCss,
                            new JC(Te("plugins.custom-css.msg-fetching-css")),
                            [4, this.downloadCss(n)];
                        case 1:
                            return l = s.sent(),
                            c = a.getThemeFolder(),
                            [4, o.exists(c)];
                        case 2:
                            return s.sent() ? [3, 4] : [4, o.createFolder(c)];
                        case 3:
                            s.sent(),
                            s.label = 4;
                        case 4:
                            return [4, o.adapter.write(a.getThemePath(r), l)];
                        case 5:
                            return s.sent(),
                            [4, a.readCssFolders()];
                        case 6:
                            return s.sent(),
                            a.setTheme(r),
                            new JC(Te("plugins.custom-css.msg-now-using-theme", {
                                title: i
                            })),
                            this.onOpen(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.downloadCss = function(e) {
                var t = KD(e.repo, e.branch, "obsidian.css");
                return ajaxPromise({
                    url: t
                })
            }
            ,
            t.prototype.updateThemeVisibility = function() {
                for (var e = this.searchInput.getValue().toLowerCase(), t = this.currentModeToggle.getValue(), n = "obsidian" === this.app.getTheme() ? "dark" : "light", i = 0, r = this.themes; i < r.length; i++) {
                    var o = r[i]
                      , s = o.info.modes
                      , a = !0
                      , l = !0;
                    "" !== e && (a = o.title.toLowerCase().contains(e)),
                    t && s && (l = s.contains(n)),
                    o.el.toggle(a && l)
                }
            }
            ,
            t
        }(sn), kF = Fe("setting.third-party-plugin"), CF = function(e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.name = kF("name"),
                t.id = "community-plugins",
                t
            }
            return i(t, e),
            t.prototype.display = function() {
                var e = this
                  , t = this.containerEl;
                t.empty();
                var n = this.app.plugins
                  , i = !n.isEnabled();
                if (new vE(t).setName(kF("option-safe-mode")).setDesc(kF(i ? "option-safe-mode-description-on" : "option-safe-mode-description-off")).addToggle((function(t) {
                    t.setValue(i).onChange((function(t) {
                        return o(e, void 0, void 0, (function() {
                            return s(this, (function(e) {
                                switch (e.label) {
                                case 0:
                                    return t ? [4, n.setEnable(!1)] : [3, 2];
                                case 1:
                                    return e.sent(),
                                    this.display(),
                                    [3, 3];
                                case 2:
                                    this.setting.close(),
                                    new oM(this.app).open(),
                                    e.label = 3;
                                case 3:
                                    return [2]
                                }
                            }
                            ))
                        }
                        ))
                    }
                    ))
                }
                )),
                n.isEnabled()) {
                    new vE(t).setName(kF("option-browse-community-plugins")).setDesc(kF("option-browse-community-plugins-description")).addButton((function(t) {
                        return t.setCta().setButtonText(kF("button-browse")).onClick((function() {
                            return o(e, void 0, void 0, (function() {
                                return s(this, (function(e) {
                                    return this.setting.close(),
                                    new mM(this.app).open(),
                                    [2]
                                }
                                ))
                            }
                            ))
                        }
                        ))
                    }
                    ));
                    var r = n.manifests
                      , a = n.plugins
                      , l = Object.keys(r)
                      , c = n.updates
                      , u = Object.keys(c).length;
                    if (l.sort((function(e, t) {
                        return r[e].name.localeCompare(r[t].name)
                    }
                    )),
                    new vE(t).setName(kF("label-current-plugins")).setDesc(kF("label-currently-installed", {
                        count: l.length
                    }) + " " + (u > 0 ? kF("msg-updates-found", {
                        count: u
                    }) : "")).then((function(i) {
                        return o(e, void 0, void 0, (function() {
                            var e = this;
                            return s(this, (function(r) {
                                return u > 0 ? i.addButton((function(i) {
                                    return i.setCta().setButtonText(kF("button-update-all-plugins")).onClick((function() {
                                        return $t(t, (function() {
                                            return o(e, void 0, void 0, (function() {
                                                var e, t, i, r, o;
                                                return s(this, (function(s) {
                                                    switch (s.label) {
                                                    case 0:
                                                        for (t in e = [],
                                                        c)
                                                            e.push(t);
                                                        i = 0,
                                                        s.label = 1;
                                                    case 1:
                                                        return i < e.length ? (r = e[i],
                                                        c.hasOwnProperty(r) ? (o = c[r],
                                                        [4, n.installPlugin(o.repo, o.version, o.manifest)]) : [3, 3]) : [3, 4];
                                                    case 2:
                                                        s.sent(),
                                                        s.label = 3;
                                                    case 3:
                                                        return i++,
                                                        [3, 1];
                                                    case 4:
                                                        return this.display(),
                                                        [2]
                                                    }
                                                }
                                                ))
                                            }
                                            ))
                                        }
                                        ))
                                    }
                                    ))
                                }
                                )) : l.length > 0 && i.addButton((function(i) {
                                    return i.setCta().setButtonText(kF("button-check-for-updates")).onClick((function() {
                                        return $t(t, (function() {
                                            return o(e, void 0, void 0, (function() {
                                                return s(this, (function(e) {
                                                    switch (e.label) {
                                                    case 0:
                                                        return [4, n.checkForUpdates()];
                                                    case 1:
                                                        return e.sent(),
                                                        this.display(),
                                                        [2]
                                                    }
                                                }
                                                ))
                                            }
                                            ))
                                        }
                                        ))
                                    }
                                    ))
                                }
                                )),
                                [2]
                            }
                            ))
                        }
                        ))
                    }
                    )),
                    l.length > 0) {
                        new vE(t).setName(kF("option-search-installed-plugin")).setDesc(kF("option-search-installed-plugin-description")).addSearch((function(t) {
                            return t.setPlaceholder(kF("placeholder-search-installed-plugin")).onChange((function(t) {
                                e.updateSearch(t)
                            }
                            ))
                        }
                        ));
                        var h = new vE(t).setHeading().setName(kF("label-installed-plugins")).addExtraButton((function(t) {
                            return t.setIcon(Bb).setTooltip(kF("button-reload-plugins")).onClick((function() {
                                return o(e, void 0, void 0, (function() {
                                    return s(this, (function(e) {
                                        switch (e.label) {
                                        case 0:
                                            return [4, n.loadManifests()];
                                        case 1:
                                            return e.sent(),
                                            new JC(kF("msg-reloaded-third-party-plugins")),
                                            this.display(),
                                            [2]
                                        }
                                    }
                                    ))
                                }
                                ))
                            }
                            ))
                        }
                        ));
                        on.isDesktopApp && h.addExtraButton((function(t) {
                            return t.setIcon(zy).setTooltip(kF("button-open-plugins-folder")).onClick((function() {
                                return o(e, void 0, void 0, (function() {
                                    var e, t;
                                    return s(this, (function(i) {
                                        switch (i.label) {
                                        case 0:
                                            return e = this.app.vault,
                                            t = n.getPluginFolder(),
                                            [4, e.exists(t)];
                                        case 1:
                                            return i.sent() ? [3, 3] : [4, e.createFolder(t)];
                                        case 2:
                                            i.sent(),
                                            i.label = 3;
                                        case 3:
                                            return this.app.openWithDefaultApp(t),
                                            [2]
                                        }
                                    }
                                    ))
                                }
                                ))
                            }
                            ))
                        }
                        ))
                    }
                    for (var p = function(i) {
                        if (!r.hasOwnProperty(i)) {
                            var l = a[i].manifest;
                            new vE(t).setName(l.name).setDesc(l.description).addToggle((function(t) {
                                return t.setValue(!0).onChange((function(t) {
                                    return o(e, void 0, void 0, (function() {
                                        return s(this, (function(e) {
                                            switch (e.label) {
                                            case 0:
                                                return [4, n.disablePluginAndSave(l.id)];
                                            case 1:
                                                return e.sent(),
                                                this.display(),
                                                [2]
                                            }
                                        }
                                        ))
                                    }
                                    ))
                                }
                                ))
                            }
                            ))
                        }
                    }, d = 0, f = Object.keys(a); d < f.length; d++) {
                        p(y = f[d])
                    }
                    for (var g = this.installedPluginsEl = t.createDiv("installed-plugins-container"), m = 0, v = l; m < v.length; m++) {
                        var y = v[m]
                          , b = r[y];
                        this.renderInstalledPlugin(b, g)
                    }
                }
            }
            ,
            t.prototype.renderInstalledPlugin = function(e, t, n, i) {
                var r, a = this, l = this.app.plugins, c = l.plugins, u = l.updates, h = e.id, p = new vE(t).setDesc(createFragment((function(t) {
                    e.version && t.createDiv({
                        text: "Version " + e.version
                    }),
                    r = t.createDiv({})
                }
                ))).then((function(t) {
                    if (u.hasOwnProperty(h)) {
                        var c = u[h];
                        t.addButton((function(e) {
                            return e.setCta().setButtonText(kF("button-update")).setTooltip(kF("msg-update-plugin", {
                                version: c.version
                            })).onClick((function() {
                                return $t(t.settingEl, (function() {
                                    return o(a, void 0, void 0, (function() {
                                        return s(this, (function(e) {
                                            switch (e.label) {
                                            case 0:
                                                return [4, l.installPlugin(c.repo, c.version, c.manifest)];
                                            case 1:
                                                return e.sent(),
                                                this.display(),
                                                [2]
                                            }
                                        }
                                        ))
                                    }
                                    ))
                                }
                                ))
                            }
                            ))
                        }
                        ))
                    }
                    Nk(t.nameEl, e.name, n),
                    Nk(r, e.description, i)
                }
                )).addExtraButton((function(t) {
                    return t.setIcon(wb).setTooltip(kF("label-uninstall")).onClick((function() {
                        new an(a.app).setTitle(kF("label-uninstall-plugin")).setContent(kF("label-uninstall-plugin-confirmation")).addButton("mod-warning", kF("label-uninstall"), (function() {
                            return o(a, void 0, void 0, (function() {
                                return s(this, (function(t) {
                                    switch (t.label) {
                                    case 0:
                                        return [4, l.uninstallPlugin(e.id)];
                                    case 1:
                                        return t.sent(),
                                        this.display(),
                                        [2]
                                    }
                                }
                                ))
                            }
                            ))
                        }
                        )).addCancelButton().open()
                    }
                    ))
                }
                )).addToggle((function(t) {
                    return t.setValue(c.hasOwnProperty(e.id)).onChange((function(n) {
                        return o(a, void 0, void 0, (function() {
                            return s(this, (function(i) {
                                switch (i.label) {
                                case 0:
                                    return n ? [4, l.enablePluginAndSave(e.id)] : [3, 2];
                                case 1:
                                    return i.sent() || t.setValue(!1),
                                    [3, 4];
                                case 2:
                                    return [4, l.disablePluginAndSave(e.id)];
                                case 3:
                                    i.sent(),
                                    i.label = 4;
                                case 4:
                                    return [2]
                                }
                            }
                            ))
                        }
                        ))
                    }
                    ))
                }
                )).infoEl;
                p.style.cursor = "pointer",
                p.addEventListener("click", (function() {
                    a.setting.close(),
                    new mM(a.app,h).open()
                }
                ))
            }
            ,
            t.prototype.updateSearch = function(e) {
                var t = this.app.plugins
                  , n = this.installedPluginsEl;
                n.empty();
                var i = t.manifests
                  , r = Object.keys(i);
                r.sort((function(e, t) {
                    return i[e].name.localeCompare(i[t].name)
                }
                ));
                for (var o = (e = e.trim().toLowerCase()).split(" "), s = 0, a = r; s < a.length; s++) {
                    var l = a[s]
                      , c = i[l]
                      , u = null
                      , h = null;
                    (!e || (u = Pk(o, c.name.toLowerCase()),
                    h = c.description ? Pk(o, c.description.toLowerCase()) : null,
                    u || h)) && this.renderInstalledPlugin(c, n, u, h)
                }
            }
            ,
            t
        }($D), xF = function(e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.name = Te("setting.editor.name"),
                t.id = "editor",
                t.passedVimTest = !1,
                t
            }
            return i(t, e),
            t.prototype.display = function() {
                var e = this;
                this.containerEl.empty(),
                this.addOption("spellcheck", Te("setting.editor.option-spellcheck"), Te("setting.editor.option-spellcheck-description"), (function() {
                    new EF(e.app).open()
                }
                )),
                this.addOption("readableLineLength", Te("setting.editor.option-readable-line-length"), Te("setting.editor.option-readable-line-description")),
                this.addOption("strictLineBreaks", Te("setting.editor.option-strict-line-break"), Te("setting.editor.option-strict-line-break-description")),
                this.addOption("showFrontmatter", Te("setting.editor.option-show-frontmatter"), Te("setting.editor.option-show-frontmatter-description")),
                this.addOption("autoPairBrackets", Te("setting.editor.option-auto-pair-brackets"), Te("setting.editor.option-auto-pair-brackets-description")),
                this.addOption("autoPairMarkdown", Te("setting.editor.option-auto-pair-markdown"), Te("setting.editor.option-auto-pair-markdown-description")),
                this.addOption("smartIndentList", Te("setting.editor.option-smart-indent-lists"), Te("setting.editor.option-smart-indent-lists-description")),
                this.addOption("foldHeading", Te("setting.editor.option-fold-heading"), Te("setting.editor.option-fold-heading-description")),
                this.addOption("foldIndent", Te("setting.editor.option-fold-indent"), Te("setting.editor.option-fold-indent-description"));
                var t = this.app.vault.getConfig("defaultViewMode");
                new vE(this.containerEl).setName(Te("setting.editor.option-default-new-pane-mode")).setDesc(Te("setting.editor.option-default-new-pane-mode-description")).addDropdown((function(n) {
                    return n.addOption("source", Te("setting.editor.option-default-new-pane-mode-source")).addOption("preview", Te("setting.editor.option-default-new-pane-mode-preview")).setValue(t).onChange((function(t) {
                        e.app.vault.setConfig("defaultViewMode", t)
                    }
                    ))
                }
                )),
                this.addOption("showLineNumber", Te("setting.editor.option-show-line-number"), Te("setting.editor.option-show-line-number-description")),
                this.addOption("useTab", Te("setting.editor.option-use-tabs"), Te("setting.editor.option-use-tabs-description")),
                new vE(this.containerEl).setName(Te("setting.editor.option-tab-size")).setDesc(Te("setting.editor.option-tab-size-description")).addSlider((function(t) {
                    return t.setLimits(2, 8, 1).setValue(e.app.vault.getConfig("tabSize")).setDynamicTooltip().onChange((function(t) {
                        e.app.vault.setConfig("tabSize", t),
                        e.updateOptions()
                    }
                    ))
                }
                )),
                this.addOption("lineWrap", Te("setting.editor.option-line-wrap"), Te("setting.editor.option-line-wrap-description")),
                this.addOption("autoConvertHtml", Te("setting.editor.option-auto-convert-html"), Te("setting.editor.option-auto-convert-html-description")),
                on.isMobile || this.addOption("vimMode", Te("setting.editor.option-vim-key-bindings"), Te("setting.editor.option-vim-key-bindings-description")),
                se && this.addOption("emacsyKeys", Te("setting.editor.option-emacsy-keys"), Te("setting.editor.option-emacsy-keys-description"))
            }
            ,
            t.prototype.addOption = function(e, t, n, i) {
                var r, o = this, s = this.app.vault.getConfig(e), a = new vE(this.containerEl).setName(t).setDesc(n);
                i && a.addExtraButton((function(e) {
                    e.onClick(i),
                    (r = e.extraSettingsEl).toggle(s)
                }
                ));
                var l = function(e, t) {
                    o.app.vault.setConfig(e, t),
                    r && r.toggle(t),
                    o.updateOptions()
                };
                a.addToggle((function(t) {
                    return t.setValue(s).onChange((function(n) {
                        "vimMode" !== e || !0 !== n || o.passedVimTest ? l(e, n) : o.startVimTest(t, (function() {
                            return l(e, n)
                        }
                        ))
                    }
                    ))
                }
                ))
            }
            ,
            t.prototype.updateOptions = function() {
                this.app.workspace.updateOptions()
            }
            ,
            t.prototype.startVimTest = function(e, t) {
                var n, i = this, r = document.createDocumentFragment(), o = function() {
                    var r = n.value;
                    return "" === r ? (new JC(Te("setting.editor.msg-vim-mode-please-enter-command")),
                    !1) : r.toLowerCase().startsWith(":q") ? (t(),
                    i.passedVimTest = !0,
                    e.setValue(!0),
                    new JC(Te("setting.editor.msg-vim-mode-enabled")),
                    !0) : (new JC(Te("setting.editor.msg-vim-mode-not-enabled")),
                    !1)
                }, s = new an(this.app);
                r.createEl("p", {
                    cls: "mod-warning",
                    text: Te("setting.editor.label-vim-warning")
                }),
                r.createEl("p", {
                    text: Te("setting.editor.label-vim-test")
                }),
                r.createEl("p", {}, (function(e) {
                    e.createEl("label", {
                        cls: "input-label",
                        text: Te("setting.editor.label-vim-your-answer")
                    }),
                    (n = e.createEl("input", {
                        type: "text"
                    })).setAttribute("placeholder", Te("setting.editor.placeholder-enter-command")),
                    n.addEventListener("keypress", (function(e) {
                        "Enter" === e.key && (o() && s.close())
                    }
                    ))
                }
                )),
                s.setTitle(Te("setting.editor.label-confirm-enable-vim")),
                s.setContent(r),
                s.addButton("mod-cta", Te("setting.editor.button-confirm-enable-vim"), (function() {
                    o() && s.close()
                }
                )),
                s.addCancelButton(),
                e.setValue(!1),
                s.open()
            }
            ,
            t
        }($D), EF = function(e) {
            function t(t) {
                var n = e.call(this, t) || this;
                return n.titleEl.setText(Te("setting.editor.spellcheck-dict")),
                n
            }
            return i(t, e),
            t.prototype.onOpen = function() {
                this.dictionary = this.app.vault.getConfig("spellcheckDictionary"),
                this.rerender()
            }
            ,
            t.prototype.onClose = function() {
                this.contentEl.empty()
            }
            ,
            t.prototype.rerender = function() {
                var e = this
                  , t = this.dictionary
                  , n = this.contentEl;
                n.empty();
                for (var i = n.createDiv("spellchecker-dictionary-container"), r = function(n) {
                    var r = i.createDiv("spellchecker-dictionary-item")
                      , o = r.createDiv("spellchecker-dictionary-remove-button");
                    yk(o, wb, 12),
                    Je(o, "Remove from dictionary"),
                    o.addEventListener("click", (function() {
                        t.remove(n),
                        nS.removeFromSpellcheck(n),
                        e.app.vault.setConfig("spellcheckDictionary", t),
                        e.rerender()
                    }
                    )),
                    r.createDiv({
                        cls: "spellchecker-dictionary-word",
                        text: n
                    })
                }, o = 0, s = t; o < s.length; o++) {
                    r(s[o])
                }
                0 === t.length && n.createEl("p", {
                    text: Te("setting.editor.spellcheck-dict-empty")
                })
            }
            ,
            t
        }(sn), SF = Fe("setting.file"), LF = function(e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.name = SF("name"),
                t.id = "file",
                t.deleteOption = [{
                    value: "system",
                    description: SF("option-choice-system-trash")
                }, {
                    value: "local",
                    description: SF("option-choice-vault-trash")
                }, {
                    value: "none",
                    description: SF("option-choice-permanent-delete")
                }],
                t.newNoteLocationOptions = [{
                    value: "root",
                    description: SF("option-choice-vault-root")
                }, {
                    value: "current",
                    description: SF("option-choice-current-folder")
                }, {
                    value: "folder",
                    description: SF("option-choice-specified-folder")
                }],
                t.newLinkFormatOptions = [{
                    value: "shortest",
                    description: SF("option-choice-shortest-linktext")
                }, {
                    value: "relative",
                    description: SF("option-choice-relative-path")
                }, {
                    value: "absolute",
                    description: SF("option-choice-absolute-path")
                }],
                t.newAttachmentLocationOptions = [{
                    value: "root",
                    description: SF("option-choice-vault-root")
                }, {
                    value: "folder",
                    description: SF("option-choice-specified-folder")
                }, {
                    value: "current",
                    description: SF("option-choice-current-folder")
                }, {
                    value: "subfolder",
                    description: SF("option-choice-subdirectory")
                }],
                t
            }
            return i(t, e),
            t.prototype.display = function() {
                var e = this
                  , t = this.app
                  , n = this.containerEl;
                n.empty(),
                new vE(n).setName(SF("option-confirm-file-deletion")).setDesc(SF("option-confirm-file-deletion-description")).addToggle((function(n) {
                    return n.setValue(t.vault.getConfig("promptDelete")).onChange((function(t) {
                        e.app.vault.setConfig("promptDelete", t)
                    }
                    ))
                }
                )),
                new vE(n).setName(SF("option-delete-destination")).setDesc(SF("option-delete-destination-description")).addDropdown((function(n) {
                    n.onChange((function(e) {
                        t.vault.setConfig("trashOption", e)
                    }
                    ));
                    for (var i = 0, r = e.deleteOption; i < r.length; i++) {
                        var o = r[i];
                        n.addOption(o.value, o.description)
                    }
                    n.setValue(t.vault.getConfig("trashOption"))
                }
                ));
                var i = t.vault.getConfig("alwaysUpdateLinks");
                new vE(n).setName(SF("option-always-update-links")).setDesc(SF("option-always-update-links-description")).addToggle((function(t) {
                    return t.setValue(i).onChange((function(t) {
                        e.app.vault.setConfig("alwaysUpdateLinks", t)
                    }
                    ))
                }
                ));
                var r, o = function() {
                    a.settingEl.toggle("folder" === r.getValue())
                };
                new vE(n).setName(SF("option-new-note-location")).setDesc(SF("option-new-note-location-description")).addDropdown((function(n) {
                    r = n,
                    n.onChange((function(e) {
                        t.vault.setConfig("newFileLocation", e),
                        o()
                    }
                    ));
                    for (var i = 0, s = e.newNoteLocationOptions; i < s.length; i++) {
                        var a = s[i];
                        n.addOption(a.value, a.description)
                    }
                    n.setValue(t.vault.getConfig("newFileLocation"))
                }
                ));
                var s = t.vault.getConfig("newFileFolderPath")
                  , a = new vE(n).setName(SF("option-new-file-folder-path")).setDesc(SF("option-new-file-folder-path-description")).addText((function(e) {
                    e.setPlaceholder(Te("setting.folder-path-example-placeholder")).setValue("/" === s ? "" : s).onChange((function(e) {
                        t.vault.setConfig("newFileFolderPath", e)
                    }
                    )),
                    new MM(t,e.inputEl)
                }
                ));
                new vE(n).setName(SF("option-link-autocompleted-format")).setDesc(SF("option-link-autocompleted-format-description")).addDropdown((function(n) {
                    n.onChange((function(e) {
                        t.vault.setConfig("newLinkFormat", e)
                    }
                    ));
                    for (var i = 0, r = e.newLinkFormatOptions; i < r.length; i++) {
                        var o = r[i];
                        n.addOption(o.value, o.description)
                    }
                    n.setValue(t.vault.getConfig("newLinkFormat"))
                }
                )),
                new vE(n).setName(SF("option-use-wiki-links")).setDesc(SF("option-use-wiki-links-description")).addToggle((function(e) {
                    return e.setValue(!t.vault.getConfig("useMarkdownLinks")).onChange((function(e) {
                        t.vault.setConfig("useMarkdownLinks", !e)
                    }
                    ))
                }
                )),
                new vE(n).setName(SF("option-show-unsupported-files")).setDesc(SF("option-show-unsupported-files-description")).addToggle((function(e) {
                    return e.setValue(t.vault.getConfig("showUnsupportedFiles")).onChange((function(e) {
                        t.vault.setConfig("showUnsupportedFiles", e)
                    }
                    ))
                }
                ));
                var l = null
                  , c = null
                  , u = null
                  , h = null
                  , p = null
                  , d = function() {
                    c.settingEl.toggle("folder" === l.getValue()),
                    u.settingEl.toggle("subfolder" === l.getValue())
                }
                  , f = function() {
                    var e = l.getValue();
                    return "root" === e ? "/" : "folder" === e ? h.getValue() : "current" === e ? "./" : "subfolder" === e ? "./" + p.getValue() : void 0
                };
                new vE(n).setName(SF("option-new-attachment-location")).setDesc(SF("option-new-attachment-location-description")).addDropdown((function(n) {
                    n.onChange((function(e) {
                        d(),
                        t.vault.setConfig("attachmentFolderPath", f())
                    }
                    ));
                    for (var i = 0, r = e.newAttachmentLocationOptions; i < r.length; i++) {
                        var o = r[i];
                        n.addOption(o.value, o.description)
                    }
                    l = n
                }
                )),
                t.vault.getConfig("attachmentFolderPath"),
                c = new vE(n).setName(SF("option-attachment-folder-path")).setDesc(SF("option-attachment-folder-path-description")).addText((function(e) {
                    e.setPlaceholder(Te("setting.folder-path-example-placeholder")).onChange((function(e) {
                        t.vault.setConfig("attachmentFolderPath", f())
                    }
                    )),
                    new MM(t,e.inputEl),
                    h = e
                }
                )),
                u = new vE(n).setName(SF("option-attachment-subfolder-path")).setDesc(SF("option-attachment-subfolder-path-description")).addText((function(e) {
                    return e.setPlaceholder(SF("option-attachment-subfolder-path-placeholder")).onChange((function(e) {
                        t.vault.setConfig("attachmentFolderPath", f())
                    }
                    )).then((function(e) {
                        p = e
                    }
                    ))
                }
                )),
                o(),
                function(e) {
                    if ("/" !== e)
                        if ("." !== e && "./" !== e) {
                            if (e.startsWith("./"))
                                return l.setValue("subfolder"),
                                void p.setValue(e.slice(2));
                            l.setValue("folder"),
                            h.setValue(e)
                        } else
                            l.setValue("current");
                    else
                        l.setValue("root")
                }(t.vault.getConfig("attachmentFolderPath")),
                d()
            }
            ,
            t
        }($D), DF = function(e) {
            function t(t, n) {
                var i = e.call(this, t, n) || this;
                return i.name = Te("setting.hotkeys.name"),
                i.id = "hotkeys",
                i.setHotkeyScope = null,
                i.commandBeingCustomized = null,
                i.searchInputEl = null,
                i.hotkeyListContainerEl = null,
                i.setHotkeyScope = new nn,
                i.setHotkeyScope.register(null, null, (function(e, n) {
                    var r = i.commandBeingCustomized
                      , a = t.hotkeyManager;
                    if (r) {
                        var l = rn.decompileModifiers(n.modifiers);
                        if (l.length > 0) {
                            var c = sL(l, n.vkey)
                              , u = a.getHotkeys(r.id) || [];
                            u.filter((function(e) {
                                return lL(e) === lL(c)
                            }
                            )).length > 0 || (u.push(c),
                            a.setHotkeys(r.id, u),
                            o(i, void 0, void 0, (function() {
                                return s(this, (function(e) {
                                    switch (e.label) {
                                    case 0:
                                        return [4, a.save()];
                                    case 1:
                                        return e.sent(),
                                        [2]
                                    }
                                }
                                ))
                            }
                            ))),
                            i.finishCustomizingHotkey()
                        }
                        e.preventDefault(),
                        e.stopPropagation()
                    }
                }
                )),
                i.setHotkeyScope.register([], "Escape", (function() {
                    if (i.commandBeingCustomized)
                        return i.finishCustomizingHotkey(),
                        !1
                }
                )),
                i
            }
            return i(t, e),
            t.prototype.display = function() {
                var e = this
                  , t = this.containerEl;
                t.empty();
                var n = t.createDiv("hotkey-settings-container");
                n.createDiv("hotkey-search-container", (function(t) {
                    e.searchInputEl = t.createEl("input", {
                        type: "text"
                    }, (function(t) {
                        t.setAttribute("placeholder", Te("setting.hotkeys.prompt-filter")),
                        t.addEventListener("input", (function() {
                            e.updateHotkeyVisibility()
                        }
                        ))
                    }
                    ))
                }
                )),
                this.hotkeyListContainerEl = n.createDiv("hotkey-list-container"),
                this.updateHotkeyVisibility()
            }
            ,
            t.prototype.hide = function() {
                this.finishCustomizingHotkey()
            }
            ,
            t.prototype.updateHotkeyVisibility = function() {
                var e = this
                  , t = this.app.commands
                  , n = this.app.hotkeyManager;
                this.hotkeyListContainerEl.empty();
                var i = new wf;
                for (var r in t.commands)
                    if (t.commands.hasOwnProperty(r)) {
                        var a = t.commands[r]
                          , l = n.getHotkeys(r)
                          , c = n.getDefaultHotkeys(r)
                          , u = void 0 !== c;
                        if (void 0 !== l)
                            for (var h = 0, p = l; h < p.length; h++) {
                                var d = p[h];
                                i.add(lL(d), a.name)
                            }
                        else if (u && c.length > 0)
                            for (var f = 0, g = c; f < g.length; f++) {
                                var m = g[f];
                                i.add(lL(m), a.name)
                            }
                    }
                var v = Object.values(t.commands);
                v.sort((function(e, t) {
                    return gx(e.name, t.name)
                }
                ));
                for (var y = function(t) {
                    var r = t.id
                      , a = t.name
                      , l = b.searchInputEl.value.toLowerCase();
                    if ("" !== l && !a.toLowerCase().contains(l))
                        return "continue";
                    var c = new vE(b.hotkeyListContainerEl).setName(a).controlEl
                      , u = n.getHotkeys(r)
                      , h = n.getDefaultHotkeys(r)
                      , p = c.createDiv("setting-command-hotkeys")
                      , d = void 0 !== u
                      , f = void 0 !== h
                      , g = function(e, t, n) {
                        var r = lL(t);
                        if (i.get(r)) {
                            var o = i.get(r).filter((function(e) {
                                return e !== a
                            }
                            ));
                            if (o.length > 0)
                                if (e.addClass("has-conflict"),
                                1 === o.length) {
                                    var s = o[0];
                                    Je(e, Te("setting.hotkeys.tooltip-hotkey-single-conflict", {
                                        command: s
                                    }))
                                } else {
                                    var l = o.length;
                                    Je(e, Te("setting.hotkeys.tooltip-hotkey-multiple-conflicts", {
                                        count: l
                                    }))
                                }
                        }
                        e.appendText(" " + r + " "),
                        e.createSpan("setting-hotkey-icon setting-delete-hotkey", (function(e) {
                            yk(e, wb, 8),
                            Je(e, Te("setting.hotkeys.tooltip-delete-hotkey")),
                            e.addEventListener("click", n)
                        }
                        ))
                    };
                    if (d)
                        for (var m = function(t) {
                            p.createSpan("setting-hotkey", (function(i) {
                                g(i, t, (function() {
                                    return o(e, void 0, void 0, (function() {
                                        var e;
                                        return s(this, (function(i) {
                                            switch (i.label) {
                                            case 0:
                                                return e = u.filter((function(e) {
                                                    return lL(e) !== lL(t)
                                                }
                                                )),
                                                n.setHotkeys(r, e),
                                                [4, n.save()];
                                            case 1:
                                                return i.sent(),
                                                this.updateHotkeyVisibility(),
                                                [2]
                                            }
                                        }
                                        ))
                                    }
                                    ))
                                }
                                ))
                            }
                            ))
                        }, v = 0, y = u; v < y.length; v++) {
                            m(y[v])
                        }
                    else if (f && h.length > 0)
                        for (var w = function(t) {
                            p.createSpan("setting-hotkey", (function(i) {
                                g(i, t, (function() {
                                    return o(e, void 0, void 0, (function() {
                                        return s(this, (function(e) {
                                            switch (e.label) {
                                            case 0:
                                                return n.setHotkeys(r, []),
                                                [4, n.save()];
                                            case 1:
                                                return e.sent(),
                                                this.updateHotkeyVisibility(),
                                                [2]
                                            }
                                        }
                                        ))
                                    }
                                    ))
                                }
                                ))
                            }
                            ))
                        }, k = 0, C = h; k < C.length; k++) {
                            w(C[k])
                        }
                    b.commandBeingCustomized && r === b.commandBeingCustomized.id ? p.createSpan({
                        cls: "setting-hotkey mod-active",
                        text: Te("setting.hotkeys.label-waiting-for-hotkey-press")
                    }) : (d && 0 === u.length || !d && !f) && p.createSpan({
                        cls: "setting-hotkey mod-empty",
                        text: Te("setting.hotkeys.label-blank-hotkey")
                    }),
                    d && c.createSpan("setting-restore-hotkey-button", (function(t) {
                        yk(t, Cb, 18),
                        Je(t, Te("setting.hotkeys.tooltip-restore-default")),
                        t.addEventListener("click", (function() {
                            return o(e, void 0, void 0, (function() {
                                return s(this, (function(e) {
                                    switch (e.label) {
                                    case 0:
                                        return n.removeHotkeys(r),
                                        [4, n.save()];
                                    case 1:
                                        return e.sent(),
                                        this.finishCustomizingHotkey(),
                                        [2]
                                    }
                                }
                                ))
                            }
                            ))
                        }
                        ))
                    }
                    )),
                    c.createSpan("setting-add-hotkey-button", (function(n) {
                        yk(n, kb, 22),
                        Je(n, Te("setting.hotkeys.tooltip-customize-command")),
                        n.addEventListener("click", (function() {
                            e.commandBeingCustomized = t,
                            e.app.keymap.pushScope(e.setHotkeyScope),
                            e.updateHotkeyVisibility()
                        }
                        )),
                        n.toggleClass("mod-active", t === e.commandBeingCustomized)
                    }
                    ))
                }, b = this, w = 0, k = v; w < k.length; w++) {
                    y(a = k[w])
                }
            }
            ,
            t.prototype.finishCustomizingHotkey = function() {
                this.app.keymap.popScope(this.setHotkeyScope),
                this.commandBeingCustomized = null,
                this.updateHotkeyVisibility()
            }
            ,
            t
        }($D), MF = Fe("setting.mobile-toolbar"), AF = function(e) {
            function t(t) {
                var n = e.call(this, t) || this;
                return n.emptyStateText = Te("plugins.command-palette.label-no-commands"),
                n.setPlaceholder(MF("placeholder-select-quick-action")),
                n
            }
            return i(t, e),
            t.prototype.getItems = function() {
                return Object.values(this.app.commands.commands)
            }
            ,
            t.prototype.getItemText = function(e) {
                return e.name
            }
            ,
            t.prototype.onChooseItem = function(e) {
                this.app.vault.setConfig("mobilePullAction", e.id)
            }
            ,
            t
        }(OL), TF = function(e) {
            function t(t, n) {
                var i = e.call(this, t, n) || this;
                return i.name = MF("name"),
                i.id = "mobile",
                t.commands.addCommand({
                    id: "mobile:quick-action",
                    name: MF("option-configure-quick-action"),
                    icon: qw,
                    checkCallback: function(e) {
                        if (on.isMobile)
                            return e || new AF(t).open(),
                            !0
                    }
                }),
                i
            }
            return i(t, e),
            t.prototype.display = function() {
                var e = this
                  , t = this.app
                  , n = this.containerEl;
                n.empty();
                var i = t.vault.getConfig("mobilePullAction")
                  , r = t.commands.findCommand(i);
                new vE(n).setName(MF("option-configure-quick-action")).setDesc(MF("option-configure-quick-action-description", {
                    command: r ? r.name : ""
                })).addButton((function(e) {
                    return e.setButtonText(MF("button-configure")).onClick((function() {
                        t.commands.executeCommandById("mobile:quick-action")
                    }
                    ))
                }
                ));
                var o = t.commands.commands
                  , s = t.commands.editorCommands
                  , a = t.vault.getConfig("mobileToolbarCommands")
                  , l = Object.keys(s).filter((function(e) {
                    return !a.contains(e)
                }
                ))
                  , c = function() {
                    t.vault.setConfig("mobileToolbarCommands", a),
                    e.display()
                };
                if (a) {
                    new vE(n).setName(MF("manage-toolbar-options")).setHeading();
                    for (var u = n.createDiv(), h = function(e) {
                        var t = o[e];
                        u.createDiv("mobile-option-setting-item", (function(n) {
                            n.createSpan("mobile-option-setting-item-remove-icon", (function(t) {
                                yk(t, Cw, 22),
                                t.addEventListener("click", (function() {
                                    a.contains(e) && (a.remove(e),
                                    c())
                                }
                                ))
                            }
                            )),
                            n.createSpan("mobile-option-setting-item-option-icon", (function(e) {
                                return yk(e, t.icon || Jw, 22)
                            }
                            )),
                            n.createSpan({
                                cls: "mobile-option-setting-item-name",
                                text: t.name
                            }),
                            n.createSpan("mobile-option-setting-drag-icon", (function(t) {
                                yk(t, Uy),
                                Je(t, Te("interface.drag-to-rearrange")),
                                Ue(t, n, u, 0, (function() {
                                    return null
                                }
                                ), (function(t) {
                                    a.remove(e),
                                    a.splice(t, 0, e),
                                    c()
                                }
                                ))
                            }
                            ))
                        }
                        ))
                    }, p = 0, d = a = a.filter((function(e) {
                        return o[e]
                    }
                    )); p < d.length; p++) {
                        h(d[p])
                    }
                }
                if (l.length > 0) {
                    new vE(n).setName(MF("option-more-toolbar-options")).setHeading();
                    for (var f = function(e) {
                        var t = o[e];
                        n.createDiv("mobile-option-setting-item", (function(n) {
                            n.createSpan("mobile-option-setting-item-add-icon", (function(t) {
                                yk(t, kw, 22),
                                t.addEventListener("click", (function() {
                                    a.contains(e) || (a.push(e),
                                    c())
                                }
                                ))
                            }
                            )),
                            n.createSpan("mobile-option-setting-item-option-icon", (function(e) {
                                return yk(e, t.icon || Jw, 22)
                            }
                            )),
                            n.createSpan({
                                text: t.name
                            })
                        }
                        ))
                    }, g = 0, m = l; g < m.length; g++) {
                        f(m[g])
                    }
                }
                var v = Object.keys(o).filter((function(e) {
                    return !s[e] && !a.contains(e)
                }
                )).map((function(e) {
                    return o[e]
                }
                ));
                new vE(n).setName(MF("option-add-command")).setDesc(MF("option-add-command-description")).addText((function(t) {
                    return t.setPlaceholder(Te("plugins.command-palette.prompt-type-command")).then((function() {
                        new CM(e.app,t.inputEl,v,(function(e) {
                            var t = e.id;
                            a.contains(t) || (a.push(t),
                            c())
                        }
                        ))
                    }
                    ))
                }
                ))
            }
            ,
            t
        }($D), FF = function(e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.name = Te("setting.builtin-plugins"),
                t.id = "plugins",
                t
            }
            return i(t, e),
            t.prototype.display = function() {
                var e = this
                  , t = this.app.internalPlugins;
                this.containerEl.empty();
                for (var n = this.containerEl.createDiv("plugin-list-plugins"), i = {}, r = t.plugins, o = function(e) {
                    var t = r[e]
                      , o = t.instance;
                    if (!0 === o.lockOn)
                        return "continue";
                    new vE(n).setName(o.name).setDesc(o.description).addToggle((function(e) {
                        i[o.id] = e,
                        e.setValue(t.enabled).onChange((function(e) {
                            e ? t.enable(!0) : t.disable(!0)
                        }
                        ))
                    }
                    ))
                }, s = 0, a = Object.keys(r); s < a.length; s++) {
                    o(a[s])
                }
                t.on("change", (function() {
                    e.updateEnabledState(i, e.app.internalPlugins)
                }
                ))
            }
            ,
            t.prototype.updateEnabledState = function(e, t) {
                var n = t.plugins;
                for (var i in n)
                    if (n.hasOwnProperty(i)) {
                        var r = n[i]
                          , o = e[i];
                        o && o.setValue(r.enabled)
                    }
            }
            ,
            t
        }($D), PF = function(e) {
            function t(t) {
                var n = e.call(this, t) || this;
                return n.settingTabs = [],
                n.pluginTabs = [],
                n.activeTab = null,
                n.lastTabId = "",
                n.modalEl.addClass("mod-settings"),
                n.settingContainerEl = n.contentEl.createDiv("vertical-tabs-container", (function(e) {
                    n.tabHeadersEl = e.createDiv("vertical-tab-header", (function(e) {
                        e.createDiv("vertical-tab-header-group", (function(e) {
                            e.createDiv({
                                cls: "vertical-tab-header-group-title",
                                text: Te("setting.options")
                            }),
                            n.tabContainer = e.createDiv("vertical-tab-header-group-items")
                        }
                        )),
                        e.createDiv("vertical-tab-header-group", (function(e) {
                            n.pluginTabHeaderGroup = e.createDiv({
                                cls: "vertical-tab-header-group-title",
                                text: Te("setting.plugin-options")
                            }),
                            n.pluginTabHeaderGroup.hide(),
                            n.pluginTabContainer = e.createDiv("vertical-tab-header-group-items")
                        }
                        ))
                    }
                    ));
                    var t = n.tabContentContainer = e.createDiv("vertical-tab-content-container");
                    on.isMobile && t.detach()
                }
                )),
                on.isMobile && n.addSettingTab(new TF(t,n)),
                n.addSettingTab(new xF(t,n)),
                n.addSettingTab(new LF(t,n)),
                n.addSettingTab(new vF(t,n)),
                n.addSettingTab(new DF(t,n)),
                n.addSettingTab(new dF(t,n)),
                n.addSettingTab(new fF(t,n)),
                n.addSettingTab(new FF(t,n)),
                n.addSettingTab(new CF(t,n)),
                n
            }
            return i(t, e),
            t.prototype.addSettingTab = function(e) {
                var t = this;
                e.navEl || (e.navEl = createDiv({
                    cls: "vertical-tab-nav-item",
                    text: e.name
                }, (function(n) {
                    n.addEventListener("click", (function() {
                        t.openTab(e)
                    }
                    ))
                }
                ))),
                this.isPluginSettingTab(e) ? this.pluginTabs.push(e) : (this.settingTabs.push(e),
                this.tabContainer.appendChild(e.navEl)),
                this.updatePluginSection()
            }
            ,
            t.prototype.removeSettingTab = function(e) {
                this.pluginTabs.remove(e),
                this.settingTabs.remove(e);
                var t = this.activeTab;
                t && t === e && this.closeActiveTab(),
                this.updatePluginSection()
            }
            ,
            t.prototype.isPluginSettingTab = function(e) {
                return e instanceof iM || e instanceof nM
            }
            ,
            t.prototype.updatePluginSection = function() {
                var e = this.pluginTabs;
                e.sort((function(e, t) {
                    return gx(e.name, t.name)
                }
                )),
                this.pluginTabHeaderGroup.toggle(e.length > 0),
                this.pluginTabContainer.setChildrenInPlace(e.map((function(e) {
                    return e.navEl
                }
                )))
            }
            ,
            t.prototype.openTab = function(e) {
                var t = this
                  , n = this
                  , i = n.activeTab
                  , r = n.settingContainerEl
                  , o = n.tabContentContainer;
                if (i && (i.navEl.removeClass("is-active"),
                o.empty(),
                i.hide()),
                this.activeTab = e,
                this.lastTabId = e.id,
                e.navEl.addClass("is-active"),
                o.empty(),
                on.isMobile) {
                    var s = o.createDiv("modal-setting-back-button", (function(e) {
                        e.addEventListener("click", (function() {
                            return t.closeActiveTab()
                        }
                        ))
                    }
                    ));
                    s.createSpan("modal-setting-back-button-icon", (function(e) {
                        yk(e, ob, 20)
                    }
                    )),
                    s.createSpan({
                        text: e.name
                    }),
                    o.appendChild(e.containerEl),
                    Nt(r, o, "right")
                } else
                    o.appendChild(e.containerEl);
                e.display()
            }
            ,
            t.prototype.closeActiveTab = function() {
                var e = this
                  , t = this.activeTab;
                if (t) {
                    t.navEl.removeClass("is-active");
                    var n = function() {
                        e.tabContentContainer.empty(),
                        t.hide()
                    };
                    on.isMobile ? (this.activeTab = null,
                    Nt(this.settingContainerEl, this.tabHeadersEl, "left", n)) : n(),
                    this.activeTab = null
                }
            }
            ,
            t.prototype.openTabById = function(e) {
                for (var t = 0, n = this.settingTabs; t < n.length; t++) {
                    if ((o = n[t]).id === e)
                        return this.openTab(o),
                        o
                }
                for (var i = 0, r = this.pluginTabs; i < r.length; i++) {
                    var o;
                    if ((o = r[i]).id === e)
                        return this.openTab(o),
                        o
                }
                return null
            }
            ,
            t.prototype.onOpen = function() {
                e.prototype.onOpen.call(this),
                on.isMobile || this.openTabById(this.lastTabId) || this.openTab(this.settingTabs[0])
            }
            ,
            t.prototype.onClose = function() {
                e.prototype.onClose.call(this),
                this.closeActiveTab()
            }
            ,
            t
        }(sn), OF = function() {
            function e() {
                var e = this;
                this.showTimeout = 0;
                var t = this.el = createDiv({
                    cls: "progress-bar"
                });
                this.messageEl = t.createDiv({
                    cls: "progress-bar-message u-center-text",
                    text: ""
                }),
                t.createDiv("progress-bar-indicator", (function(t) {
                    t.createDiv("progress-bar-line"),
                    e.lineEl = t.createDiv("progress-bar-subline"),
                    e.line1El = t.createDiv("progress-bar-subline mod-increase"),
                    e.line2El = t.createDiv("progress-bar-subline mod-decrease")
                }
                )),
                t.addEventListener("click", (function(t) {
                    t.preventDefault(),
                    e.show()
                }
                )),
                this.setUnknownProgress()
            }
            return e.prototype.delayedShow = function() {
                var e = this;
                return document.body.appendChild(this.el),
                this.el.style.opacity = "0",
                this.showTimeout = window.setTimeout((function() {
                    return e.show()
                }
                ), 300),
                this
            }
            ,
            e.prototype.show = function() {
                return window.clearTimeout(this.showTimeout),
                this.showTimeout = 0,
                document.body.appendChild(this.el),
                this.el.style.opacity = "",
                this
            }
            ,
            e.prototype.hide = function() {
                return window.clearTimeout(this.showTimeout),
                this.showTimeout = 0,
                this.el.remove(),
                this
            }
            ,
            e.prototype.setMessage = function(e) {
                return this.messageEl.setText(e),
                this
            }
            ,
            e.prototype.setUnknownProgress = function() {
                return this.lineEl.hide(),
                this.line1El.show(),
                this.line2El.show(),
                this
            }
            ,
            e.prototype.setProgress = function(e, t) {
                this.lineEl.show(),
                this.line1El.hide(),
                this.line2El.hide();
                var n = (e / t * 100).toFixed(4);
                return this.lineEl.style.width = n + "%",
                this
            }
            ,
            e
        }(), IF = function(e) {
            this.appContainerEl = null,
            this.horizontalMainContainerEl = null,
            this.workspaceEl = null,
            this.statusBarEl = null,
            this.appContainerEl = e.createDiv("app-container is-left-sidedock-collapsed is-right-sidedock-collapsed"),
            this.horizontalMainContainerEl = this.appContainerEl.createDiv("horizontal-main-container"),
            this.workspaceEl = this.horizontalMainContainerEl.createDiv("workspace"),
            this.statusBarEl = this.appContainerEl.createDiv("status-bar")
        }, NF = window.frameDom;
        if (NF) {
            var RF = document.createDocumentFragment()
              , BF = RF.createDiv("titlebar-button mod-back");
            yk(BF, ob, 15),
            BF.addEventListener("click", (function() {
                window.history.back()
            }
            ));
            var zF = RF.createDiv("titlebar-button mod-forward");
            yk(zF, sb, 15),
            zF.addEventListener("click", (function() {
                window.history.forward()
            }
            )),
            Le.then((function() {
                Je(BF, Te("interface.window.go-back")),
                Je(zF, Te("interface.window.go-forward"))
            }
            )),
            NF.leftButtonContainerEl.appendChild(RF),
            NF.leftSpacing = 30,
            NF.updateStatus()
        }
        fe((function(e) {
            e.remote.dialog
        }
        ));
        try {
            var HF = "";
            se ? HF = "mod-macos" : ae ? HF = "mod-windows" : le && (HF = "mod-linux"),
            HF && document.body.addClass(HF)
        } catch (e) {
            console.error(e)
        }
        (pF = document.body).on("mouseover", "[aria-label]", Ge),
        pF.on("mouseout", "[aria-label]", Ye),
        pF.addEventListener("mouseup", Qe),
        window.addEventListener("touchstart", (function(e) {
            1 === e.touches.length && (Ve.sx = e.changedTouches[0].clientX,
            Ve.sy = e.changedTouches[0].clientY,
            Ve.t = Date.now())
        }
        ), !0),
        window.addEventListener("touchend", (function(e) {
            0 === e.touches.length && (Ve.ex = e.changedTouches[0].clientX,
            Ve.ey = e.changedTouches[0].clientY,
            Ve.t = Date.now())
        }
        ), !0),
        document.addEventListener("scroll", (function() {
            return document.documentElement.scrollTop = 0
        }
        ), {
            passive: !1
        });
        var VF = "EmulateMobile"
          , qF = function() {
            function e(e, t) {
                var n = this;
                this.hotkeyManager = null,
                this.customCss = null,
                this.viewRegistry = new KL,
                this.nextFrameEvents = [],
                this.nextFrameTimer = null,
                this.fileManager = null,
                this.setting = null,
                this.account = null,
                this.isMobile = !1,
                this.mobileToolbar = null,
                this.shareReceiver = null,
                console.log("%cObsidian Developer Console", "color:#7f6df2; font-size:40px; font-weight:bold;");
                var i = document.body;
                this.appId = t,
                this.keymap = new rn,
                this.scope = this.keymap.getRootScope(),
                this.commands = new kS(this),
                this.hotkeyManager = new cL(this),
                this.dragManager = new WE(this),
                this.dom = new IF(i),
                this.customCss = new CS(this),
                this.loadProgress = new OF,
                this.shareReceiver = new BL(this),
                localStorage.getItem(VF) && (on.isMobile = !0),
                this.isMobile = on.isMobile,
                on.isMobile && (this.mobileToolbar = new FL(this),
                i.addClass("is-mobile"),
                i.createDiv("safe-area-top-cover"),
                i.style.backgroundColor = "var(--background-primary)"),
                on.isIosApp && function() {
                    document.body.style["-webkit-touch-callout"] = "none";
                    var e = document.body;
                    e.addEventListener("touchstart", (function(t) {
                        if (!(t.touches.length > 1)) {
                            var n = t.touches[0]
                              , i = t.target
                              , r = n.clientX
                              , o = n.clientY
                              , s = n.identifier
                              , a = !1
                              , l = window.setTimeout((function() {
                                a = !0,
                                e.removeEventListener("touchmove", p, !0),
                                i.dispatchEvent(new MouseEvent("contextmenu",{
                                    button: 0,
                                    buttons: 0,
                                    ctrlKey: t.ctrlKey,
                                    altKey: t.altKey,
                                    metaKey: t.metaKey,
                                    shiftKey: t.shiftKey,
                                    screenX: n.screenX,
                                    screenY: n.screenY,
                                    bubbles: !0,
                                    cancelable: !0,
                                    clientX: r,
                                    clientY: o
                                }))
                            }
                            ), 400)
                              , c = function(t, n) {
                                e.removeEventListener("touchcancel", h, !0),
                                e.removeEventListener("touchend", h, !0),
                                e.removeEventListener("touchmove", p, !0),
                                window.clearTimeout(l),
                                a && t.preventDefault()
                            }
                              , u = function(t, n) {
                                if (!a) {
                                    var i = n.clientX - r
                                      , s = n.clientY - o;
                                    i * i + s * s > 25 && (e.removeEventListener("touchcancel", h, !0),
                                    e.removeEventListener("touchend", h, !0),
                                    e.removeEventListener("touchmove", p, !0),
                                    window.clearTimeout(l))
                                }
                            }
                              , h = function(e) {
                                for (var t = e.changedTouches, n = 0; n < t.length; n++) {
                                    if (t[n].identifier === s)
                                        return void c(e)
                                }
                            }
                              , p = function(e) {
                                for (var t = e.changedTouches, n = 0; n < t.length; n++) {
                                    var i = t[n];
                                    if (i.identifier === s)
                                        return void u(0, i)
                                }
                            };
                            e.addEventListener("touchcancel", h, !0),
                            e.addEventListener("touchend", h, !0),
                            e.addEventListener("touchmove", p, !0)
                        }
                    }
                    ))
                }(),
                o(n, void 0, void 0, (function() {
                    var t, n, i = this;
                    return s(this, (function(r) {
                        switch (r.label) {
                        case 0:
                            t = this.loadProgress,
                            r.label = 1;
                        case 1:
                            return r.trys.push([1, 3, , 4]),
                            t.setMessage(Te("interface.start-up.loading-obsidian")).delayedShow(),
                            [4, this.initializeWithAdapter(e)];
                        case 2:
                            return r.sent(),
                            t.hide(),
                            [3, 4];
                        case 3:
                            return n = r.sent(),
                            console.error(n),
                            t.setMessage(Te("interface.start-up.obsidian-load-error") + (n ? n.message : "unknown")),
                            t.el.createEl("button", {
                                cls: "mod-cta",
                                text: Te("interface.start-up.button-reload-app")
                            }, (function(e) {
                                e.style.marginTop = "50px",
                                e.onClickEvent((function() {
                                    window.location.reload()
                                }
                                ))
                            }
                            )),
                            t.el.createEl("button", {
                                cls: "mod-cta",
                                text: Te("interface.start-up.button-open-another-vault")
                            }, (function(e) {
                                e.style.marginTop = "20px",
                                e.onClickEvent((function() {
                                    i.openVaultChooser()
                                }
                                ))
                            }
                            )),
                            [3, 4];
                        case 4:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            return e.prototype.setAttachmentFolder = function(e) {
                this.vault.setConfig("attachmentFolderPath", e.path);
                var t = Te("plugins.file-explorer.msg-set-attachment-folder", {
                    path: e.path
                });
                new JC(t)
            }
            ,
            e.prototype.nextFrame = function(e) {
                this.nextFrameTimer || (this.nextFrameTimer = window.requestAnimationFrame(this.onNextFrame.bind(this))),
                this.nextFrameEvents.push(e)
            }
            ,
            e.prototype.nextFramePromise = function() {
                var e = this;
                return new Promise((function(t) {
                    return e.nextFrame(t)
                }
                ))
            }
            ,
            e.prototype.onNextFrame = function(e) {
                this.nextFrameTimer = null;
                var t = this.nextFrameEvents;
                this.nextFrameEvents = [];
                for (var n = 0, i = t; n < i.length; n++) {
                    (0,
                    i[n])(e)
                }
            }
            ,
            e.prototype.nextFrameOnceCallback = function(e) {
                var t = this
                  , n = !1;
                return function() {
                    n || (n = !0,
                    t.nextFrame((function(t) {
                        n = !1,
                        e(t)
                    }
                    )))
                }
            }
            ,
            e.prototype.initializeWithAdapter = function(e) {
                return o(this, void 0, void 0, (function() {
                    var t, n, i, r = this;
                    return s(this, (function(o) {
                        switch (o.label) {
                        case 0:
                            if (this.vault = new Uf(e),
                            this.loadProgress.setMessage(Te("interface.start-up.loading-components")),
                            !on.isDesktopApp)
                                return [3, 4];
                            o.label = 1;
                        case 1:
                            return o.trys.push([1, 3, , 4]),
                            [4, this.vault.readRaw("")];
                        case 2:
                            return o.sent(),
                            [3, 4];
                        case 3:
                            return "ENOENT" === (t = o.sent()).code ? (this.vault = null,
                            this.openVaultChooser(),
                            window.close(),
                            [2]) : (t.code,
                            [3, 4]);
                        case 4:
                            return (n = localStorage.getItem(this.appId + "-config")) && String.isString(n) && this.vault.setConfigDir(n),
                            [4, this.vault.setupConfig()];
                        case 5:
                            return o.sent(),
                            this.disableCssTransition(),
                            this.workspace = new WD(this,this.dom.workspaceEl),
                            this.fileManager = new oL(this),
                            this.statusBar = new hF(this,this.dom.statusBarEl),
                            this.metadataCache = new TL(this,this.vault),
                            this.account = new mt,
                            this.setting = new PF(this),
                            this.foldManager = new nL(this),
                            this.setTheme(this.vault.getConfig("theme")),
                            this.changeBaseFontSize(this.vault.getConfig("baseFontSize")),
                            this.customCss.load(),
                            window.addEventListener("click", this.onMouseEvent.bind(this)),
                            window.addEventListener("mousedown", this.onMouseEvent.bind(this)),
                            this.shareReceiver.setupWorkspace(),
                            this.loadProgress.setMessage(Te("interface.start-up.loading-plugins")),
                            this.internalPlugins = new yM(this),
                            this.plugins = new rM(this),
                            this.internalPlugins.loadPlugin(new RM),
                            this.internalPlugins.loadPlugin(new JM),
                            this.internalPlugins.loadPlugin(new fT),
                            this.internalPlugins.loadPlugin(new DD),
                            this.internalPlugins.loadPlugin(new PE),
                            this.internalPlugins.loadPlugin(new vA),
                            this.internalPlugins.loadPlugin(new _T),
                            this.internalPlugins.loadPlugin(new TA),
                            this.internalPlugins.loadPlugin(new FM),
                            this.internalPlugins.loadPlugin(new ZT),
                            this.internalPlugins.loadPlugin(new hA),
                            this.internalPlugins.loadPlugin(new xM),
                            this.internalPlugins.loadPlugin(new kT),
                            this.internalPlugins.loadPlugin(new tA),
                            this.internalPlugins.loadPlugin(new cF),
                            this.internalPlugins.loadPlugin(new vT),
                            this.internalPlugins.loadPlugin(new MA),
                            this.internalPlugins.loadPlugin(new iF),
                            this.internalPlugins.loadPlugin(new bT),
                            this.internalPlugins.loadPlugin(new wM),
                            this.internalPlugins.loadPlugin(new IM),
                            this.internalPlugins.loadPlugin(new rF),
                            this.internalPlugins.loadPlugin(new $M),
                            this.internalPlugins.loadPlugin(new pT),
                            this.internalPlugins.loadPlugin(new PT),
                            [4, this.plugins.initialize()];
                        case 6:
                            return o.sent(),
                            [4, this.hotkeyManager.load()];
                        case 7:
                            return o.sent(),
                            this.registerCommands(),
                            [4, this.internalPlugins.enable()];
                        case 8:
                            o.sent(),
                            this.loadProgress.setMessage(Te("interface.start-up.loading-vault")),
                            o.label = 9;
                        case 9:
                            return o.trys.push([9, 11, , 12]),
                            [4, this.vault.load()];
                        case 10:
                            return o.sent(),
                            [3, 12];
                        case 11:
                            throw i = o.sent(),
                            new JC(Te("interface.start-up.msg-failed-to-load-vault") + i ? i.message : ""),
                            console.error(i),
                            i;
                        case 12:
                            return this.vault.on("closed", (function() {
                                r.openVaultChooser(),
                                window.close()
                            }
                            )),
                            this.loadProgress.setMessage(Te("interface.start-up.loading-cache")),
                            [4, this.metadataCache.initialize()];
                        case 13:
                            return o.sent(),
                            this.loadProgress.setMessage(Te("interface.start-up.loading-workspace")),
                            [4, this.workspace.loadLayout()];
                        case 14:
                            return o.sent(),
                            setTimeout((function() {
                                r.enableCssTransition()
                            }
                            ), 500),
                            this.workspace.registerUriHook(),
                            this.registerQuitHook(),
                            this.metadataCache.showIndexingNotice(),
                            this.shareReceiver.setupNative(),
                            [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.registerCommands = function() {
                var e = this
                  , t = this.commands;
                t.addCommand({
                    id: "app:go-back",
                    name: Te("commands.navigate-back"),
                    icon: ob,
                    callback: function() {
                        history.back()
                    },
                    hotkeys: [sL(["Mod", "Alt"], "ArrowLeft")]
                }),
                t.addCommand({
                    id: "app:go-forward",
                    name: Te("commands.navigate-forward"),
                    icon: sb,
                    callback: function() {
                        history.forward()
                    },
                    hotkeys: [sL(["Mod", "Alt"], "ArrowRight")]
                }),
                t.addCommand({
                    id: "app:open-vault",
                    name: Te("interface.switch-vault"),
                    icon: Ab,
                    callback: this.openVaultChooser.bind(this)
                }),
                t.addCommand({
                    id: "theme:use-dark",
                    name: Te("commands.use-dark-mode"),
                    callback: function() {
                        e.changeTheme("obsidian")
                    }
                }),
                t.addCommand({
                    id: "theme:use-light",
                    name: Te("commands.use-light-mode"),
                    callback: function() {
                        e.changeTheme("moonstone")
                    }
                }),
                t.addCommand({
                    id: "editor:open-search",
                    name: Te("commands.search-current-file"),
                    icon: Zw,
                    checkCallback: function(t) {
                        var n = e.workspace.getActiveViewOfType(gS);
                        if (n)
                            return t || n.showSearch(),
                            !0
                    },
                    hotkeys: [sL(["Mod"], "F")]
                }),
                t.addCommand({
                    id: "editor:open-search-replace",
                    name: Te("commands.search-replace-current-file"),
                    icon: Zw,
                    checkCallback: function(t) {
                        var n = e.workspace.getActiveViewOfType(gS);
                        if (n && "source" === n.getMode())
                            return t || n.showSearch(!0),
                            !0
                    },
                    hotkeys: [se ? sL(["Mod", "Alt"], "F") : sL(["Mod"], "H")]
                }),
                t.addCommand({
                    id: "app:open-settings",
                    name: Te("commands.open-settings"),
                    icon: bw,
                    callback: function() {
                        e.setting.open()
                    },
                    hotkeys: [sL(["Mod"], ",")]
                }),
                t.addCommand({
                    id: "markdown:toggle-preview",
                    name: Te("commands.toggle-preview"),
                    icon: cb,
                    checkCallback: function(t) {
                        var n = e.workspace.getActiveViewOfType(gS);
                        if (n) {
                            if (!t) {
                                var i = n.leaf
                                  , r = i.getViewState();
                                r.state.mode = "preview" === r.state.mode ? "source" : "preview",
                                i.setViewState(r, {
                                    focus: !0
                                })
                            }
                            return !0
                        }
                    },
                    hotkeys: [sL(["Mod"], "E")]
                }),
                t.addCommand({
                    id: "app:delete-file",
                    name: Te("commands.delete-current-file"),
                    icon: Iy,
                    checkCallback: function(t) {
                        var n = e.workspace.getActiveFile();
                        if (n)
                            return t || e.fileManager.promptForFileDeletion(n),
                            !0
                    }
                }),
                t.addCommand({
                    id: "workspace:close",
                    name: Te("commands.close-active-pane"),
                    icon: wb,
                    checkCallback: function(t) {
                        var n = e.workspace.activeLeaf;
                        return !!n && (t || n.detach(),
                        !0)
                    },
                    hotkeys: [sL(["Mod"], "W")]
                }),
                t.addCommand({
                    id: "workspace:close-others",
                    name: Te("commands.close-other-panes"),
                    icon: wb,
                    checkCallback: function(t) {
                        var n = e.workspace.activeLeaf
                          , i = [];
                        if (e.workspace.iterateRootLeaves((function(e) {
                            e !== n && i.push(e)
                        }
                        )),
                        !t)
                            for (var r = 0, o = i; r < o.length; r++) {
                                o[r].detach()
                            }
                        return i.length > 0
                    }
                }),
                t.addCommand({
                    id: "app:toggle-left-sidebar",
                    name: Te("commands.toggle-left-sidebar"),
                    callback: function() {
                        e.workspace.leftSplit.toggle()
                    }
                }),
                t.addCommand({
                    id: "app:toggle-right-sidebar",
                    name: Te("commands.toggle-right-sidebar"),
                    callback: function() {
                        e.workspace.rightSplit.toggle()
                    }
                }),
                t.addCommand({
                    id: "app:toggle-default-new-pane-mode",
                    name: Te("commands.toggle-default-new-pane-mode"),
                    callback: function() {
                        var t = e.vault.getConfig("defaultViewMode");
                        "source" === t ? (e.vault.setConfig("defaultViewMode", "preview"),
                        new JC(Te("interface.msg-switched-to-preview"))) : "preview" === t && (e.vault.setConfig("defaultViewMode", "source"),
                        new JC(Te("interface.msg-switched-to-edit")))
                    }
                }),
                t.addCommand({
                    id: "app:open-help",
                    name: Te("commands.open-help"),
                    icon: Jw,
                    callback: this.openHelp.bind(this),
                    hotkeys: [sL([], "F1")]
                }),
                t.addCommand({
                    id: "editor:focus",
                    name: Te("commands.focus-editor"),
                    icon: "",
                    editorCallback: function(e) {
                        return e.focus()
                    }
                }),
                t.addCommand({
                    id: "editor:toggle-fold",
                    name: Te("commands.toggle-fold"),
                    icon: Iw,
                    editorCheckCallback: function(t, n) {
                        if (e.canFold())
                            return t || n.exec("toggleFold"),
                            !0
                    }
                }),
                t.addCommand({
                    id: "editor:fold-all",
                    name: Te("commands.fold-all"),
                    icon: Aw,
                    allowPreview: !0,
                    editorCheckCallback: function(t, n, i) {
                        if (e.canFold()) {
                            if ("source" === i.getMode())
                                return t || n.exec("foldAll"),
                                !0;
                            if ("preview" === i.getMode())
                                return t || i.previewMode.foldAll(),
                                !0
                        }
                    }
                }),
                t.addCommand({
                    id: "editor:unfold-all",
                    name: Te("commands.unfold-all"),
                    icon: Tw,
                    allowPreview: !0,
                    editorCheckCallback: function(t, n, i) {
                        if (e.canFold()) {
                            if ("source" === i.getMode())
                                return t || n.exec("unfoldAll"),
                                !0;
                            if ("preview" === i.getMode())
                                return t || i.previewMode.unfoldAll(),
                                !0
                        }
                    }
                }),
                t.addCommand({
                    id: "editor:insert-wikilink",
                    name: Te("setting.mobile-toolbar.option-internal-link"),
                    icon: Gb,
                    editorCallback: function(e) {
                        return e.triggerWikilink(!1)
                    }
                }),
                t.addCommand({
                    id: "editor:insert-embed",
                    name: Te("setting.mobile-toolbar.option-internal-embed"),
                    icon: Yb,
                    editorCallback: function(e) {
                        return e.triggerWikilink(!0)
                    }
                }),
                t.addCommand({
                    id: "editor:insert-link",
                    name: Te("commands.insert-link"),
                    icon: rw,
                    editorCallback: function(e) {
                        return e.insertMarkdownLink()
                    },
                    hotkeys: [sL(["Mod"], "K")]
                }),
                t.addCommand({
                    id: "editor:insert-tag",
                    name: Te("setting.mobile-toolbar.option-tag"),
                    icon: Qb,
                    editorCallback: function(e) {
                        return e.insertText("#")
                    }
                }),
                t.addCommand({
                    id: "editor:set-heading",
                    name: Te("setting.mobile-toolbar.option-heading"),
                    icon: Jb,
                    editorCallback: function() {
                        return new UF(e,new nn(e.scope)).open()
                    }
                }),
                t.addCommand({
                    id: "editor:toggle-bold",
                    name: Te("commands.toggle-bold"),
                    icon: Xb,
                    editorCallback: function(e) {
                        return e.toggleSurroundingMarkdown("**")
                    },
                    hotkeys: [sL(["Mod"], "B")]
                }),
                t.addCommand({
                    id: "editor:toggle-italics",
                    name: Te("commands.toggle-italics"),
                    icon: Zb,
                    editorCallback: function(e) {
                        return e.toggleSurroundingMarkdown("*")
                    },
                    hotkeys: [sL(["Mod"], "I")]
                }),
                t.addCommand({
                    id: "editor:toggle-strikethrough",
                    name: Te("setting.mobile-toolbar.option-strikethrough"),
                    icon: ew,
                    editorCallback: function(e) {
                        return e.toggleSurroundingMarkdown("~~")
                    }
                }),
                t.addCommand({
                    id: "editor:toggle-highlight",
                    name: Te("commands.toggle-highlight"),
                    icon: tw,
                    editorCallback: function(e) {
                        return e.toggleSurroundingMarkdown("==")
                    }
                }),
                t.addCommand({
                    id: "editor:toggle-code",
                    name: Te("setting.mobile-toolbar.option-code"),
                    icon: nw,
                    editorCallback: function(e) {
                        return e.toggleSurroundingMarkdown("`")
                    }
                }),
                t.addCommand({
                    id: "editor:toggle-blockquote",
                    name: Te("setting.mobile-toolbar.option-blockquote"),
                    icon: iw,
                    editorCallback: function(e) {
                        return e.toggleBlockquote()
                    }
                }),
                t.addCommand({
                    id: "editor:toggle-comments",
                    name: Te("commands.toggle-comments"),
                    icon: fw,
                    editorCallback: function(e) {
                        return e.toggleSurroundingMarkdown("%%")
                    },
                    hotkeys: [sL(["Mod"], "/")]
                }),
                t.addCommand({
                    id: "editor:toggle-bullet-list",
                    name: Te("setting.mobile-toolbar.option-bullet-list"),
                    icon: ow,
                    editorCallback: function(e) {
                        return e.toggleBulletList()
                    }
                }),
                t.addCommand({
                    id: "editor:toggle-numbered-list",
                    name: Te("setting.mobile-toolbar.option-numbered-list"),
                    icon: sw,
                    editorCallback: function(e) {
                        return e.toggleNumberList()
                    }
                }),
                t.addCommand({
                    id: "editor:toggle-checklist-status",
                    name: Te("commands.toggle-checklist"),
                    icon: aw,
                    editorCallback: function(e) {
                        return e.toggleCheckList()
                    },
                    hotkeys: [sL(["Mod"], "Enter")]
                }),
                t.addCommand({
                    id: "editor:indent-list",
                    name: Te("setting.mobile-toolbar.option-indent-list"),
                    icon: xw,
                    mobileOnly: !0,
                    editorCallback: function(e) {
                        return e.indentList()
                    }
                }),
                t.addCommand({
                    id: "editor:unindent-list",
                    name: Te("setting.mobile-toolbar.option-unindent-list"),
                    icon: Ew,
                    mobileOnly: !0,
                    editorCallback: function(e) {
                        return e.unindentList()
                    }
                }),
                t.addCommand({
                    id: "editor:swap-line-up",
                    name: Te("commands.swap-line-up"),
                    icon: Pw,
                    editorCallback: function(e) {
                        return e.exec("swapLineUp")
                    }
                }),
                t.addCommand({
                    id: "editor:swap-line-down",
                    name: Te("commands.swap-line-down"),
                    icon: Ow,
                    editorCallback: function(e) {
                        return e.exec("swapLineDown")
                    }
                }),
                t.addCommand({
                    id: "editor:undo",
                    name: Te("setting.mobile-toolbar.option-undo"),
                    icon: lw,
                    mobileOnly: !0,
                    editorCallback: function(e) {
                        return e.undo()
                    }
                }),
                t.addCommand({
                    id: "editor:redo",
                    name: Te("setting.mobile-toolbar.option-redo"),
                    icon: cw,
                    mobileOnly: !0,
                    editorCallback: function(e) {
                        return e.redo()
                    }
                }),
                t.addCommand({
                    id: "editor:move-caret-up",
                    name: Te("setting.mobile-toolbar.option-move-caret-up"),
                    icon: uw,
                    mobileOnly: !0,
                    editorCallback: function(e) {
                        return e.exec("goUp")
                    }
                }),
                t.addCommand({
                    id: "editor:move-caret-down",
                    name: Te("setting.mobile-toolbar.option-move-caret-down"),
                    icon: hw,
                    mobileOnly: !0,
                    editorCallback: function(e) {
                        return e.exec("goDown")
                    }
                }),
                t.addCommand({
                    id: "editor:move-caret-left",
                    name: Te("setting.mobile-toolbar.option-move-caret-left"),
                    icon: pw,
                    mobileOnly: !0,
                    editorCallback: function(e) {
                        return e.exec("goLeft")
                    }
                }),
                t.addCommand({
                    id: "editor:move-caret-right",
                    name: Te("setting.mobile-toolbar.option-move-caret-right"),
                    icon: dw,
                    mobileOnly: !0,
                    editorCallback: function(e) {
                        return e.exec("goRight")
                    }
                }),
                t.addCommand({
                    id: "editor:go-start",
                    name: Te("setting.mobile-toolbar.option-first-line"),
                    icon: mw,
                    mobileOnly: !0,
                    editorCallback: function(e) {
                        return e.exec("goStart")
                    }
                }),
                t.addCommand({
                    id: "editor:go-end",
                    name: Te("setting.mobile-toolbar.option-last-line"),
                    icon: vw,
                    mobileOnly: !0,
                    editorCallback: function(e) {
                        return e.exec("goEnd")
                    }
                }),
                t.addCommand({
                    id: "editor:toggle-keyboard",
                    name: Te("setting.mobile-toolbar.option-toggle-keyboard"),
                    icon: gw,
                    mobileOnly: !0,
                    editorCallback: function(e) {
                        e.hasFocus() ? e.blur() : e.focus()
                    }
                }),
                t.addCommand({
                    id: "editor:configure-toolbar",
                    name: Te("setting.mobile-toolbar.option-configure-toolbar"),
                    icon: bw,
                    mobileOnly: !0,
                    editorCallback: function() {
                        var t = e.setting;
                        t.openTabById("mobile-toolbar"),
                        t.open()
                    }
                }),
                t.addCommand({
                    id: "editor:attach-file",
                    name: Te("setting.mobile-toolbar.option-attach"),
                    icon: yw,
                    editorCallback: function(t) {
                        var n, i = document.body.createEl("input", {
                            type: "file"
                        });
                        i.style.position = "fixed",
                        i.style.opacity = "0",
                        i.style.zIndex = "-9999",
                        i.addEventListener("change", (function() {
                            return o(e, void 0, void 0, (function() {
                                var e, n, o, l, c, u, h, p;
                                return s(this, (function(s) {
                                    switch (s.label) {
                                    case 0:
                                        if (r(),
                                        !(e = i.files))
                                            return a(),
                                            [2];
                                        if (!(n = this.workspace.getActiveFile()))
                                            return a(),
                                            [2];
                                        s.label = 1;
                                    case 1:
                                        s.trys.push([1, , 7, 8]),
                                        o = 0,
                                        s.label = 2;
                                    case 2:
                                        return o < e.length ? (l = e[o],
                                        c = W(l.name),
                                        [4, l.arrayBuffer()]) : [3, 6];
                                    case 3:
                                        return u = s.sent(),
                                        [4, this.saveAttachment(Y(c), Q(c), u)];
                                    case 4:
                                        (h = s.sent()) && (p = this.fileManager.generateMarkdownLink(h, n.path),
                                        t.replaceSelection(p)),
                                        s.label = 5;
                                    case 5:
                                        return o++,
                                        [3, 2];
                                    case 6:
                                        return [3, 8];
                                    case 7:
                                        return a(),
                                        [7];
                                    case 8:
                                        return [2]
                                    }
                                }
                                ))
                            }
                            ))
                        }
                        ));
                        var r = function() {
                            document.removeEventListener("focus", l),
                            document.removeEventListener("click", l),
                            clearTimeout(n)
                        }
                          , a = function() {
                            i.detach()
                        }
                          , l = function() {
                            r(),
                            n = window.setTimeout(a, 5e3)
                        };
                        i.focus(),
                        i.click(),
                        setTimeout((function() {
                            document.addEventListener("focus", l),
                            document.addEventListener("click", l)
                        }
                        ), 0)
                    }
                }),
                t.addCommand({
                    id: "editor:delete-paragraph",
                    name: Te("commands.delete-paragraph"),
                    icon: Fw,
                    editorCallback: function(e) {
                        return e.exec("deleteLine")
                    },
                    hotkeys: [sL(["Mod"], "D")]
                }),
                t.addCommand({
                    id: "editor:toggle-spellcheck",
                    name: Te("commands.toggle-spellcheck"),
                    callback: function() {
                        e.vault.setConfig("spellcheck", !e.vault.getConfig("spellcheck")),
                        e.workspace.updateOptions()
                    }
                }),
                t.addCommand({
                    id: "file-explorer:new-file",
                    name: Te("plugins.file-explorer.action-create-note"),
                    icon: Bw,
                    callback: function() {
                        return e.fileManager.createAndOpenMarkdownFile()
                    },
                    hotkeys: [sL(["Mod"], "N")]
                }),
                t.addCommand({
                    id: "file-explorer:new-file-in-new-pane",
                    name: Te("plugins.file-explorer.action-create-note-in-new-pane"),
                    icon: Bw,
                    callback: function() {
                        return e.fileManager.createAndOpenMarkdownFile(void 0, !0)
                    },
                    hotkeys: [sL(["Mod", "Shift"], "N")]
                }),
                t.addCommand({
                    id: "app:reload",
                    name: Te("commands.reload"),
                    icon: Cb,
                    callback: function() {
                        return window.location.reload()
                    }
                }),
                on.isDesktopApp && AC.registerPostProcessor((function(e) {
                    for (var t = 0, n = e.findAll("img, audio, video, iframe"); t < n.length; t++) {
                        var i = n[t];
                        (i instanceof HTMLImageElement || i instanceof HTMLMediaElement || i instanceof HTMLIFrameElement) && i.src.startsWith("file:///") && (i.src = "app://local/" + i.src.substr("file:///".length))
                    }
                }
                ))
            }
            ,
            e.prototype.disableCssTransition = function() {
                this.dom.appContainerEl.addClass("no-transition")
            }
            ,
            e.prototype.enableCssTransition = function() {
                this.dom.appContainerEl.removeClass("no-transition")
            }
            ,
            e.prototype.getTheme = function() {
                return this.vault.getConfig("theme")
            }
            ,
            e.prototype.changeTheme = function(e) {
                var t = this;
                e && (this.disableCssTransition(),
                this.setTheme(e),
                setTimeout((function() {
                    t.enableCssTransition()
                }
                ), 200),
                this.vault.setConfig("theme", e),
                this.workspace.trigger("css-change"))
            }
            ,
            e.prototype.changeBaseFontSize = function(e) {
                e = Math.clamp(e, 10, 30),
                document.body.style.setProperty("--editor-font-size", e + "px"),
                this.vault.setConfig("baseFontSize", e),
                this.workspace.trigger("css-change")
            }
            ,
            e.prototype.setTheme = function(e) {
                var t = document.body;
                "obsidian" === e ? (t.removeClass("theme-light"),
                t.addClass("theme-dark")) : "moonstone" === e && (t.removeClass("theme-dark"),
                t.addClass("theme-light")),
                on.isMobileApp && (on.isAndroidApp && qS.setStyle({
                    style: Xe.Dark
                }),
                on.isIosApp && ("obsidian" === e ? qS.setStyle({
                    style: Xe.Dark
                }) : "moonstone" === e && qS.setStyle({
                    style: Xe.Light
                })))
            }
            ,
            e.prototype.garbleText = function() {
                this.dom.appContainerEl.addClass("is-text-garbled")
            }
            ,
            e.prototype.importLocalFile = function(e) {
                return o(this, void 0, Promise, (function() {
                    var t, n, i, r;
                    return s(this, (function(o) {
                        switch (o.label) {
                        case 0:
                            return [4, tL.readLocalFile(e)];
                        case 1:
                            return (t = o.sent()) ? (n = W(ee(e)),
                            i = Q(n),
                            r = Y(n),
                            [2, this.saveAttachment(r, i, t)]) : [2, null]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.saveAttachment = function(e, t, n) {
                return o(this, void 0, Promise, (function() {
                    var i, r, o;
                    return s(this, (function(s) {
                        switch (s.label) {
                        case 0:
                            return i = null,
                            (r = this.workspace.getActiveViewOfType(gS)) && (i = r.file),
                            [4, this.vault.getAvailablePathForAttachments(e, t, i)];
                        case 1:
                            return o = s.sent(),
                            [4, this.vault.createBinary(o, n)];
                        case 2:
                            return [2, s.sent()]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.onMouseEvent = function(e) {
                3 !== e.button && 4 !== e.button || (e.preventDefault(),
                e.stopPropagation())
            }
            ,
            e.prototype.openVaultChooser = function() {
                on.isDesktopApp && fe((function(e) {
                    e.ipcRenderer.sendSync("starter")
                }
                )),
                on.isMobileApp && (localStorage.removeItem("mobile-selected-vault"),
                setTimeout((function() {
                    location.reload()
                }
                ), 200))
            }
            ,
            e.prototype.openHelp = function() {
                on.isDesktopApp ? fe((function(e) {
                    var t = localStorage.getItem(be);
                    e.ipcRenderer.sendSync("helpdocs", t)
                }
                )) : window.open("https://help.obsidian.md/", "_blank")
            }
            ,
            e.prototype.openWithDefaultApp = function(e) {
                return o(this, void 0, void 0, (function() {
                    var t, n, i;
                    return s(this, (function(r) {
                        switch (r.label) {
                        case 0:
                            if (t = this.vault.adapter,
                            on.isDesktopApp && t instanceof tL && (n = t.getFullPath(e),
                            fe((function(e) {
                                var t = e.shell;
                                t && (t.openPath ? t.openPath(n) : t.openItem(n))
                            }
                            ))),
                            !(on.isMobileApp && NS && t instanceof YS))
                                return [3, 4];
                            r.label = 1;
                        case 1:
                            return r.trys.push([1, 3, , 4]),
                            [4, t.open(e)];
                        case 2:
                            return r.sent(),
                            [3, 4];
                        case 3:
                            return i = r.sent(),
                            new JC(i.message || "Failed to open file"),
                            [3, 4];
                        case 4:
                            return [2]
                        }
                    }
                    ))
                }
                ))
            }
            ,
            e.prototype.showInFolder = function(e) {
                var t = this;
                fe((function(n) {
                    var i = t.vault.adapter
                      , r = n.shell;
                    if (r && i instanceof tL) {
                        var o = i.getFullPath(e);
                        r.showItemInFolder(o)
                    }
                }
                ))
            }
            ,
            e.prototype.getObsidianUrl = function(e) {
                var t = this.vault.getName()
                  , n = ie(e.path);
                return "obsidian://open?vault=" + encodeURIComponent(t) + "&file=" + encodeURIComponent(n)
            }
            ,
            e.prototype.copyObsidianUrl = function(e) {
                Oe(this.getObsidianUrl(e)),
                new JC(Te("interface.copied", {
                    item: Te("interface.url")
                }))
            }
            ,
            e.prototype.canFold = function() {
                var e = this.vault.getConfig("foldHeading")
                  , t = this.vault.getConfig("foldIndent");
                return e || t
            }
            ,
            e.prototype.registerQuitHook = function() {
                var e = this;
                window.onbeforeunload = function(t) {
                    window.onbeforeunload = null;
                    var n = e.workspace;
                    if (n) {
                        var i = new jk;
                        n.trigger("quit", i),
                        i.isEmpty() || (t.preventDefault(),
                        e.loadProgress.show().setMessage("Saving..."),
                        o(e, void 0, void 0, (function() {
                            return s(this, (function(e) {
                                switch (e.label) {
                                case 0:
                                    return [4, i.promise()];
                                case 1:
                                    return e.sent(),
                                    window.close(),
                                    [2]
                                }
                            }
                            ))
                        }
                        )))
                    }
                }
            }
            ,
            e.prototype.loadLocalStorage = function(e) {
                try {
                    var t = localStorage.getItem(this.appId + "-" + e);
                    if (t)
                        return JSON.parse(t)
                } catch (e) {}
                return null
            }
            ,
            e.prototype.saveLocalStorage = function(e, t) {
                try {
                    t ? localStorage.setItem(this.appId + "-" + e, JSON.stringify(t)) : localStorage.removeItem(this.appId + "-" + e)
                } catch (e) {}
            }
            ,
            e.prototype.on = function(e, t, n) {
                return this.workspace.on(e, t, n)
            }
            ,
            e.prototype.emulateMobile = function(e) {
                e ? localStorage.EmulateMobile = 1 : delete localStorage.EmulateMobile,
                window.location.reload()
            }
            ,
            e
        }()
          , UF = function(e) {
            function t(t, n) {
                var i = e.call(this, t, n) || this;
                return i.suggestEl.on("mousedown", ".suggestion-item", (function(e) {
                    return e.preventDefault()
                }
                )),
                i
            }
            return i(t, e),
            t.prototype.getSuggestions = function(e) {
                return [0, 1, 2, 3, 4, 5, 6]
            }
            ,
            t.prototype.renderSuggestion = function(e, t) {
                0 === e ? t.setText("No heading") : t.setText("Heading " + e)
            }
            ,
            t.prototype.selectSuggestion = function(e, t) {
                this.close();
                var n = this.app.workspace.getActiveViewOfType(gS);
                n && "source" === n.getMode() && n.editor.setHeading(e)
            }
            ,
            t.prototype.open = function() {
                this.suggestions.setSuggestions(this.getSuggestions("")),
                e.prototype.open.call(this)
            }
            ,
            t
        }(jf);
        function _F() {
            return o(this, void 0, void 0, (function() {
                function e(e) {
                    if (RS) {
                        if (e.startsWith("icloud/")) {
                            if (r)
                                return {
                                    fs: r,
                                    path: l + "/" + W(e)
                                }
                        } else if (e.startsWith("documents/"))
                            return {
                                fs: i,
                                path: W(e)
                            }
                    } else if (BS)
                        return e.contains("/") ? {
                            fs: a,
                            path: e
                        } : {
                            fs: i,
                            path: c + "/" + e
                        };
                    return null
                }
                function t(t) {
                    return o(this, void 0, Promise, (function() {
                        var i, r, o, l;
                        return s(this, (function(s) {
                            switch (s.label) {
                            case 0:
                                if (!t)
                                    return [2, !1];
                                if (!(i = e(t)))
                                    return [2];
                                r = i.fs,
                                o = i.path,
                                s.label = 1;
                            case 1:
                                return s.trys.push([1, 3, , 4]),
                                [4, r.stat(o)];
                            case 2:
                                return s.sent(),
                                [3, 4];
                            case 3:
                                return s.sent(),
                                [2, !1];
                            case 4:
                                return n && n.detach(),
                                localStorage.setItem("mobile-selected-vault", t),
                                r === a && h.contains(t) && h[0] !== t && (h.remove(t),
                                h.unshift(t),
                                p()),
                                [4, r.watch(o)];
                            case 5:
                                return s.sent(),
                                l = new YS(o,r),
                                window.app = new qF(l,t),
                                VS.hide(),
                                [2, !0]
                            }
                        }
                        ))
                    }
                    ))
                }
                var n, i, r, a, l, c, u, h, p, d, f, g, m, v, y, b = this;
                return s(this, (function(w) {
                    switch (w.label) {
                    case 0:
                        if (on.isMobileApp = !0,
                        on.isMobile = !0,
                        on.isAndroidApp = BS,
                        on.isIosApp = RS,
                        document.body.addClass("is-mobile"),
                        BS && document.body.addClass("is-android"),
                        RS && document.body.addClass("is-ios"),
                        n = document.body.createDiv("mobile-vault-chooser"),
                        !BS)
                            return [3, 8];
                        w.label = 1;
                    case 1:
                        0,
                        w.label = 2;
                    case 2:
                        return w.trys.push([2, 4, , 6]),
                        [4, HS.checkPerms()];
                    case 3:
                        return w.sent(),
                        [3, 7];
                    case 4:
                        return w.sent(),
                        [4, new Promise((function(e) {
                            var t = n.createDiv("mobile-vault-chooser-screen mod-main");
                            t.createDiv("mobile-vault-chooser-content", (function(n) {
                                n.createDiv({
                                    cls: "mobile-vault-chooser-logo",
                                    text: "Obsidian"
                                }),
                                new vE(n).setDesc(createFragment((function(e) {
                                    e.createEl("p", "", (function(e) {
                                        e.createSpan({
                                            text: "Obsidian will now request permission to access your device storage. "
                                        }),
                                        e.createEl("a", {
                                            cls: "external-link",
                                            href: "https://help.obsidian.md/Android+App#Storage+Permission",
                                            text: "Learn more"
                                        })
                                    }
                                    )),
                                    e.createEl("p", {
                                        text: "Note: Obsidian will never access files outside of the vault folders you choose."
                                    })
                                }
                                ))).addButton((function(n) {
                                    return n.setButtonText("Grant permission").onClick((function() {
                                        return o(b, void 0, void 0, (function() {
                                            var n;
                                            return s(this, (function(i) {
                                                switch (i.label) {
                                                case 0:
                                                    return i.trys.push([0, 2, , 3]),
                                                    [4, HS.requestPerms()];
                                                case 1:
                                                    return i.sent(),
                                                    t.detach(),
                                                    e(),
                                                    [3, 3];
                                                case 2:
                                                    return n = i.sent(),
                                                    new JC(n.toString()),
                                                    [3, 3];
                                                case 3:
                                                    return [2]
                                                }
                                            }
                                            ))
                                        }
                                        ))
                                    }
                                    ))
                                }
                                ))
                            }
                            ))
                        }
                        ))];
                    case 5:
                        return w.sent(),
                        [3, 6];
                    case 6:
                        return [3, 1];
                    case 7:
                        return [3, 10];
                    case 8:
                        return [4, HS.requestPermissions()];
                    case 9:
                        w.sent(),
                        w.label = 10;
                    case 10:
                        return [4, (i = new $S(bS.Documents)).init()];
                    case 11:
                        if (w.sent(),
                        r = null,
                        a = null,
                        !RS)
                            return [3, 15];
                        r = new $S("ICLOUD"),
                        w.label = 12;
                    case 12:
                        return w.trys.push([12, 14, , 15]),
                        [4, r.init()];
                    case 13:
                        return w.sent(),
                        [3, 15];
                    case 14:
                        return w.sent(),
                        r = null,
                        [3, 15];
                    case 15:
                        return BS ? [4, (a = new $S(null)).init()] : [3, 17];
                    case 16:
                        w.sent(),
                        w.label = 17;
                    case 17:
                        if (l = "Documents",
                        c = "Obsidian",
                        !RS || !r)
                            return [3, 25];
                        w.label = 18;
                    case 18:
                        return w.trys.push([18, 23, , 25]),
                        [4, r.stat(l)];
                    case 19:
                        return "directory" === w.sent().type ? [3, 22] : [4, r.delete(l)];
                    case 20:
                        return w.sent(),
                        [4, r.mkdir(l)];
                    case 21:
                        w.sent(),
                        w.label = 22;
                    case 22:
                        return [3, 25];
                    case 23:
                        return w.sent(),
                        [4, r.mkdir(l)];
                    case 24:
                        return w.sent(),
                        [3, 25];
                    case 25:
                        u = localStorage.getItem("mobile-selected-vault"),
                        h = [];
                        try {
                            h = JSON.parse(localStorage.getItem("mobile-external-vaults"))
                        } catch (e) {}
                        return h && Array.isArray(h) || (h = []),
                        p = function() {
                            localStorage.setItem("mobile-external-vaults", JSON.stringify(h))
                        }
                        ,
                        [4, function() {
                            return o(b, void 0, Promise, (function() {
                                var e, n, a, u, p, d, f, g = this;
                                return s(this, (function(m) {
                                    switch (m.label) {
                                    case 0:
                                        return [4, zS.getLaunchUrl()];
                                    case 1:
                                        return (e = m.sent()) && e.url && ((n = _D(e.url)) && (a = n.vault)) ? (u = function(e, n, i) {
                                            return o(g, void 0, Promise, (function() {
                                                var r, o, l, c, u, h;
                                                return s(this, (function(s) {
                                                    switch (s.label) {
                                                    case 0:
                                                        return s.trys.push([0, 2, , 3]),
                                                        [4, e.readdir(n)];
                                                    case 1:
                                                        return r = s.sent(),
                                                        [3, 3];
                                                    case 2:
                                                        return o = s.sent(),
                                                        console.error(o),
                                                        [2, !1];
                                                    case 3:
                                                        l = 0,
                                                        c = r,
                                                        s.label = 4;
                                                    case 4:
                                                        if (!(l < c.length))
                                                            return [3, 11];
                                                        if ((u = c[l]).toLowerCase() !== a.toLowerCase() || u.startsWith("."))
                                                            return [3, 10];
                                                        s.label = 5;
                                                    case 5:
                                                        return s.trys.push([5, 9, , 10]),
                                                        [4, e.stat(n ? n + "/" + u : u)];
                                                    case 6:
                                                        return "directory" !== s.sent().type ? [3, 8] : [4, t(i + u)];
                                                    case 7:
                                                        return [2, s.sent()];
                                                    case 8:
                                                        return [3, 10];
                                                    case 9:
                                                        return h = s.sent(),
                                                        console.error(h),
                                                        [3, 10];
                                                    case 10:
                                                        return l++,
                                                        [3, 4];
                                                    case 11:
                                                        return [2, !1]
                                                    }
                                                }
                                                ))
                                            }
                                            ))
                                        }
                                        ,
                                        RS ? r ? [4, u(r, l, "icloud/")] : [3, 3] : [3, 5]) : [2, !1];
                                    case 2:
                                        if (m.sent())
                                            return [2, !0];
                                        m.label = 3;
                                    case 3:
                                        return [4, u(i, "", "documents/")];
                                    case 4:
                                        return m.sent() ? [2, !0] : [3, 11];
                                    case 5:
                                        if (!BS)
                                            return [3, 11];
                                        p = 0,
                                        d = h,
                                        m.label = 6;
                                    case 6:
                                        return p < d.length ? W(f = d[p]) !== a ? [3, 8] : [4, t(f)] : [3, 9];
                                    case 7:
                                        if (m.sent())
                                            return [2, !0];
                                        m.label = 8;
                                    case 8:
                                        return p++,
                                        [3, 6];
                                    case 9:
                                        return [4, u(i, c, "")];
                                    case 10:
                                        if (m.sent())
                                            return [2];
                                        m.label = 11;
                                    case 11:
                                        return [2, !1]
                                    }
                                }
                                ))
                            }
                            ))
                        }()];
                    case 26:
                        return w.sent() ? [2] : [4, t(u)];
                    case 27:
                        return w.sent() ? [2] : (d = null,
                        [4, zS.getInfo()]);
                    case 28:
                        return f = w.sent(),
                        (g = n.createDiv("mobile-vault-chooser-screen mod-main")).createDiv("mobile-vault-chooser-content", (function(e) {
                            e.createDiv({
                                cls: "mobile-vault-chooser-logo-container"
                            }, (function(e) {
                                e.createDiv({
                                    cls: "mobile-vault-chooser-logo",
                                    text: "Obsidian"
                                }),
                                e.createDiv({
                                    cls: "mobile-vault-chooser-version",
                                    text: "Version " + f.version
                                })
                            }
                            )),
                            e.createDiv("mobile-vault-chooser-actions", (function(e) {
                                RS && !r && e.createEl("p", "mod-warning", (function(e) {
                                    e.createSpan({
                                        text: "You cannot access or create vaults in iCloud because it's disabled for Obsidian."
                                    })
                                }
                                )),
                                e.createEl("hr"),
                                new jF(e).setIcon(db).setTitle("How to setup sync").addButton(qy).onClick((function() {
                                    return window.open(BS ? "https://help.obsidian.md/Android+app#Sync" : "https://help.obsidian.md/iOS+app#Sync")
                                }
                                )),
                                e.createEl("hr"),
                                new jF(e).setIcon(kw).setTitle("Create new vault").addButton(qy).onClick((function() {
                                    return Nt(n, v(), "right")
                                }
                                )),
                                BS && new jF(e).setIcon(zy).setTitle("Open folder as vault").addButton(qy).onClick((function() {
                                    return o(b, void 0, void 0, (function() {
                                        var e, n, i, r;
                                        return s(this, (function(o) {
                                            switch (o.label) {
                                            case 0:
                                                return o.trys.push([0, 6, , 7]),
                                                [4, HS.choose()];
                                            case 1:
                                                return (e = o.sent()) && e.path ? (n = e.path,
                                                [4, a.stat(n)]) : [3, 5];
                                            case 2:
                                                return "directory" !== (null === (r = o.sent()) || void 0 === r ? void 0 : r.type) ? [3, 4] : (h.contains(n) || h.unshift(n),
                                                p(),
                                                [4, t(n)]);
                                            case 3:
                                                return o.sent(),
                                                [3, 5];
                                            case 4:
                                                new JC("Failed to load external vault."),
                                                o.label = 5;
                                            case 5:
                                                return [3, 7];
                                            case 6:
                                                return (i = o.sent()) && i.message && i.message.contains("canceled") || new JC(i.toString()),
                                                [3, 7];
                                            case 7:
                                                return [2]
                                            }
                                        }
                                        ))
                                    }
                                    ))
                                }
                                )),
                                d = e.createDiv()
                            }
                            ))
                        }
                        )),
                        m = function(e, t, i) {
                            var r = createDiv("mobile-vault-chooser-screen");
                            return r.createDiv("mobile-vault-chooser-header", (function(i) {
                                i.createDiv("mobile-vault-chooser-header-icon", (function(e) {
                                    yk(e, ob, 20)
                                }
                                )),
                                i.createDiv({
                                    cls: "mobile-vault-chooser-header-title",
                                    text: e
                                }),
                                i.addEventListener("click", (function() {
                                    return Nt(n, t, "left")
                                }
                                ))
                            }
                            )),
                            r.createDiv("mobile-vault-chooser-content", i),
                            r
                        }
                        ,
                        v = function() {
                            return m("Create new vault", g, (function(n) {
                                var i, l;
                                new vE(n).setName("Vault name").addText((function(e) {
                                    return e.setPlaceholder("Enter name...").then((function(e) {
                                        return i = e
                                    }
                                    ))
                                }
                                )),
                                RS && (r ? new vE(n).setName("Store in iCloud").setDesc("This cannot be changed later.").addToggle((function(e) {
                                    e.setValue(!1),
                                    l = e
                                }
                                )) : new vE(n).setName("Store in iCloud").setDesc(createFragment((function(e) {
                                    return e.createEl("p", {
                                        cls: "mod-warning",
                                        text: "This option is not available right now because iCloud is disabled for Obsidian."
                                    })
                                }
                                ))).addToggle((function(e) {
                                    e.setValue(!1)
                                }
                                )).setDisabled(!0));
                                var c = "";
                                if (BS)
                                    var u = new vE(n).setName("Vault location").setDesc("Pick a folder to put your new vault.").addButton((function(e) {
                                        return e.setButtonText("Choose").onClick((function() {
                                            return o(b, void 0, void 0, (function() {
                                                var e, t, n, i;
                                                return s(this, (function(r) {
                                                    switch (r.label) {
                                                    case 0:
                                                        return r.trys.push([0, 4, , 5]),
                                                        [4, HS.choose()];
                                                    case 1:
                                                        return (e = r.sent()) && e.path ? (t = e.path,
                                                        [4, a.stat(t)]) : [3, 3];
                                                    case 2:
                                                        if ("directory" !== (null === (i = r.sent()) || void 0 === i ? void 0 : i.type))
                                                            return new JC("Failed to pick vault."),
                                                            [2];
                                                        c = t,
                                                        u.setDesc(createFragment((function(e) {
                                                            e.appendText("Your new vault will be placed in "),
                                                            e.createSpan({
                                                                cls: "u-pop",
                                                                text: t
                                                            }),
                                                            e.appendText(".")
                                                        }
                                                        ))),
                                                        r.label = 3;
                                                    case 3:
                                                        return [3, 5];
                                                    case 4:
                                                        return (n = r.sent()) && n.message && n.message.contains("canceled") || new JC(n.toString()),
                                                        [2];
                                                    case 5:
                                                        return [2]
                                                    }
                                                }
                                                ))
                                            }
                                            ))
                                        }
                                        ))
                                    }
                                    ));
                                new vE(n).addButton((function(n) {
                                    return n.setButtonText("Create").then((function(e) {
                                        e.buttonEl.addEventListener("mousedown", (function(e) {
                                            return e.preventDefault()
                                        }
                                        ))
                                    }
                                    )).setCta().onClick((function() {
                                        return o(b, void 0, void 0, (function() {
                                            var n, r, o, a, u, d;
                                            return s(this, (function(s) {
                                                switch (s.label) {
                                                case 0:
                                                    if (!(n = i.getValue().trim()))
                                                        return new JC("Please enter a vault name."),
                                                        [2];
                                                    if (Df.test(n))
                                                        return new JC("Vault name cannot contain any of these characters: " + Sf),
                                                        [2];
                                                    if (RS)
                                                        r = l && l.getValue() ? "icloud/" + n : "documents/" + n;
                                                    else if (BS) {
                                                        if (!c)
                                                            return new JC("Please choose a location for your new vault."),
                                                            [2];
                                                        r = c + "/" + n
                                                    }
                                                    if (!(o = e(r)))
                                                        return [3, 8];
                                                    a = o.fs,
                                                    u = o.path,
                                                    s.label = 1;
                                                case 1:
                                                    return s.trys.push([1, 5, , 6]),
                                                    [4, a.exists(u)];
                                                case 2:
                                                    return s.sent() ? [3, 4] : [4, a.mkdir(u)];
                                                case 3:
                                                    s.sent(),
                                                    s.label = 4;
                                                case 4:
                                                    return [3, 6];
                                                case 5:
                                                    return d = s.sent(),
                                                    new JC("Failed to create vault. " + d.message),
                                                    [2];
                                                case 6:
                                                    return BS && (h.contains(r) || (h.unshift(r),
                                                    p())),
                                                    [4, t(r)];
                                                case 7:
                                                    s.sent(),
                                                    s.label = 8;
                                                case 8:
                                                    return [2]
                                                }
                                            }
                                            ))
                                        }
                                        ))
                                    }
                                    ))
                                }
                                ))
                            }
                            ))
                        }
                        ,
                        [4, (y = function() {
                            return o(b, void 0, void 0, (function() {
                                var u, f, v, b, w, k, C = this;
                                return s(this, (function(x) {
                                    switch (x.label) {
                                    case 0:
                                        return d.empty(),
                                        d.createEl("hr"),
                                        u = function(r, a, l) {
                                            var u = function() {
                                                var l = m(a, g, (function(u) {
                                                    if (BS) {
                                                        var d = r;
                                                        if (!r.contains("/")) {
                                                            var f = i.uri + "/" + c;
                                                            f.startsWith("file://") && (f = f.substr("file://".length)),
                                                            d = f + "/" + r
                                                        }
                                                        new vE(u).setName("Vault location").setDesc(createFragment((function(e) {
                                                            e.appendText("This vault is located at "),
                                                            e.createSpan({
                                                                cls: "u-pop",
                                                                text: d
                                                            }).style.wordBreak = "break-all"
                                                        }
                                                        ))).controlEl.detach(),
                                                        u.createEl("hr")
                                                    }
                                                    u.createDiv("mobile-vault-chooser-actions", (function(i) {
                                                        new jF(i).setIcon(Db).setTitle("Enter vault").addButton(qy).onClick((function() {
                                                            return t(r)
                                                        }
                                                        )),
                                                        new jF(i).setIcon(Hy).setTitle("Rename vault").addButton(qy).onClick((function() {
                                                            return Nt(n, m("Rename vault " + a, l, (function(t) {
                                                                var i = null;
                                                                new vE(t).setName("New vault name").addText((function(e) {
                                                                    return e.setValue(a).setPlaceholder("Enter name...").then((function(e) {
                                                                        return i = e
                                                                    }
                                                                    ))
                                                                }
                                                                )),
                                                                t.createDiv("mobile-vault-chooser-button-container", (function(t) {
                                                                    t.createEl("button", {
                                                                        cls: "mobile-vault-chooser-button mod-cta",
                                                                        text: "Rename"
                                                                    }, (function(t) {
                                                                        t.addEventListener("mousedown", (function(e) {
                                                                            return e.preventDefault()
                                                                        }
                                                                        )),
                                                                        t.addEventListener("click", (function() {
                                                                            return o(C, void 0, void 0, (function() {
                                                                                var t, o, a, l, c, u, h;
                                                                                return s(this, (function(s) {
                                                                                    switch (s.label) {
                                                                                    case 0:
                                                                                        return (t = i.getValue()) ? Df.test(t) ? (new JC("Vault name cannot contain any of these characters: " + Sf),
                                                                                        [2]) : (o = e(r)) ? (a = o.fs,
                                                                                        l = o.path,
                                                                                        c = $(l),
                                                                                        u = c + "/" + t,
                                                                                        [4, a.exists(u)]) : (new JC("Failed to rename vault."),
                                                                                        [2]) : (new JC("Please enter a vault name."),
                                                                                        [2]);
                                                                                    case 1:
                                                                                        if (s.sent())
                                                                                            return new JC("A vault with this name already exists."),
                                                                                            [2];
                                                                                        s.label = 2;
                                                                                    case 2:
                                                                                        return s.trys.push([2, 4, , 5]),
                                                                                        [4, a.rename(l, u)];
                                                                                    case 3:
                                                                                        return s.sent(),
                                                                                        [3, 5];
                                                                                    case 4:
                                                                                        return h = s.sent(),
                                                                                        new JC("Failed to rename vault. " + h.message),
                                                                                        [2];
                                                                                    case 5:
                                                                                        return Nt(n, g, "left"),
                                                                                        [4, y()];
                                                                                    case 6:
                                                                                        return s.sent(),
                                                                                        [2]
                                                                                    }
                                                                                }
                                                                                ))
                                                                            }
                                                                            ))
                                                                        }
                                                                        ))
                                                                    }
                                                                    ))
                                                                }
                                                                ))
                                                            }
                                                            )), "right")
                                                        }
                                                        )),
                                                        BS && r.contains("/") && new jF(i).setIcon(wb).setTitle("Forget vault").addButton(qy).onClick((function() {
                                                            return Nt(n, m("Forget vault " + a, l, (function(e) {
                                                                e.createEl("p", "", (function(e) {
                                                                    e.createSpan({
                                                                        text: "Forgetting this vault will remove it from the list of vaults without deleting any files."
                                                                    })
                                                                }
                                                                )),
                                                                e.createDiv("mobile-vault-chooser-button-container", (function(e) {
                                                                    e.createEl("button", {
                                                                        cls: "mobile-vault-chooser-button mod-warning",
                                                                        text: "Forget"
                                                                    }).addEventListener("click", (function() {
                                                                        return o(C, void 0, void 0, (function() {
                                                                            return s(this, (function(e) {
                                                                                switch (e.label) {
                                                                                case 0:
                                                                                    return h.remove(r),
                                                                                    p(),
                                                                                    Nt(n, g, "left"),
                                                                                    [4, y()];
                                                                                case 1:
                                                                                    return e.sent(),
                                                                                    [2]
                                                                                }
                                                                            }
                                                                            ))
                                                                        }
                                                                        ))
                                                                    }
                                                                    ))
                                                                }
                                                                ))
                                                            }
                                                            )), "right")
                                                        }
                                                        )),
                                                        new jF(i).setIcon(Iy).setTitle("Delete vault").addButton(qy).onClick((function() {
                                                            return Nt(n, m("Delete vault " + a, l, (function(t) {
                                                                t.createEl("p", "mod-warning", (function(e) {
                                                                    e.createSpan({
                                                                        text: "Deleting this vault will delete all files in it."
                                                                    })
                                                                }
                                                                )),
                                                                t.createEl("p", "mod-warning", (function(e) {
                                                                    e.createSpan({
                                                                        text: "This action is irreversible. Please confirm you want to delete it."
                                                                    })
                                                                }
                                                                )),
                                                                t.createDiv("mobile-vault-chooser-button-container", (function(t) {
                                                                    t.createEl("button", {
                                                                        cls: "mobile-vault-chooser-button mod-warning",
                                                                        text: "Delete"
                                                                    }, (function(t) {
                                                                        t.addEventListener("click", (function() {
                                                                            return o(C, void 0, void 0, (function() {
                                                                                var t, i, o, a;
                                                                                return s(this, (function(s) {
                                                                                    switch (s.label) {
                                                                                    case 0:
                                                                                        if (!(t = e(r)))
                                                                                            return new JC("Failed to delete vault."),
                                                                                            [2];
                                                                                        i = t.fs,
                                                                                        o = t.path,
                                                                                        s.label = 1;
                                                                                    case 1:
                                                                                        return s.trys.push([1, 3, , 4]),
                                                                                        [4, i.rmdir(o)];
                                                                                    case 2:
                                                                                        return s.sent(),
                                                                                        [3, 4];
                                                                                    case 3:
                                                                                        return a = s.sent(),
                                                                                        new JC("Failed to delete vault. " + a.message),
                                                                                        [2];
                                                                                    case 4:
                                                                                        return Nt(n, g, "left"),
                                                                                        [4, y()];
                                                                                    case 5:
                                                                                        return s.sent(),
                                                                                        [2]
                                                                                    }
                                                                                }
                                                                                ))
                                                                            }
                                                                            ))
                                                                        }
                                                                        ))
                                                                    }
                                                                    ))
                                                                }
                                                                ))
                                                            }
                                                            )), "right")
                                                        }
                                                        ))
                                                    }
                                                    ))
                                                }
                                                ));
                                                return l
                                            };
                                            new jF(d).setIcon(l ? Dw : Ab).setTitle(a).addButton(qy).onClick((function() {
                                                return Nt(n, u(), "right")
                                            }
                                            ))
                                        }
                                        ,
                                        f = function(e, t, n, i) {
                                            return o(C, void 0, void 0, (function() {
                                                var r, o, a, l, c, h;
                                                return s(this, (function(s) {
                                                    switch (s.label) {
                                                    case 0:
                                                        return s.trys.push([0, 2, , 3]),
                                                        [4, e.readdir(t)];
                                                    case 1:
                                                        return r = s.sent(),
                                                        [3, 3];
                                                    case 2:
                                                        return o = s.sent(),
                                                        console.error(o),
                                                        [2];
                                                    case 3:
                                                        a = 0,
                                                        l = r,
                                                        s.label = 4;
                                                    case 4:
                                                        if (!(a < l.length))
                                                            return [3, 9];
                                                        if ((c = l[a]).startsWith("."))
                                                            return [3, 8];
                                                        s.label = 5;
                                                    case 5:
                                                        return s.trys.push([5, 7, , 8]),
                                                        [4, e.stat(t ? t + "/" + c : c)];
                                                    case 6:
                                                        return "directory" === s.sent().type && u(n + c, c, i),
                                                        [3, 8];
                                                    case 7:
                                                        return h = s.sent(),
                                                        console.error(h),
                                                        [3, 8];
                                                    case 8:
                                                        return a++,
                                                        [3, 4];
                                                    case 9:
                                                        return [2]
                                                    }
                                                }
                                                ))
                                            }
                                            ))
                                        }
                                        ,
                                        RS ? r ? [4, f(r, l, "icloud/", !0)] : [3, 2] : [3, 4];
                                    case 1:
                                        x.sent(),
                                        x.label = 2;
                                    case 2:
                                        return [4, f(i, "", "documents/")];
                                    case 3:
                                        return x.sent(),
                                        [3, 12];
                                    case 4:
                                        if (!BS)
                                            return [3, 12];
                                        v = 0,
                                        b = h,
                                        x.label = 5;
                                    case 5:
                                        if (!(v < b.length))
                                            return [3, 10];
                                        w = b[v],
                                        x.label = 6;
                                    case 6:
                                        return x.trys.push([6, 8, , 9]),
                                        [4, a.stat(w)];
                                    case 7:
                                        return "directory" === x.sent().type && u(w, W(w), !1),
                                        [3, 9];
                                    case 8:
                                        return k = x.sent(),
                                        console.error(k),
                                        [3, 9];
                                    case 9:
                                        return v++,
                                        [3, 5];
                                    case 10:
                                        return [4, f(i, c, "")];
                                    case 11:
                                        x.sent(),
                                        x.label = 12;
                                    case 12:
                                        return [2]
                                    }
                                }
                                ))
                            }
                            ))
                        }
                        )()];
                    case 29:
                        return w.sent(),
                        [4, VS.hide()];
                    case 30:
                        return w.sent(),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        var jF = function() {
            function e(e) {
                var t = this.el = e.createDiv("mobile-vault-chooser-action");
                this.iconEl = t.createDiv({
                    cls: "mobile-vault-chooser-action-icon"
                }),
                this.titleEl = t.createDiv({
                    cls: "mobile-vault-chooser-action-name"
                })
            }
            return e.prototype.setIcon = function(e) {
                return yk(this.iconEl, e, 20),
                this
            }
            ,
            e.prototype.setTitle = function(e) {
                return this.titleEl.setText(e),
                this
            }
            ,
            e.prototype.onClick = function(e) {
                return this.el.addEventListener("click", (function(t) {
                    0 !== t.button || t.defaultPrevented || e(t)
                }
                )),
                this
            }
            ,
            e.prototype.addButton = function(e, t) {
                var n = this.el.createDiv({
                    cls: "mobile-vault-chooser-action-icon"
                });
                return yk(n, e, 20),
                t && n.onClickEvent((function(e) {
                    e.preventDefault(),
                    t(e)
                }
                )),
                this
            }
            ,
            e
        }();
        o(void 0, void 0, void 0, (function() {
            var e;
            return s(this, (function(t) {
                switch (t.label) {
                case 0:
                    return [4, Le];
                case 1:
                    return t.sent(),
                    (e = de("electron")) ? (function(e) {
                        var t = this
                          , n = e.ipcRenderer.sendSync("vault")
                          , i = n.id
                          , r = n.path;
                        if (!r || !de("original-fs").existsSync(r))
                            return e.ipcRenderer.sendSync("starter"),
                            void window.close();
                        var a = new tL(r);
                        document.title = W(ee(r)) + " - Obsidian v" + e.ipcRenderer.sendSync("version"),
                        on.isDesktopApp = !0,
                        on.isDesktop = !0,
                        ready((function() {
                            return o(t, void 0, void 0, (function() {
                                return s(this, (function(e) {
                                    return window.app = new qF(a,i),
                                    [2]
                                }
                                ))
                            }
                            ))
                        }
                        ))
                    }(e),
                    [2]) : NS ? [4, _F()] : [3, 3];
                case 2:
                    return t.sent(),
                    [2];
                case 3:
                    return window.close(),
                    [2]
                }
            }
            ))
        }
        ))
    }
    )()
}
)();
